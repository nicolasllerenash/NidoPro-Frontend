var e=Object.getOwnPropertyNames;import{r as t,R as r,a,u as n,N as s,b as i,c as o,d as l,L as c,O as d,e as u,f as m,B as h,g as f,h as p}from"./router-9aL8Za3H.js";import{r as g,a as x,g as b,c as y}from"./vendor-B0kTOz38.js";import{L as v,C as j,E as w,a as N,b as E,c as S,P as k,B as C,A,S as _,H as T,d as O,e as D,D as P,G as M,f as F,M as I,g as R,h as L,i as z,j as $,T as q,k as U,F as B,l as Y,m as V,Z as H,R as W,n as G,o as K,p as Q,q as X,r as J,s as Z,U as ee,t as te,u as re,v as ae,X as ne,w as se,x as ie,y as oe,z as le,I as ce,J as de,K as ue,N as me,O as he,Q as fe,V as pe,W as ge,Y as xe,_ as be,$ as ye,a0 as ve,a1 as je,a2 as we,a3 as Ne,a4 as Ee,a5 as Se,a6 as ke,a7 as Ce,a8 as Ae,a9 as _e,aa as Te,ab as Oe,ac as De,ad as Pe,ae as Me,af as Fe,ag as Ie,ah as Re,ai as Le,aj as ze,ak as $e,al as qe,am as Ue,an as Be,ao as Ye,ap as Ve,aq as He,ar as We,as as Ge,at as Ke,au as Qe,av as Xe,aw as Je,ax as Ze,ay as et,az as tt,aA as rt,aB as at,aC as nt,aD as st,aE as it,aF as ot,aG as lt,aH as ct,aI as dt,aJ as ut,aK as mt,aL as ht,aM as ft,aN as pt,aO as gt,aP as xt,aQ as bt,aR as yt,aS as vt,aT as jt,aU as wt,aV as Nt,aW as Et,aX as St,aY as kt}from"./icons-DSb4Ozxm.js";var Ct,At,_t=(Ct={"assets/index-CRPZb2GI.js"(e,Ct){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var At,_t,Tt,Ot,Dt,Pt,Mt={exports:{}},Ft={},It=(_t||(_t=1,Mt.exports=function(){if(At)return Ft;At=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(t,r,a){var n=null;if(void 0!==a&&(n=""+a),void 0!==r.key&&(n=""+r.key),"key"in r)for(var s in a={},r)"key"!==s&&(a[s]=r[s]);else a=r;return r=a.ref,{$$typeof:e,type:t,key:n,ref:void 0!==r?r:null,props:a}}return Ft.Fragment=t,Ft.jsx=r,Ft.jsxs=r,Ft}()),Mt.exports),Rt={exports:{}},Lt={},zt={exports:{}},$t={};function qt(){return Ot||(Ot=1,zt.exports=(Tt||(Tt=1,function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,s=e[a];if(!(0<n(s,t)))break e;e[a]=t,e[r]=s,r=a}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,s=e.length,i=s>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>n(l,r))c<s&&0>n(d,l)?(e[a]=d,e[c]=r,a=c):(e[a]=l,e[o]=r,a=o);else{if(!(c<s&&0>n(d,r)))break e;e[a]=d,e[c]=r,a=c}}}return t}function n(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],d=1,u=null,m=3,h=!1,f=!1,p=!1,g=!1,x="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var n=r(c);null!==n;){if(null===n.callback)a(c);else{if(!(n.startTime<=e))break;a(c),n.sortIndex=n.expirationTime,t(l,n)}n=r(c)}}function j(e){if(p=!1,v(e),!f)if(null!==r(l))f=!0,N||(N=!0,w());else{var t=r(c);null!==t&&O(j,t.startTime-e)}}var w,N=!1,E=-1,S=5,k=-1;function C(){return!(!g&&e.unstable_now()-k<S)}function A(){if(g=!1,N){var t=e.unstable_now();k=t;var n=!0;try{e:{f=!1,p&&(p=!1,b(E),E=-1),h=!0;var s=m;try{t:{for(v(t),u=r(l);null!==u&&!(u.expirationTime>t&&C());){var i=u.callback;if("function"==typeof i){u.callback=null,m=u.priorityLevel;var o=i(u.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){u.callback=o,v(t),n=!0;break t}u===r(l)&&a(l),v(t)}else a(l);u=r(l)}if(null!==u)n=!0;else{var d=r(c);null!==d&&O(j,d.startTime-t),n=!1}}break e}finally{u=null,m=s,h=!1}n=void 0}}finally{n?w():N=!1}}}if("function"==typeof y)w=function(){y(A)};else if("undefined"!=typeof MessageChannel){var _=new MessageChannel,T=_.port2;_.port1.onmessage=A,w=function(){T.postMessage(null)}}else w=function(){x(A,0)};function O(t,r){E=x(function(){t(e.unstable_now())},r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},e.unstable_scheduleCallback=function(a,n,s){var i=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,a){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return a={id:d++,callback:n,priorityLevel:a,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(a.sortIndex=s,t(c,a),null===r(l)&&a===r(c)&&(p?(b(E),E=-1):p=!0,O(j,s-i))):(a.sortIndex=o,t(l,a),f||h||(f=!0,N||(N=!0,w()))),a},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}}($t)),$t)),zt.exports}
/**
     * @license React
     * react-dom-client.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function Ut(){if(Dt)return Lt;Dt=1;var e=qt(),t=g(),r=x();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function i(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function o(e){if(s(e)!==e)throw Error(a(188))}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}var c=Object.assign,d=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function _(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case h:return"Fragment";case p:return"Profiler";case f:return"StrictMode";case w:return"Suspense";case N:return"SuspenseList";case k:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case m:return"Portal";case v:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return O(e(t))}catch(r){}}return null}var D=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},I=[],R=-1;function L(e){return{current:e}}function z(e){0>R||(e.current=I[R],I[R]=null,R--)}function $(e,t){R++,I[R]=e.current,e.current=t}var q=L(null),U=L(null),B=L(null),Y=L(null);function V(e,t){switch($(B,t),$(U,e),$(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ou(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=lu(t=ou(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(q),$(q,e)}function H(){z(q),z(U),z(B)}function W(e){null!==e.memoizedState&&$(Y,e);var t=q.current,r=lu(t,e.type);t!==r&&($(U,e),$(q,r))}function G(e){U.current===e&&(z(q),z(U)),Y.current===e&&(z(Y),Xu._currentValue=F)}var K=Object.prototype.hasOwnProperty,Q=e.unstable_scheduleCallback,X=e.unstable_cancelCallback,J=e.unstable_shouldYield,Z=e.unstable_requestPaint,ee=e.unstable_now,te=e.unstable_getCurrentPriorityLevel,re=e.unstable_ImmediatePriority,ae=e.unstable_UserBlockingPriority,ne=e.unstable_NormalPriority,se=e.unstable_LowPriority,ie=e.unstable_IdlePriority,oe=e.log,le=e.unstable_setDisableYieldValue,ce=null,de=null;function ue(e){if("function"==typeof oe&&le(e),de&&"function"==typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(he(e)/fe|0)|0},he=Math.log,fe=Math.LN2,pe=256,ge=4194304;function xe(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,r){var a=e.pendingLanes;if(0===a)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&a;return 0!==o?0!==(a=o&~s)?n=xe(a):0!==(i&=o)?n=xe(i):r||0!==(r=o&~e)&&(n=xe(r)):0!==(o=a&~s)?n=xe(o):0!==i?n=xe(i):r||0!==(r=a&~e)&&(n=xe(r)),0===n?0:0!==t&&t!==n&&0===(t&s)&&((s=n&-n)>=(r=t&-t)||32===s&&4194048&r)?t:n}function ye(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ve(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=pe;return!(4194048&(pe<<=1))&&(pe=256),e}function we(){var e=ge;return!(62914560&(ge<<=1))&&(ge=4194304),e}function Ne(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-me(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194090&r}function ke(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-me(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function _e(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:mm(e.type)}var Te=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Te,De="__reactProps$"+Te,Pe="__reactContainer$"+Te,Me="__reactEvents$"+Te,Fe="__reactListeners$"+Te,Ie="__reactHandles$"+Te,Re="__reactResources$"+Te,Le="__reactMarker$"+Te;function ze(e){delete e[Oe],delete e[De],delete e[Me],delete e[Fe],delete e[Ie]}function $e(e){var t=e[Oe];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pe]||r[Oe]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=wu(e);null!==e;){if(r=e[Oe])return r;e=wu(e)}return t}r=(e=r).parentNode}return null}function qe(e){if(e=e[Oe]||e[Pe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ue(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Be(e){var t=e[Re];return t||(t=e[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ye(e){e[Le]=!0}var Ve=new Set,He={};function We(e,t){Ge(e,t),Ge(e+"Capture",t)}function Ge(e,t){for(He[e]=t,e=0;e<t.length;e++)Ve.add(t[e])}var Ke,Qe,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},Ze={};function et(e,t,r){if(n=t,K.call(Ze,n)||!K.call(Je,n)&&(Xe.test(n)?Ze[n]=!0:(Je[n]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var n}function tt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function rt(e,t,r,a){if(null===a)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+a)}}function at(e){if(void 0===Ke)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ke=t&&t[1]||"",Qe=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ke+e+Qe}var nt=!1;function st(e,t){if(!e||nt)return"";nt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(n){var a=n}Reflect.construct(e,[],r)}else{try{r.call()}catch(s){a=s}e.call(r.prototype)}}else{try{throw Error()}catch(i){a=i}(r=e())&&"function"==typeof r.catch&&r.catch(function(){})}}catch(o){if(o&&a&&"string"==typeof o.stack)return[o.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(n=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;if(a===l.length||n===c.length)for(a=l.length-1,n=c.length-1;1<=a&&0<=n&&l[a]!==c[n];)n--;for(;1<=a&&0<=n;a--,n--)if(l[a]!==c[n]){if(1!==a||1!==n)do{if(a--,0>--n||l[a]!==c[n]){var d="\n"+l[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=a&&0<=n);break}}}finally{nt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?at(r):""}function it(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function ot(e){try{var t="";do{t+=it(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ut(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=ct(e)?e.checked?"true":"false":e.value),(e=a)!==r&&(t.setValue(e),!0)}function mt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Ba){return e.body}}var ht=/[\n"\\]/g;function ft(e){return e.replace(ht,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function pt(e,t,r,a,n,s,i,o){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?xt(e,i,lt(t)):null!=r?xt(e,i,lt(r)):null!=a&&e.removeAttribute("value"),null==n&&null!=s&&(e.defaultChecked=!!s),null!=n&&(e.checked=n&&"function"!=typeof n&&"symbol"!=typeof n),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+lt(o):e.removeAttribute("name")}function gt(e,t,r,a,n,s,i,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=r){if(("submit"===s||"reset"===s)&&null==t)return;r=null!=r?""+lt(r):"",t=null!=t?""+lt(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}a="function"!=typeof(a=null!=a?a:n)&&"symbol"!=typeof a&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i)}function xt(e,t,r){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bt(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+lt(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function yt(e,t,r){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+lt(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function vt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(a(92));if(D(n)){if(1<n.length)throw Error(a(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=lt(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function jt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,r){var a=0===t.indexOf("--");null==r||"boolean"==typeof r||""===r?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,r):"number"!=typeof r||0===r||wt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Et(e,t,r){if(null!=t&&"object"!=typeof t)throw Error(a(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&r[s]!==n&&Nt(e,s,n)}else for(var i in t)t.hasOwnProperty(i)&&Nt(e,i,t[i])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _t=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Pt=null;function Mt(e){var t=qe(e);if(t&&(e=t.stateNode)){var r=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(pt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=n[De]||null;if(!s)throw Error(a(90));pt(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ut(n)}break e;case"textarea":yt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&bt(e,!!r.multiple,t,!1)}}}var Ft=!1;function It(e,t,r){if(Ft)return e(t,r);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Ot||null!==Pt)&&(Yc(),Ot&&(t=Ot,e=Pt,Pt=Ot=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Rt(e,t){var r=e.stateNode;if(null===r)return null;var n=r[De]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(a(231,t,typeof r));return r}var zt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$t=!1;if(zt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Ba){$t=!1}var Bt=null,Yt=null,Vt=null;function Ht(){if(Vt)return Vt;var e,t,r=Yt,a=r.length,n="value"in Bt?Bt.value:Bt.textContent,s=n.length;for(e=0;e<a&&r[e]===n[e];e++);var i=a-e;for(t=1;t<=i&&r[a-t]===n[s-t];t++);return Vt=n.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Kt(){return!1}function Qt(e){function t(t,r,a,n,s){for(var i in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Gt:Kt,this.isPropagationStopped=Kt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Xt,Jt,Zt,er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=Qt(er),rr=c({},er,{view:0,detail:0}),ar=Qt(rr),nr=c({},rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Xt=e.screenX-Zt.screenX,Jt=e.screenY-Zt.screenY):Jt=Xt=0,Zt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),sr=Qt(nr),ir=Qt(c({},nr,{dataTransfer:0})),or=Qt(c({},rr,{relatedTarget:0})),lr=Qt(c({},er,{animationName:0,elapsedTime:0,pseudoElement:0})),cr=Qt(c({},er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dr=Qt(c({},er,{data:0})),ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hr[e])&&!!t[e]}function pr(){return fr}var gr=Qt(c({},rr,{key:function(e){if(e.key){var t=ur[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xr=Qt(c({},nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),br=Qt(c({},rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr})),yr=Qt(c({},er,{propertyName:0,elapsedTime:0,pseudoElement:0})),vr=Qt(c({},nr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),jr=Qt(c({},er,{newState:0,oldState:0})),wr=[9,13,27,32],Nr=zt&&"CompositionEvent"in window,Er=null;zt&&"documentMode"in document&&(Er=document.documentMode);var Sr=zt&&"TextEvent"in window&&!Er,kr=zt&&(!Nr||Er&&8<Er&&11>=Er),Cr=String.fromCharCode(32),Ar=!1;function _r(e,t){switch(e){case"keyup":return-1!==wr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Or=!1,Dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dr[e.type]:"textarea"===t}function Mr(e,t,r,a){Ot?Pt?Pt.push(a):Pt=[a]:Ot=a,0<(t=Wd(t,"onChange")).length&&(r=new tr("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Fr=null,Ir=null;function Rr(e){zd(e,0)}function Lr(e){if(ut(Ue(e)))return e}function zr(e,t){if("change"===e)return t}var $r=!1;if(zt){var qr;if(zt){var Ur="oninput"in document;if(!Ur){var Br=document.createElement("div");Br.setAttribute("oninput","return;"),Ur="function"==typeof Br.oninput}qr=Ur}else qr=!1;$r=qr&&(!document.documentMode||9<document.documentMode)}function Yr(){Fr&&(Fr.detachEvent("onpropertychange",Vr),Ir=Fr=null)}function Vr(e){if("value"===e.propertyName&&Lr(Ir)){var t=[];Mr(t,Ir,e,Tt(e)),It(Rr,t)}}function Hr(e,t,r){"focusin"===e?(Yr(),Ir=r,(Fr=t).attachEvent("onpropertychange",Vr)):"focusout"===e&&Yr()}function Wr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Lr(Ir)}function Gr(e,t){if("click"===e)return Lr(t)}function Kr(e,t){if("input"===e||"change"===e)return Lr(t)}var Qr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xr(e,t){if(Qr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!K.call(t,n)||!Qr(e[n],t[n]))return!1}return!0}function Jr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zr(e,t){var r,a=Jr(e);for(e=0;a;){if(3===a.nodeType){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jr(a)}}function ea(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ea(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ta(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(a){r=!1}if(!r)break;t=mt((e=t.contentWindow).document)}return t}function ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var aa=zt&&"documentMode"in document&&11>=document.documentMode,na=null,sa=null,ia=null,oa=!1;function la(e,t,r){var a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;oa||null==na||na!==mt(a)||(a="selectionStart"in(a=na)&&ra(a)?{start:a.selectionStart,end:a.selectionEnd}:{anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ia&&Xr(ia,a)||(ia=a,0<(a=Wd(sa,"onSelect")).length&&(t=new tr("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=na)))}function ca(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var da={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},ua={},ma={};function ha(e){if(ua[e])return ua[e];if(!da[e])return e;var t,r=da[e];for(t in r)if(r.hasOwnProperty(t)&&t in ma)return ua[e]=r[t];return e}zt&&(ma=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);var fa=ha("animationend"),pa=ha("animationiteration"),ga=ha("animationstart"),xa=ha("transitionrun"),ba=ha("transitionstart"),ya=ha("transitioncancel"),va=ha("transitionend"),ja=new Map,wa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(e,t){ja.set(e,t),We(t,[e])}wa.push("scrollEnd");var Ea=new WeakMap;function Sa(e,t){if("object"==typeof e&&null!==e){var r=Ea.get(e);return void 0!==r?r:(t={value:e,source:t,stack:ot(t)},Ea.set(e,t),t)}return{value:e,source:t,stack:ot(t)}}var ka=[],Ca=0,Aa=0;function _a(){for(var e=Ca,t=Aa=Ca=0;t<e;){var r=ka[t];ka[t++]=null;var a=ka[t];ka[t++]=null;var n=ka[t];ka[t++]=null;var s=ka[t];if(ka[t++]=null,null!==a&&null!==n){var i=a.pending;null===i?n.next=n:(n.next=i.next,i.next=n),a.pending=n}0!==s&&Pa(r,n,s)}}function Ta(e,t,r,a){ka[Ca++]=e,ka[Ca++]=t,ka[Ca++]=r,ka[Ca++]=a,Aa|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Oa(e,t,r,a){return Ta(e,t,r,a),Ma(e)}function Da(e,t){return Ta(e,null,null,t),Ma(e)}function Pa(e,t,r){e.lanes|=r;var a=e.alternate;null!==a&&(a.lanes|=r);for(var n=!1,s=e.return;null!==s;)s.childLanes|=r,null!==(a=s.alternate)&&(a.childLanes|=r),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(n=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,n&&null!==t&&(n=31-me(r),null===(a=(e=s.hiddenUpdates)[n])?e[n]=[t]:a.push(t),t.lane=536870912|r),s):null}function Ma(e){if(50<Fc)throw Fc=0,Ic=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fa={};function Ia(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(e,t,r,a){return new Ia(e,t,r,a)}function La(e){return!(!(e=e.prototype)||!e.isReactComponent)}function za(e,t){var r=e.alternate;return null===r?((r=Ra(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function $a(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qa(e,t,r,n,s,i){var o=0;if(n=e,"function"==typeof e)La(e)&&(o=1);else if("string"==typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,r,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Ra(31,r,t,s)).elementType=k,e.lanes=i,e;case h:return Ua(r.children,s,i,t);case f:o=8,s|=24;break;case p:return(e=Ra(12,r,t,2|s)).elementType=p,e.lanes=i,e;case w:return(e=Ra(13,r,t,s)).elementType=w,e.lanes=i,e;case N:return(e=Ra(19,r,t,s)).elementType=N,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:case v:o=10;break e;case y:o=9;break e;case j:o=11;break e;case E:o=14;break e;case S:o=16,n=null;break e}o=29,r=Error(a(130,null===e?"null":typeof e,"")),n=null}return(t=Ra(o,r,t,s)).elementType=e,t.type=n,t.lanes=i,t}function Ua(e,t,r,a){return(e=Ra(7,e,a,t)).lanes=r,e}function Ya(e,t,r){return(e=Ra(6,e,null,t)).lanes=r,e}function Va(e,t,r){return(t=Ra(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ha=[],Wa=0,Ga=null,Ka=0,Qa=[],Xa=0,Ja=null,Za=1,en="";function tn(e,t){Ha[Wa++]=Ka,Ha[Wa++]=Ga,Ga=e,Ka=t}function rn(e,t,r){Qa[Xa++]=Za,Qa[Xa++]=en,Qa[Xa++]=Ja,Ja=e;var a=Za;e=en;var n=32-me(a)-1;a&=~(1<<n),r+=1;var s=32-me(t)+n;if(30<s){var i=n-n%5;s=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Za=1<<32-me(t)+n|r<<n|a,en=s+e}else Za=1<<s|r<<n|a,en=e}function an(e){null!==e.return&&(tn(e,1),rn(e,1,0))}function nn(e){for(;e===Ga;)Ga=Ha[--Wa],Ha[Wa]=null,Ka=Ha[--Wa],Ha[Wa]=null;for(;e===Ja;)Ja=Qa[--Xa],Qa[Xa]=null,en=Qa[--Xa],Qa[Xa]=null,Za=Qa[--Xa],Qa[Xa]=null}var sn=null,on=null,ln=!1,cn=null,dn=!1,un=Error(a(519));function mn(e){throw bn(Sa(Error(a(418,"")),e)),un}function hn(e){var t=e.stateNode,r=e.type,a=e.memoizedProps;switch(t[Oe]=e,t[De]=a,r){case"dialog":$d("cancel",t),$d("close",t);break;case"iframe":case"object":case"embed":$d("load",t);break;case"video":case"audio":for(r=0;r<Rd.length;r++)$d(Rd[r],t);break;case"source":$d("error",t);break;case"img":case"image":case"link":$d("error",t),$d("load",t);break;case"details":$d("toggle",t);break;case"input":$d("invalid",t),gt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),dt(t);break;case"select":$d("invalid",t);break;case"textarea":$d("invalid",t),vt(t,a.value,a.defaultValue,a.children),dt(t)}"string"!=typeof(r=a.children)&&"number"!=typeof r&&"bigint"!=typeof r||t.textContent===""+r||!0===a.suppressHydrationWarning||Zd(t.textContent,r)?(null!=a.popover&&($d("beforetoggle",t),$d("toggle",t)),null!=a.onScroll&&$d("scroll",t),null!=a.onScrollEnd&&$d("scrollend",t),null!=a.onClick&&(t.onclick=eu),t=!0):t=!1,t||mn(e)}function fn(e){for(sn=e.return;sn;)switch(sn.tag){case 5:case 13:return void(dn=!1);case 27:case 3:return void(dn=!0);default:sn=sn.return}}function pn(e){if(e!==sn)return!1;if(!ln)return fn(e),ln=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||cu(e.type,e.memoizedProps)),t=!t),t&&on&&mn(e),fn(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){on=vu(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}on=null}}else 27===r?(r=on,gu(e.type)?(e=ju,ju=null,on=e):on=r):on=sn?vu(e.stateNode.nextSibling):null;return!0}function gn(){on=sn=null,ln=!1}function xn(){var e=cn;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),cn=null),e}function bn(e){null===cn?cn=[e]:cn.push(e)}var yn=L(null),vn=null,jn=null;function wn(e,t,r){$(yn,t._currentValue),t._currentValue=r}function Nn(e){e._currentValue=yn.current,z(yn)}function En(e,t,r){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Sn(e,t,r,n){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var i=s.dependencies;if(null!==i){var o=s.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),En(i.return,r,e),n||(o=null);break e}i=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=r,null!==(i=o.alternate)&&(i.lanes|=r),En(o,r,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function kn(e,t,r,n){e=null;for(var s=t,i=!1;null!==s;){if(!i)if(524288&s.flags)i=!0;else if(262144&s.flags)break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=s.type;Qr(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===Y.current){if(null===(o=s.alternate))throw Error(a(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Xu):e=[Xu])}s=s.return}null!==e&&Sn(t,e,r,n),t.flags|=262144}function Cn(e){for(e=e.firstContext;null!==e;){if(!Qr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function An(e){vn=e,jn=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _n(e){return On(vn,e)}function Tn(e,t){return null===vn&&An(e),On(e,t)}function On(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===jn){if(null===e)throw Error(a(308));jn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jn=jn.next=t;return r}var Dn="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pn=e.unstable_scheduleCallback,Mn=e.unstable_NormalPriority,Fn={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function In(){return{controller:new Dn,data:new Map,refCount:0}}function Rn(e){e.refCount--,0===e.refCount&&Pn(Mn,function(){e.controller.abort()})}var Ln=null,zn=0,$n=0,qn=null;function Un(){if(0===--zn&&null!==Ln){null!==qn&&(qn.status="fulfilled");var e=Ln;Ln=null,$n=0,qn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bn=P.S;P.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ln){var r=Ln=[];zn=0,$n=Dd(),qn={status:"pending",value:void 0,then:function(e){r.push(e)}}}zn++,t.then(Un,Un)}(0,t),null!==Bn&&Bn(e,t)};var Yn=L(null);function Vn(){var e=Yn.current;return null!==e?e:ic.pooledCache}function Hn(e,t){$(Yn,null===t?Yn.current:t.pool)}function Wn(){var e=Vn();return null===e?null:{parent:Fn._currentValue,pool:e}}var Gn=Error(a(460)),Kn=Error(a(474)),Qn=Error(a(542)),Xn={then:function(){}};function Jn(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zn(){}function es(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Zn,Zn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e;default:if("string"==typeof t.status)t.then(Zn,Zn);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e}throw ts=t,Gn}}var ts=null;function rs(){if(null===ts)throw Error(a(459));var e=ts;return ts=null,e}function as(e){if(e===Gn||e===Qn)throw Error(a(483))}var ns=!1;function ss(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ls(e,t,r){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,2&sc){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=Ma(e),Pa(e,null,r),t}return Ta(e,a,t,r),Ma(e)}function cs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&r)){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,ke(e,r)}}function ds(e,t){var r=e.updateQueue,a=e.alternate;if(null!==a&&r===(a=a.updateQueue)){var n=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===s?n=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?n=s=t:s=s.next=t}else n=s=t;return r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var us=!1;function ms(){if(us&&null!==qn)throw qn}function hs(e,t,r,a){us=!1;var n=e.updateQueue;ns=!1;var s=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var l=o,d=l.next;l.next=null,null===i?s=d:i.next=d,i=l;var u=e.alternate;null!==u&&(o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=l)}if(null!==s){var m=n.baseState;for(i=0,u=d=l=null,o=s;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(lc&h)===h:(a&h)===h){0!==h&&h===$n&&(us=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;h=t;var x=r;switch(g.tag){case 1:if("function"==typeof(p=g.payload)){m=p.call(x,m,h);break e}m=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=g.payload)?p.call(x,m,h):p))break e;m=c({},m,h);break e;case 2:ns=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=n.callbacks)?n.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(d=u=f,l=m):u=u.next=f,i|=h;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(f=o).next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}null===u&&(l=m),n.baseState=l,n.firstBaseUpdate=d,n.lastBaseUpdate=u,null===s&&(n.shared.lanes=0),gc|=i,e.lanes=i,e.memoizedState=m}}function fs(e,t){if("function"!=typeof e)throw Error(a(191,e));e.call(t)}function ps(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)fs(r[e],t)}var gs=L(null),xs=L(0);function bs(e,t){$(xs,e=fc),$(gs,t),fc=e|t.baseLanes}function ys(){$(xs,fc),$(gs,gs.current)}function vs(){fc=xs.current,z(gs),z(xs)}var js=0,ws=null,Ns=null,Es=null,Ss=!1,ks=!1,Cs=!1,As=0,_s=0,Ts=null,Os=0;function Ds(){throw Error(a(321))}function Ps(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qr(e[r],t[r]))return!1;return!0}function Ms(e,t,r,a,n,s){return js=s,ws=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?Gi:Ki,Cs=!1,s=r(a,n),Cs=!1,ks&&(s=Is(t,r,a,n)),Fs(e),s}function Fs(e){P.H=Wi;var t=null!==Ns&&null!==Ns.next;if(js=0,Es=Ns=ws=null,Ss=!1,_s=0,Ts=null,t)throw Error(a(300));null===e||To||null!==(e=e.dependencies)&&Cn(e)&&(To=!0)}function Is(e,t,r,n){ws=e;var s=0;do{if(ks&&(Ts=null),_s=0,ks=!1,25<=s)throw Error(a(301));if(s+=1,Es=Ns=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}P.H=Qi,i=t(r,n)}while(ks);return i}function Rs(){var e=P.H,t=e.useState()[0];return t="function"==typeof t.then?Bs(t):t,e=e.useState()[0],(null!==Ns?Ns.memoizedState:null)!==e&&(ws.flags|=1024),t}function Ls(){var e=0!==As;return As=0,e}function zs(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function $s(e){if(Ss){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ss=!1}js=0,Es=Ns=ws=null,ks=!1,_s=As=0,Ts=null}function qs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Es?ws.memoizedState=Es=e:Es=Es.next=e,Es}function Us(){if(null===Ns){var e=ws.alternate;e=null!==e?e.memoizedState:null}else e=Ns.next;var t=null===Es?ws.memoizedState:Es.next;if(null!==t)Es=t,Ns=e;else{if(null===e){if(null===ws.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Ns=e).memoizedState,baseState:Ns.baseState,baseQueue:Ns.baseQueue,queue:Ns.queue,next:null},null===Es?ws.memoizedState=Es=e:Es=Es.next=e}return Es}function Bs(e){var t=_s;return _s+=1,null===Ts&&(Ts=[]),e=es(Ts,e,t),t=ws,null===(null===Es?t.memoizedState:Es.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?Gi:Ki),e}function Ys(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Bs(e);if(e.$$typeof===v)return _n(e)}throw Error(a(438,String(e)))}function Vs(e){var t=null,r=ws.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var a=ws.alternate;null!==a&&null!==(a=a.updateQueue)&&null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),a=0;a<e;a++)r[a]=C;return t.index++,r}function Hs(e,t){return"function"==typeof t?t(e):t}function Ws(e){return Gs(Us(),Ns,e)}function Gs(e,t,r){var n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=r;var s=e.baseQueue,i=n.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,n.pending=null}if(i=e.baseState,null===s)e.memoizedState=i;else{var l=o=null,c=null,d=t=s.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(lc&m)===m:(js&m)===m){var h=d.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===$n&&(u=!0);else{if((js&h)===h){d=d.next,h===$n&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=m,o=i):c=c.next=m,ws.lanes|=h,gc|=h}m=d.action,Cs&&r(i,m),i=d.hasEagerState?d.eagerState:r(i,m)}else h={lane:m,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,ws.lanes|=m,gc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?o=i:c.next=l,!Qr(i,e.memoizedState)&&(To=!0,u&&null!==(r=qn)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}return null===s&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ks(e){var t=Us(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(null!==s){r.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);Qr(i,t.memoizedState)||(To=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Qs(e,t,r){var n=ws,s=Us(),i=ln;if(i){if(void 0===r)throw Error(a(407));r=r()}else r=t();var o=!Qr((Ns||s).memoizedState,r);if(o&&(s.memoizedState=r,To=!0),s=s.queue,yi(2048,8,Zs.bind(null,n,s,e),[e]),s.getSnapshot!==t||o||null!==Es&&1&Es.memoizedState.tag){if(n.flags|=2048,gi(9,{destroy:void 0,resource:void 0},Js.bind(null,n,s,r,t),null),null===ic)throw Error(a(349));i||124&js||Xs(n,t,r)}return r}function Xs(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ws.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Js(e,t,r,a){t.value=r,t.getSnapshot=a,ei(t)&&ti(e)}function Zs(e,t,r){return r(function(){ei(t)&&ti(e)})}function ei(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qr(e,r)}catch(a){return!0}}function ti(e){var t=Da(e,2);null!==t&&zc(t,0,2)}function ri(e){var t=qs();if("function"==typeof e){var r=e;if(e=r(),Cs){ue(!0);try{r()}finally{ue(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function ai(e,t,r,a){return e.baseState=r,Gs(e,Ns,"function"==typeof a?a:Hs)}function ni(e,t,r,n,s){if(Yi(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==P.T?r(!0):i.isTransition=!1,n(i),null===(r=t.pending)?(i.next=t.pending=i,si(t,i)):(i.next=r.next,t.pending=r.next=i)}}function si(e,t){var r=t.action,a=t.payload,n=e.state;if(t.isTransition){var s=P.T,i={};P.T=i;try{var o=r(n,a),l=P.S;null!==l&&l(i,o),ii(e,t,o)}catch(c){li(e,t,c)}finally{P.T=s}}else try{ii(e,t,s=r(n,a))}catch(d){li(e,t,d)}}function ii(e,t,r){null!==r&&"object"==typeof r&&"function"==typeof r.then?r.then(function(r){oi(e,t,r)},function(r){return li(e,t,r)}):oi(e,t,r)}function oi(e,t,r){t.status="fulfilled",t.value=r,ci(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,si(e,r)))}function li(e,t,r){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=r,ci(t),t=t.next}while(t!==a)}e.action=null}function ci(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function di(e,t){return t}function ui(e,t){if(ln){var r=ic.formState;if(null!==r){e:{var a=ws;if(ln){if(on){t:{for(var n=on,s=dn;8!==n.nodeType;){if(!s){n=null;break t}if(null===(n=vu(n.nextSibling))){n=null;break t}}n="F!"===(s=n.data)||"F"===s?n:null}if(n){on=vu(n.nextSibling),a="F!"===n.data;break e}}mn(a)}a=!1}a&&(t=r[0])}}return(r=qs()).memoizedState=r.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:t},r.queue=a,r=qi.bind(null,ws,a),a.dispatch=r,a=ri(!1),s=Bi.bind(null,ws,!1,a.queue),n={state:t,dispatch:null,action:e,pending:null},(a=qs()).queue=n,r=ni.bind(null,ws,n,s,r),n.dispatch=r,a.memoizedState=e,[t,r,!1]}function mi(e){return hi(Us(),Ns,e)}function hi(e,t,r){if(t=Gs(e,t,di)[0],e=Ws(Hs)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var a=Bs(t)}catch(i){if(i===Gn)throw Qn;throw i}else a=t;var n=(t=Us()).queue,s=n.dispatch;return r!==t.memoizedState&&(ws.flags|=2048,gi(9,{destroy:void 0,resource:void 0},fi.bind(null,n,r),null)),[a,s,e]}function fi(e,t){e.action=t}function pi(e){var t=Us(),r=Ns;if(null!==r)return hi(t,r,e);Us(),t=t.memoizedState;var a=(r=Us()).queue.dispatch;return r.memoizedState=e,[t,a,!1]}function gi(e,t,r,a){return e={tag:e,create:r,deps:a,inst:t,next:null},null===(t=ws.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function xi(){return Us().memoizedState}function bi(e,t,r,a){var n=qs();a=void 0===a?null:a,ws.flags|=e,n.memoizedState=gi(1|t,{destroy:void 0,resource:void 0},r,a)}function yi(e,t,r,a){var n=Us();a=void 0===a?null:a;var s=n.memoizedState.inst;null!==Ns&&null!==a&&Ps(a,Ns.memoizedState.deps)?n.memoizedState=gi(t,s,r,a):(ws.flags|=e,n.memoizedState=gi(1|t,s,r,a))}function vi(e,t){bi(8390656,8,e,t)}function ji(e,t){yi(2048,8,e,t)}function wi(e,t){return yi(4,2,e,t)}function Ni(e,t){return yi(4,4,e,t)}function Ei(e,t){if("function"==typeof t){e=e();var r=t(e);return function(){"function"==typeof r?r():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Si(e,t,r){r=null!=r?r.concat([e]):null,yi(4,4,Ei.bind(null,t,e),r)}function ki(){}function Ci(e,t){var r=Us();t=void 0===t?null:t;var a=r.memoizedState;return null!==t&&Ps(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function Ai(e,t){var r=Us();t=void 0===t?null:t;var a=r.memoizedState;if(null!==t&&Ps(t,a[1]))return a[0];if(a=e(),Cs){ue(!0);try{e()}finally{ue(!1)}}return r.memoizedState=[a,t],a}function _i(e,t,r){return void 0===r||1073741824&js?e.memoizedState=t:(e.memoizedState=r,e=Lc(),ws.lanes|=e,gc|=e,r)}function Ti(e,t,r,a){return Qr(r,t)?r:null!==gs.current?(e=_i(e,r,a),Qr(e,t)||(To=!0),e):42&js?(e=Lc(),ws.lanes|=e,gc|=e,t):(To=!0,e.memoizedState=r)}function Oi(e,t,r,a,n){var s=M.p;M.p=0!==s&&8>s?s:8;var i,o,l,c=P.T,d={};P.T=d,Bi(e,!1,t,r);try{var u=n(),m=P.S;null!==m&&m(d,u),null!==u&&"object"==typeof u&&"function"==typeof u.then?Ui(e,t,(i=a,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},u.then(function(){l.status="fulfilled",l.value=i;for(var e=0;e<o.length;e++)(0,o[e])(i)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Rc()):Ui(e,t,a,Rc())}catch(h){Ui(e,t,{then:function(){},status:"rejected",reason:h},Rc())}finally{M.p=s,P.T=c}}function Di(){}function Pi(e,t,r,n){if(5!==e.tag)throw Error(a(476));var s=Mi(e).queue;Oi(e,s,t,F,null===r?Di:function(){return Fi(e),r(n)})}function Mi(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:F},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Fi(e){Ui(e,Mi(e).next.queue,{},Rc())}function Ii(){return _n(Xu)}function Ri(){return Us().memoizedState}function Li(){return Us().memoizedState}function zi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Rc(),a=ls(t,e=os(r),r);return null!==a&&(zc(a,0,r),cs(a,t,r)),t={cache:In()},void(e.payload=t)}t=t.return}}function $i(e,t,r){var a=Rc();r={lane:a,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Yi(e)?Vi(t,r):null!==(r=Oa(e,t,r,a))&&(zc(r,0,a),Hi(r,t,a))}function qi(e,t,r){Ui(e,t,r,Rc())}function Ui(e,t,r,a){var n={lane:a,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))Vi(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(n.hasEagerState=!0,n.eagerState=o,Qr(o,i))return Ta(e,t,n,0),null===ic&&_a(),!1}catch(l){}if(null!==(r=Oa(e,t,n,a)))return zc(r,0,a),Hi(r,t,a),!0}return!1}function Bi(e,t,r,n){if(n={lane:2,revertLane:Dd(),action:n,hasEagerState:!1,eagerState:null,next:null},Yi(e)){if(t)throw Error(a(479))}else null!==(t=Oa(e,r,n,2))&&zc(t,0,2)}function Yi(e){var t=e.alternate;return e===ws||null!==t&&t===ws}function Vi(e,t){ks=Ss=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Hi(e,t,r){if(4194048&r){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,ke(e,r)}}var Wi={readContext:_n,use:Ys,useCallback:Ds,useContext:Ds,useEffect:Ds,useImperativeHandle:Ds,useLayoutEffect:Ds,useInsertionEffect:Ds,useMemo:Ds,useReducer:Ds,useRef:Ds,useState:Ds,useDebugValue:Ds,useDeferredValue:Ds,useTransition:Ds,useSyncExternalStore:Ds,useId:Ds,useHostTransitionStatus:Ds,useFormState:Ds,useActionState:Ds,useOptimistic:Ds,useMemoCache:Ds,useCacheRefresh:Ds},Gi={readContext:_n,use:Ys,useCallback:function(e,t){return qs().memoizedState=[e,void 0===t?null:t],e},useContext:_n,useEffect:vi,useImperativeHandle:function(e,t,r){r=null!=r?r.concat([e]):null,bi(4194308,4,Ei.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bi(4194308,4,e,t)},useInsertionEffect:function(e,t){bi(4,2,e,t)},useMemo:function(e,t){var r=qs();t=void 0===t?null:t;var a=e();if(Cs){ue(!0);try{e()}finally{ue(!1)}}return r.memoizedState=[a,t],a},useReducer:function(e,t,r){var a=qs();if(void 0!==r){var n=r(t);if(Cs){ue(!0);try{r(t)}finally{ue(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=$i.bind(null,ws,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},qs().memoizedState=e},useState:function(e){var t=(e=ri(e)).queue,r=qi.bind(null,ws,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ki,useDeferredValue:function(e,t){return _i(qs(),e,t)},useTransition:function(){var e=ri(!1);return e=Oi.bind(null,ws,e.queue,!0,!1),qs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=ws,s=qs();if(ln){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===ic)throw Error(a(349));124&lc||Xs(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,vi(Zs.bind(null,n,i,e),[e]),n.flags|=2048,gi(9,{destroy:void 0,resource:void 0},Js.bind(null,n,i,r,t),null),r},useId:function(){var e=qs(),t=ic.identifierPrefix;if(ln){var r=en;t=""+t+"R"+(r=(Za&~(1<<32-me(Za)-1)).toString(32)+r),0<(r=As++)&&(t+="H"+r.toString(32)),t+=""}else t=""+t+"r"+(r=Os++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Ii,useFormState:ui,useActionState:ui,useOptimistic:function(e){var t=qs();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Bi.bind(null,ws,!0,r),r.dispatch=t,[e,t]},useMemoCache:Vs,useCacheRefresh:function(){return qs().memoizedState=zi.bind(null,ws)}},Ki={readContext:_n,use:Ys,useCallback:Ci,useContext:_n,useEffect:ji,useImperativeHandle:Si,useInsertionEffect:wi,useLayoutEffect:Ni,useMemo:Ai,useReducer:Ws,useRef:xi,useState:function(){return Ws(Hs)},useDebugValue:ki,useDeferredValue:function(e,t){return Ti(Us(),Ns.memoizedState,e,t)},useTransition:function(){var e=Ws(Hs)[0],t=Us().memoizedState;return["boolean"==typeof e?e:Bs(e),t]},useSyncExternalStore:Qs,useId:Ri,useHostTransitionStatus:Ii,useFormState:mi,useActionState:mi,useOptimistic:function(e,t){return ai(Us(),0,e,t)},useMemoCache:Vs,useCacheRefresh:Li},Qi={readContext:_n,use:Ys,useCallback:Ci,useContext:_n,useEffect:ji,useImperativeHandle:Si,useInsertionEffect:wi,useLayoutEffect:Ni,useMemo:Ai,useReducer:Ks,useRef:xi,useState:function(){return Ks(Hs)},useDebugValue:ki,useDeferredValue:function(e,t){var r=Us();return null===Ns?_i(r,e,t):Ti(r,Ns.memoizedState,e,t)},useTransition:function(){var e=Ks(Hs)[0],t=Us().memoizedState;return["boolean"==typeof e?e:Bs(e),t]},useSyncExternalStore:Qs,useId:Ri,useHostTransitionStatus:Ii,useFormState:pi,useActionState:pi,useOptimistic:function(e,t){var r=Us();return null!==Ns?ai(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Vs,useCacheRefresh:Li},Xi=null,Ji=0;function Zi(e){var t=Ji;return Ji+=1,null===Xi&&(Xi=[]),es(Xi,e,t)}function eo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function to(e,t){if(t.$$typeof===d)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ro(e){return(0,e._init)(e._payload)}function ao(e){function t(t,r){if(e){var a=t.deletions;null===a?(t.deletions=[r],t.flags|=16):a.push(r)}}function r(r,a){if(!e)return null;for(;null!==a;)t(r,a),a=a.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=za(e,t)).index=0,e.sibling=null,e}function i(t,r,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<r?(t.flags|=67108866,r):a:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,a){return null===t||6!==t.tag?((t=Ya(r,e.mode,a)).return=e,t):((t=s(t,r)).return=e,t)}function c(e,t,r,a){var n=r.type;return n===h?f(e,t,r.props.children,a,r.key):null!==t&&(t.elementType===n||"object"==typeof n&&null!==n&&n.$$typeof===S&&ro(n)===t.type)?(eo(t=s(t,r.props),r),t.return=e,t):(eo(t=qa(r.type,r.key,r.props,null,e.mode,a),r),t.return=e,t)}function d(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Va(r,e.mode,a)).return=e,t):((t=s(t,r.children||[])).return=e,t)}function f(e,t,r,a,n){return null===t||7!==t.tag?((t=Ua(r,e.mode,a,n)).return=e,t):((t=s(t,r)).return=e,t)}function p(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Ya(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case u:return eo(r=qa(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case m:return(t=Va(t,e.mode,r)).return=e,t;case S:return p(e,t=(0,t._init)(t._payload),r)}if(D(t)||_(t))return(t=Ua(t,e.mode,r,null)).return=e,t;if("function"==typeof t.then)return p(e,Zi(t),r);if(t.$$typeof===v)return p(e,Tn(e,t),r);to(e,t)}return null}function g(e,t,r,a){var n=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return null!==n?null:l(e,t,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case u:return r.key===n?c(e,t,r,a):null;case m:return r.key===n?d(e,t,r,a):null;case S:return g(e,t,r=(n=r._init)(r._payload),a)}if(D(r)||_(r))return null!==n?null:f(e,t,r,a,null);if("function"==typeof r.then)return g(e,t,Zi(r),a);if(r.$$typeof===v)return g(e,t,Tn(e,r),a);to(e,r)}return null}function x(e,t,r,a,n){if("string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a)return l(t,e=e.get(r)||null,""+a,n);if("object"==typeof a&&null!==a){switch(a.$$typeof){case u:return c(t,e=e.get(null===a.key?r:a.key)||null,a,n);case m:return d(t,e=e.get(null===a.key?r:a.key)||null,a,n);case S:return x(e,t,r,a=(0,a._init)(a._payload),n)}if(D(a)||_(a))return f(t,e=e.get(r)||null,a,n,null);if("function"==typeof a.then)return x(e,t,r,Zi(a),n);if(a.$$typeof===v)return x(e,t,r,Tn(t,a),n);to(t,a)}return null}function b(l,c,d,f){if("object"==typeof d&&null!==d&&d.type===h&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case u:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===h){if(7===c.tag){r(l,c.sibling),(f=s(c,d.props.children)).return=l,l=f;break e}}else if(c.elementType===y||"object"==typeof y&&null!==y&&y.$$typeof===S&&ro(y)===c.type){r(l,c.sibling),eo(f=s(c,d.props),d),f.return=l,l=f;break e}r(l,c);break}t(l,c),c=c.sibling}d.type===h?((f=Ua(d.props.children,l.mode,f,d.key)).return=l,l=f):(eo(f=qa(d.type,d.key,d.props,null,l.mode,f),d),f.return=l,l=f)}return o(l);case m:e:{for(y=d.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){r(l,c.sibling),(f=s(c,d.children||[])).return=l,l=f;break e}r(l,c);break}t(l,c),c=c.sibling}(f=Va(d,l.mode,f)).return=l,l=f}return o(l);case S:return b(l,c,d=(y=d._init)(d._payload),f)}if(D(d))return function(a,s,o,l){for(var c=null,d=null,u=s,m=s=0,h=null;null!==u&&m<o.length;m++){u.index>m?(h=u,u=null):h=u.sibling;var f=g(a,u,o[m],l);if(null===f){null===u&&(u=h);break}e&&u&&null===f.alternate&&t(a,u),s=i(f,s,m),null===d?c=f:d.sibling=f,d=f,u=h}if(m===o.length)return r(a,u),ln&&tn(a,m),c;if(null===u){for(;m<o.length;m++)null!==(u=p(a,o[m],l))&&(s=i(u,s,m),null===d?c=u:d.sibling=u,d=u);return ln&&tn(a,m),c}for(u=n(u);m<o.length;m++)null!==(h=x(u,a,m,o[m],l))&&(e&&null!==h.alternate&&u.delete(null===h.key?m:h.key),s=i(h,s,m),null===d?c=h:d.sibling=h,d=h);return e&&u.forEach(function(e){return t(a,e)}),ln&&tn(a,m),c}(l,c,d,f);if(_(d)){if("function"!=typeof(y=_(d)))throw Error(a(150));return function(s,o,l,c){if(null==l)throw Error(a(151));for(var d=null,u=null,m=o,h=o=0,f=null,b=l.next();null!==m&&!b.done;h++,b=l.next()){m.index>h?(f=m,m=null):f=m.sibling;var y=g(s,m,b.value,c);if(null===y){null===m&&(m=f);break}e&&m&&null===y.alternate&&t(s,m),o=i(y,o,h),null===u?d=y:u.sibling=y,u=y,m=f}if(b.done)return r(s,m),ln&&tn(s,h),d;if(null===m){for(;!b.done;h++,b=l.next())null!==(b=p(s,b.value,c))&&(o=i(b,o,h),null===u?d=b:u.sibling=b,u=b);return ln&&tn(s,h),d}for(m=n(m);!b.done;h++,b=l.next())null!==(b=x(m,s,h,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?h:b.key),o=i(b,o,h),null===u?d=b:u.sibling=b,u=b);return e&&m.forEach(function(e){return t(s,e)}),ln&&tn(s,h),d}(l,c,d=y.call(d),f)}if("function"==typeof d.then)return b(l,c,Zi(d),f);if(d.$$typeof===v)return b(l,c,Tn(l,d),f);to(l,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==c&&6===c.tag?(r(l,c.sibling),(f=s(c,d)).return=l,l=f):(r(l,c),(f=Ya(d,l.mode,f)).return=l,l=f),o(l)):r(l,c)}return function(e,t,r,a){try{Ji=0;var n=b(e,t,r,a);return Xi=null,n}catch(i){if(i===Gn||i===Qn)throw i;var s=Ra(29,i,null,e.mode);return s.lanes=a,s.return=e,s}}}var no=ao(!0),so=ao(!1),io=L(null),oo=null;function lo(e){var t=e.alternate;$(ho,1&ho.current),$(io,e),null===oo&&(null===t||null!==gs.current||null!==t.memoizedState)&&(oo=e)}function co(e){if(22===e.tag){if($(ho,ho.current),$(io,e),null===oo){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oo=e)}}else uo()}function uo(){$(ho,ho.current),$(io,io.current)}function mo(e){z(io),oo===e&&(oo=null),z(ho)}var ho=L(0);function fo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||yu(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function po(e,t,r,a){r=null==(r=r(a,t=e.memoizedState))?t:c({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var go={enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Rc(),n=os(a);n.payload=t,null!=r&&(n.callback=r),null!==(t=ls(e,n,a))&&(zc(t,0,a),cs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Rc(),n=os(a);n.tag=1,n.payload=t,null!=r&&(n.callback=r),null!==(t=ls(e,n,a))&&(zc(t,0,a),cs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rc(),a=os(r);a.tag=2,null!=t&&(a.callback=t),null!==(t=ls(e,a,r))&&(zc(t,0,r),cs(t,e,r))}};function xo(e,t,r,a,n,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!(t.prototype&&t.prototype.isPureReactComponent&&Xr(r,a)&&Xr(n,s))}function bo(e,t,r,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function yo(e,t){var r=t;if("ref"in t)for(var a in r={},t)"ref"!==a&&(r[a]=t[a]);if(e=e.defaultProps)for(var n in r===t&&(r=c({},r)),e)void 0===r[n]&&(r[n]=e[n]);return r}var vo="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function jo(e){vo(e)}function wo(e){}function No(e){vo(e)}function Eo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function So(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function ko(e,t,r){return(r=os(r)).tag=3,r.payload={element:null},r.callback=function(){Eo(e,t)},r}function Co(e){return(e=os(e)).tag=3,e}function Ao(e,t,r,a){var n=r.type.getDerivedStateFromError;if("function"==typeof n){var s=a.value;e.payload=function(){return n(s)},e.callback=function(){So(t,r,a)}}var i=r.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){So(t,r,a),"function"!=typeof n&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var _o=Error(a(461)),To=!1;function Oo(e,t,r,a){t.child=null===e?so(t,null,r,a):no(t,e.child,r,a)}function Do(e,t,r,a,n){r=r.render;var s=t.ref;if("ref"in a){var i={};for(var o in a)"ref"!==o&&(i[o]=a[o])}else i=a;return An(t),a=Ms(e,t,r,i,s,n),o=Ls(),null===e||To?(ln&&o&&an(t),t.flags|=1,Oo(e,t,a,n),t.child):(zs(e,t,n),Jo(e,t,n))}function Po(e,t,r,a,n){if(null===e){var s=r.type;return"function"!=typeof s||La(s)||void 0!==s.defaultProps||null!==r.compare?((e=qa(r.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Mo(e,t,s,a,n))}if(s=e.child,!Zo(e,n)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:Xr)(i,a)&&e.ref===t.ref)return Jo(e,t,n)}return t.flags|=1,(e=za(s,a)).ref=t.ref,e.return=t,t.child=e}function Mo(e,t,r,a,n){if(null!==e){var s=e.memoizedProps;if(Xr(s,a)&&e.ref===t.ref){if(To=!1,t.pendingProps=a=s,!Zo(e,n))return t.lanes=e.lanes,Jo(e,t,n);131072&e.flags&&(To=!0)}}return Lo(e,t,r,a,n)}function Fo(e,t,r){var a=t.pendingProps,n=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode){if(128&t.flags){if(a=null!==s?s.baseLanes|r:r,null!==e){for(n=t.child=e.child,s=0;null!==n;)s=s|n.lanes|n.childLanes,n=n.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return Io(e,t,a,r)}if(!(536870912&r))return t.lanes=t.childLanes=536870912,Io(e,t,null!==s?s.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hn(0,null!==s?s.cachePool:null),null!==s?bs(t,s):ys(),co(t)}else null!==s?(Hn(0,s.cachePool),bs(t,s),uo(),t.memoizedState=null):(null!==e&&Hn(0,null),ys(),uo());return Oo(e,t,n,r),t.child}function Io(e,t,r,a){var n=Vn();return n=null===n?null:{parent:Fn._currentValue,pool:n},t.memoizedState={baseLanes:r,cachePool:n},null!==e&&Hn(0,null),ys(),co(t),null!==e&&kn(e,t,a,!0),null}function Ro(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof r&&"object"!=typeof r)throw Error(a(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Lo(e,t,r,a,n){return An(t),r=Ms(e,t,r,a,void 0,n),a=Ls(),null===e||To?(ln&&a&&an(t),t.flags|=1,Oo(e,t,r,n),t.child):(zs(e,t,n),Jo(e,t,n))}function zo(e,t,r,a,n,s){return An(t),t.updateQueue=null,r=Is(t,a,r,n),Fs(e),a=Ls(),null===e||To?(ln&&a&&an(t),t.flags|=1,Oo(e,t,r,s),t.child):(zs(e,t,s),Jo(e,t,s))}function $o(e,t,r,a,n){if(An(t),null===t.stateNode){var s=Fa,i=r.contextType;"object"==typeof i&&null!==i&&(s=_n(i)),s=new r(a,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=go,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=a,s.state=t.memoizedState,s.refs={},ss(t),i=r.contextType,s.context="object"==typeof i&&null!==i?_n(i):Fa,s.state=t.memoizedState,"function"==typeof(i=r.getDerivedStateFromProps)&&(po(t,r,i,a),s.state=t.memoizedState),"function"==typeof r.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(i=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&go.enqueueReplaceState(s,s.state,null),hs(t,a,s,n),ms(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=yo(r,o);s.props=l;var c=s.context,d=r.contextType;i=Fa,"object"==typeof d&&null!==d&&(i=_n(d));var u=r.getDerivedStateFromProps;d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||c!==i)&&bo(t,s,a,i),ns=!1;var m=t.memoizedState;s.state=m,hs(t,a,s,n),ms(),c=t.memoizedState,o||m!==c||ns?("function"==typeof u&&(po(t,r,u,a),c=t.memoizedState),(l=ns||xo(t,r,l,a,m,c,i))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=i,a=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,is(e,t),d=yo(r,i=t.memoizedProps),s.props=d,u=t.pendingProps,m=s.context,c=r.contextType,l=Fa,"object"==typeof c&&null!==c&&(l=_n(c)),(c="function"==typeof(o=r.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i!==u||m!==l)&&bo(t,s,a,l),ns=!1,m=t.memoizedState,s.state=m,hs(t,a,s,n),ms();var h=t.memoizedState;i!==u||m!==h||ns||null!==e&&null!==e.dependencies&&Cn(e.dependencies)?("function"==typeof o&&(po(t,r,o,a),h=t.memoizedState),(d=ns||xo(t,r,d,a,m,h,l)||null!==e&&null!==e.dependencies&&Cn(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(a,h,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,h,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),s.props=a,s.state=h,s.context=l,a=d):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Ro(e,t),a=!!(128&t.flags),s||a?(s=t.stateNode,r=a&&"function"!=typeof r.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&a?(t.child=no(t,e.child,null,n),t.child=no(t,null,r,n)):Oo(e,t,r,n),t.memoizedState=s.state,e=t.child):e=Jo(e,t,n),e}function qo(e,t,r,a){return gn(),t.flags|=256,Oo(e,t,r,a),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:Wn()}}function Yo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=yc),e}function Vo(e,t,r){var n,s=t.pendingProps,i=!1,o=!!(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&!!(2&ho.current)),n&&(i=!0,t.flags&=-129),n=!!(32&t.flags),t.flags&=-33,null===e){if(ln){if(i?lo(t):uo(),ln){var l,c=on;if(l=c){e:{for(l=c,c=dn;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Ja?{id:Za,overflow:en}:null,retryLane:536870912,hydrationErrors:null},(l=Ra(18,null,null,0)).stateNode=c,l.return=t,t.child=l,sn=t,on=null,l=!0):l=!1}l||mn(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yu(c)?t.lanes=32:t.lanes=536870912,null;mo(t)}return c=s.children,s=s.fallback,i?(uo(),c=Wo({mode:"hidden",children:c},i=t.mode),s=Ua(s,i,r,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(i=t.child).memoizedState=Bo(r),i.childLanes=Yo(e,n,r),t.memoizedState=Uo,s):(lo(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(lo(t),t.flags&=-257,t=Go(e,t,r)):null!==t.memoizedState?(uo(),t.child=e.child,t.flags|=128,t=null):(uo(),i=s.fallback,c=t.mode,s=Wo({mode:"visible",children:s.children},c),(i=Ua(i,c,r,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,no(t,e.child,null,r),(s=t.child).memoizedState=Bo(r),s.childLanes=Yo(e,n,r),t.memoizedState=Uo,t=i);else if(lo(t),yu(c)){if(n=c.nextSibling&&c.nextSibling.dataset)var d=n.dgst;n=d,(s=Error(a(419))).stack="",s.digest=n,bn({value:s,source:null,stack:null}),t=Go(e,t,r)}else if(To||kn(e,t,r,!1),n=0!==(r&e.childLanes),To||n){if(null!==(n=ic)&&0!==(s=0!==((s=42&(s=r&-r)?1:Ce(s))&(n.suspendedLanes|r))?0:s)&&s!==l.retryLane)throw l.retryLane=s,Da(e,s),zc(n,0,s),_o;"$?"===c.data||Qc(),t=Go(e,t,r)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,on=vu(c.nextSibling),sn=t,ln=!0,cn=null,dn=!1,null!==e&&(Qa[Xa++]=Za,Qa[Xa++]=en,Qa[Xa++]=Ja,Za=e.id,en=e.overflow,Ja=t),(t=Ho(t,s.children)).flags|=4096);return t}return i?(uo(),i=s.fallback,c=t.mode,d=(l=e.child).sibling,(s=za(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?i=za(d,i):(i=Ua(i,c,r,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,null===(c=e.child.memoizedState)?c=Bo(r):(null!==(l=c.cachePool)?(d=Fn._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Wn(),c={baseLanes:c.baseLanes|r,cachePool:l}),i.memoizedState=c,i.childLanes=Yo(e,n,r),t.memoizedState=Uo,s):(lo(t),e=(r=e.child).sibling,(r=za(r,{mode:"visible",children:s.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Ho(e,t){return(t=Wo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wo(e,t){return(e=Ra(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Go(e,t,r){return no(t,e.child,null,r),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,r){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),En(e.return,t,r)}function Qo(e,t,r,a,n){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=r,s.tailMode=n)}function Xo(e,t,r){var a=t.pendingProps,n=a.revealOrder,s=a.tail;if(Oo(e,t,a.children,r),2&(a=ho.current))a=1&a|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,r,t);else if(19===e.tag)Ko(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch($(ho,a),n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===fo(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Qo(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===fo(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Qo(t,!0,r,null,s);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),gc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(kn(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=za(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=za(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Zo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Cn(e))}function el(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)To=!0;else{if(!(Zo(e,r)||128&t.flags))return To=!1,function(e,t,r){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),wn(0,Fn,e.memoizedState.cache),gn();break;case 27:case 5:W(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:wn(0,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(lo(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Vo(e,t,r):(lo(t),null!==(e=Jo(e,t,r))?e.sibling:null);lo(t);break;case 19:var n=!!(128&e.flags);if((a=0!==(r&t.childLanes))||(kn(e,t,r,!1),a=0!==(r&t.childLanes)),n){if(a)return Xo(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),$(ho,ho.current),a)break;return null;case 22:case 23:return t.lanes=0,Fo(e,t,r);case 24:wn(0,Fn,e.memoizedState.cache)}return Jo(e,t,r)}(e,t,r);To=!!(131072&e.flags)}else To=!1,ln&&1048576&t.flags&&rn(t,Ka,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,s=n._init;if(n=s(n._payload),t.type=n,"function"!=typeof n){if(null!=n){if((s=n.$$typeof)===j){t.tag=11,t=Do(null,t,n,e,r);break e}if(s===E){t.tag=14,t=Po(null,t,n,e,r);break e}}throw t=O(n)||n,Error(a(306,t,""))}La(n)?(e=yo(n,e),t.tag=1,t=$o(null,t,n,e,r)):(t.tag=0,t=Lo(null,t,n,e,r))}return t;case 0:return Lo(e,t,t.type,t.pendingProps,r);case 1:return $o(e,t,n=t.type,s=yo(n,t.pendingProps),r);case 3:e:{if(V(t,t.stateNode.containerInfo),null===e)throw Error(a(387));n=t.pendingProps;var i=t.memoizedState;s=i.element,is(e,t),hs(t,n,null,r);var o=t.memoizedState;if(n=o.cache,wn(0,Fn,n),n!==i.cache&&Sn(t,[Fn],r,!0),ms(),n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=qo(e,t,n,r);break e}if(n!==s){bn(s=Sa(Error(a(424)),t)),t=qo(e,t,n,r);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,on=vu(e.firstChild),sn=t,ln=!0,cn=null,dn=!0,r=so(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(gn(),n===s){t=Jo(e,t,r);break e}Oo(e,t,n,r)}t=t.child}return t;case 26:return Ro(e,t),null===e?(r=Ou(t.type,null,t.pendingProps,null))?t.memoizedState=r:ln||(r=t.type,e=t.pendingProps,(n=iu(B.current).createElement(r))[Oe]=t,n[De]=e,au(n,r,e),Ye(n),t.stateNode=n):t.memoizedState=Ou(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),null===e&&ln&&(n=t.stateNode=Nu(t.type,t.pendingProps,B.current),sn=t,dn=!0,s=on,gu(t.type)?(ju=s,on=vu(n.firstChild)):on=s),Oo(e,t,t.pendingProps.children,r),Ro(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ln&&((s=n=on)&&(null!==(n=function(e,t,r,a){for(;1===e.nodeType;){var n=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Le])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(null==n.href||""===n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===s)return e}if(null===(e=vu(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,dn))?(t.stateNode=n,sn=t,on=vu(n.firstChild),dn=!1,s=!0):s=!1),s||mn(t)),W(t),s=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,n=i.children,cu(s,i)?n=null:null!==o&&cu(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Ms(e,t,Rs,null,null,r),Xu._currentValue=s),Ro(e,t),Oo(e,t,n,r),t.child;case 6:return null===e&&ln&&((e=r=on)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=vu(e.nextSibling)))return null}return e}(r,t.pendingProps,dn))?(t.stateNode=r,sn=t,on=null,e=!0):e=!1),e||mn(t)),null;case 13:return Vo(e,t,r);case 4:return V(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=no(t,null,n,r):Oo(e,t,n,r),t.child;case 11:return Do(e,t,t.type,t.pendingProps,r);case 7:return Oo(e,t,t.pendingProps,r),t.child;case 8:case 12:return Oo(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,wn(0,t.type,n.value),Oo(e,t,n.children,r),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,An(t),n=n(s=_n(s)),t.flags|=1,Oo(e,t,n,r),t.child;case 14:return Po(e,t,t.type,t.pendingProps,r);case 15:return Mo(e,t,t.type,t.pendingProps,r);case 19:return Xo(e,t,r);case 31:return n=t.pendingProps,r=t.mode,n={mode:n.mode,children:n.children},null===e?((r=Wo(n,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=za(e.child,n)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Fo(e,t,r);case 24:return An(t),n=_n(Fn),null===e?(null===(s=Vn())&&(s=ic,i=In(),s.pooledCache=i,i.refCount++,null!==i&&(s.pooledCacheLanes|=r),s=i),t.memoizedState={parent:n,cache:s},ss(t),wn(0,Fn,s)):(0!==(e.lanes&r)&&(is(e,t),hs(t,null,null,r),ms()),s=e.memoizedState,i=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),wn(0,Fn,n)):(n=i.cache,wn(0,Fn,n),n!==s.cache&&Sn(t,[Fn],r,!0))),Oo(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function tl(e){e.flags|=4}function rl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Yu(t)){if(null!==(t=io.current)&&((4194048&lc)===lc?null!==oo:(62914560&lc)!==lc&&!(536870912&lc)||t!==oo))throw ts=Xn,Kn;e.flags|=8192}}function al(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?we():536870912,e.lanes|=t,vc|=t)}function nl(e,t){if(!ln)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;null!==r;)null!==r.alternate&&(a=r),r=r.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function sl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=65011712&n.subtreeFlags,a|=65011712&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function il(e,t,r){var n=t.pendingProps;switch(nn(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return sl(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Nn(Fn),H(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pn(t)?tl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,xn())),sl(t),null;case 26:return r=t.memoizedState,null===e?(tl(t),null!==r?(sl(t),rl(t,r)):(sl(t),t.flags&=-16777217)):r?r!==e.memoizedState?(tl(t),sl(t),rl(t,r)):(sl(t),t.flags&=-16777217):(e.memoizedProps!==n&&tl(t),sl(t),t.flags&=-16777217),null;case 27:G(t),r=B.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&tl(t);else{if(!n){if(null===t.stateNode)throw Error(a(166));return sl(t),null}e=q.current,pn(t)?hn(t):(e=Nu(s,n,r),t.stateNode=e,tl(t))}return sl(t),null;case 5:if(G(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&tl(t);else{if(!n){if(null===t.stateNode)throw Error(a(166));return sl(t),null}if(e=q.current,pn(t))hn(t);else{switch(s=iu(B.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof n.is?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"==typeof n.is?s.createElement(r,{is:n.is}):s.createElement(r)}}e[Oe]=t,e[De]=n;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(au(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&tl(t)}}return sl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&tl(t);else{if("string"!=typeof n&&null===t.stateNode)throw Error(a(166));if(e=B.current,pn(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(s=sn))switch(s.tag){case 27:case 5:n=s.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||Zd(e.nodeValue,r)))||mn(t)}else(e=iu(e).createTextNode(n))[Oe]=t,t.stateNode=e}return sl(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=pn(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[Oe]=t}else gn(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;sl(t),s=!1}else s=xn(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(mo(t),t):(mo(t),null)}if(mo(t),128&t.flags)return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){s=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(s=n.alternate.memoizedState.cachePool.pool);var i=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(i=n.memoizedState.cachePool.pool),i!==s&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),al(t,t.updateQueue),sl(t),null;case 4:return H(),null===e&&Bd(t.stateNode.containerInfo),sl(t),null;case 10:return Nn(t.type),sl(t),null;case 19:if(z(ho),null===(s=t.memoizedState))return sl(t),null;if(n=!!(128&t.flags),null===(i=s.rendering))if(n)nl(s,!1);else{if(0!==pc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=fo(e))){for(t.flags|=128,nl(s,!1),e=i.updateQueue,t.updateQueue=e,al(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)$a(r,e),r=r.sibling;return $(ho,1&ho.current|2),t.child}e=e.sibling}null!==s.tail&&ee()>Sc&&(t.flags|=128,n=!0,nl(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=fo(i))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,al(t,e),nl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!ln)return sl(t),null}else 2*ee()-s.renderingStartTime>Sc&&536870912!==r&&(t.flags|=128,n=!0,nl(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=s.last)?e.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ee(),t.sibling=null,e=ho.current,$(ho,n?1&e|2:1&e),t):(sl(t),null);case 22:case 23:return mo(t),vs(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?!!(536870912&r)&&!(128&t.flags)&&(sl(t),6&t.subtreeFlags&&(t.flags|=8192)):sl(t),null!==(r=t.updateQueue)&&al(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&z(Yn),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Nn(Fn),sl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ol(e,t){switch(nn(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Nn(Fn),H(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 13:if(mo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));gn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(ho),null;case 4:return H(),null;case 10:return Nn(t.type),null;case 22:case 23:return mo(t),vs(),null!==e&&z(Yn),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Nn(Fn),null;default:return null}}function ll(e,t){switch(nn(t),t.tag){case 3:Nn(Fn),H();break;case 26:case 27:case 5:G(t);break;case 4:H();break;case 13:mo(t);break;case 19:z(ho);break;case 10:Nn(t.type);break;case 22:case 23:mo(t),vs(),null!==e&&z(Yn);break;case 24:Nn(Fn)}}function cl(e,t){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var n=a.next;r=n;do{if((r.tag&e)===e){a=void 0;var s=r.create,i=r.inst;a=s(),i.destroy=a}r=r.next}while(r!==n)}}catch(o){hd(t,t.return,o)}}function dl(e,t,r){try{var a=t.updateQueue,n=null!==a?a.lastEffect:null;if(null!==n){var s=n.next;a=s;do{if((a.tag&e)===e){var i=a.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,n=t;var l=r,c=o;try{c()}catch(d){hd(n,l,d)}}}a=a.next}while(a!==s)}}catch(d){hd(t,t.return,d)}}function ul(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{ps(t,r)}catch(a){hd(e,e.return,a)}}}function ml(e,t,r){r.props=yo(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(a){hd(e,t,a)}}function hl(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"==typeof r?e.refCleanup=r(a):r.current=a}}catch(n){hd(e,t,n)}}function fl(e,t){var r=e.ref,a=e.refCleanup;if(null!==r)if("function"==typeof a)try{a()}catch(n){hd(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof r)try{r(null)}catch(s){hd(e,t,s)}else r.current=null}function pl(e){var t=e.type,r=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(n){hd(e,e.return,n)}}function gl(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,l=null,c=null,d=null,u=null;for(f in r){var m=r[f];if(r.hasOwnProperty(f)&&null!=m)switch(f){case"checked":case"value":break;case"defaultValue":c=m;default:n.hasOwnProperty(f)||tu(e,t,f,null,n,m)}}for(var h in n){var f=n[h];if(m=r[h],n.hasOwnProperty(h)&&(null!=f||null!=m))switch(h){case"type":i=f;break;case"name":s=f;break;case"checked":d=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==m&&tu(e,t,h,f,n,m)}}return void pt(e,o,l,c,d,u,i,s);case"select":for(i in f=o=l=h=null,r)if(c=r[i],r.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:n.hasOwnProperty(i)||tu(e,t,i,null,n,c)}for(s in n)if(i=n[s],c=r[s],n.hasOwnProperty(s)&&(null!=i||null!=c))switch(s){case"value":h=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&tu(e,t,s,i,n,c)}return t=l,r=o,n=f,void(null!=h?bt(e,!!r,h,!1):!!n!=!!r&&(null!=t?bt(e,!!r,t,!0):bt(e,!!r,r?[]:"",!1)));case"textarea":for(l in f=h=null,r)if(s=r[l],r.hasOwnProperty(l)&&null!=s&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:tu(e,t,l,null,n,s)}for(o in n)if(s=n[o],i=r[o],n.hasOwnProperty(o)&&(null!=s||null!=i))switch(o){case"value":h=s;break;case"defaultValue":f=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:s!==i&&tu(e,t,o,s,n,i)}return void yt(e,h,f);case"option":for(var p in r)h=r[p],r.hasOwnProperty(p)&&null!=h&&!n.hasOwnProperty(p)&&("selected"===p?e.selected=!1:tu(e,t,p,null,n,h));for(c in n)h=n[c],f=r[c],!n.hasOwnProperty(c)||h===f||null==h&&null==f||("selected"===c?e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h:tu(e,t,c,h,n,f));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)h=r[g],r.hasOwnProperty(g)&&null!=h&&!n.hasOwnProperty(g)&&tu(e,t,g,null,n,h);for(d in n)if(h=n[d],f=r[d],n.hasOwnProperty(d)&&h!==f&&(null!=h||null!=f))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:tu(e,t,d,h,n,f)}return;default:if(St(t)){for(var x in r)h=r[x],r.hasOwnProperty(x)&&void 0!==h&&!n.hasOwnProperty(x)&&ru(e,t,x,void 0,n,h);for(u in n)h=n[u],f=r[u],!n.hasOwnProperty(u)||h===f||void 0===h&&void 0===f||ru(e,t,u,h,n,f);return}}for(var b in r)h=r[b],r.hasOwnProperty(b)&&null!=h&&!n.hasOwnProperty(b)&&tu(e,t,b,null,n,h);for(m in n)h=n[m],f=r[m],!n.hasOwnProperty(m)||h===f||null==h&&null==f||tu(e,t,m,h,n,f)}(n,e.type,r,t),n[De]=t}catch(s){hd(e,e.return,s)}}function xl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&gu(e.type)||4===e.tag}function bl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&gu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=eu));else if(4!==a&&(27===a&&gu(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,r),e=e.sibling;null!==e;)yl(e,t,r),e=e.sibling}function vl(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==a&&(27===a&&gu(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(vl(e,t,r),e=e.sibling;null!==e;)vl(e,t,r),e=e.sibling}function jl(e){var t=e.stateNode,r=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);au(t,a,r),t[Oe]=e,t[De]=r}catch(s){hd(e,e.return,s)}}var wl=!1,Nl=!1,El=!1,Sl="function"==typeof WeakSet?WeakSet:Set,kl=null;function Cl(e,t,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:$l(e,r),4&a&&cl(5,r);break;case 1:if($l(e,r),4&a)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(i){hd(r,r.return,i)}else{var n=yo(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){hd(r,r.return,o)}}64&a&&ul(r),512&a&&hl(r,r.return);break;case 3:if($l(e,r),64&a&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{ps(e,t)}catch(i){hd(r,r.return,i)}}break;case 27:null===t&&4&a&&jl(r);case 26:case 5:$l(e,r),null===t&&4&a&&pl(r),512&a&&hl(r,r.return);break;case 12:$l(e,r);break;case 13:$l(e,r),4&a&&Pl(e,r),64&a&&null!==(e=r.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var a=function(){t(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,r=xd.bind(null,r));break;case 22:if(!(a=null!==r.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||Nl,n=wl;var s=Nl;wl=a,(Nl=t)&&!s?Ul(e,r,!!(8772&r.subtreeFlags)):$l(e,r),wl=n,Nl=s}break;case 30:break;default:$l(e,r)}}function Al(e){var t=e.alternate;null!==t&&(e.alternate=null,Al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&ze(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _l=null,Tl=!1;function Ol(e,t,r){for(r=r.child;null!==r;)Dl(e,t,r),r=r.sibling}function Dl(e,t,r){if(de&&"function"==typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,r)}catch(s){}switch(r.tag){case 26:Nl||fl(r,t),Ol(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Nl||fl(r,t);var a=_l,n=Tl;gu(r.type)&&(_l=r.stateNode,Tl=!1),Ol(e,t,r),Eu(r.stateNode),_l=a,Tl=n;break;case 5:Nl||fl(r,t);case 6:if(a=_l,n=Tl,_l=null,Ol(e,t,r),Tl=n,null!==(_l=a))if(Tl)try{(9===_l.nodeType?_l.body:"HTML"===_l.nodeName?_l.ownerDocument.body:_l).removeChild(r.stateNode)}catch(i){hd(r,t,i)}else try{_l.removeChild(r.stateNode)}catch(i){hd(r,t,i)}break;case 18:null!==_l&&(Tl?(xu(9===(e=_l).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Tm(e)):xu(_l,r.stateNode));break;case 4:a=_l,n=Tl,_l=r.stateNode.containerInfo,Tl=!0,Ol(e,t,r),_l=a,Tl=n;break;case 0:case 11:case 14:case 15:Nl||dl(2,r,t),Nl||dl(4,r,t),Ol(e,t,r);break;case 1:Nl||(fl(r,t),"function"==typeof(a=r.stateNode).componentWillUnmount&&ml(r,t,a)),Ol(e,t,r);break;case 21:Ol(e,t,r);break;case 22:Nl=(a=Nl)||null!==r.memoizedState,Ol(e,t,r),Nl=a;break;default:Ol(e,t,r)}}function Pl(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Tm(e)}catch(r){hd(t,t.return,r)}}function Ml(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var a=bd.bind(null,e,t);r.has(t)||(r.add(t),t.then(a,a))})}function Fl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var s=r[n],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(gu(l.type)){_l=l.stateNode,Tl=!1;break e}break;case 5:_l=l.stateNode,Tl=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===_l)throw Error(a(160));Dl(i,o,s),_l=null,Tl=!1,null!==(i=s.alternate)&&(i.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rl(t,e),t=t.sibling}var Il=null;function Rl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Fl(t,e),Ll(e),4&n&&(dl(3,e,e.return),cl(3,e),dl(5,e,e.return));break;case 1:Fl(t,e),Ll(e),512&n&&(Nl||null===r||fl(r,r.return)),64&n&&wl&&null!==(e=e.updateQueue)&&null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n));break;case 26:var s=Il;if(Fl(t,e),Ll(e),512&n&&(Nl||null===r||fl(r,r.return)),4&n){var i=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":(!(i=s.getElementsByTagName("title")[0])||i[Le]||i[Oe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=s.createElement(n),s.head.insertBefore(i,s.querySelector("head > title"))),au(i,n,r),i[Oe]=e,Ye(i),n=i;break e;case"link":var o=Uu("link","href",s).get(n+(r.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&i.getAttribute("rel")===(null==r.rel?null:r.rel)&&i.getAttribute("title")===(null==r.title?null:r.title)&&i.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(l,1);break t}au(i=s.createElement(n),n,r),s.head.appendChild(i);break;case"meta":if(o=Uu("meta","content",s).get(n+(r.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&i.getAttribute("name")===(null==r.name?null:r.name)&&i.getAttribute("property")===(null==r.property?null:r.property)&&i.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&i.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(l,1);break t}au(i=s.createElement(n),n,r),s.head.appendChild(i);break;default:throw Error(a(468,n))}i[Oe]=e,Ye(i),n=i}e.stateNode=n}else Bu(s,e.type,e.stateNode);else e.stateNode=Ru(s,n,e.memoizedProps);else i!==n?(null===i?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):i.count--,null===n?Bu(s,e.type,e.stateNode):Ru(s,n,e.memoizedProps)):null===n&&null!==e.stateNode&&gl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Fl(t,e),Ll(e),512&n&&(Nl||null===r||fl(r,r.return)),null!==r&&4&n&&gl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Fl(t,e),Ll(e),512&n&&(Nl||null===r||fl(r,r.return)),32&e.flags){s=e.stateNode;try{jt(s,"")}catch(f){hd(e,e.return,f)}}4&n&&null!=e.stateNode&&gl(e,s=e.memoizedProps,null!==r?r.memoizedProps:s),1024&n&&(El=!0);break;case 6:if(Fl(t,e),Ll(e),4&n){if(null===e.stateNode)throw Error(a(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(f){hd(e,e.return,f)}}break;case 3:if(qu=null,s=Il,Il=Cu(t.containerInfo),Fl(t,e),Il=s,Ll(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Tm(t.containerInfo)}catch(f){hd(e,e.return,f)}El&&(El=!1,zl(e));break;case 4:n=Il,Il=Cu(e.stateNode.containerInfo),Fl(t,e),Ll(e),Il=n;break;case 12:default:Fl(t,e),Ll(e);break;case 13:Fl(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==r&&null!==r.memoizedState)&&(Ec=ee()),4&n&&null!==(n=e.updateQueue)&&(e.updateQueue=null,Ml(e,n));break;case 22:s=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,d=wl,u=Nl;if(wl=d||s,Nl=u||c,Fl(t,e),Nl=u,wl=d,Ll(e),8192&n)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===r||c||wl||Nl||ql(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(i=c.stateNode,s)"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var m=c.memoizedProps.style,h=null!=m&&m.hasOwnProperty("display")?m.display:null;l.style.display=null==h||"boolean"==typeof h?"":(""+h).trim()}}catch(f){hd(c,c.return,f)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(f){hd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&null!==(n=e.updateQueue)&&null!==(r=n.retryQueue)&&(n.retryQueue=null,Ml(e,r));break;case 19:Fl(t,e),Ll(e),4&n&&null!==(n=e.updateQueue)&&(e.updateQueue=null,Ml(e,n));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(xl(n)){r=n;break}n=n.return}if(null==r)throw Error(a(160));switch(r.tag){case 27:var s=r.stateNode;vl(e,bl(e),s);break;case 5:var i=r.stateNode;32&r.flags&&(jt(i,""),r.flags&=-33),vl(e,bl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;yl(e,bl(e),o);break;default:throw Error(a(161))}}catch(l){hd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function zl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;zl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $l(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function ql(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:dl(4,t,t.return),ql(t);break;case 1:fl(t,t.return);var r=t.stateNode;"function"==typeof r.componentWillUnmount&&ml(t,t.return,r),ql(t);break;case 27:Eu(t.stateNode);case 26:case 5:fl(t,t.return),ql(t);break;case 22:null===t.memoizedState&&ql(t);break;default:ql(t)}e=e.sibling}}function Ul(e,t,r){for(r=r&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,n=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Ul(n,s,r),cl(4,s);break;case 1:if(Ul(n,s,r),"function"==typeof(n=(a=s).stateNode).componentDidMount)try{n.componentDidMount()}catch(c){hd(a,a.return,c)}if(null!==(n=(a=s).updateQueue)){var o=a.stateNode;try{var l=n.shared.hiddenCallbacks;if(null!==l)for(n.shared.hiddenCallbacks=null,n=0;n<l.length;n++)fs(l[n],o)}catch(c){hd(a,a.return,c)}}r&&64&i&&ul(s),hl(s,s.return);break;case 27:jl(s);case 26:case 5:Ul(n,s,r),r&&null===a&&4&i&&pl(s),hl(s,s.return);break;case 12:Ul(n,s,r);break;case 13:Ul(n,s,r),r&&4&i&&Pl(n,s);break;case 22:null===s.memoizedState&&Ul(n,s,r),hl(s,s.return);break;case 30:break;default:Ul(n,s,r)}t=t.sibling}}function Bl(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Rn(r))}function Yl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Rn(e))}function Vl(e,t,r,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,r,a),t=t.sibling}function Hl(e,t,r,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,r,a),2048&n&&cl(9,t);break;case 1:case 13:default:Vl(e,t,r,a);break;case 3:Vl(e,t,r,a),2048&n&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Rn(e)));break;case 12:if(2048&n){Vl(e,t,r,a),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"==typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hd(t,t.return,l)}}else Vl(e,t,r,a);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Vl(e,t,r,a):Gl(e,t):2&s._visibility?Vl(e,t,r,a):(s._visibility|=2,Wl(e,t,r,a,!!(10256&t.subtreeFlags))),2048&n&&Bl(i,t);break;case 24:Vl(e,t,r,a),2048&n&&Yl(t.alternate,t)}}function Wl(e,t,r,a,n){for(n=n&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,o=r,l=a,c=i.flags;switch(i.tag){case 0:case 11:case 15:Wl(s,i,o,l,n),cl(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?Wl(s,i,o,l,n):Gl(s,i):(d._visibility|=2,Wl(s,i,o,l,n)),n&&2048&c&&Bl(i.alternate,i);break;case 24:Wl(s,i,o,l,n),n&&2048&c&&Yl(i.alternate,i);break;default:Wl(s,i,o,l,n)}t=t.sibling}}function Gl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,a=t,n=a.flags;switch(a.tag){case 22:Gl(r,a),2048&n&&Bl(a.alternate,a);break;case 24:Gl(r,a),2048&n&&Yl(a.alternate,a);break;default:Gl(r,a)}t=t.sibling}}var Kl=8192;function Ql(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 26:Ql(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,r){if(null===Vu)throw Error(a(475));var n=Vu;if(!("stylesheet"!==t.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&t.state.loading)){if(null===t.instance){var s=Du(r.href),i=e.querySelector(Pu(s));if(i)return null!==(e=i._p)&&"object"==typeof e&&"function"==typeof e.then&&(n.count++,n=Wu.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=i,void Ye(i);i=e.ownerDocument||e,r=Mu(r),(s=Su.get(s))&&zu(r,s),Ye(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),au(i,"link",r),t.instance=i}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(n.count++,t=Wu.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(Il,e.memoizedState,e.memoizedProps);break;case 5:default:Ql(e);break;case 3:case 4:var t=Il;Il=Cu(e.stateNode.containerInfo),Ql(e),Il=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Ql(e),Kl=t):Ql(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];kl=a,rc(a,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ec(e),e=e.sibling}function ec(e){switch(e.tag){case 0:case 11:case 15:Zl(e),2048&e.flags&&dl(9,e,e.return);break;case 3:case 12:default:Zl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,tc(e)):Zl(e)}}function tc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];kl=a,rc(a,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:dl(8,t,t.return),tc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,tc(t));break;default:tc(t)}e=e.sibling}}function rc(e,t){for(;null!==kl;){var r=kl;switch(r.tag){case 0:case 11:case 15:dl(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var a=r.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Rn(r.memoizedState.cache)}if(null!==(a=r.child))a.return=r,kl=a;else e:for(r=e;null!==kl;){var n=(a=kl).sibling,s=a.return;if(Al(a),a===r){kl=null;break e}if(null!==n){n.return=s,kl=n;break e}kl=s}}}var ac={getCacheForType:function(e){var t=_n(Fn),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},nc="function"==typeof WeakMap?WeakMap:Map,sc=0,ic=null,oc=null,lc=0,cc=0,dc=null,uc=!1,mc=!1,hc=!1,fc=0,pc=0,gc=0,xc=0,bc=0,yc=0,vc=0,jc=null,wc=null,Nc=!1,Ec=0,Sc=1/0,kc=null,Cc=null,Ac=0,_c=null,Tc=null,Oc=0,Dc=0,Pc=null,Mc=null,Fc=0,Ic=null;function Rc(){return 2&sc&&0!==lc?lc&-lc:null!==P.T?0!==$n?$n:Dd():_e()}function Lc(){0===yc&&(yc=536870912&lc&&!ln?536870912:je());var e=io.current;return null!==e&&(e.flags|=32),yc}function zc(e,t,r){(e!==ic||2!==cc&&9!==cc)&&null===e.cancelPendingCommit||(Hc(e,0),Bc(e,lc,yc,!1)),Ee(e,r),2&sc&&e===ic||(e===ic&&(!(2&sc)&&(xc|=r),4===pc&&Bc(e,lc,yc,!1)),Sd(e))}function $c(e,t,r){if(6&sc)throw Error(a(327));for(var n=!r&&!(124&t)&&0===(t&e.expiredLanes)||ye(e,t),s=n?function(e,t){var r=sc;sc|=2;var n=Gc(),s=Kc();ic!==e||lc!==t?(kc=null,Sc=ee()+500,Hc(e,t)):mc=ye(e,t);e:for(;;)try{if(0!==cc&&null!==oc){t=oc;var i=dc;t:switch(cc){case 1:cc=0,dc=null,rd(e,t,i,1);break;case 2:case 9:if(Jn(i)){cc=0,dc=null,td(t);break}t=function(){2!==cc&&9!==cc||ic!==e||(cc=7),Sd(e)},i.then(t,t);break e;case 3:cc=7;break e;case 4:cc=5;break e;case 7:Jn(i)?(cc=0,dc=null,td(t)):(cc=0,dc=null,rd(e,t,i,7));break;case 5:var o=null;switch(oc.tag){case 26:o=oc.memoizedState;case 5:case 27:var l=oc;if(!o||Yu(o)){cc=0,dc=null;var c=l.sibling;if(null!==c)oc=c;else{var d=l.return;null!==d?(oc=d,ad(d)):oc=null}break t}}cc=0,dc=null,rd(e,t,i,5);break;case 6:cc=0,dc=null,rd(e,t,i,6);break;case 8:Vc(),pc=6;break e;default:throw Error(a(462))}}Zc();break}catch(u){Wc(e,u)}return jn=vn=null,P.H=n,P.A=s,sc=r,null!==oc?0:(ic=null,lc=0,_a(),pc)}(e,t):Xc(e,t,!0),i=n;;){if(0===s){mc&&!n&&Bc(e,t,0,!1);break}if(r=e.current.alternate,!i||Uc(r)){if(2===s){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!=(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=jc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Xc(l,o,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=i,xc|=i,s=4;break e}i=wc,wc=s,null!==i&&(null===wc?wc=i:wc.push.apply(wc,i))}s=o}if(i=!1,2!==s)continue}}if(1===s){Hc(e,0),Bc(e,t,0,!0);break}e:{switch(n=e,i=s){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Bc(n,t,yc,!uc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(s=Ec+300-ee())){if(Bc(n,t,yc,!uc),0!==be(n,0,!0))break e;n.timeoutHandle=uu(qc.bind(null,n,r,wc,kc,Nc,t,yc,xc,vc,uc,i,2,-0,0),s)}else qc(n,r,wc,kc,Nc,t,yc,xc,vc,uc,i,0,-0,0)}break}s=Xc(e,t,!1),i=!1}Sd(e)}function qc(e,t,r,n,s,i,o,l,c,d,u,m,h,f){if(e.timeoutHandle=-1,(8192&(m=t.subtreeFlags)||!(16785408&~m))&&(Vu={stylesheets:null,count:0,unsuspend:Hu},Xl(t),null!==(m=function(){if(null===Vu)throw Error(a(475));var e=Vu;return e.stylesheets&&0===e.count&&Ku(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&Ku(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=m(sd.bind(null,e,t,i,r,n,s,o,l,c,u,1,h,f)),void Bc(e,i,o,!d);sd(e,t,i,r,n,s,o,l,c)}function Uc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&null!==(r=t.updateQueue)&&null!==(r=r.stores))for(var a=0;a<r.length;a++){var n=r[a],s=n.getSnapshot;n=n.value;try{if(!Qr(s(),n))return!1}catch(i){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,r,a){t&=~bc,t&=~xc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var s=31-me(n),i=1<<s;a[s]=-1,n&=~i}0!==r&&Se(e,r,t)}function Yc(){return!!(6&sc)||(kd(0),!1)}function Vc(){if(null!==oc){if(0===cc)var e=oc.return;else jn=vn=null,$s(e=oc),Xi=null,Ji=0,e=oc;for(;null!==e;)ll(e.alternate,e),e=e.return;oc=null}}function Hc(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,mu(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Vc(),ic=e,oc=r=za(e.current,null),lc=t,cc=0,dc=null,uc=!1,mc=ye(e,t),hc=!1,vc=yc=bc=xc=gc=pc=0,wc=jc=null,Nc=!1,8&t&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var n=31-me(a),s=1<<n;t|=e[n],a&=~s}return fc=t,_a(),r}function Wc(e,t){ws=null,P.H=Wi,t===Gn||t===Qn?(t=rs(),cc=3):t===Kn?(t=rs(),cc=4):cc=t===_o?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,dc=t,null===oc&&(pc=1,Eo(e,Sa(t,e.current)))}function Gc(){var e=P.H;return P.H=Wi,null===e?Wi:e}function Kc(){var e=P.A;return P.A=ac,e}function Qc(){pc=4,uc||(4194048&lc)!==lc&&null!==io.current||(mc=!0),!(134217727&gc)&&!(134217727&xc)||null===ic||Bc(ic,lc,yc,!1)}function Xc(e,t,r){var a=sc;sc|=2;var n=Gc(),s=Kc();ic===e&&lc===t||(kc=null,Hc(e,t)),t=!1;var i=pc;e:for(;;)try{if(0!==cc&&null!==oc){var o=oc,l=dc;switch(cc){case 8:Vc(),i=6;break e;case 3:case 2:case 9:case 6:null===io.current&&(t=!0);var c=cc;if(cc=0,dc=null,rd(e,o,l,c),r&&mc){i=0;break e}break;default:c=cc,cc=0,dc=null,rd(e,o,l,c)}}Jc(),i=pc;break}catch(d){Wc(e,d)}return t&&e.shellSuspendCounter++,jn=vn=null,sc=a,P.H=n,P.A=s,null===oc&&(ic=null,lc=0,_a()),i}function Jc(){for(;null!==oc;)ed(oc)}function Zc(){for(;null!==oc&&!J();)ed(oc)}function ed(e){var t=el(e.alternate,e,fc);e.memoizedProps=e.pendingProps,null===t?ad(e):oc=t}function td(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=zo(r,t,t.pendingProps,t.type,void 0,lc);break;case 11:t=zo(r,t,t.pendingProps,t.type.render,t.ref,lc);break;case 5:$s(t);default:ll(r,t),t=el(r,t=oc=$a(t,fc),fc)}e.memoizedProps=e.pendingProps,null===t?ad(e):oc=t}function rd(e,t,r,n){jn=vn=null,$s(t),Xi=null,Ji=0;var s=t.return;try{if(function(e,t,r,n,s){if(r.flags|=32768,null!==n&&"object"==typeof n&&"function"==typeof n.then){if(null!==(t=r.alternate)&&kn(t,r,s,!0),null!==(r=io.current)){switch(r.tag){case 13:return null===oo?Qc():null===r.alternate&&0===pc&&(pc=3),r.flags&=-257,r.flags|=65536,r.lanes=s,n===Xn?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),fd(e,n,s)),!1;case 22:return r.flags|=65536,n===Xn?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),fd(e,n,s)),!1}throw Error(a(435,r.tag))}return fd(e,n,s),Qc(),!1}if(ln)return null!==(t=io.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==un&&bn(Sa(e=Error(a(422),{cause:n}),r))):(n!==un&&bn(Sa(t=Error(a(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,n=Sa(n,r),ds(e,s=ko(e.stateNode,n,s)),4!==pc&&(pc=2)),!1;var i=Error(a(520),{cause:n});if(i=Sa(i,r),null===jc?jc=[i]:jc.push(i),4!==pc&&(pc=2),null===t)return!0;n=Sa(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=s&-s,r.lanes|=e,ds(r,e=ko(r.stateNode,n,e)),!1;case 1:if(t=r.type,i=r.stateNode,!(128&r.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==Cc&&Cc.has(i))))return r.flags|=65536,s&=-s,r.lanes|=s,Ao(s=Co(s),e,r,n),ds(r,s),!1}r=r.return}while(null!==r);return!1}(e,s,t,r,lc))return pc=1,Eo(e,Sa(r,e.current)),void(oc=null)}catch(i){if(null!==s)throw oc=s,i;return pc=1,Eo(e,Sa(r,e.current)),void(oc=null)}32768&t.flags?(ln||1===n?e=!0:mc||536870912&lc?e=!1:(uc=e=!0,(2===n||9===n||3===n||6===n)&&null!==(n=io.current)&&13===n.tag&&(n.flags|=16384)),nd(t,e)):ad(t)}function ad(e){var t=e;do{if(32768&t.flags)return void nd(t,uc);e=t.return;var r=il(t.alternate,t,fc);if(null!==r)return void(oc=r);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===pc&&(pc=5)}function nd(e,t){do{var r=ol(e.alternate,e);if(null!==r)return r.flags&=32767,void(oc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=r}while(null!==e);pc=6,oc=null}function sd(e,t,r,n,s,i,o,l,c){e.cancelPendingCommit=null;do{dd()}while(0!==Ac);if(6&sc)throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,r,a,n,s){var i=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=i&~r;0<r;){var d=31-me(r),u=1<<d;o[d]=0,l[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var h=m[d];null!==h&&(h.lane&=-536870913)}r&=~u}0!==a&&Se(e,a,0),0!==s&&0===n&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,r,i|=Aa,o,l,c),e===ic&&(oc=ic=null,lc=0),Tc=t,_c=e,Oc=r,Dc=i,Pc=s,Mc=n,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Q(ne,function(){return ud(),null})):(e.callbackNode=null,e.callbackPriority=0),n=!!(13878&t.flags),13878&t.subtreeFlags||n){n=P.T,P.T=null,s=M.p,M.p=2,o=sc,sc|=4;try{!function(e,t){if(e=e.containerInfo,nu=sm,ra(e=ta(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(g){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var f;m!==r||0!==s&&3!==m.nodeType||(l=o+s),m!==i||0!==n&&3!==m.nodeType||(c=o+n),3===m.nodeType&&(o+=m.nodeValue.length),null!==(f=m.firstChild);)h=m,m=f;for(;;){if(m===e)break t;if(h===r&&++d===s&&(l=o),h===i&&++u===n&&(c=o),null!==(f=m.nextSibling))break;h=(m=h).parentNode}m=f}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(su={focusedElem:e,selectionRange:r},sm=!1,kl=t;null!==kl;)if(e=(t=kl).child,1024&t.subtreeFlags&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(i=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,r=t,s=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var p=yo(r.type,s,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(p,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(x){hd(r,r.return,x)}}break;case 3:if(1024&e)if(9===(r=(e=t.stateNode.containerInfo).nodeType))bu(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bu(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{sc=o,M.p=s,P.T=n}}Ac=1,id(),od(),ld()}}function id(){if(1===Ac){Ac=0;var e=_c,t=Tc,r=!!(13878&t.flags);if(13878&t.subtreeFlags||r){r=P.T,P.T=null;var a=M.p;M.p=2;var n=sc;sc|=4;try{Rl(t,e);var s=su,i=ta(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&ea(o.ownerDocument.documentElement,o)){if(null!==l&&ra(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var h=m.getSelection(),f=o.textContent.length,p=Math.min(l.start,f),g=void 0===l.end?p:Math.min(l.end,f);!h.extend&&p>g&&(i=g,g=p,p=i);var x=Zr(o,p),b=Zr(o,g);if(x&&b&&(1!==h.rangeCount||h.anchorNode!==x.node||h.anchorOffset!==x.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var y=u.createRange();y.setStart(x.node,x.offset),h.removeAllRanges(),p>g?(h.addRange(y),h.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),h.addRange(y))}}}}for(u=[],h=o;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<u.length;o++){var v=u[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}sm=!!nu,su=nu=null}finally{sc=n,M.p=a,P.T=r}}e.current=t,Ac=2}}function od(){if(2===Ac){Ac=0;var e=_c,t=Tc,r=!!(8772&t.flags);if(8772&t.subtreeFlags||r){r=P.T,P.T=null;var a=M.p;M.p=2;var n=sc;sc|=4;try{Cl(e,t.alternate,t)}finally{sc=n,M.p=a,P.T=r}}Ac=3}}function ld(){if(4===Ac||3===Ac){Ac=0,Z();var e=_c,t=Tc,r=Oc,a=Mc;10256&t.subtreeFlags||10256&t.flags?Ac=5:(Ac=0,Tc=_c=null,cd(e,e.pendingLanes));var n=e.pendingLanes;if(0===n&&(Cc=null),Ae(r),t=t.stateNode,de&&"function"==typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==a){t=P.T,n=M.p,M.p=2,P.T=null;try{for(var s=e.onRecoverableError,i=0;i<a.length;i++){var o=a[i];s(o.value,{componentStack:o.stack})}}finally{P.T=t,M.p=n}}3&Oc&&dd(),Sd(e),n=e.pendingLanes,4194090&r&&42&n?e===Ic?Fc++:(Fc=0,Ic=e):Fc=0,kd(0)}}function cd(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Rn(t))}function dd(e){return id(),od(),ld(),ud()}function ud(){if(5!==Ac)return!1;var e=_c,t=Dc;Dc=0;var r=Ae(Oc),n=P.T,s=M.p;try{M.p=32>r?32:r,P.T=null,r=Pc,Pc=null;var i=_c,o=Oc;if(Ac=0,Tc=_c=null,Oc=0,6&sc)throw Error(a(331));var l=sc;if(sc|=4,ec(i.current),Hl(i,i.current,o,r),sc=l,kd(0),de&&"function"==typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,i)}catch(c){}return!0}finally{M.p=s,P.T=n,cd(e,t)}}function md(e,t,r){t=Sa(r,t),null!==(e=ls(e,t=ko(e.stateNode,t,2),2))&&(Ee(e,2),Sd(e))}function hd(e,t,r){if(3===e.tag)md(e,e,r);else for(;null!==t;){if(3===t.tag){md(t,e,r);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Cc||!Cc.has(a))){e=Sa(r,e),null!==(a=ls(t,r=Co(2),2))&&(Ao(r,a,t,e),Ee(a,2),Sd(a));break}}t=t.return}}function fd(e,t,r){var a=e.pingCache;if(null===a){a=e.pingCache=new nc;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(r)||(hc=!0,n.add(r),e=pd.bind(null,e,t,r),t.then(e,e))}function pd(e,t,r){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ic===e&&(lc&r)===r&&(4===pc||3===pc&&(62914560&lc)===lc&&300>ee()-Ec?!(2&sc)&&Hc(e,0):bc|=r,vc===lc&&(vc=0)),Sd(e)}function gd(e,t){0===t&&(t=we()),null!==(e=Da(e,t))&&(Ee(e,t),Sd(e))}function xd(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),gd(e,r)}function bd(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(r=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==n&&n.delete(t),gd(e,r)}var yd=null,vd=null,jd=!1,wd=!1,Nd=!1,Ed=0;function Sd(e){e!==vd&&null===e.next&&(null===vd?yd=vd=e:vd=vd.next=e),wd=!0,jd||(jd=!0,fu(function(){6&sc?Q(re,Cd):Ad()}))}function kd(e,t){if(!Nd&&wd){Nd=!0;do{for(var r=!1,a=yd;null!==a;){if(0!==e){var n=a.pendingLanes;if(0===n)var s=0;else{var i=a.suspendedLanes,o=a.pingedLanes;s=(1<<31-me(42|e)+1)-1,s=201326741&(s&=n&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(r=!0,Od(a,s))}else s=lc,!(3&(s=be(a,a===ic?s:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||ye(a,s)||(r=!0,Od(a,s));a=a.next}}while(r);Nd=!1}}function Cd(){Ad()}function Ad(){wd=jd=!1;var e,t=0;0!==Ed&&(((e=window.event)&&"popstate"===e.type?e!==du&&(du=e,!0):(du=null,!1))&&(t=Ed),Ed=0);for(var r=ee(),a=null,n=yd;null!==n;){var s=n.next,i=_d(n,r);0===i?(n.next=null,null===a?yd=s:a.next=s,null===s&&(vd=a)):(a=n,(0!==t||3&i)&&(wd=!0)),n=s}kd(t)}function _d(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-me(s),o=1<<i,l=n[i];-1===l?0!==(o&r)&&0===(o&a)||(n[i]=ve(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(r=lc,r=be(e,e===(t=ic)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===r||e===t&&(2===cc||9===cc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&X(a),e.callbackNode=null,e.callbackPriority=0;if(!(3&r)||ye(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==a&&X(a),Ae(r)){case 2:case 8:r=ae;break;case 32:default:r=ne;break;case 268435456:r=ie}return a=Td.bind(null,e),r=Q(r,a),e.callbackPriority=t,e.callbackNode=r,t}return null!==a&&null!==a&&X(a),e.callbackPriority=2,e.callbackNode=null,2}function Td(e,t){if(0!==Ac&&5!==Ac)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(dd()&&e.callbackNode!==r)return null;var a=lc;return 0===(a=be(e,e===ic?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:($c(e,a,t),_d(e,ee()),null!=e.callbackNode&&e.callbackNode===r?Td.bind(null,e):null)}function Od(e,t){if(dd())return null;$c(e,t,!0)}function Dd(){return 0===Ed&&(Ed=je()),Ed}function Pd(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:At(""+e)}function Md(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Fd=0;Fd<wa.length;Fd++){var Id=wa[Fd];Na(Id.toLowerCase(),"on"+(Id[0].toUpperCase()+Id.slice(1)))}Na(fa,"onAnimationEnd"),Na(pa,"onAnimationIteration"),Na(ga,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(xa,"onTransitionRun"),Na(ba,"onTransitionStart"),Na(ya,"onTransitionCancel"),Na(va,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ld=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rd));function zd(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&n.isPropagationStopped())break e;s=o,n.currentTarget=c;try{s(n)}catch(d){vo(d)}n.currentTarget=null,s=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&n.isPropagationStopped())break e;s=o,n.currentTarget=c;try{s(n)}catch(d){vo(d)}n.currentTarget=null,s=l}}}}function $d(e,t){var r=t[Me];void 0===r&&(r=t[Me]=new Set);var a=e+"__bubble";r.has(a)||(Yd(t,e,2,!1),r.add(a))}function qd(e,t,r){var a=0;t&&(a|=4),Yd(r,e,a,t)}var Ud="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Ud]){e[Ud]=!0,Ve.forEach(function(t){"selectionchange"!==t&&(Ld.has(t)||qd(t,!1,e),qd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ud]||(t[Ud]=!0,qd("selectionchange",!1,t))}}function Yd(e,t,r,a){switch(mm(t)){case 2:var n=im;break;case 8:n=om;break;default:n=lm}r=n.bind(null,t,r,e),n=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Vd(e,t,r,a,n){var i=a;if(!(1&t||2&t||null===a))e:for(;;){if(null===a)return;var o=a.tag;if(3===o||4===o){var l=a.stateNode.containerInfo;if(l===n)break;if(4===o)for(o=a.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===n)return;o=o.return}for(;null!==l;){if(null===(o=$e(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){a=i=o;continue e}l=l.parentNode}}a=a.return}It(function(){var a=i,n=Tt(r),o=[];e:{var l=ja.get(e);if(void 0!==l){var c=tr,d=e;switch(e){case"keypress":if(0===Wt(r))break e;case"keydown":case"keyup":c=gr;break;case"focusin":d="focus",c=or;break;case"focusout":d="blur",c=or;break;case"beforeblur":case"afterblur":c=or;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=br;break;case fa:case pa:case ga:c=lr;break;case va:c=yr;break;case"scroll":case"scrollend":c=ar;break;case"wheel":c=vr;break;case"copy":case"cut":case"paste":c=cr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xr;break;case"toggle":case"beforetoggle":c=jr}var u=!!(4&t),m=!u&&("scroll"===e||"scrollend"===e),h=u?null!==l?l+"Capture":null:l;u=[];for(var f,p=a;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=Rt(p,h))&&u.push(Hd(p,g,f)),m)break;p=p.return}0<u.length&&(l=new c(l,d,null,r,n),o.push({event:l,listeners:u}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||r===_t||!(d=r.relatedTarget||r.fromElement)||!$e(d)&&!d[Pe])&&(c||l)&&(l=n.window===n?n:(l=n.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=a,null!==(d=(d=r.relatedTarget||r.toElement)?$e(d):null)&&(m=s(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=a),c!==d)){if(u=sr,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xr,g="onPointerLeave",h="onPointerEnter",p="pointer"),m=null==c?l:Ue(c),f=null==d?l:Ue(d),(l=new u(g,p+"leave",c,r,n)).target=m,l.relatedTarget=f,g=null,$e(n)===a&&((u=new u(h,p+"enter",d,r,n)).target=f,u.relatedTarget=m,g=u),m=g,c&&d)e:{for(h=d,p=0,f=u=c;f;f=Gd(f))p++;for(f=0,g=h;g;g=Gd(g))f++;for(;0<p-f;)u=Gd(u),p--;for(;0<f-p;)h=Gd(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gd(u),h=Gd(h)}u=null}else u=null;null!==c&&Kd(o,l,c,u,!1),null!==d&&null!==m&&Kd(o,m,d,u,!0)}if("select"===(c=(l=a?Ue(a):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var x=zr;else if(Pr(l))if($r)x=Kr;else{x=Wr;var b=Hr}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?a&&St(a.elementType)&&(x=zr):x=Gr;switch(x&&(x=x(e,a))?Mr(o,x,r,n):(b&&b(e,l,a),"focusout"===e&&a&&"number"===l.type&&null!=a.memoizedProps.value&&xt(l,"number",l.value)),b=a?Ue(a):window,e){case"focusin":(Pr(b)||"true"===b.contentEditable)&&(na=b,sa=a,ia=null);break;case"focusout":ia=sa=na=null;break;case"mousedown":oa=!0;break;case"contextmenu":case"mouseup":case"dragend":oa=!1,la(o,r,n);break;case"selectionchange":if(aa)break;case"keydown":case"keyup":la(o,r,n)}var y;if(Nr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Or?_r(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(kr&&"ko"!==r.locale&&(Or||"onCompositionStart"!==v?"onCompositionEnd"===v&&Or&&(y=Ht()):(Yt="value"in(Bt=n)?Bt.value:Bt.textContent,Or=!0)),0<(b=Wd(a,v)).length&&(v=new dr(v,e,null,r,n),o.push({event:v,listeners:b}),(y||null!==(y=Tr(r)))&&(v.data=y))),(y=Sr?function(e,t){switch(e){case"compositionend":return Tr(t);case"keypress":return 32!==t.which?null:(Ar=!0,Cr);case"textInput":return(e=t.data)===Cr&&Ar?null:e;default:return null}}(e,r):function(e,t){if(Or)return"compositionend"===e||!Nr&&_r(e,t)?(e=Ht(),Vt=Yt=Bt=null,Or=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kr&&"ko"!==t.locale?null:t.data}}(e,r))&&0<(v=Wd(a,"onBeforeInput")).length&&(b=new dr("onBeforeInput","beforeinput",null,r,n),o.push({event:b,listeners:v}),b.data=y),function(e,t,r,a,n){if("submit"===t&&r&&r.stateNode===n){var s=Pd((n[De]||null).action),i=a.submitter;i&&null!==(t=(t=i[De]||null)?Pd(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new tr("action","action",null,a,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==Ed){var e=i?Md(n,i):new FormData(n);Pi(r,{pending:!0,data:e,method:n.method,action:s},null,e)}}else"function"==typeof s&&(o.preventDefault(),e=i?Md(n,i):new FormData(n),Pi(r,{pending:!0,data:e,method:n.method,action:s},s,e))},currentTarget:n}]})}}(o,e,a,r,n)}zd(o,t)})}function Hd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wd(e,t){for(var r=t+"Capture",a=[];null!==e;){var n=e,s=n.stateNode;if(5!==(n=n.tag)&&26!==n&&27!==n||null===s||(null!=(n=Rt(e,r))&&a.unshift(Hd(e,n,s)),null!=(n=Rt(e,t))&&a.push(Hd(e,n,s))),3===e.tag)return a;e=e.return}return[]}function Gd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Kd(e,t,r,a,n){for(var s=t._reactName,i=[];null!==r&&r!==a;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===a)break;5!==o&&26!==o&&27!==o||null===c||(l=c,n?null!=(c=Rt(r,s))&&i.unshift(Hd(r,c,l)):n||null!=(c=Rt(r,s))&&i.push(Hd(r,c,l))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Qd=/\r\n?/g,Xd=/\u0000|\uFFFD/g;function Jd(e){return("string"==typeof e?e:""+e).replace(Qd,"\n").replace(Xd,"")}function Zd(e,t){return t=Jd(t),Jd(e)===t}function eu(){}function tu(e,t,r,n,s,i){switch(r){case"children":"string"==typeof n?"body"===t||"textarea"===t&&""===n||jt(e,n):("number"==typeof n||"bigint"==typeof n)&&"body"!==t&&jt(e,""+n);break;case"className":tt(e,"class",n);break;case"tabIndex":tt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":tt(e,r,n);break;case"style":Et(e,n,i);break;case"data":if("object"!==t){tt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"==typeof n||"symbol"==typeof n||"boolean"==typeof n){e.removeAttribute(r);break}n=At(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"==typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===r?("input"!==t&&tu(e,t,"name",s.name,s,null),tu(e,t,"formEncType",s.formEncType,s,null),tu(e,t,"formMethod",s.formMethod,s,null),tu(e,t,"formTarget",s.formTarget,s,null)):(tu(e,t,"encType",s.encType,s,null),tu(e,t,"method",s.method,s,null),tu(e,t,"target",s.target,s,null))),null==n||"symbol"==typeof n||"boolean"==typeof n){e.removeAttribute(r);break}n=At(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=eu);break;case"onScroll":null!=n&&$d("scroll",e);break;case"onScrollEnd":null!=n&&$d("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!=typeof n||!("__html"in n))throw Error(a(61));if(null!=(r=n.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!=typeof n&&"symbol"!=typeof n;break;case"muted":e.muted=n&&"function"!=typeof n&&"symbol"!=typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"==typeof n||"boolean"==typeof n||"symbol"==typeof n){e.removeAttribute("xlink:href");break}r=At(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!=typeof n&&"symbol"!=typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!=typeof n&&"symbol"!=typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!=typeof n&&"symbol"!=typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!=typeof n&&"symbol"!=typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"==typeof n||"symbol"==typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":$d("beforetoggle",e),$d("toggle",e),et(e,"popover",n);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":et(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&et(e,r=kt.get(r)||r,n)}}function ru(e,t,r,n,s,i){switch(r){case"style":Et(e,n,i);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!=typeof n||!("__html"in n))throw Error(a(61));if(null!=(r=n.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=r}}break;case"children":"string"==typeof n?jt(e,n):("number"==typeof n||"bigint"==typeof n)&&jt(e,""+n);break;case"onScroll":null!=n&&$d("scroll",e);break;case"onScrollEnd":null!=n&&$d("scrollend",e);break;case"onClick":null!=n&&(e.onclick=eu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:He.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(s=r.endsWith("Capture"),t=r.slice(2,s?r.length-7:void 0),"function"==typeof(i=null!=(i=e[De]||null)?i[r]:null)&&e.removeEventListener(t,i,s),"function"!=typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):et(e,r,n):("function"!=typeof i&&null!==i&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,s)))}}function au(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$d("error",e),$d("load",e);var n,s=!1,i=!1;for(n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null!=o)switch(n){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:tu(e,t,n,o,r,null)}}return i&&tu(e,t,"srcSet",r.srcSet,r,null),void(s&&tu(e,t,"src",r.src,r,null));case"input":$d("invalid",e);var l=n=o=i=null,c=null,d=null;for(s in r)if(r.hasOwnProperty(s)){var u=r[s];if(null!=u)switch(s){case"name":i=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":n=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(a(137,t));break;default:tu(e,t,s,u,r,null)}}return gt(e,n,l,c,d,o,i,!1),void dt(e);case"select":for(i in $d("invalid",e),s=o=n=null,r)if(r.hasOwnProperty(i)&&null!=(l=r[i]))switch(i){case"value":n=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:tu(e,t,i,l,r,null)}return t=n,r=o,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=r&&bt(e,!!s,r,!0));case"textarea":for(o in $d("invalid",e),n=i=s=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:tu(e,t,o,l,r,null)}return vt(e,s,i,n),void dt(e);case"option":for(c in r)r.hasOwnProperty(c)&&null!=(s=r[c])&&("selected"===c?e.selected=s&&"function"!=typeof s&&"symbol"!=typeof s:tu(e,t,c,s,r,null));return;case"dialog":$d("beforetoggle",e),$d("toggle",e),$d("cancel",e),$d("close",e);break;case"iframe":case"object":$d("load",e);break;case"video":case"audio":for(s=0;s<Rd.length;s++)$d(Rd[s],e);break;case"image":$d("error",e),$d("load",e);break;case"details":$d("toggle",e);break;case"embed":case"source":case"link":$d("error",e),$d("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in r)if(r.hasOwnProperty(d)&&null!=(s=r[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:tu(e,t,d,s,r,null)}return;default:if(St(t)){for(u in r)r.hasOwnProperty(u)&&void 0!==(s=r[u])&&ru(e,t,u,s,r,void 0);return}}for(l in r)r.hasOwnProperty(l)&&null!=(s=r[l])&&tu(e,t,l,s,r,null)}var nu=null,su=null;function iu(e){return 9===e.nodeType?e:e.ownerDocument}function ou(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function cu(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var du=null,uu="function"==typeof setTimeout?setTimeout:void 0,mu="function"==typeof clearTimeout?clearTimeout:void 0,hu="function"==typeof Promise?Promise:void 0,fu="function"==typeof queueMicrotask?queueMicrotask:void 0!==hu?function(e){return hu.resolve(null).then(e).catch(pu)}:uu;function pu(e){setTimeout(function(){throw e})}function gu(e){return"head"===e}function xu(e,t){var r=t,a=0,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0<a&&8>a){r=a;var i=e.ownerDocument;if(1&r&&Eu(i.documentElement),2&r&&Eu(i.body),4&r)for(Eu(r=i.head),i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Le]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||r.removeChild(i),i=o}}if(0===n)return e.removeChild(s),void Tm(t);n--}else"$"===r||"$?"===r||"$!"===r?n++:a=r.charCodeAt(0)-48;else a=0;r=s}while(r);Tm(t)}function bu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bu(r),ze(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function yu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var ju=null;function wu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function Nu(e,t,r){switch(t=iu(r),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Eu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var Su=new Map,ku=new Set;function Cu(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Au=M.d;M.d={f:function(){var e=Au.f(),t=Yc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Fi(t):Au.r(e)},D:function(e){Au.D(e),Tu("dns-prefetch",e,null)},C:function(e,t){Au.C(e,t),Tu("preconnect",e,t)},L:function(e,t,r){Au.L(e,t,r);var a=_u;if(a&&e&&t){var n='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&r&&r.imageSrcSet?(n+='[imagesrcset="'+ft(r.imageSrcSet)+'"]',"string"==typeof r.imageSizes&&(n+='[imagesizes="'+ft(r.imageSizes)+'"]')):n+='[href="'+ft(e)+'"]';var s=n;switch(t){case"style":s=Du(e);break;case"script":s=Fu(e)}Su.has(s)||(e=c({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),Su.set(s,e),null!==a.querySelector(n)||"style"===t&&a.querySelector(Pu(s))||"script"===t&&a.querySelector(Iu(s))||(au(t=a.createElement("link"),"link",e),Ye(t),a.head.appendChild(t)))}},m:function(e,t){Au.m(e,t);var r=_u;if(r&&e){var a=t&&"string"==typeof t.as?t.as:"script",n='link[rel="modulepreload"][as="'+ft(a)+'"][href="'+ft(e)+'"]',s=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Fu(e)}if(!Su.has(s)&&(e=c({rel:"modulepreload",href:e},t),Su.set(s,e),null===r.querySelector(n))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Iu(s)))return}au(a=r.createElement("link"),"link",e),Ye(a),r.head.appendChild(a)}}},X:function(e,t){Au.X(e,t);var r=_u;if(r&&e){var a=Be(r).hoistableScripts,n=Fu(e),s=a.get(n);s||((s=r.querySelector(Iu(n)))||(e=c({src:e,async:!0},t),(t=Su.get(n))&&$u(e,t),Ye(s=r.createElement("script")),au(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}},S:function(e,t,r){Au.S(e,t,r);var a=_u;if(a&&e){var n=Be(a).hoistableStyles,s=Du(e);t=t||"default";var i=n.get(s);if(!i){var o={loading:0,preload:null};if(i=a.querySelector(Pu(s)))o.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Su.get(s))&&zu(e,r);var l=i=a.createElement("link");Ye(l),au(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Lu(i,t,a)}i={type:"stylesheet",instance:i,count:1,state:o},n.set(s,i)}}},M:function(e,t){Au.M(e,t);var r=_u;if(r&&e){var a=Be(r).hoistableScripts,n=Fu(e),s=a.get(n);s||((s=r.querySelector(Iu(n)))||(e=c({src:e,async:!0,type:"module"},t),(t=Su.get(n))&&$u(e,t),Ye(s=r.createElement("script")),au(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}}};var _u="undefined"==typeof document?null:document;function Tu(e,t,r){var a=_u;if(a&&"string"==typeof t&&t){var n=ft(t);n='link[rel="'+e+'"][href="'+n+'"]',"string"==typeof r&&(n+='[crossorigin="'+r+'"]'),ku.has(n)||(ku.add(n),e={rel:e,crossOrigin:r,href:t},null===a.querySelector(n)&&(au(t=a.createElement("link"),"link",e),Ye(t),a.head.appendChild(t)))}}function Ou(e,t,r,n){var s,i,o,l,c=(c=B.current)?Cu(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof r.precedence&&"string"==typeof r.href?(t=Du(r.href),(n=(r=Be(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"==typeof r.href&&"string"==typeof r.precedence){e=Du(r.href);var d=Be(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Pu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Su.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Su.set(e,r),d||(s=c,i=e,o=r,l=u.state,s.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=s.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),au(i,"link",o),Ye(i),s.head.appendChild(i))))),t&&null===n)throw Error(a(528,""));return u}if(t&&null!==n)throw Error(a(529,""));return null;case"script":return t=r.async,"string"==typeof(r=r.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Fu(r),(n=(r=Be(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Du(e){return'href="'+ft(e)+'"'}function Pu(e){return'link[rel="stylesheet"]['+e+"]"}function Mu(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Fu(e){return'[src="'+ft(e)+'"]'}function Iu(e){return"script[async]"+e}function Ru(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ft(r.href)+'"]');if(n)return t.instance=n,Ye(n),n;var s=c({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return Ye(n=(e.ownerDocument||e).createElement("style")),au(n,"style",s),Lu(n,r.precedence,e),t.instance=n;case"stylesheet":s=Du(r.href);var i=e.querySelector(Pu(s));if(i)return t.state.loading|=4,t.instance=i,Ye(i),i;n=Mu(r),(s=Su.get(s))&&zu(n,s),Ye(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),au(i,"link",n),t.state.loading|=4,Lu(i,r.precedence,e),t.instance=i;case"script":return i=Fu(r.src),(s=e.querySelector(Iu(i)))?(t.instance=s,Ye(s),s):(n=r,(s=Su.get(i))&&$u(n=c({},r),s),Ye(s=(e=e.ownerDocument||e).createElement("script")),au(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Lu(n,r.precedence,e));return t.instance}function Lu(e,t,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,s=n,i=0;i<a.length;i++){var o=a[i];if(o.dataset.precedence===t)s=o;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function $u(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var qu=null;function Uu(e,t,r){if(null===qu){var a=new Map,n=qu=new Map;n.set(r,a)}else(a=(n=qu).get(r))||(a=new Map,n.set(r,a));if(a.has(e))return a;for(a.set(e,null),r=r.getElementsByTagName(e),n=0;n<r.length;n++){var s=r[n];if(!(s[Le]||s[Oe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=a.get(i);o?o.push(s):a.set(i,[s])}}return a}function Bu(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Yu(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Vu=null;function Hu(){}function Wu(){if(this.count--,0===this.count)if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gu=null;function Ku(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gu=new Map,t.forEach(Qu,e),Gu=null,Wu.call(e))}function Qu(e,t){if(!(4&t.state.loading)){var r=Gu.get(e);if(r)var a=r.get(null);else{r=new Map,Gu.set(e,r);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var i=n[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(r.set(i.dataset.precedence,i),a=i)}a&&r.set(null,a)}i=(n=t.instance).getAttribute("data-precedence"),(s=r.get(i)||a)===a&&r.set(null,n),r.set(i,n),this.count++,a=Wu.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),s?s.parentNode.insertBefore(n,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(n,e.firstChild),t.state.loading|=4}}var Xu={$$typeof:v,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Ju(e,t,r,a,n,s,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Zu(e,t,r,a,n,s,i,o,l,c,d,u){return e=new Ju(e,t,r,i,o,l,c,u),t=1,!0===s&&(t|=24),s=Ra(3,null,null,t),e.current=s,s.stateNode=e,(t=In()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:r,cache:t},ss(s),e}function em(e){return e?e=Fa:Fa}function tm(e,t,r,a,n,s){n=em(n),null===a.context?a.context=n:a.pendingContext=n,(a=os(t)).payload={element:r},null!==(s=void 0===s?null:s)&&(a.callback=s),null!==(r=ls(e,a,t))&&(zc(r,0,t),cs(r,e,t))}function rm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function am(e,t){rm(e,t),(e=e.alternate)&&rm(e,t)}function nm(e){if(13===e.tag){var t=Da(e,67108864);null!==t&&zc(t,0,67108864),am(e,67108864)}}var sm=!0;function im(e,t,r,a){var n=P.T;P.T=null;var s=M.p;try{M.p=2,lm(e,t,r,a)}finally{M.p=s,P.T=n}}function om(e,t,r,a){var n=P.T;P.T=null;var s=M.p;try{M.p=8,lm(e,t,r,a)}finally{M.p=s,P.T=n}}function lm(e,t,r,a){if(sm){var n=cm(a);if(null===n)Vd(e,t,a,dm,r),jm(e,a);else if(function(e,t,r,a,n){switch(t){case"focusin":return fm=wm(fm,e,t,r,a,n),!0;case"dragenter":return pm=wm(pm,e,t,r,a,n),!0;case"mouseover":return gm=wm(gm,e,t,r,a,n),!0;case"pointerover":var s=n.pointerId;return xm.set(s,wm(xm.get(s)||null,e,t,r,a,n)),!0;case"gotpointercapture":return s=n.pointerId,bm.set(s,wm(bm.get(s)||null,e,t,r,a,n)),!0}return!1}(n,e,t,r,a))a.stopPropagation();else if(jm(e,a),4&t&&-1<vm.indexOf(e)){for(;null!==n;){var s=qe(n);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=xe(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-me(i);o.entanglements[1]|=l,i&=~l}Sd(s),!(6&sc)&&(Sc=ee()+500,kd(0))}}break;case 13:null!==(o=Da(s,2))&&zc(o,0,2),Yc(),am(s,2)}if(null===(s=cm(a))&&Vd(e,t,a,dm,r),s===n)break;n=s}null!==n&&a.stopPropagation()}else Vd(e,t,a,null,r)}}function cm(e){return um(e=Tt(e))}var dm=null;function um(e){if(dm=null,null!==(e=$e(e))){var t=s(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=i(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dm=e,null}function mm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case re:return 2;case ae:return 8;case ne:case se:return 32;case ie:return 268435456;default:return 32}default:return 32}}var hm=!1,fm=null,pm=null,gm=null,xm=new Map,bm=new Map,ym=[],vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jm(e,t){switch(e){case"focusin":case"focusout":fm=null;break;case"dragenter":case"dragleave":pm=null;break;case"mouseover":case"mouseout":gm=null;break;case"pointerover":case"pointerout":xm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bm.delete(t.pointerId)}}function wm(e,t,r,a,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},null!==t&&null!==(t=qe(t))&&nm(t),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Nm(e){var t=$e(e.target);if(null!==t){var r=s(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=i(r)))return e.blockedOn=t,void function(e,t){var r=M.p;try{return M.p=e,t()}finally{M.p=r}}(e.priority,function(){if(13===r.tag){var e=Rc();e=Ce(e);var t=Da(r,e);null!==t&&zc(t,0,e),am(r,e)}})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Em(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=cm(e.nativeEvent);if(null!==r)return null!==(t=qe(r))&&nm(t),e.blockedOn=r,!1;var a=new(r=e.nativeEvent).constructor(r.type,r);_t=a,r.target.dispatchEvent(a),_t=null,t.shift()}return!0}function Sm(e,t,r){Em(e)&&r.delete(t)}function km(){hm=!1,null!==fm&&Em(fm)&&(fm=null),null!==pm&&Em(pm)&&(pm=null),null!==gm&&Em(gm)&&(gm=null),xm.forEach(Sm),bm.forEach(Sm)}function Cm(t,r){t.blockedOn===r&&(t.blockedOn=null,hm||(hm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,km)))}var Am=null;function _m(t){Am!==t&&(Am=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Am===t&&(Am=null);for(var e=0;e<t.length;e+=3){var r=t[e],a=t[e+1],n=t[e+2];if("function"!=typeof a){if(null===um(a||r))continue;break}var s=qe(r);null!==s&&(t.splice(e,3),e-=3,Pi(s,{pending:!0,data:n,method:r.method,action:a},a,n))}}))}function Tm(e){function t(t){return Cm(t,e)}null!==fm&&Cm(fm,e),null!==pm&&Cm(pm,e),null!==gm&&Cm(gm,e),xm.forEach(t),bm.forEach(t);for(var r=0;r<ym.length;r++){var a=ym[r];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ym.length&&null===(r=ym[0]).blockedOn;)Nm(r),null===r.blockedOn&&ym.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<r.length;a+=3){var n=r[a],s=r[a+1],i=n[De]||null;if("function"==typeof s)i||_m(r);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(n=s,i=s[De]||null)o=i.formAction;else if(null!==um(n))continue}else o=i.action;"function"==typeof o?r[a+1]=o:(r.splice(a,3),a-=3),_m(r)}}}function Om(e){this._internalRoot=e}function Dm(e){this._internalRoot=e}Dm.prototype.render=Om.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));tm(t.current,Rc(),e,t,null,null)},Dm.prototype.unmount=Om.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;tm(e.current,2,null,e,null,null),Yc(),t[Pe]=null}},Dm.prototype.unstable_scheduleHydration=function(e){if(e){var t=_e();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ym.length&&0!==t&&t<ym[r].priority;r++);ym.splice(r,0,e),0===r&&Nm(e)}};var Pm=t.version;if("19.1.1"!==Pm)throw Error(a(527,Pm,"19.1.1"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var l=i.alternate;if(null===l){if(null!==(n=i.return)){r=n;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===r)return o(i),e;if(l===n)return o(i),t;l=l.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=l;else{for(var c=!1,d=i.child;d;){if(d===r){c=!0,r=i,n=l;break}if(d===n){c=!0,n=i,r=l;break}d=d.sibling}if(!c){for(d=l.child;d;){if(d===r){c=!0,r=l,n=i;break}if(d===n){c=!0,n=l,r=i;break}d=d.sibling}if(!c)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?l(e):null)?null:e.stateNode};var Mm={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fm.isDisabled&&Fm.supportsFiber)try{ce=Fm.inject(Mm),de=Fm}catch(Im){}}return Lt.createRoot=function(e,t){if(!n(e))throw Error(a(299));var r=!1,s="",i=jo,o=wo,l=No;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zu(e,1,!1,null,0,r,s,i,o,l,0,null),e[Pe]=t.current,Bd(e),new Om(t)},Lt.hydrateRoot=function(e,t,r){if(!n(e))throw Error(a(299));var s=!1,i="",o=jo,l=wo,c=No,d=null;return null!=r&&(!0===r.unstable_strictMode&&(s=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onUncaughtError&&(o=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(d=r.formState)),(t=Zu(e,1,!0,t,0,s,i,o,l,c,0,d)).context=em(null),r=t.current,(i=os(s=Ce(s=Rc()))).callback=null,ls(r,i,s),r=s,t.current.lanes=r,Ee(t,r),Sd(t),e[Pe]=t.current,Bd(e),new Dm(t)},Lt.version="19.1.1",Lt}var Bt=(Pt||(Pt=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),Rt.exports=Ut()),Rt.exports),Yt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ht=new class{#e=Vt;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Wt="undefined"==typeof window||"Deno"in globalThis;function Gt(){}function Kt(e){return"number"==typeof e&&e>=0&&e!==1/0}function Qt(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xt(e,t){return"function"==typeof e?e(t):e}function Jt(e,t){return"function"==typeof e?e(t):e}function Zt(e,t){const{type:r="all",exact:a,fetchStatus:n,predicate:s,queryKey:i,stale:o}=e;if(i)if(a){if(t.queryHash!==tr(i,t.options))return!1}else if(!ar(t.queryKey,i))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return!("boolean"==typeof o&&t.isStale()!==o||n&&n!==t.state.fetchStatus||s&&!s(t))}function er(e,t){const{exact:r,status:a,predicate:n,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(rr(t.options.mutationKey)!==rr(s))return!1}else if(!ar(t.options.mutationKey,s))return!1}return!(a&&t.state.status!==a||n&&!n(t))}function tr(e,t){return(t?.queryKeyHashFn||rr)(e)}function rr(e){return JSON.stringify(e,(e,t)=>lr(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function ar(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(r=>ar(e[r],t[r]))}var nr=Object.prototype.hasOwnProperty;function sr(e,t){if(e===t)return e;const r=or(e)&&or(t);if(!(r||lr(e)&&lr(t)))return t;const a=(r?e:Object.keys(e)).length,n=r?t:Object.keys(t),s=n.length,i=r?new Array(s):{};let o=0;for(let l=0;l<s;l++){const s=r?l:n[l],c=e[s],d=t[s];if(c===d){i[s]=c,(r?l<a:nr.call(e,s))&&o++;continue}if(null===c||null===d||"object"!=typeof c||"object"!=typeof d){i[s]=d;continue}const u=sr(c,d);i[s]=u,u===c&&o++}return a===s&&o===a?e:i}function ir(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function or(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lr(e){if(!cr(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!cr(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function cr(e){return"[object Object]"===Object.prototype.toString.call(e)}function dr(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?sr(e,t):t}function ur(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function mr(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var hr=Symbol();function fr(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==hr?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function pr(e,t){return"function"==typeof e?e(...t):!!e}var gr=new class extends Yt{#r;#a;#n;constructor(){super(),this.#n=e=>{if(!Wt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#a||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#a?.(),this.#a=void 0)}setEventListener(e){this.#n=e,this.#a?.(),this.#a=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#r!==e&&(this.#r=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#r?this.#r:"hidden"!==globalThis.document?.visibilityState}};function xr(){let e,t;const r=new Promise((r,a)=>{e=r,t=a});function a(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{a({status:"fulfilled",value:t}),e(t)},r.reject=e=>{a({status:"rejected",reason:e}),t(e)},r}var br=function(e){setTimeout(e,0)},yr=function(){let e=[],t=0,r=e=>{e()},a=e=>{e()},n=br;const s=a=>{t?e.push(a):n(()=>{r(a)})};return{batch:s=>{let i;t++;try{i=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&n(()=>{a(()=>{t.forEach(e=>{r(e)})})})})()}return i},batchCalls:e=>(...t)=>{s(()=>{e(...t)})},schedule:s,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{a=e},setScheduler:e=>{n=e}}}(),vr=new class extends Yt{#s=!0;#a;#n;constructor(){super(),this.#n=e=>{if(!Wt&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#a||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#a?.(),this.#a=void 0)}setEventListener(e){this.#n=e,this.#a?.(),this.#a=e(this.setOnline.bind(this))}setOnline(e){this.#s!==e&&(this.#s=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#s}};function jr(e){return Math.min(1e3*2**e,3e4)}function wr(e){return"online"!==(e??"online")||vr.isOnline()}var Nr=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Er(e){let t,r=!1,a=0;const n=xr(),s=()=>"pending"!==n.status,i=()=>gr.isFocused()&&("always"===e.networkMode||vr.isOnline())&&e.canRun(),o=()=>wr(e.networkMode)&&e.canRun(),l=e=>{s()||(t?.(),n.resolve(e))},c=e=>{s()||(t?.(),n.reject(e))},d=()=>new Promise(r=>{t=e=>{(s()||i())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,s()||e.onContinue?.()}),u=()=>{if(s())return;let t;const n=0===a?e.initialPromise:void 0;try{t=n??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{if(s())return;const n=e.retry??(Wt?0:3),o=e.retryDelay??jr,l="function"==typeof o?o(a,t):o,m=!0===n||"number"==typeof n&&a<n||"function"==typeof n&&n(a,t);var h;!r&&m?(a++,e.onFail?.(a,t),(h=l,new Promise(e=>{Ht.setTimeout(e,h)})).then(()=>i()?void 0:d()).then(()=>{r?c(t):u()})):c(t)})};return{promise:n,status:()=>n.status,cancel:t=>{if(!s()){const r=new Nr(t);c(r),e.onCancel?.(r)}},continue:()=>(t?.(),n),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:o,start:()=>(o()?u():d().then(u),n)}}var Sr=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kt(this.gcTime)&&(this.#i=Ht.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wt?1/0:3e5))}clearGcTimeout(){this.#i&&(Ht.clearTimeout(this.#i),this.#i=void 0)}},kr=class extends Sr{#o;#l;#c;#d;#u;#m;#h;constructor(e){super(),this.#h=!1,this.#m=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#d=e.client,this.#c=this.#d.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=Ar(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#u?.promise}setOptions(e){if(this.options={...this.#m,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=Ar(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#o=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#c.remove(this)}setData(e,t){const r=dr(this.state.data,e,this.options);return this.#f({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#f({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#u?.promise;return this.#u?.cancel(e),t?t.then(Gt).catch(Gt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(e=>!1!==Jt(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Xt(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Qt(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}onOnline(){const e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#c.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#u&&(this.#h?this.#u.cancel({revert:!0}):this.#u.cancelRetry()),this.scheduleGc()),this.#c.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#f({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#u?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#u)return this.#u.continueRetry(),this.#u.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const r=new AbortController,a=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#h=!0,r.signal)})},n=()=>{const e=fr(this.options,t),r=(()=>{const e={client:this.#d,queryKey:this.queryKey,meta:this.meta};return a(e),e})();return this.#h=!1,this.options.persister?this.options.persister(e,r,this):e(r)},s=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#d,state:this.state,fetchFn:n};return a(e),e})();this.options.behavior?.onFetch(s,this),this.#l=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===s.fetchOptions?.meta||this.#f({type:"fetch",meta:s.fetchOptions?.meta}),this.#u=Er({initialPromise:t?.initialPromise,fn:s.fetchFn,onCancel:e=>{e instanceof Nr&&e.revert&&this.setState({...this.#l,fetchStatus:"idle"}),r.abort()},onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:()=>{this.#f({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{const e=await this.#u.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#c.config.onSuccess?.(e,this),this.#c.config.onSettled?.(e,this.state.error,this),e}catch(i){if(i instanceof Nr){if(i.silent)return this.#u.promise;if(i.revert){if(void 0===this.state.data)throw i;return this.state.data}}throw this.#f({type:"error",error:i}),this.#c.config.onError?.(i,this),this.#c.config.onSettled?.(this.state.data,i,this),i}finally{this.scheduleGc()}}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Cr(t.data,this.options),fetchMeta:e.meta??null};case"success":const r={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#l=e.manual?r:void 0,r;case"error":const a=e.error;return{...t,error:a,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),yr.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#c.notify({query:this,type:"updated",action:e})})}};function Cr(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wr(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function Ar(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,a=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var _r=class extends Yt{constructor(e,t){super(),this.options=t,this.#d=e,this.#p=null,this.#g=xr(),this.bindMethods(),this.setOptions(t)}#d;#x=void 0;#b=void 0;#y=void 0;#v;#j;#g;#p;#w;#N;#E;#S;#k;#C;#A=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#x.addObserver(this),Tr(this.#x,this.options)?this.#_():this.updateResult(),this.#T())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Or(this.#x,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Or(this.#x,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#O(),this.#D(),this.#x.removeObserver(this)}setOptions(e){const t=this.options,r=this.#x;if(this.options=this.#d.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof Jt(this.options.enabled,this.#x))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#P(),this.#x.setOptions(this.options),t._defaulted&&!ir(this.options,t)&&this.#d.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#x,observer:this});const a=this.hasListeners();a&&Dr(this.#x,r,this.options,t)&&this.#_(),this.updateResult(),!a||this.#x===r&&Jt(this.options.enabled,this.#x)===Jt(t.enabled,this.#x)&&Xt(this.options.staleTime,this.#x)===Xt(t.staleTime,this.#x)||this.#M();const n=this.#F();!a||this.#x===r&&Jt(this.options.enabled,this.#x)===Jt(t.enabled,this.#x)&&n===this.#C||this.#I(n)}getOptimisticResult(e){const t=this.#d.getQueryCache().build(this.#d,e),r=this.createResult(t,e);return a=r,!ir(this.getCurrentResult(),a)&&(this.#y=r,this.#j=this.options,this.#v=this.#x.state),r;var a}getCurrentResult(){return this.#y}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"!==r||this.options.experimental_prefetchInRender||"pending"!==this.#g.status||this.#g.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,r))})}trackProp(e){this.#A.add(e)}getCurrentQuery(){return this.#x}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#d.defaultQueryOptions(e),r=this.#d.getQueryCache().build(this.#d,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#_({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#y))}#_(e){this.#P();let t=this.#x.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Gt)),t}#M(){this.#O();const e=Xt(this.options.staleTime,this.#x);if(Wt||this.#y.isStale||!Kt(e))return;const t=Qt(this.#y.dataUpdatedAt,e)+1;this.#S=Ht.setTimeout(()=>{this.#y.isStale||this.updateResult()},t)}#F(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#x):this.options.refetchInterval)??!1}#I(e){this.#D(),this.#C=e,!Wt&&!1!==Jt(this.options.enabled,this.#x)&&Kt(this.#C)&&0!==this.#C&&(this.#k=Ht.setInterval(()=>{(this.options.refetchIntervalInBackground||gr.isFocused())&&this.#_()},this.#C))}#T(){this.#M(),this.#I(this.#F())}#O(){this.#S&&(Ht.clearTimeout(this.#S),this.#S=void 0)}#D(){this.#k&&(Ht.clearInterval(this.#k),this.#k=void 0)}createResult(e,t){const r=this.#x,a=this.options,n=this.#y,s=this.#v,i=this.#j,o=e!==r?e.state:this.#b,{state:l}=e;let c,d={...l},u=!1;if(t._optimisticResults){const n=this.hasListeners(),s=!n&&Tr(e,t),i=n&&Dr(e,r,t,a);(s||i)&&(d={...d,...Cr(l.data,e.options)}),"isRestoring"===t._optimisticResults&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:h,status:f}=d;c=d.data;let p=!1;if(void 0!==t.placeholderData&&void 0===c&&"pending"===f){let e;n?.isPlaceholderData&&t.placeholderData===i?.placeholderData?(e=n.data,p=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#E?.state.data,this.#E):t.placeholderData,void 0!==e&&(f="success",c=dr(n?.data,e,t),u=!0)}if(t.select&&void 0!==c&&!p)if(n&&c===s?.data&&t.select===this.#w)c=this.#N;else try{this.#w=t.select,c=t.select(c),c=dr(n?.data,c,t),this.#N=c,this.#p=null}catch(w){this.#p=w}this.#p&&(m=this.#p,c=this.#N,h=Date.now(),f="error");const g="fetching"===d.fetchStatus,x="pending"===f,b="error"===f,y=x&&g,v=void 0!==c,j={status:f,fetchStatus:d.fetchStatus,isPending:x,isSuccess:"success"===f,isError:b,isInitialLoading:y,isLoading:y,data:c,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:h,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>o.dataUpdateCount||d.errorUpdateCount>o.errorUpdateCount,isFetching:g,isRefetching:g&&!x,isLoadingError:b&&!v,isPaused:"paused"===d.fetchStatus,isPlaceholderData:u,isRefetchError:b&&v,isStale:Pr(e,t),refetch:this.refetch,promise:this.#g,isEnabled:!1!==Jt(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===j.status?e.reject(j.error):void 0!==j.data&&e.resolve(j.data)},a=()=>{const e=this.#g=j.promise=xr();t(e)},n=this.#g;switch(n.status){case"pending":e.queryHash===r.queryHash&&t(n);break;case"fulfilled":"error"!==j.status&&j.data===n.value||a();break;case"rejected":"error"===j.status&&j.error===n.reason||a()}}return j}updateResult(){const e=this.#y,t=this.createResult(this.#x,this.options);this.#v=this.#x.state,this.#j=this.options,void 0!==this.#v.data&&(this.#E=this.#x),ir(t,e)||(this.#y=t,this.#R({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#A.size)return!0;const a=new Set(r??this.#A);return this.options.throwOnError&&a.add("error"),Object.keys(this.#y).some(t=>{const r=t;return this.#y[r]!==e[r]&&a.has(r)})})()}))}#P(){const e=this.#d.getQueryCache().build(this.#d,this.options);if(e===this.#x)return;const t=this.#x;this.#x=e,this.#b=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#T()}#R(e){yr.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#y)}),this.#d.getQueryCache().notify({query:this.#x,type:"observerResultsUpdated"})})}};function Tr(e,t){return function(e,t){return!1!==Jt(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Or(e,t,t.refetchOnMount)}function Or(e,t,r){if(!1!==Jt(t.enabled,e)&&"static"!==Xt(t.staleTime,e)){const a="function"==typeof r?r(e):r;return"always"===a||!1!==a&&Pr(e,t)}return!1}function Dr(e,t,r,a){return(e!==t||!1===Jt(a.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&Pr(e,r)}function Pr(e,t){return!1!==Jt(t.enabled,e)&&e.isStaleByTime(Xt(t.staleTime,e))}function Mr(e){return{onFetch:(t,r)=>{const a=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let r=!1;const c=fr(t.options,t.fetchOptions),d=async(e,a,n)=>{if(r)return Promise.reject();if(null==a&&e.pages.length)return Promise.resolve(e);const s=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:a,direction:n?"backward":"forward",meta:t.options.meta};var s;return s=e,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)}),e})(),i=await c(s),{maxPages:o}=t.options,l=n?mr:ur;return{pages:l(e.pages,i,o),pageParams:l(e.pageParams,a,o)}};if(n&&s.length){const e="backward"===n,t={pages:s,pageParams:i},r=(e?Ir:Fr)(a,t);o=await d(t,r,e)}else{const t=e??s.length;do{const e=0===l?i[0]??a.initialPageParam:Fr(a,o);if(l>0&&null==e)break;o=await d(o,e),l++}while(l<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function Fr(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function Ir(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Rr=class extends Sr{#L;#z;#u;constructor(e){super(),this.mutationId=e.mutationId,this.#z=e.mutationCache,this.#L=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#L.includes(e)||(this.#L.push(e),this.clearGcTimeout(),this.#z.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#L=this.#L.filter(t=>t!==e),this.scheduleGc(),this.#z.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#L.length||("pending"===this.state.status?this.scheduleGc():this.#z.remove(this))}continue(){return this.#u?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#f({type:"continue"})};this.#u=Er({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#z.canRun(this)});const r="pending"===this.state.status,a=!this.#u.canStart();try{if(r)t();else{this.#f({type:"pending",variables:e,isPaused:a}),await(this.#z.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#f({type:"pending",context:t,variables:e,isPaused:a})}const n=await this.#u.start();return await(this.#z.config.onSuccess?.(n,e,this.state.context,this)),await(this.options.onSuccess?.(n,e,this.state.context)),await(this.#z.config.onSettled?.(n,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(n,null,e,this.state.context)),this.#f({type:"success",data:n}),n}catch(n){try{throw await(this.#z.config.onError?.(n,e,this.state.context,this)),await(this.options.onError?.(n,e,this.state.context)),await(this.#z.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,n,e,this.state.context)),n}finally{this.#f({type:"error",error:n})}}finally{this.#z.runNext(this)}}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),yr.batch(()=>{this.#L.forEach(t=>{t.onMutationUpdate(e)}),this.#z.notify({mutation:this,type:"updated",action:e})})}},Lr=class extends Yt{constructor(e={}){super(),this.config=e,this.#$=new Set,this.#q=new Map,this.#U=0}#$;#q;#U;build(e,t,r){const a=new Rr({mutationCache:this,mutationId:++this.#U,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){this.#$.add(e);const t=zr(e);if("string"==typeof t){const r=this.#q.get(t);r?r.push(e):this.#q.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#$.delete(e)){const t=zr(e);if("string"==typeof t){const r=this.#q.get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#q.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=zr(e);if("string"==typeof t){const r=this.#q.get(t),a=r?.find(e=>"pending"===e.state.status);return!a||a===e}return!0}runNext(e){const t=zr(e);if("string"==typeof t){const r=this.#q.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){yr.batch(()=>{this.#$.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#$.clear(),this.#q.clear()})}getAll(){return Array.from(this.#$)}find(e){const t={exact:!0,...e};return this.getAll().find(e=>er(t,e))}findAll(e={}){return this.getAll().filter(t=>er(e,t))}notify(e){yr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return yr.batch(()=>Promise.all(e.map(e=>e.continue().catch(Gt))))}};function zr(e){return e.options.scope?.id}var $r=class extends Yt{#d;#y=void 0;#B;#Y;constructor(e,t){super(),this.#d=e,this.setOptions(t),this.bindMethods(),this.#V()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#d.defaultMutationOptions(e),ir(this.options,t)||this.#d.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#B,observer:this}),t?.mutationKey&&this.options.mutationKey&&rr(t.mutationKey)!==rr(this.options.mutationKey)?this.reset():"pending"===this.#B?.state.status&&this.#B.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#B?.removeObserver(this)}onMutationUpdate(e){this.#V(),this.#R(e)}getCurrentResult(){return this.#y}reset(){this.#B?.removeObserver(this),this.#B=void 0,this.#V(),this.#R()}mutate(e,t){return this.#Y=t,this.#B?.removeObserver(this),this.#B=this.#d.getMutationCache().build(this.#d,this.options),this.#B.addObserver(this),this.#B.execute(e)}#V(){const e=this.#B?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#y={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#R(e){yr.batch(()=>{if(this.#Y&&this.hasListeners()){const t=this.#y.variables,r=this.#y.context;"success"===e?.type?(this.#Y.onSuccess?.(e.data,t,r),this.#Y.onSettled?.(e.data,null,t,r)):"error"===e?.type&&(this.#Y.onError?.(e.error,t,r),this.#Y.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#y)})})}},qr=class extends Yt{constructor(e={}){super(),this.config=e,this.#H=new Map}#H;build(e,t,r){const a=t.queryKey,n=t.queryHash??tr(a,t);let s=this.get(n);return s||(s=new kr({client:e,queryKey:a,queryHash:n,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(s)),s}add(e){this.#H.has(e.queryHash)||(this.#H.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#H.get(e.queryHash);t&&(e.destroy(),t===e&&this.#H.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#H.get(e)}getAll(){return[...this.#H.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Zt(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Zt(e,t)):t}notify(e){yr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){yr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){yr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ur=class{#W;#z;#m;#G;#K;#Q;#X;#J;constructor(e={}){this.#W=e.queryCache||new qr,this.#z=e.mutationCache||new Lr,this.#m=e.defaultOptions||{},this.#G=new Map,this.#K=new Map,this.#Q=0}mount(){this.#Q++,1===this.#Q&&(this.#X=gr.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#W.onFocus())}),this.#J=vr.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#W.onOnline())}))}unmount(){this.#Q--,0===this.#Q&&(this.#X?.(),this.#X=void 0,this.#J?.(),this.#J=void 0)}isFetching(e){return this.#W.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#z.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#W.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#W.build(this,t),a=r.state.data;return void 0===a?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Xt(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#W.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),n=this.#W.get(a.queryHash),s=n?.state.data,i=function(e,t){return"function"==typeof e?e(t):e}(t,s);if(void 0!==i)return this.#W.build(this,a).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return yr.batch(()=>this.#W.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#W.get(t.queryHash)?.state}removeQueries(e){const t=this.#W;yr.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const r=this.#W;return yr.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=yr.batch(()=>this.#W.findAll(e).map(e=>e.cancel(r)));return Promise.all(a).then(Gt).catch(Gt)}invalidateQueries(e,t={}){return yr.batch(()=>(this.#W.findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=yr.batch(()=>this.#W.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(Gt)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(a).then(Gt)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=this.#W.build(this,t);return r.isStaleByTime(Xt(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Gt).catch(Gt)}fetchInfiniteQuery(e){return e.behavior=Mr(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Gt).catch(Gt)}ensureInfiniteQueryData(e){return e.behavior=Mr(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vr.isOnline()?this.#z.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#W}getMutationCache(){return this.#z}getDefaultOptions(){return this.#m}setDefaultOptions(e){this.#m=e}setQueryDefaults(e,t){this.#G.set(rr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#G.values()],r={};return t.forEach(t=>{ar(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#K.set(rr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#K.values()],r={};return t.forEach(t=>{ar(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#m.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tr(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===hr&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#m.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#W.clear(),this.#z.clear()}},Br=t.createContext(void 0),Yr=e=>{const r=t.useContext(Br);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},Vr=({client:e,children:r})=>(t.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),It.jsx(Br.Provider,{value:e,children:r})),Hr=t.createContext(!1);Hr.Provider;var Wr=t.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),Gr=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Kr(e,r,a){const n=t.useContext(Hr),s=t.useContext(Wr),i=Yr(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=1e3,r=e=>"static"===e?e:Math.max(e??t,t),a=e.staleTime;e.staleTime="function"==typeof a?(...e)=>r(a(...e)):r(a),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,t))}})(o),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(o,s),(e=>{t.useEffect(()=>{e.clearReset()},[e])})(s);const l=!i.getQueryCache().get(o.queryHash),[c]=t.useState(()=>new r(i,o)),d=c.getOptimisticResult(o),u=!n&&!1!==e.subscribed;if(t.useSyncExternalStore(t.useCallback(e=>{const t=u?c.subscribe(yr.batchCalls(e)):Gt;return c.updateResult(),t},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),t.useEffect(()=>{c.setOptions(o)},[o,c]),((e,t)=>e?.suspense&&t.isPending)(o,d))throw Gr(o,c,s);if((({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(n&&void 0===e.data||pr(r,[e.error,a])))({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if(i.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!Wt&&((e,t)=>e.isLoading&&e.isFetching&&!t)(d,n)){const e=l?Gr(o,c,s):i.getQueryCache().get(o.queryHash)?.promise;e?.catch(Gt).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Qr(e,t){return Kr(e,_r)}function Xr(e,r){const a=Yr(),[n]=t.useState(()=>new $r(a,e));t.useEffect(()=>{n.setOptions(e)},[n,e]);const s=t.useSyncExternalStore(t.useCallback(e=>n.subscribe(yr.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=t.useCallback((e,t)=>{n.mutate(e,t).catch(Gt)},[n]);if(s.error&&pr(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Jr=Array(12).fill(0),Zr=({visible:e,className:t})=>r.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},r.createElement("div",{className:"sonner-spinner"},Jr.map((e,t)=>r.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),ea=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ta=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ra=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),aa=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),na=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let sa=1;const ia=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...a}=e,n="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:sa++,s=this.toasts.find(e=>e.id===n),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),s?this.toasts=this.toasts.map(t=>t.id===n?(this.publish({...t,...e,id:n,title:r}),{...t,...e,id:n,dismissible:i,title:r}):t):this.addToast({title:r,...a,dismissible:i,id:n}),n},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let a;void 0!==t.loading&&(a=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const n=Promise.resolve(e instanceof Function?e():e);let s,i=void 0!==a;const o=n.then(async e=>{if(s=["resolve",e],r.isValidElement(e))i=!1,this.create({id:a,type:"default",message:e});else if(oa(e)&&!e.ok){i=!1;const n="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,s="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,o="object"!=typeof n||r.isValidElement(n)?{message:n}:n;this.create({id:a,type:"error",description:s,...o})}else if(e instanceof Error){i=!1;const n="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description,o="object"!=typeof n||r.isValidElement(n)?{message:n}:n;this.create({id:a,type:"error",description:s,...o})}else if(void 0!==t.success){i=!1;const n="function"==typeof t.success?await t.success(e):t.success,s="function"==typeof t.description?await t.description(e):t.description,o="object"!=typeof n||r.isValidElement(n)?{message:n}:n;this.create({id:a,type:"success",description:s,...o})}}).catch(async e=>{if(s=["reject",e],void 0!==t.error){i=!1;const n="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description,o="object"!=typeof n||r.isValidElement(n)?{message:n}:n;this.create({id:a,type:"error",description:s,...o})}}).finally(()=>{i&&(this.dismiss(a),a=void 0),null==t.finally||t.finally.call(t)}),l=()=>new Promise((e,t)=>o.then(()=>"reject"===s[0]?t(s[1]):e(s[1])).catch(t));return"string"!=typeof a&&"number"!=typeof a?{unwrap:l}:Object.assign(a,{unwrap:l})},this.custom=(e,t)=>{const r=(null==t?void 0:t.id)||sa++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},oa=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,la=(e,t)=>{const r=(null==t?void 0:t.id)||sa++;return ia.addToast({title:e,...t,id:r}),r},ca=Object.assign(la,{success:ia.success,info:ia.info,warning:ia.warning,error:ia.error,custom:ia.custom,message:ia.message,promise:ia.promise,dismiss:ia.dismiss,loading:ia.loading},{getHistory:()=>ia.toasts,getToasts:()=>ia.getActiveToasts()});function da(e){return void 0!==e.label}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const ua=3,ma=14;function ha(...e){return e.filter(Boolean).join(" ")}const fa=e=>{var t,a,n,s,i,o,l,c,d;const{invert:u,toast:m,unstyled:h,interacting:f,setHeights:p,visibleToasts:g,heights:x,index:b,toasts:y,expanded:v,removeToast:j,defaultRichColors:w,closeButton:N,style:E,cancelButtonStyle:S,actionButtonStyle:k,className:C="",descriptionClassName:A="",duration:_,position:T,gap:O,expandByDefault:D,classNames:P,icons:M,closeButtonAriaLabel:F="Close toast"}=e,[I,R]=r.useState(null),[L,z]=r.useState(null),[$,q]=r.useState(!1),[U,B]=r.useState(!1),[Y,V]=r.useState(!1),[H,W]=r.useState(!1),[G,K]=r.useState(!1),[Q,X]=r.useState(0),[J,Z]=r.useState(0),ee=r.useRef(m.duration||_||4e3),te=r.useRef(null),re=r.useRef(null),ae=0===b,ne=b+1<=g,se=m.type,ie=!1!==m.dismissible,oe=m.className||"",le=m.descriptionClassName||"",ce=r.useMemo(()=>x.findIndex(e=>e.toastId===m.id)||0,[x,m.id]),de=r.useMemo(()=>{var e;return null!=(e=m.closeButton)?e:N},[m.closeButton,N]),ue=r.useMemo(()=>m.duration||_||4e3,[m.duration,_]),me=r.useRef(0),he=r.useRef(0),fe=r.useRef(0),pe=r.useRef(null),[ge,xe]=T.split("-"),be=r.useMemo(()=>x.reduce((e,t,r)=>r>=ce?e:e+t.height,0),[x,ce]),ye=(()=>{const[e,t]=r.useState(document.hidden);return r.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),ve=m.invert||u,je="loading"===se;he.current=r.useMemo(()=>ce*O+be,[ce,be]),r.useEffect(()=>{ee.current=ue},[ue]),r.useEffect(()=>{q(!0)},[]),r.useEffect(()=>{const e=re.current;if(e){const t=e.getBoundingClientRect().height;return Z(t),p(e=>[{toastId:m.id,height:t,position:m.position},...e]),()=>p(e=>e.filter(e=>e.toastId!==m.id))}},[p,m.id]),r.useLayoutEffect(()=>{if(!$)return;const e=re.current,t=e.style.height;e.style.height="auto";const r=e.getBoundingClientRect().height;e.style.height=t,Z(r),p(e=>e.find(e=>e.toastId===m.id)?e.map(e=>e.toastId===m.id?{...e,height:r}:e):[{toastId:m.id,height:r,position:m.position},...e])},[$,m.title,m.description,p,m.id,m.jsx,m.action,m.cancel]);const we=r.useCallback(()=>{B(!0),X(he.current),p(e=>e.filter(e=>e.toastId!==m.id)),setTimeout(()=>{j(m)},200)},[m,j,p,he]);r.useEffect(()=>{if(m.promise&&"loading"===se||m.duration===1/0||"loading"===m.type)return;let e;return v||f||ye?(()=>{if(fe.current<me.current){const e=(new Date).getTime()-me.current;ee.current=ee.current-e}fe.current=(new Date).getTime()})():ee.current!==1/0&&(me.current=(new Date).getTime(),e=setTimeout(()=>{null==m.onAutoClose||m.onAutoClose.call(m,m),we()},ee.current)),()=>clearTimeout(e)},[v,f,m,se,ye,we]),r.useEffect(()=>{m.delete&&(we(),null==m.onDismiss||m.onDismiss.call(m,m))},[we,m.delete]);const Ne=m.icon||(null==M?void 0:M[se])||(e=>{switch(e){case"success":return ea;case"info":return ra;case"warning":return ta;case"error":return aa;default:return null}})(se);var Ee,Se,ke,Ce;return r.createElement("li",{tabIndex:0,ref:re,className:ha(C,oe,null==P?void 0:P.toast,null==m||null==(t=m.classNames)?void 0:t.toast,null==P?void 0:P.default,null==P?void 0:P[se],null==m||null==(a=m.classNames)?void 0:a[se]),"data-sonner-toast":"","data-rich-colors":null!=(Ee=m.richColors)?Ee:w,"data-styled":!Boolean(m.jsx||m.unstyled||h),"data-mounted":$,"data-promise":Boolean(m.promise),"data-swiped":G,"data-removed":U,"data-visible":ne,"data-y-position":ge,"data-x-position":xe,"data-index":b,"data-front":ae,"data-swiping":Y,"data-dismissible":ie,"data-type":se,"data-invert":ve,"data-swipe-out":H,"data-swipe-direction":L,"data-expanded":Boolean(v||D&&$),"data-testid":m.testId,style:{"--index":b,"--toasts-before":b,"--z-index":y.length-b,"--offset":`${U?Q:he.current}px`,"--initial-height":D?"auto":`${J}px`,...E,...m.style},onDragEnd:()=>{V(!1),R(null),pe.current=null},onPointerDown:e=>{2!==e.button&&!je&&ie&&(te.current=new Date,X(he.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(V(!0),pe.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r;if(H||!ie)return;pe.current=null;const a=Number((null==(e=re.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),n=Number((null==(t=re.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),s=(new Date).getTime()-(null==(r=te.current)?void 0:r.getTime()),i="x"===I?a:n,o=Math.abs(i)/s;if(Math.abs(i)>=45||o>.11)return X(he.current),null==m.onDismiss||m.onDismiss.call(m,m),z("x"===I?a>0?"right":"left":n>0?"down":"up"),we(),void W(!0);var l,c;null==(l=re.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=re.current)||c.style.setProperty("--swipe-amount-y","0px"),K(!1),V(!1),R(null)},onPointerMove:t=>{var r,a,n;if(!pe.current||!ie)return;if((null==(r=window.getSelection())?void 0:r.toString().length)>0)return;const s=t.clientY-pe.current.y,i=t.clientX-pe.current.x;var o;const l=null!=(o=e.swipeDirections)?o:function(e){const[t,r]=e.split("-"),a=[];return t&&a.push(t),r&&a.push(r),a}(T);!I&&(Math.abs(i)>1||Math.abs(s)>1)&&R(Math.abs(i)>Math.abs(s)?"x":"y");let c={x:0,y:0};const d=e=>1/(1.5+Math.abs(e)/20);if("y"===I){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&s<0||l.includes("bottom")&&s>0)c.y=s;else{const e=s*d(s);c.y=Math.abs(e)<Math.abs(s)?e:s}}else if("x"===I&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&i<0||l.includes("right")&&i>0)c.x=i;else{const e=i*d(i);c.x=Math.abs(e)<Math.abs(i)?e:i}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&K(!0),null==(a=re.current)||a.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(n=re.current)||n.style.setProperty("--swipe-amount-y",`${c.y}px`)}},de&&!m.jsx&&"loading"!==se?r.createElement("button",{"aria-label":F,"data-disabled":je,"data-close-button":!0,onClick:je||!ie?()=>{}:()=>{we(),null==m.onDismiss||m.onDismiss.call(m,m)},className:ha(null==P?void 0:P.closeButton,null==m||null==(n=m.classNames)?void 0:n.closeButton)},null!=(Se=null==M?void 0:M.close)?Se:na):null,(se||m.icon||m.promise)&&null!==m.icon&&(null!==(null==M?void 0:M[se])||m.icon)?r.createElement("div",{"data-icon":"",className:ha(null==P?void 0:P.icon,null==m||null==(s=m.classNames)?void 0:s.icon)},m.promise||"loading"===m.type&&!m.icon?m.icon||((null==M?void 0:M.loading)?r.createElement("div",{className:ha(null==P?void 0:P.loader,null==m||null==(Ce=m.classNames)?void 0:Ce.loader,"sonner-loader"),"data-visible":"loading"===se},M.loading):r.createElement(Zr,{className:ha(null==P?void 0:P.loader,null==m||null==(ke=m.classNames)?void 0:ke.loader),visible:"loading"===se})):null,"loading"!==m.type?Ne:null):null,r.createElement("div",{"data-content":"",className:ha(null==P?void 0:P.content,null==m||null==(i=m.classNames)?void 0:i.content)},r.createElement("div",{"data-title":"",className:ha(null==P?void 0:P.title,null==m||null==(o=m.classNames)?void 0:o.title)},m.jsx?m.jsx:"function"==typeof m.title?m.title():m.title),m.description?r.createElement("div",{"data-description":"",className:ha(A,le,null==P?void 0:P.description,null==m||null==(l=m.classNames)?void 0:l.description)},"function"==typeof m.description?m.description():m.description):null),r.isValidElement(m.cancel)?m.cancel:m.cancel&&da(m.cancel)?r.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||S,onClick:e=>{da(m.cancel)&&ie&&(null==m.cancel.onClick||m.cancel.onClick.call(m.cancel,e),we())},className:ha(null==P?void 0:P.cancelButton,null==m||null==(c=m.classNames)?void 0:c.cancelButton)},m.cancel.label):null,r.isValidElement(m.action)?m.action:m.action&&da(m.action)?r.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||k,onClick:e=>{da(m.action)&&(null==m.action.onClick||m.action.onClick.call(m.action,e),e.defaultPrevented||we())},className:ha(null==P?void 0:P.actionButton,null==m||null==(d=m.classNames)?void 0:d.actionButton)},m.action.label):null)};function pa(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function ga(e,t){const r={};return[e,t].forEach((e,t)=>{const a=1===t,n=a?"--mobile-offset":"--offset",s=a?"16px":"24px";function i(e){["top","right","bottom","left"].forEach(t=>{r[`${n}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?i(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?r[`${n}-${t}`]=s:r[`${n}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):i(s)}),r}const xa=r.forwardRef(function(e,t){const{id:n,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:u,mobileOffset:m,theme:h="light",richColors:f,duration:p,style:g,visibleToasts:x=ua,toastOptions:b,dir:y=pa(),gap:v=ma,icons:j,containerAriaLabel:w="Notifications"}=e,[N,E]=r.useState([]),S=r.useMemo(()=>n?N.filter(e=>e.toasterId===n):N.filter(e=>!e.toasterId),[N,n]),k=r.useMemo(()=>Array.from(new Set([i].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,i]),[C,A]=r.useState([]),[_,T]=r.useState(!1),[O,D]=r.useState(!1),[P,M]=r.useState("system"!==h?h:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=r.useRef(null),I=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=r.useRef(null),L=r.useRef(!1),z=r.useCallback(e=>{E(t=>{var r;return(null==(r=t.find(t=>t.id===e.id))?void 0:r.delete)||ia.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return r.useEffect(()=>ia.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{E(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{a.flushSync(()=>{E(t=>{const r=t.findIndex(t=>t.id===e.id);return-1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]})})})}),[N]),r.useEffect(()=>{if("system"!==h)return void M(h);if("system"===h&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{M(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{M(e?"dark":"light")}catch(Ba){}})}},[h]),r.useEffect(()=>{N.length<=1&&T(!1)},[N]),r.useEffect(()=>{const e=e=>{var t,r;o.every(t=>e[t]||e.code===t)&&(T(!0),null==(r=F.current)||r.focus()),"Escape"!==e.code||document.activeElement!==F.current&&!(null==(t=F.current)?void 0:t.contains(document.activeElement))||T(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o]),r.useEffect(()=>{if(F.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,L.current=!1)}},[F.current]),r.createElement("section",{ref:t,"aria-label":`${w} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((t,a)=>{var n;const[i,o]=t.split("-");return S.length?r.createElement("ol",{key:t,dir:"auto"===y?pa():y,tabIndex:-1,ref:F,className:d,"data-sonner-toaster":!0,"data-sonner-theme":P,"data-y-position":i,"data-x-position":o,style:{"--front-toast-height":`${(null==(n=C[0])?void 0:n.height)||0}px`,"--width":"356px","--gap":`${v}px`,...g,...ga(u,m)},onBlur:e=>{L.current&&!e.currentTarget.contains(e.relatedTarget)&&(L.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||L.current||(L.current=!0,R.current=e.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{O||T(!1)},onDragEnd:()=>T(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||D(!0)},onPointerUp:()=>D(!1)},S.filter(e=>!e.position&&0===a||e.position===t).map((a,n)=>{var i,o;return r.createElement(fa,{key:a.id,icons:j,index:n,toast:a,defaultRichColors:f,duration:null!=(i=null==b?void 0:b.duration)?i:p,className:null==b?void 0:b.className,descriptionClassName:null==b?void 0:b.descriptionClassName,invert:s,visibleToasts:x,closeButton:null!=(o=null==b?void 0:b.closeButton)?o:c,interacting:O,position:t,style:null==b?void 0:b.style,unstyled:null==b?void 0:b.unstyled,classNames:null==b?void 0:b.classNames,cancelButtonStyle:null==b?void 0:b.cancelButtonStyle,actionButtonStyle:null==b?void 0:b.actionButtonStyle,closeButtonAriaLabel:null==b?void 0:b.closeButtonAriaLabel,removeToast:z,toasts:S.filter(e=>e.position==a.position),heights:C.filter(e=>e.position==a.position),setHeights:A,expandByDefault:l,gap:v,expanded:_,swipeDirections:e.swipeDirections})})):null}))}),ba={},ya=e=>{let t;const r=new Set,a=(e,a)=>{const n="function"==typeof e?e(t):e;if(!Object.is(n,t)){const e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:a,getState:n,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(a,n,s);return s},va=e=>e,ja=e=>{const t=(e=>e?ya(e):ya)(e),a=e=>function(e,t=va){const a=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(a),a}(t,e);return Object.assign(a,t),a};function wa(e,t){let r;try{r=e()}catch(Ba){return}return{getItem:e=>{var t;const a=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(a):a(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}const Na=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>Na(e)(r),catch(e){return this}}}catch(Ba){return{then(e){return this},catch:t=>Na(t)(Ba)}}},Ea=(e,t)=>(r,a,n)=>{let s={storage:wa(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const o=new Set,l=new Set;let c=s.storage;if(!c)return e((...e)=>{r(...e)},a,n);const d=()=>{const e=s.partialize({...a()});return c.setItem(s.name,{state:e,version:s.version})},u=n.setState;n.setState=(e,t)=>(u(e,t),d());const m=e((...e)=>(r(...e),d()),a,n);let h;n.getInitialState=()=>m;const f=()=>{var e,t;if(!c)return;i=!1,o.forEach(e=>{var t;return e(null!=(t=a())?t:m)});const n=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=a())?e:m))||void 0;return Na(c.getItem.bind(c))(s.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];if(s.migrate){const t=s.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}}return[!1,void 0]}).then(e=>{var t;const[n,i]=e;if(h=s.merge(i,null!=(t=a())?t:m),r(h,!0),n)return d()}).then(()=>{null==n||n(h,void 0),h=a(),i=!0,l.forEach(e=>e(h))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{s={...s,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>f(),hasHydrated:()=>i,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},s.skipHydration||f(),h||m},Sa=(ka=Ea((e,t)=>({user:null,token:null,role:null,permissions:[],isAuthenticated:!1,loading:!1,error:null,initialized:!1,login:t=>{e({user:t.user,token:t.token,role:t.role,permissions:t.permissions||[],isAuthenticated:!0,error:null})},logout:async()=>{try{const{authService:e}=await function(e,t){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),n=a?.nonce||a?.getAttribute("nonce");r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in ba)return;ba[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,n&&a.setAttribute("nonce",n),document.head.appendChild(a),t?new Promise((t,r)=>{a.addEventListener("load",t),a.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})}(async()=>{const{authService:e}=await Promise.resolve().then(()=>Jl);return{authService:e}},void 0);await e.logout()}catch(t){}e({user:null,token:null,role:null,permissions:[],isAuthenticated:!1,loading:!1,error:null,initialized:!1}),localStorage.removeItem("token"),localStorage.removeItem("auth-storage"),window.location.href="/login"},setLoading:t=>{e({loading:t})},setError:t=>{e({error:t})},clearError:()=>{e({error:null})},updateProfile:t=>{e(e=>({user:{...e.user,...t}}))},updateUser:t=>{e(e=>({user:{...e.user,...t}}))},hasPermission:e=>{const{permissions:r}=t();return r.includes(e)},hasRole:e=>{const{role:r}=t(),a=e||"";return(r?.nombre||"").toLowerCase()===a.toLowerCase()},isAdmin:()=>{const{role:e}=t();return"admin"===e?.nombre||"administrador"===e?.nombre||"ADMINISTRADOR"===e?.nombre},isTrabajador:()=>{const{role:e}=t();return"profesor"===e?.nombre||"trabajador"===e?.nombre},isPadre:()=>{const{role:e}=t();return"padre"===e?.nombre||"parent"===e?.nombre},isEspecialista:()=>{const{role:e}=t();return"especialista"===e?.nombre||"specialist"===e?.nombre},getRoleId:()=>{const{role:e}=t();return e?.id||null},initializeAuth:async()=>{const{initialized:r}=t();if(r)return;e({loading:!0,initialized:!0});const a=localStorage.getItem("token");if(a){if(a.startsWith("dev-token-")){const t={1:{id:"1",email:"admin@nidopro.com",nombre:"Administrador",apellido:"Sistema",role:{id:"1",nombre:"admin"},permissions:["all"]},2:{id:"2",email:"trabajador@nidopro.com",nombre:"Juan",apellido:"Prez",role:{id:"2",nombre:"trabajador"},permissions:["read_students","write_students"]}}[a.replace("dev-token-","")];if(t)return void e({user:t,token:a,isAuthenticated:!0,role:t.role,permissions:t.permissions,loading:!1})}const t=JSON.parse(localStorage.getItem("auth-storage")||"{}");t.state&&t.state.user&&t.state.role?e({user:t.state.user,token:a,isAuthenticated:!0,role:t.state.role,permissions:t.state.permissions||[],loading:!1,error:null}):(localStorage.removeItem("token"),localStorage.removeItem("auth-storage"),e({user:null,token:null,role:null,permissions:[],isAuthenticated:!1,loading:!1,error:null}))}else e({loading:!1})}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,role:e.role,permissions:e.permissions,isAuthenticated:e.isAuthenticated})}),ka?ja(ka):ja);var ka;const Ca=({children:e,requiredRole:t=null,requiredPermission:r=null})=>{const{isAuthenticated:a,user:i,hasRole:o,hasPermission:l,loading:c}=Sa(),d=n();return c?It.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),It.jsx("p",{className:"mt-4 text-gray-600",children:"Verificando autenticacin..."})]})}):a?(i&&i.cambioContrasena,t&&!o(t)?It.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:It.jsx("div",{className:"text-center",children:It.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[It.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Acceso Denegado"}),It.jsx("p",{children:"No tienes permisos para acceder a esta seccin."}),It.jsxs("p",{className:"text-sm mt-2",children:["Rol requerido: ",t]})]})})}):r&&!l(r)?It.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:It.jsx("div",{className:"text-center",children:It.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[It.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Acceso Denegado"}),It.jsx("p",{children:"No tienes permisos para realizar esta accin."}),It.jsxs("p",{className:"text-sm mt-2",children:["Permiso requerido: ",r]})]})})}):e):It.jsx(s,{to:"/login",state:{from:d},replace:!0})};function Aa(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=Aa(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function _a(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=Aa(e))&&(a&&(a+=" "),a+=t);return a}var Ta=Object.defineProperty,Oa=(e,t,r)=>(((e,t,r)=>{t in e?Ta(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);let Da=new class{constructor(){Oa(this,"current",this.detect()),Oa(this,"handoffState","pending"),Oa(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}};function Pa(e){var t,r;return Da.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?null!=(r=null==(t=e.current)?void 0:t.ownerDocument)?r:document:null:document}function Ma(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function Fa(){let e=[],t={addEventListener:(e,r,a,n)=>(e.addEventListener(r,a,n),t.add(()=>e.removeEventListener(r,a,n))),requestAnimationFrame(...e){let r=requestAnimationFrame(...e);return t.add(()=>cancelAnimationFrame(r))},nextFrame:(...e)=>t.requestAnimationFrame(()=>t.requestAnimationFrame(...e)),setTimeout(...e){let r=setTimeout(...e);return t.add(()=>clearTimeout(r))},microTask(...e){let r={current:!0};return Ma(()=>{r.current&&e[0]()}),t.add(()=>{r.current=!1})},style(e,t,r){let a=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:a})})},group(e){let t=Fa();return e(t),this.add(()=>t.dispose())},add:t=>(e.includes(t)||e.push(t),()=>{let r=e.indexOf(t);if(r>=0)for(let t of e.splice(r,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function Ia(){let[e]=t.useState(Fa);return t.useEffect(()=>()=>e.dispose(),[e]),e}let Ra=(e,r)=>{Da.isServer?t.useEffect(e,r):t.useLayoutEffect(e,r)};function La(e){let r=t.useRef(e);return Ra(()=>{r.current=e},[e]),r}let za=function(e){let t=La(e);return r.useCallback((...e)=>t.current(...e),[t])},$a=t.createContext(void 0);function qa(...e){return Array.from(new Set(e.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}function Ua(e,t,...r){if(e in t){let a=t[e];return"function"==typeof a?a(...r):a}let a=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Ua),a}var Ba,Ya,Va=((Ya=Va||{})[Ya.None=0]="None",Ya[Ya.RenderStrategy=1]="RenderStrategy",Ya[Ya.Static=2]="Static",Ya),Ha=((Ba=Ha||{})[Ba.Unmount=0]="Unmount",Ba[Ba.Hidden=1]="Hidden",Ba);function Wa(){let e=function(){let e=t.useRef([]),r=t.useCallback(t=>{for(let r of e.current)null!=r&&("function"==typeof r?r(t):r.current=t)},[]);return(...t)=>{if(!t.every(e=>null==e))return e.current=t,r}}();return t.useCallback(t=>function({ourProps:e,theirProps:t,slot:r,defaultTag:a,features:n,visible:s=!0,name:i,mergeRefs:o}){o=null!=o?o:Ka;let l=Qa(t,e);if(s)return Ga(l,r,a,i,o);let c=null!=n?n:0;if(2&c){let{static:e=!1,...t}=l;if(e)return Ga(t,r,a,i,o)}if(1&c){let{unmount:e=!0,...t}=l;return Ua(e?0:1,{0:()=>null,1:()=>Ga({...t,hidden:!0,style:{display:"none"}},r,a,i,o)})}return Ga(l,r,a,i,o)}({mergeRefs:e,...t}),[e])}function Ga(e,r={},a,n,s){let{as:i=a,children:o,refName:l="ref",...c}=Za(e,["unmount","static"]),d=void 0!==e.ref?{[l]:e.ref}:{},u="function"==typeof o?o(r):o;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(r)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let m={};if(r){let e=!1,t=[];for(let[a,n]of Object.entries(r))"boolean"==typeof n&&(e=!0),!0===n&&t.push(a.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`));if(e){m["data-headlessui-state"]=t.join(" ");for(let e of t)m[`data-${e}`]=""}}if(i===t.Fragment&&(Object.keys(Ja(c)).length>0||Object.keys(Ja(m)).length>0)){if(t.isValidElement(u)&&!(Array.isArray(u)&&u.length>1)){let e=u.props,r=null==e?void 0:e.className,a="function"==typeof r?(...e)=>qa(r(...e),c.className):qa(r,c.className),n=a?{className:a}:{},i=Qa(u.props,Ja(Za(c,["ref"])));for(let t in m)t in i&&delete m[t];return t.cloneElement(u,Object.assign({},i,m,d,{ref:s(en(u),d.ref)},n))}if(Object.keys(Ja(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ja(c)).concat(Object.keys(Ja(m))).map(e=>`  - ${e}`).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join("\n")].join("\n"))}return t.createElement(i,Object.assign({},Za(c,["ref"]),i!==t.Fragment&&d,i!==t.Fragment&&m),u)}function Ka(...e){return e.every(e=>null==e)?void 0:t=>{for(let r of e)null!=r&&("function"==typeof r?r(t):r.current=t)}}function Qa(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let a of e)for(let e in a)e.startsWith("on")&&"function"==typeof a[e]?(null!=r[e]||(r[e]=[]),r[e].push(a[e])):t[e]=a[e];if(t.disabled||t["aria-disabled"])for(let a in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(a)&&(r[a]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let a in r)Object.assign(t,{[a](e,...t){let n=r[a];for(let r of n){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;r(e,...t)}}});return t}function Xa(e){var r;return Object.assign(t.forwardRef(e),{displayName:null!=(r=e.displayName)?r:e.name})}function Ja(e){let t=Object.assign({},e);for(let r in t)void 0===t[r]&&delete t[r];return t}function Za(e,t=[]){let r=Object.assign({},e);for(let a of t)a in r&&delete r[a];return r}function en(e){return r.version.split(".")[0]>="19"?e.props.ref:e.ref}var tn=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(tn||{});let rn=Xa(function(e,t){var r;let{features:a=1,...n}=e,s={ref:t,"aria-hidden":!(2&~a)||(null!=(r=n["aria-hidden"])?r:void 0),hidden:!(4&~a)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...!(4&~a)&&!!(2&~a)&&{display:"none"}}};return Wa()({ourProps:s,theirProps:n,slot:{},defaultTag:"span",name:"Hidden"})});function an(e){return"object"==typeof e&&null!==e&&"nodeType"in e}function nn(e){return an(e)&&"tagName"in e}function sn(e){return nn(e)&&"accessKey"in e}function on(e){return nn(e)&&"tabIndex"in e}let ln=Symbol();function cn(...e){let r=t.useRef(e);t.useEffect(()=>{r.current=e},[e]);let a=za(e=>{for(let t of r.current)null!=t&&("function"==typeof t?t(e):t.current=e)});return e.every(e=>null==e||(null==e?void 0:e[ln]))?void 0:a}let dn=t.createContext(null);function un(){let e=t.useContext(dn);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,un),e}return e}dn.displayName="DescriptionContext";let mn=Xa(function(e,r){let a=t.useId(),n=t.useContext($a),{id:s=`headlessui-description-${a}`,...i}=e,o=un(),l=cn(r);Ra(()=>o.register(s),[s,o.register]);let c=n||!1,d=t.useMemo(()=>({...o.slot,disabled:c}),[o.slot,c]),u={ref:l,...o.props,id:s};return Wa()({ourProps:u,theirProps:i,slot:d,defaultTag:"p",name:o.name||"Description"})}),hn=Object.assign(mn,{});var fn,pn=((fn=pn||{}).Space=" ",fn.Enter="Enter",fn.Escape="Escape",fn.Backspace="Backspace",fn.Delete="Delete",fn.ArrowLeft="ArrowLeft",fn.ArrowUp="ArrowUp",fn.ArrowRight="ArrowRight",fn.ArrowDown="ArrowDown",fn.Home="Home",fn.End="End",fn.PageUp="PageUp",fn.PageDown="PageDown",fn.Tab="Tab",fn);let gn=t.createContext(()=>{});function xn({value:e,children:t}){return r.createElement(gn.Provider,{value:e},t)}let bn=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return void 0===t&&(t=this.factory(e),this.set(e,t)),t}};var yn,vn,jn,wn=Object.defineProperty,Nn=(e,t,r)=>(((e,t,r)=>{t in e?wn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,t+"",r),r),En=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Sn=(e,t,r)=>(En(e,t,"read from private field"),r?r.call(e):t.get(e)),kn=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Cn=(e,t,r,a)=>(En(e,t,"write to private field"),t.set(e,r),r);let An=class{constructor(e){kn(this,yn,{}),kn(this,vn,new bn(()=>new Set)),kn(this,jn,new Set),Nn(this,"disposables",Fa()),Cn(this,yn,e),Da.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Sn(this,yn)}subscribe(e,t){if(Da.isServer)return()=>{};let r={selector:e,callback:t,current:e(Sn(this,yn))};return Sn(this,jn).add(r),this.disposables.add(()=>{Sn(this,jn).delete(r)})}on(e,t){return Da.isServer?()=>{}:(Sn(this,vn).get(e).add(t),this.disposables.add(()=>{Sn(this,vn).get(e).delete(t)}))}send(e){let t=this.reduce(Sn(this,yn),e);if(t!==Sn(this,yn)){Cn(this,yn,t);for(let e of Sn(this,jn)){let t=e.selector(Sn(this,yn));_n(e.current,t)||(e.current=t,e.callback(t))}for(let t of Sn(this,vn).get(e.type))t(Sn(this,yn),e)}}};function _n(e,t){return!!Object.is(e,t)||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&Tn(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size===t.size&&Tn(e.entries(),t.entries()):!(!On(e)||!On(t))&&Tn(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()))}function Tn(e,t){for(;;){let r=e.next(),a=t.next();if(r.done&&a.done)return!0;if(r.done||a.done||!Object.is(r.value,a.value))return!1}}function On(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}yn=new WeakMap,vn=new WeakMap,jn=new WeakMap;var Dn,Pn=Object.defineProperty,Mn=(e,t,r)=>(((e,t,r)=>{t in e?Pn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),Fn=((Dn=Fn||{})[Dn.Push=0]="Push",Dn[Dn.Pop=1]="Pop",Dn);let In={0(e,t){let r=t.id,a=e.stack,n=e.stack.indexOf(r);if(-1!==n){let t=e.stack.slice();return t.splice(n,1),t.push(r),a=t,{...e,stack:a}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,a=e.stack.indexOf(r);if(-1===a)return e;let n=e.stack.slice();return n.splice(a,1),{...e,stack:n}}},Rn=class e extends An{constructor(){super(...arguments),Mn(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),Mn(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new e({stack:[]})}reduce(e,t){return Ua(t.type,In,e,t)}};const Ln=new bn(()=>Rn.new());var zn,$n,qn={exports:{}},Un={},Bn=($n||($n=1,qn.exports=function(){if(zn)return Un;zn=1;var e=g(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=e.useSyncExternalStore,a=e.useRef,n=e.useEffect,s=e.useMemo,i=e.useDebugValue;return Un.useSyncExternalStoreWithSelector=function(e,o,l,c,d){var u=a(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;u=s(function(){function e(e){if(!n){if(n=!0,r=e,e=c(e),void 0!==d&&m.hasValue){var s=m.value;if(d(s,e))return a=s}return a=e}if(s=a,t(r,e))return s;var i=c(e);return void 0!==d&&d(s,i)?(r=e,s):(r=e,a=i)}var r,a,n=!1,s=void 0===l?null:l;return[function(){return e(o())},null===s?void 0:function(){return e(s())}]},[o,l,c,d]);var h=r(e,u[0],u[1]);return n(function(){m.hasValue=!0,m.value=h},[h]),i(h),h},Un}()),qn.exports);function Yn(e,t,r=_n){return Bn.useSyncExternalStoreWithSelector(za(t=>e.subscribe(Vn,t)),za(()=>e.state),za(()=>e.state),za(t),r)}function Vn(e){return e}function Hn(e,r){let a=t.useId(),n=Ln.get(r),[s,i]=Yn(n,t.useCallback(e=>[n.selectors.isTop(e,a),n.selectors.inStack(e,a)],[n,a]));return Ra(()=>{if(e)return n.actions.push(a),()=>n.actions.pop(a)},[n,e,a]),!!e&&(!i||s)}let Wn=new Map,Gn=new Map;function Kn(e){var t;let r=null!=(t=Gn.get(e))?t:0;return Gn.set(e,r+1),0!==r||(Wn.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0),()=>Qn(e)}function Qn(e){var t;let r=null!=(t=Gn.get(e))?t:1;if(1===r?Gn.delete(e):Gn.set(e,r-1),1!==r)return;let a=Wn.get(e);a&&(null===a["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",a["aria-hidden"]),e.inert=a.inert,Wn.delete(e))}let Xn=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Jn=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Zn,es,ts=((es=ts||{})[es.First=1]="First",es[es.Previous=2]="Previous",es[es.Next=4]="Next",es[es.Last=8]="Last",es[es.WrapAround=16]="WrapAround",es[es.NoScroll=32]="NoScroll",es[es.AutoFocus=64]="AutoFocus",es),rs=((Zn=rs||{})[Zn.Error=0]="Error",Zn[Zn.Overflow=1]="Overflow",Zn[Zn.Success=2]="Success",Zn[Zn.Underflow=3]="Underflow",Zn),as=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(as||{}),ns=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ns||{}),ss=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(ss||{});function is(e){null==e||e.focus({preventScroll:!0})}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let os=["textarea","input"].join(",");function ls(e,t,{sorted:r=!0,relativeTo:a=null,skipElements:n=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?r?function(e,t=e=>e){return e.slice().sort((e,r)=>{let a=t(e),n=t(r);if(null===a||null===n)return 0;let s=a.compareDocumentPosition(n);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}(e):e:64&t?function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(Jn)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}(e):function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(Xn)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}(e);n.length>0&&i.length>1&&(i=i.filter(e=>!n.some(t=>null!=t&&"current"in t?(null==t?void 0:t.current)===e:t===e))),a=null!=a?a:s.activeElement;let o,l=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,i.indexOf(a))-1;if(4&t)return Math.max(0,i.indexOf(a))+1;if(8&t)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=32&t?{preventScroll:!0}:{},u=0,m=i.length;do{if(u>=m||u+m<=0)return 0;let e=c+u;if(16&t)e=(e+m)%m;else{if(e<0)return 3;if(e>=m)return 1}o=i[e],null==o||o.focus(d),u+=l}while(o!==s.activeElement);return 6&t&&function(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,os))&&r}(o)&&o.select(),2}function cs(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ds(){return cs()||/Android/gi.test(window.navigator.userAgent)}function us(e,r,a,n){let s=La(a);t.useEffect(()=>{if(e)return document.addEventListener(r,t,n),()=>document.removeEventListener(r,t,n);function t(e){s.current(e)}},[e,r,n])}function ms(e,r,a,n){let s=La(a);t.useEffect(()=>{if(e)return window.addEventListener(r,t,n),()=>window.removeEventListener(r,t,n);function t(e){s.current(e)}},[e,r,n])}function hs(e,r,a){let n=La(a),s=t.useCallback(function(e,t){if(e.defaultPrevented)return;let a=t(e);if(null===a||!a.getRootNode().contains(a)||!a.isConnected)return;let s=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(r);for(let r of s)if(null!==r&&(r.contains(a)||e.composed&&e.composedPath().includes(r)))return;return!function(e,t=0){var r;return e!==(null==(r=Pa(e))?void 0:r.body)&&Ua(t,{0:()=>e.matches(Xn),1(){let t=e;for(;null!==t;){if(t.matches(Xn))return!0;t=t.parentElement}return!1}})}(a,ns.Loose)&&-1!==a.tabIndex&&e.preventDefault(),n.current(e,a)},[n,r]),i=t.useRef(null);us(e,"pointerdown",e=>{var t,r;ds()||(i.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),us(e,"pointerup",e=>{if(ds()||!i.current)return;let t=i.current;return i.current=null,s(e,()=>t)},!0);let o=t.useRef({x:0,y:0});us(e,"touchstart",e=>{o.current.x=e.touches[0].clientX,o.current.y=e.touches[0].clientY},!0),us(e,"touchend",e=>{let t=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY;if(!(Math.abs(t-o.current.x)>=30||Math.abs(r-o.current.y)>=30))return s(e,()=>on(e.target)?e.target:null)},!0),ms(e,"blur",e=>s(e,()=>function(e){return sn(e)&&"IFRAME"===e.nodeName}(window.document.activeElement)?window.document.activeElement:null),!0)}function fs(...e){return t.useMemo(()=>Pa(...e),[...e])}function ps(e,r,a,n){let s=La(a);t.useEffect(()=>{function t(e){s.current(e)}return(e=null!=e?e:window).addEventListener(r,t,n),()=>e.removeEventListener(r,t,n)},[e,r,n])}function gs(){let e;return{before({doc:t}){var r;let a=t.documentElement,n=null!=(r=t.defaultView)?r:window;e=Math.max(0,n.innerWidth-a.clientWidth)},after({doc:t,d:r}){let a=t.documentElement,n=Math.max(0,a.clientWidth-a.offsetWidth),s=Math.max(0,e-n);r.style(a,"paddingRight",`${s}px`)}}}function xs(){return cs()?{before({doc:e,d:t,meta:r}){function a(e){return r.containers.flatMap(e=>e()).some(t=>t.contains(e))}t.microTask(()=>{var r;if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let r=Fa();r.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>r.dispose()))}let n=null!=(r=window.scrollY)?r:window.pageYOffset,s=null;t.addEventListener(e,"click",t=>{if(on(t.target))try{let r=t.target.closest("a");if(!r)return;let{hash:n}=new URL(r.href),i=e.querySelector(n);on(i)&&!a(i)&&(s=i)}catch{}},!0),t.addEventListener(e,"touchstart",e=>{if(on(e.target)&&function(e){return nn(e)&&"style"in e}(e.target))if(a(e.target)){let r=e.target;for(;r.parentElement&&a(r.parentElement);)r=r.parentElement;t.style(r,"overscrollBehavior","contain")}else t.style(e.target,"touchAction","none")}),t.addEventListener(e,"touchmove",e=>{if(on(e.target)){if(function(e){return sn(e)&&"INPUT"===e.nodeName}(e.target))return;if(a(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}},{passive:!1}),t.add(()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;n!==t&&window.scrollTo(0,n),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function bs(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let ys=function(e,t){let r=e(),a=new Set;return{getSnapshot:()=>r,subscribe:e=>(a.add(e),()=>a.delete(e)),dispatch(e,...n){let s=t[e].call(r,...n);s&&(r=s,a.forEach(e=>e()))}}}(()=>new Map,{PUSH(e,t){var r;let a=null!=(r=this.get(e))?r:{doc:e,count:0,d:Fa(),meta:new Set};return a.count++,a.meta.add(t),this.set(e,a),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let a={doc:e,d:t,meta:bs(r)},n=[xs(),gs(),{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];n.forEach(({before:e})=>null==e?void 0:e(a)),n.forEach(({after:e})=>null==e?void 0:e(a))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});function vs(e,r,a=()=>({containers:[]})){let n=function(e){return t.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}(ys),s=r?n.get(r):void 0,i=!!s&&s.count>0;return Ra(()=>{if(r&&e)return ys.dispatch("PUSH",r,a),()=>ys.dispatch("POP",r,a)},[e,r]),i}var js,ws;ys.subscribe(()=>{let e=ys.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let e="hidden"===t.get(r.doc),a=0!==r.count;(a&&!e||!a&&e)&&ys.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),0===r.count&&ys.dispatch("TEARDOWN",r)}}),"undefined"!=typeof process&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&"test"===(null==(js=null==process?void 0:{})?void 0:js.NODE_ENV)&&void 0===(null==(ws=null==Element?void 0:Element.prototype)?void 0:ws.getAnimations)&&(Element.prototype.getAnimations=function(){return[]});var Ns=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Ns||{});function Es(e){let t={};for(let r in e)!0===e[r]&&(t[`data-${r}`]="");return t}function Ss(e,r,a,n){let[s,i]=t.useState(a),{hasFlag:o,addFlag:l,removeFlag:c}=function(e=0){let[r,a]=t.useState(e),n=t.useCallback(e=>a(e),[r]),s=t.useCallback(e=>a(t=>t|e),[r]),i=t.useCallback(e=>(r&e)===e,[r]),o=t.useCallback(e=>a(t=>t&~e),[a]),l=t.useCallback(e=>a(t=>t^e),[a]);return{flags:r,setFlag:n,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:l}}(e&&s?3:0),d=t.useRef(!1),u=t.useRef(!1),m=Ia();return Ra(()=>{var t;if(e)return a&&i(!0),r?(null==(t=null==n?void 0:n.start)||t.call(n,a),function(e,{prepare:t,run:r,done:a,inFlight:n}){let s=Fa();return function(e,{inFlight:t,prepare:r}){if(null!=t&&t.current)return void r();let a=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=a}(e,{prepare:t,inFlight:n}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(function(e,t){var r,a;let n=Fa();if(!e)return n.dispose;let s=!1;n.add(()=>{s=!0});let i=null!=(a=null==(r=e.getAnimations)?void 0:r.call(e).filter(e=>e instanceof CSSTransition))?a:[];return 0===i.length?(t(),n.dispose):(Promise.allSettled(i.map(e=>e.finished)).then(()=>{s||t()}),n.dispose)}(e,a))})}),s.dispose}(r,{inFlight:d,prepare(){u.current?u.current=!1:u.current=d.current,d.current=!0,!u.current&&(a?(l(3),c(4)):(l(4),c(2)))},run(){u.current?a?(c(3),l(4)):(c(4),l(3)):a?c(1):l(1)},done(){var e;u.current&&"function"==typeof r.getAnimations&&r.getAnimations().length>0||(d.current=!1,c(7),a||i(!1),null==(e=null==n?void 0:n.end)||e.call(n,a))}})):void(a&&l(3))},[e,a,r,m]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[a,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function ks(e,r){let a=t.useRef([]),n=za(e);t.useEffect(()=>{let e=[...a.current];for(let[t,s]of r.entries())if(a.current[t]!==s){let t=n(r,e);return a.current=r,t}},[n,...r])}let Cs=t.createContext(null);Cs.displayName="OpenClosedContext";var As=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(As||{});function _s(){return t.useContext(Cs)}function Ts({value:e,children:t}){return r.createElement(Cs.Provider,{value:e},t)}function Os({children:e}){return r.createElement(Cs.Provider,{value:null},e)}let Ds=[];function Ps(e){let r=za(e),a=t.useRef(!1);t.useEffect(()=>(a.current=!1,()=>{a.current=!0,Ma(()=>{a.current&&r()})}),[r])}function Ms(){let e=function(){let e="undefined"==typeof document;return i.useSyncExternalStore(()=>()=>{},()=>!1,()=>!e)}(),[r,a]=t.useState(Da.isHandoffComplete);return r&&!1===Da.isHandoffComplete&&a(!1),t.useEffect(()=>{!0!==r&&a(!0)},[r]),t.useEffect(()=>Da.handoff(),[]),!e&&r}!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}(()=>{function e(e){if(!on(e.target)||e.target===document.body||Ds[0]===e.target)return;let t=e.target;t=t.closest(Xn),Ds.unshift(null!=t?t:e.target),Ds=Ds.filter(e=>null!=e&&e.isConnected),Ds.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});let Fs=t.createContext(!1);function Is(e){return r.createElement(Fs.Provider,{value:e.force},e.children)}function Rs(e){let r=t.useContext(Fs),a=t.useContext(qs),[n,s]=t.useState(()=>{var t;if(!r&&null!==a)return null!=(t=a.current)?t:null;if(Da.isServer)return null;let n=null==e?void 0:e.getElementById("headlessui-portal-root");if(n)return n;if(null===e)return null;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)});return t.useEffect(()=>{null!==n&&(null!=e&&e.body.contains(n)||null==e||e.body.appendChild(n))},[n,e]),t.useEffect(()=>{r||null!==a&&s(a.current)},[a,s,r]),n}let Ls=t.Fragment,zs=Xa(function(e,r){let{ownerDocument:a=null,...n}=e,s=t.useRef(null),i=cn(function(e,t=!0){return Object.assign(e,{[ln]:t})}(e=>{s.current=e}),r),l=fs(s),c=null!=a?a:l,d=Rs(c),[u]=t.useState(()=>{var e;return Da.isServer?null:null!=(e=null==c?void 0:c.createElement("div"))?e:null}),m=t.useContext(Us),h=Ms();Ra(()=>{!d||!u||d.contains(u)||(u.setAttribute("data-headlessui-portal",""),d.appendChild(u))},[d,u]),Ra(()=>{if(u&&m)return m.register(u)},[m,u]),Ps(()=>{var e;!d||!u||(an(u)&&d.contains(u)&&d.removeChild(u),d.childNodes.length<=0&&(null==(e=d.parentElement)||e.removeChild(d)))});let f=Wa();return h&&d&&u?o.createPortal(f({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:Ls,name:"Portal"}),u):null}),$s=t.Fragment,qs=t.createContext(null),Us=t.createContext(null),Bs=Xa(function(e,t){let a=cn(t),{enabled:n=!0,ownerDocument:s,...i}=e,o=Wa();return n?r.createElement(zs,{...i,ownerDocument:s,ref:a}):o({ourProps:{ref:a},theirProps:i,slot:{},defaultTag:Ls,name:"Portal"})}),Ys=Xa(function(e,t){let{target:a,...n}=e,s={ref:cn(t)},i=Wa();return r.createElement(qs.Provider,{value:a},i({ourProps:s,theirProps:n,defaultTag:$s,name:"Popover.Group"}))}),Vs=Object.assign(Bs,{Group:Ys}),Hs=t.createContext(null);function Ws({children:e,node:a}){let[n,s]=t.useState(null),i=Gs(null!=a?a:n);return r.createElement(Hs.Provider,{value:i},e,null===i&&r.createElement(rn,{features:tn.Hidden,ref:e=>{var t,r;if(e)for(let a of null!=(r=null==(t=Pa(e))?void 0:t.querySelectorAll("html > *, body > *"))?r:[])if(a!==document.body&&a!==document.head&&nn(a)&&null!=a&&a.contains(e)){s(a);break}}}))}function Gs(e=null){var r;return null!=(r=t.useContext(Hs))?r:e}function Ks(){let e=t.useRef(!1);return Ra(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Qs=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Qs||{});function Xs(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let r of e.current)nn(r.current)&&t.add(r.current);return t}var Js=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Js||{});let Zs=Xa(function(e,a){let n=t.useRef(null),s=cn(n,a),{initialFocus:i,initialFocusFallback:o,containers:l,features:c=15,...d}=e;Ms()||(c=0);let u=fs(n);!function(e,{ownerDocument:r}){let a=!!(8&e),n=function(e=!0){let r=t.useRef(Ds.slice());return ks(([e],[t])=>{!0===t&&!1===e&&Ma(()=>{r.current.splice(0)}),!1===t&&!0===e&&(r.current=Ds.slice())},[e,Ds,r]),za(()=>{var e;return null!=(e=r.current.find(e=>null!=e&&e.isConnected))?e:null})}(a);ks(()=>{a||(null==r?void 0:r.activeElement)===(null==r?void 0:r.body)&&is(n())},[a]),Ps(()=>{a&&is(n())})}(c,{ownerDocument:u});let m=function(e,{ownerDocument:r,container:a,initialFocus:n,initialFocusFallback:s}){let i=t.useRef(null),o=Hn(!!(1&e),"focus-trap#initial-focus"),l=Ks();return ks(()=>{if(0===e)return;if(!o)return void(null!=s&&s.current&&is(s.current));let t=a.current;t&&Ma(()=>{if(!l.current)return;let a=null==r?void 0:r.activeElement;if(null!=n&&n.current){if((null==n?void 0:n.current)===a)return void(i.current=a)}else if(t.contains(a))return void(i.current=a);if(null!=n&&n.current)is(n.current);else{if(16&e){if(ls(t,ts.First|ts.AutoFocus)!==rs.Error)return}else if(ls(t,ts.First)!==rs.Error)return;if(null!=s&&s.current&&(is(s.current),(null==r?void 0:r.activeElement)===s.current))return}i.current=null==r?void 0:r.activeElement})},[s,o,e]),i}(c,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:o});!function(e,{ownerDocument:t,container:r,containers:a,previousActiveElement:n}){let s=Ks(),i=!!(4&e);ps(null==t?void 0:t.defaultView,"focus",e=>{if(!i||!s.current)return;let t=Xs(a);sn(r.current)&&t.add(r.current);let o=n.current;if(!o)return;let l=e.target;sn(l)?ti(t,l)?(n.current=l,is(l)):(e.preventDefault(),e.stopPropagation(),is(o)):is(n.current)},!0)}(c,{ownerDocument:u,container:n,containers:l,previousActiveElement:m});let h=function(){let e=t.useRef(0);return ms(!0,"keydown",t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)},!0),e}(),f=za(e=>{if(!sn(n.current))return;let t=n.current;Ua(h.current,{[Qs.Forwards]:()=>{ls(t,ts.First,{skipElements:[e.relatedTarget,o]})},[Qs.Backwards]:()=>{ls(t,ts.Last,{skipElements:[e.relatedTarget,o]})}})}),p=Hn(!!(2&c),"focus-trap#tab-lock"),g=Ia(),x=t.useRef(!1),b={ref:s,onKeyDown(e){"Tab"==e.key&&(x.current=!0,g.requestAnimationFrame(()=>{x.current=!1}))},onBlur(e){if(!(4&c))return;let t=Xs(l);sn(n.current)&&t.add(n.current);let r=e.relatedTarget;on(r)&&"true"!==r.dataset.headlessuiFocusGuard&&(ti(t,r)||(x.current?ls(n.current,Ua(h.current,{[Qs.Forwards]:()=>ts.Next,[Qs.Backwards]:()=>ts.Previous})|ts.WrapAround,{relativeTo:e.target}):on(e.target)&&is(e.target)))}},y=Wa();return r.createElement(r.Fragment,null,p&&r.createElement(rn,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:tn.Focusable}),y({ourProps:b,theirProps:d,defaultTag:"div",name:"FocusTrap"}),p&&r.createElement(rn,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:tn.Focusable}))}),ei=Object.assign(Zs,{features:Js});function ti(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function ri(e){var a;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||(null!=(a=e.as)?a:li)!==t.Fragment||1===r.Children.count(e.children)}let ai=t.createContext(null);ai.displayName="TransitionContext";var ni=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ni||{});let si=t.createContext(null);function ii(e){return"children"in e?ii(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function oi(e,r){let a=La(e),n=t.useRef([]),s=Ks(),i=Ia(),o=za((e,t=Ha.Hidden)=>{let r=n.current.findIndex(({el:t})=>t===e);-1!==r&&(Ua(t,{[Ha.Unmount](){n.current.splice(r,1)},[Ha.Hidden](){n.current[r].state="hidden"}}),i.microTask(()=>{var e;!ii(n)&&s.current&&(null==(e=a.current)||e.call(a))}))}),l=za(e=>{let t=n.current.find(({el:t})=>t===e);return t?"visible"!==t.state&&(t.state="visible"):n.current.push({el:e,state:"visible"}),()=>o(e,Ha.Unmount)}),c=t.useRef([]),d=t.useRef(Promise.resolve()),u=t.useRef({enter:[],leave:[]}),m=za((e,t,a)=>{c.current.splice(0),r&&(r.chains.current[t]=r.chains.current[t].filter(([t])=>t!==e)),null==r||r.chains.current[t].push([e,new Promise(e=>{c.current.push(e)})]),null==r||r.chains.current[t].push([e,new Promise(e=>{Promise.all(u.current[t].map(([e,t])=>t)).then(()=>e())})]),"enter"===t?d.current=d.current.then(()=>null==r?void 0:r.wait.current).then(()=>a(t)):a(t)}),h=za((e,t,r)=>{Promise.all(u.current[t].splice(0).map(([e,t])=>t)).then(()=>{var e;null==(e=c.current.shift())||e()}).then(()=>r(t))});return t.useMemo(()=>({children:n,register:l,unregister:o,onStart:m,onStop:h,wait:d,chains:u}),[l,o,n,m,h,u,d])}si.displayName="NestingContext";let li=t.Fragment,ci=Va.RenderStrategy,di=Xa(function(e,a){let{show:n,appear:s=!1,unmount:i=!0,...o}=e,l=t.useRef(null),c=cn(...ri(e)?[l,a]:null===a?[]:[a]);Ms();let d=_s();if(void 0===n&&null!==d&&(n=(d&As.Open)===As.Open),void 0===n)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,m]=t.useState(n?"visible":"hidden"),h=oi(()=>{n||m("hidden")}),[f,p]=t.useState(!0),g=t.useRef([n]);Ra(()=>{!1!==f&&g.current[g.current.length-1]!==n&&(g.current.push(n),p(!1))},[g,n]);let x=t.useMemo(()=>({show:n,appear:s,initial:f}),[n,s,f]);Ra(()=>{n?m("visible"):!ii(h)&&null!==l.current&&m("hidden")},[n,h]);let b={unmount:i},y=za(()=>{var t;f&&p(!1),null==(t=e.beforeEnter)||t.call(e)}),v=za(()=>{var t;f&&p(!1),null==(t=e.beforeLeave)||t.call(e)}),j=Wa();return r.createElement(si.Provider,{value:h},r.createElement(ai.Provider,{value:x},j({ourProps:{...b,as:t.Fragment,children:r.createElement(ui,{ref:c,...b,...o,beforeEnter:y,beforeLeave:v})},theirProps:{},defaultTag:t.Fragment,features:ci,visible:"visible"===u,name:"Transition"})))}),ui=Xa(function(e,a){var n,s;let{transition:i=!0,beforeEnter:o,afterEnter:l,beforeLeave:c,afterLeave:d,enter:u,enterFrom:m,enterTo:h,entered:f,leave:p,leaveFrom:g,leaveTo:x,...b}=e,[y,v]=t.useState(null),j=t.useRef(null),w=ri(e),N=cn(...w?[j,a,v]:null===a?[]:[a]),E=null==(n=b.unmount)||n?Ha.Unmount:Ha.Hidden,{show:S,appear:k,initial:C}=function(){let e=t.useContext(ai);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[A,_]=t.useState(S?"visible":"hidden"),T=function(){let e=t.useContext(si);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:O,unregister:D}=T;Ra(()=>O(j),[O,j]),Ra(()=>{if(E===Ha.Hidden&&j.current)return S&&"visible"!==A?void _("visible"):Ua(A,{hidden:()=>D(j),visible:()=>O(j)})},[A,j,O,D,S,E]);let P=Ms();Ra(()=>{if(w&&P&&"visible"===A&&null===j.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[j,A,P,w]);let M=C&&!k,F=k&&S&&C,I=t.useRef(!1),R=oi(()=>{I.current||(_("hidden"),D(j))},T),L=za(e=>{I.current=!0;let t=e?"enter":"leave";R.onStart(j,t,e=>{"enter"===e?null==o||o():"leave"===e&&(null==c||c())})}),z=za(e=>{let t=e?"enter":"leave";I.current=!1,R.onStop(j,t,e=>{"enter"===e?null==l||l():"leave"===e&&(null==d||d())}),"leave"===t&&!ii(R)&&(_("hidden"),D(j))});t.useEffect(()=>{w&&i||(L(S),z(S))},[S,w,i]);let $=(()=>!(!i||!w||!P||M))(),[,q]=Ss($,y,S,{start:L,end:z}),U=Ja({ref:N,className:(null==(s=qa(b.className,F&&u,F&&m,q.enter&&u,q.enter&&q.closed&&m,q.enter&&!q.closed&&h,q.leave&&p,q.leave&&!q.closed&&g,q.leave&&q.closed&&x,!q.transition&&S&&f))?void 0:s.trim())||void 0,...Es(q)}),B=0;"visible"===A&&(B|=As.Open),"hidden"===A&&(B|=As.Closed),S&&"hidden"===A&&(B|=As.Opening),!S&&"visible"===A&&(B|=As.Closing);let Y=Wa();return r.createElement(si.Provider,{value:R},r.createElement(Ts,{value:B},Y({ourProps:U,theirProps:b,defaultTag:li,features:ci,visible:"visible"===A,name:"Transition.Child"})))}),mi=Xa(function(e,a){let n=null!==t.useContext(ai),s=null!==_s();return r.createElement(r.Fragment,null,!n&&s?r.createElement(di,{ref:a,...e}):r.createElement(ui,{ref:a,...e}))}),hi=Object.assign(di,{Child:mi,Root:di});var fi=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(fi||{}),pi=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(pi||{});let gi={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},xi=t.createContext(null);function bi(e){let r=t.useContext(xi);if(null===r){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,bi),t}return r}function yi(e,t){return Ua(t.type,gi,e,t)}xi.displayName="DialogContext";let vi=Xa(function(e,a){let n=t.useId(),{id:s=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:l,role:c="dialog",autoFocus:d=!0,__demoMode:u=!1,unmount:m=!1,...h}=e,f=t.useRef(!1);c="dialog"===c||"alertdialog"===c?c:(f.current||(f.current=!0),"dialog");let p=_s();void 0===i&&null!==p&&(i=(p&As.Open)===As.Open);let g=t.useRef(null),x=cn(g,a),b=fs(g),y=i?0:1,[v,j]=t.useReducer(yi,{titleId:null,descriptionId:null,panelRef:t.createRef()}),w=za(()=>o(!1)),N=za(e=>j({type:0,id:e})),E=!!Ms()&&0===y,[S,k]=function(){let e=t.useContext(Us),a=t.useRef([]),n=za(t=>(a.current.push(t),e&&e.register(t),()=>s(t))),s=za(t=>{let r=a.current.indexOf(t);-1!==r&&a.current.splice(r,1),e&&e.unregister(t)}),i=t.useMemo(()=>({register:n,unregister:s,portals:a}),[n,s,a]);return[a,t.useMemo(()=>function({children:e}){return r.createElement(Us.Provider,{value:i},e)},[i])]}(),C={get current(){var e;return null!=(e=v.panelRef.current)?e:g.current}},A=Gs(),{resolveContainers:_}=function({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let a=fs(r),n=za(()=>{var n,s;let i=[];for(let t of e)null!==t&&(nn(t)?i.push(t):"current"in t&&nn(t.current)&&i.push(t.current));if(null!=t&&t.current)for(let e of t.current)i.push(e);for(let e of null!=(n=null==a?void 0:a.querySelectorAll("html > *, body > *"))?n:[])e!==document.body&&e!==document.head&&nn(e)&&"headlessui-portal-root"!==e.id&&(r&&(e.contains(r)||e.contains(null==(s=null==r?void 0:r.getRootNode())?void 0:s.host))||i.some(t=>e.contains(t))||i.push(e));return i});return{resolveContainers:n,contains:za(e=>n().some(t=>t.contains(e)))}}({mainTreeNode:A,portals:S,defaultContainers:[C]}),T=null!==p&&(p&As.Closing)===As.Closing;!function(e,{allowed:t,disallowed:r}={}){let a=Hn(e,"inert-others");Ra(()=>{var e,n;if(!a)return;let s=Fa();for(let t of null!=(e=null==r?void 0:r())?e:[])t&&s.add(Kn(t));let i=null!=(n=null==t?void 0:t())?n:[];for(let t of i){if(!t)continue;let e=Pa(t);if(!e)continue;let r=t.parentElement;for(;r&&r!==e.body;){for(let e of r.children)i.some(t=>e.contains(t))||s.add(Kn(e));r=r.parentElement}}return s.dispose},[a,t,r])}(!u&&!T&&E,{allowed:za(()=>{var e,t;return[null!=(t=null==(e=g.current)?void 0:e.closest("[data-headlessui-portal]"))?t:null]}),disallowed:za(()=>{var e;return[null!=(e=null==A?void 0:A.closest("body > *:not(#headlessui-portal-root)"))?e:null]})});let O=Ln.get(null);Ra(()=>{if(E)return O.actions.push(s),()=>O.actions.pop(s)},[O,s,E]);let D=Yn(O,t.useCallback(e=>O.selectors.isTop(e,s),[O,s]));hs(D,_,e=>{e.preventDefault(),w()}),function(e,t=("undefined"!=typeof document?document.defaultView:null),r){let a=Hn(e,"escape");ps(t,"keydown",e=>{a&&(e.defaultPrevented||e.key===pn.Escape&&r(e))})}(D,null==b?void 0:b.defaultView,e=>{e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),w()}),function(e,t,r=()=>[document.body]){vs(Hn(e,"scroll-lock"),t,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],r]}})}(!u&&!T&&E,b,_),function(e,r,a){let n=La(e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&a()});t.useEffect(()=>{if(!e)return;let t=null===r?null:sn(r)?r:r.current;if(!t)return;let a=Fa();if("undefined"!=typeof ResizeObserver){let e=new ResizeObserver(()=>n.current(t));e.observe(t),a.add(()=>e.disconnect())}if("undefined"!=typeof IntersectionObserver){let e=new IntersectionObserver(()=>n.current(t));e.observe(t),a.add(()=>e.disconnect())}return()=>a.dispose()},[r,n,e])}(E,g,w);let[P,M]=function(){let[e,a]=t.useState([]);return[e.length>0?e.join(" "):void 0,t.useMemo(()=>function(e){let n=za(e=>(a(t=>[...t,e]),()=>a(t=>{let r=t.slice(),a=r.indexOf(e);return-1!==a&&r.splice(a,1),r}))),s=t.useMemo(()=>({register:n,slot:e.slot,name:e.name,props:e.props,value:e.value}),[n,e.slot,e.name,e.props,e.value]);return r.createElement(dn.Provider,{value:s},e.children)},[a])]}(),F=t.useMemo(()=>[{dialogState:y,close:w,setTitleId:N,unmount:m},v],[y,v,w,N,m]),I=t.useMemo(()=>({open:0===y}),[y]),R={ref:x,id:s,role:c,tabIndex:-1,"aria-modal":u?void 0:0===y||void 0,"aria-labelledby":v.titleId,"aria-describedby":P,unmount:m},L=!function(){var e;let[r]=t.useState(()=>"undefined"!=typeof window&&"function"==typeof window.matchMedia?window.matchMedia("(pointer: coarse)"):null),[a,n]=t.useState(null!=(e=null==r?void 0:r.matches)&&e);return Ra(()=>{if(r)return r.addEventListener("change",e),()=>r.removeEventListener("change",e);function e(e){n(e.matches)}},[r]),a}(),z=Js.None;E&&!u&&(z|=Js.RestoreFocus,z|=Js.TabLock,d&&(z|=Js.AutoFocus),L&&(z|=Js.InitialFocus));let $=Wa();return r.createElement(Os,null,r.createElement(Is,{force:!0},r.createElement(Vs,null,r.createElement(xi.Provider,{value:F},r.createElement(Ys,{target:g},r.createElement(Is,{force:!1},r.createElement(M,{slot:I},r.createElement(k,null,r.createElement(ei,{initialFocus:l,initialFocusFallback:g,containers:_,features:z},r.createElement(xn,{value:w},$({ourProps:R,theirProps:h,slot:I,defaultTag:ji,features:wi,visible:0===y,name:"Dialog"})))))))))))}),ji="div",wi=Va.RenderStrategy|Va.Static,Ni=Xa(function(e,t){let{transition:a=!1,open:n,...s}=e,i=_s(),o=e.hasOwnProperty("open")||null!==i,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&"boolean"!=typeof e.open)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if("function"!=typeof e.onClose)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return void 0===n&&!a||s.static?r.createElement(Ws,null,r.createElement(vi,{ref:t,open:n,...s})):r.createElement(Ws,null,r.createElement(hi,{show:n,transition:a,unmount:s.unmount},r.createElement(vi,{ref:t,...s})))}),Ei=Xa(function(e,a){let n=t.useId(),{id:s=`headlessui-dialog-panel-${n}`,transition:i=!1,...o}=e,[{dialogState:l,unmount:c},d]=bi("Dialog.Panel"),u=cn(a,d.panelRef),m=t.useMemo(()=>({open:0===l}),[l]),h={ref:u,id:s,onClick:za(e=>{e.stopPropagation()})},f=i?mi:t.Fragment,p=i?{unmount:c}:{},g=Wa();return r.createElement(f,{...p},g({ourProps:h,theirProps:o,slot:m,defaultTag:"div",name:"Dialog.Panel"}))});Xa(function(e,a){let{transition:n=!1,...s}=e,[{dialogState:i,unmount:o}]=bi("Dialog.Backdrop"),l=t.useMemo(()=>({open:0===i}),[i]),c={ref:a,"aria-hidden":!0},d=n?mi:t.Fragment,u=n?{unmount:o}:{},m=Wa();return r.createElement(d,{...u},m({ourProps:c,theirProps:s,slot:l,defaultTag:"div",name:"Dialog.Backdrop"}))});let Si=Xa(function(e,r){let a=t.useId(),{id:n=`headlessui-dialog-title-${a}`,...s}=e,[{dialogState:i,setTitleId:o}]=bi("Dialog.Title"),l=cn(r);t.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=t.useMemo(()=>({open:0===i}),[i]),d={ref:l,id:n};return Wa()({ourProps:d,theirProps:s,slot:c,defaultTag:"h2",name:"Dialog.Title"})}),ki=Object.assign(Ni,{Panel:Ei,Title:Si,Description:hn});function Ci(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ai}=Object.prototype,{getPrototypeOf:_i}=Object,{iterator:Ti,toStringTag:Oi}=Symbol,Di=(e=>t=>{const r=Ai.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Pi=e=>(e=e.toLowerCase(),t=>Di(t)===e),Mi=e=>t=>typeof t===e,{isArray:Fi}=Array,Ii=Mi("undefined");function Ri(e){return null!==e&&!Ii(e)&&null!==e.constructor&&!Ii(e.constructor)&&$i(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Li=Pi("ArrayBuffer"),zi=Mi("string"),$i=Mi("function"),qi=Mi("number"),Ui=e=>null!==e&&"object"==typeof e,Bi=e=>{if("object"!==Di(e))return!1;const t=_i(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Oi in e||Ti in e)},Yi=Pi("Date"),Vi=Pi("File"),Hi=Pi("Blob"),Wi=Pi("FileList"),Gi=Pi("URLSearchParams"),[Ki,Qi,Xi,Ji]=["ReadableStream","Request","Response","Headers"].map(Pi);function Zi(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let a,n;if("object"!=typeof e&&(e=[e]),Fi(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{if(Ri(e))return;const n=r?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let i;for(a=0;a<s;a++)i=n[a],t.call(null,e[i],i,e)}}function eo(e,t){if(Ri(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a,n=r.length;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const to="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ro=e=>!Ii(e)&&e!==to,ao=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&_i(Uint8Array)),no=Pi("HTMLFormElement"),so=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),io=Pi("RegExp"),oo=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Zi(r,(r,n)=>{let s;!1!==(s=t(r,n,e))&&(a[n]=s||r)}),Object.defineProperties(e,a)},lo=Pi("AsyncFunction"),co=(uo="function"==typeof setImmediate,mo=$i(to.postMessage),uo?setImmediate:mo?(ho=`axios@${Math.random()}`,fo=[],to.addEventListener("message",({source:e,data:t})=>{e===to&&t===ho&&fo.length&&fo.shift()()},!1),e=>{fo.push(e),to.postMessage(ho,"*")}):e=>setTimeout(e));var uo,mo,ho,fo;const po="undefined"!=typeof queueMicrotask?queueMicrotask.bind(to):"undefined"!=typeof process&&process.nextTick||co,go={isArray:Fi,isArrayBuffer:Li,isBuffer:Ri,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||$i(e.append)&&("formdata"===(t=Di(e))||"object"===t&&$i(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Li(e.buffer),t},isString:zi,isNumber:qi,isBoolean:e=>!0===e||!1===e,isObject:Ui,isPlainObject:Bi,isEmptyObject:e=>{if(!Ui(e)||Ri(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Ba){return!1}},isReadableStream:Ki,isRequest:Qi,isResponse:Xi,isHeaders:Ji,isUndefined:Ii,isDate:Yi,isFile:Vi,isBlob:Hi,isRegExp:io,isFunction:$i,isStream:e=>Ui(e)&&$i(e.pipe),isURLSearchParams:Gi,isTypedArray:ao,isFileList:Wi,forEach:Zi,merge:function e(){const{caseless:t}=ro(this)&&this||{},r={},a=(a,n)=>{const s=t&&eo(r,n)||n;Bi(r[s])&&Bi(a)?r[s]=e(r[s],a):Bi(a)?r[s]=e({},a):Fi(a)?r[s]=a.slice():r[s]=a};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Zi(arguments[n],a);return r},extend:(e,t,r,{allOwnKeys:a}={})=>(Zi(t,(t,a)=>{r&&$i(t)?e[a]=Ci(t,r):e[a]=t},{allOwnKeys:a}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,a)=>{let n,s,i;const o={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),s=n.length;s-- >0;)i=n[s],a&&!a(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==r&&_i(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Di,kindOfTest:Pi,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return-1!==a&&a===r},toArray:e=>{if(!e)return null;if(Fi(e))return e;let t=e.length;if(!qi(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Ti]).call(e);let a;for(;(a=r.next())&&!a.done;){const r=a.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const a=[];for(;null!==(r=e.exec(t));)a.push(r);return a},isHTMLForm:no,hasOwnProperty:so,hasOwnProp:so,reduceDescriptors:oo,freezeMethods:e=>{oo(e,(t,r)=>{if($i(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const a=e[r];$i(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},a=e=>{e.forEach(e=>{r[e]=!0})};return Fi(e)?a(e):a(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:eo,global:to,isContextDefined:ro,isSpecCompliantForm:function(e){return!!(e&&$i(e.append)&&"FormData"===e[Oi]&&e[Ti])},toJSONObject:e=>{const t=new Array(10),r=(e,a)=>{if(Ui(e)){if(t.indexOf(e)>=0)return;if(Ri(e))return e;if(!("toJSON"in e)){t[a]=e;const n=Fi(e)?[]:{};return Zi(e,(e,t)=>{const s=r(e,a+1);!Ii(s)&&(n[t]=s)}),t[a]=void 0,n}}return e};return r(e,0)},isAsyncFn:lo,isThenable:e=>e&&(Ui(e)||$i(e))&&$i(e.then)&&$i(e.catch),setImmediate:co,asap:po,isIterable:e=>null!=e&&$i(e[Ti])};function xo(e,t,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}go.inherits(xo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:go.toJSONObject(this.config),code:this.code,status:this.status}}});const bo=xo.prototype,yo={};function vo(e){return go.isPlainObject(e)||go.isArray(e)}function jo(e){return go.endsWith(e,"[]")?e.slice(0,-2):e}function wo(e,t,r){return e?e.concat(t).map(function(e,t){return e=jo(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yo[e]={value:e}}),Object.defineProperties(xo,yo),Object.defineProperty(bo,"isAxiosError",{value:!0}),xo.from=(e,t,r,a,n,s)=>{const i=Object.create(bo);return go.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),xo.call(i,e.message,t,r,a,n),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const No=go.toFlatObject(go,{},null,function(e){return/^is[A-Z]/.test(e)});function Eo(e,t,r){if(!go.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(r=go.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!go.isUndefined(t[e])})).metaTokens,n=r.visitor||c,s=r.dots,i=r.indexes,o=(r.Blob||"undefined"!=typeof Blob&&Blob)&&go.isSpecCompliantForm(t);if(!go.isFunction(n))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(go.isDate(e))return e.toISOString();if(go.isBoolean(e))return e.toString();if(!o&&go.isBlob(e))throw new xo("Blob is not supported. Use a Buffer instead.");return go.isArrayBuffer(e)||go.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,n){let o=e;if(e&&!n&&"object"==typeof e)if(go.endsWith(r,"{}"))r=a?r:r.slice(0,-2),e=JSON.stringify(e);else if(go.isArray(e)&&function(e){return go.isArray(e)&&!e.some(vo)}(e)||(go.isFileList(e)||go.endsWith(r,"[]"))&&(o=go.toArray(e)))return r=jo(r),o.forEach(function(e,a){!go.isUndefined(e)&&null!==e&&t.append(!0===i?wo([r],a,s):null===i?r:r+"[]",l(e))}),!1;return!!vo(e)||(t.append(wo(n,r,s),l(e)),!1)}const d=[],u=Object.assign(No,{defaultVisitor:c,convertValue:l,isVisitable:vo});if(!go.isObject(e))throw new TypeError("data must be an object");return function e(r,a){if(!go.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+a.join("."));d.push(r),go.forEach(r,function(r,s){!0===(!(go.isUndefined(r)||null===r)&&n.call(t,r,go.isString(s)?s.trim():s,a,u))&&e(r,a?a.concat(s):[s])}),d.pop()}}(e),t}function So(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function ko(e,t){this._pairs=[],e&&Eo(e,this,t)}const Co=ko.prototype;function Ao(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _o(e,t,r){if(!t)return e;const a=r&&r.encode||Ao;go.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let s;if(s=n?n(t,r):go.isURLSearchParams(t)?t.toString():new ko(t,r).toString(a),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}Co.append=function(e,t){this._pairs.push([e,t])},Co.toString=function(e){const t=e?function(t){return e.call(this,t,So)}:So;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class To{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){go.forEach(this.handlers,function(t){null!==t&&e(t)})}}const Oo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Do={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ko,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Po="undefined"!=typeof window&&"undefined"!=typeof document,Mo="object"==typeof navigator&&navigator||void 0,Fo=Po&&(!Mo||["ReactNative","NativeScript","NS"].indexOf(Mo.product)<0),Io="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ro=Po&&window.location.href||"http://localhost",Lo={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Po,hasStandardBrowserEnv:Fo,hasStandardBrowserWebWorkerEnv:Io,navigator:Mo,origin:Ro},Symbol.toStringTag,{value:"Module"})),...Do};function zo(e){function t(e,r,a,n){let s=e[n++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=n>=e.length;return s=!s&&go.isArray(a)?a.length:s,o?(go.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!i):(a[s]&&go.isObject(a[s])||(a[s]=[]),t(e,r,a[s],n)&&go.isArray(a[s])&&(a[s]=function(e){const t={},r=Object.keys(e);let a;const n=r.length;let s;for(a=0;a<n;a++)s=r[a],t[s]=e[s];return t}(a[s])),!i)}if(go.isFormData(e)&&go.isFunction(e.entries)){const r={};return go.forEachEntry(e,(e,a)=>{t(function(e){return go.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,r,0)}),r}return null}const $o={transitional:Oo,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,n=go.isObject(e);if(n&&go.isHTMLForm(e)&&(e=new FormData(e)),go.isFormData(e))return a?JSON.stringify(zo(e)):e;if(go.isArrayBuffer(e)||go.isBuffer(e)||go.isStream(e)||go.isFile(e)||go.isBlob(e)||go.isReadableStream(e))return e;if(go.isArrayBufferView(e))return e.buffer;if(go.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Eo(e,new Lo.classes.URLSearchParams,{visitor:function(e,t,r,a){return Lo.isNode&&go.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((s=go.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Eo(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||a?(t.setContentType("application/json",!1),function(e,t,r){if(go.isString(e))try{return(t||JSON.parse)(e),go.trim(e)}catch(Ba){if("SyntaxError"!==Ba.name)throw Ba}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||$o.transitional,r=t&&t.forcedJSONParsing,a="json"===this.responseType;if(go.isResponse(e)||go.isReadableStream(e))return e;if(e&&go.isString(e)&&(r&&!this.responseType||a)){const r=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(Ba){if(r){if("SyntaxError"===Ba.name)throw xo.from(Ba,xo.ERR_BAD_RESPONSE,this,null,this.response);throw Ba}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lo.classes.FormData,Blob:Lo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};go.forEach(["delete","get","head","post","put","patch"],e=>{$o.headers[e]={}});const qo=go.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Uo=Symbol("internals");function Bo(e){return e&&String(e).trim().toLowerCase()}function Yo(e){return!1===e||null==e?e:go.isArray(e)?e.map(Yo):String(e)}function Vo(e,t,r,a,n){return go.isFunction(a)?a.call(this,t,r):(n&&(t=r),go.isString(t)?go.isString(a)?-1!==t.indexOf(a):go.isRegExp(a)?a.test(t):void 0:void 0)}let Ho=class{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function n(e,t,r){const n=Bo(t);if(!n)throw new Error("header name must be a non-empty string");const s=go.findKey(a,n);(!s||void 0===a[s]||!0===r||void 0===r&&!1!==a[s])&&(a[s||t]=Yo(e))}const s=(e,t)=>go.forEach(e,(e,r)=>n(e,r,t));if(go.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(go.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,a,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),r=e.substring(0,n).trim().toLowerCase(),a=e.substring(n+1).trim(),!r||t[r]&&qo[r]||("set-cookie"===r?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t})(e),t);else if(go.isObject(e)&&go.isIterable(e)){let r,a,n={};for(const t of e){if(!go.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[a=t[0]]=(r=n[a])?go.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(n,t)}else null!=e&&n(t,e,r);return this}get(e,t){if(e=Bo(e)){const r=go.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}(e);if(go.isFunction(t))return t.call(this,e,r);if(go.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Bo(e)){const r=go.findKey(this,e);return!(!r||void 0===this[r]||t&&!Vo(0,this[r],r,t))}return!1}delete(e,t){const r=this;let a=!1;function n(e){if(e=Bo(e)){const n=go.findKey(r,e);!n||t&&!Vo(0,r[n],n,t)||(delete r[n],a=!0)}}return go.isArray(e)?e.forEach(n):n(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const n=t[r];e&&!Vo(0,this[n],n,e,!0)||(delete this[n],a=!0)}return a}normalize(e){const t=this,r={};return go.forEach(this,(a,n)=>{const s=go.findKey(r,n);if(s)return t[s]=Yo(a),void delete t[n];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(n):String(n).trim();i!==n&&delete t[n],t[i]=Yo(a),r[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return go.forEach(this,(r,a)=>{null!=r&&!1!==r&&(t[a]=e&&go.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){const t=(this[Uo]=this[Uo]={accessors:{}}).accessors,r=this.prototype;function a(e){const a=Bo(e);t[a]||(function(e,t){const r=go.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(e,r,n){return this[a].call(this,t,e,r,n)},configurable:!0})})}(r,e),t[a]=!0)}return go.isArray(e)?e.forEach(a):a(e),this}};function Wo(e,t){const r=this||$o,a=t||r,n=Ho.from(a.headers);let s=a.data;return go.forEach(e,function(e){s=e.call(r,s,n.normalize(),t?t.status:void 0)}),n.normalize(),s}function Go(e){return!(!e||!e.__CANCEL__)}function Ko(e,t,r){xo.call(this,null==e?"canceled":e,xo.ERR_CANCELED,t,r),this.name="CanceledError"}function Qo(e,t,r){const a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(new xo("Request failed with status code "+r.status,[xo.ERR_BAD_REQUEST,xo.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}Ho.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),go.reduceDescriptors(Ho.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),go.freezeMethods(Ho),go.inherits(Ko,xo,{__CANCEL__:!0});const Xo=(e,t,r=3)=>{let a=0;const n=function(e,t){e=e||10;const r=new Array(e),a=new Array(e);let n,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[i];n||(n=l),r[s]=o,a[s]=l;let d=i,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-n<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}}(50,250);return function(e,t){let r,a,n=0,s=1e3/t;const i=(t,s=Date.now())=>{n=s,r=null,a&&(clearTimeout(a),a=null),e(...t)};return[(...e)=>{const t=Date.now(),o=t-n;o>=s?i(e,t):(r=e,a||(a=setTimeout(()=>{a=null,i(r)},s-o)))},()=>r&&i(r)]}(r=>{const s=r.loaded,i=r.lengthComputable?r.total:void 0,o=s-a,l=n(o);a=s,e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})},r)},Jo=(e,t)=>{const r=null!=e;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},Zo=e=>(...t)=>go.asap(()=>e(...t)),el=Lo.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Lo.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Lo.origin),Lo.navigator&&/(msie|trident)/i.test(Lo.navigator.userAgent)):()=>!0,tl=Lo.hasStandardBrowserEnv?{write(e,t,r,a,n,s){const i=[e+"="+encodeURIComponent(t)];go.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),go.isString(a)&&i.push("path="+a),go.isString(n)&&i.push("domain="+n),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function rl(e,t,r){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const al=e=>e instanceof Ho?{...e}:e;function nl(e,t){t=t||{};const r={};function a(e,t,r,a){return go.isPlainObject(e)&&go.isPlainObject(t)?go.merge.call({caseless:a},e,t):go.isPlainObject(t)?go.merge({},t):go.isArray(t)?t.slice():t}function n(e,t,r,n){return go.isUndefined(t)?go.isUndefined(e)?void 0:a(void 0,e,0,n):a(e,t,0,n)}function s(e,t){if(!go.isUndefined(t))return a(void 0,t)}function i(e,t){return go.isUndefined(t)?go.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(r,n,s){return s in t?a(r,n):s in e?a(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,r)=>n(al(e),al(t),0,!0)};return go.forEach(Object.keys({...e,...t}),function(a){const s=l[a]||n,i=s(e[a],t[a],a);go.isUndefined(i)&&s!==o||(r[a]=i)}),r}const sl=e=>{const t=nl({},e);let r,{data:a,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Ho.from(o),t.url=_o(rl(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),go.isFormData(a))if(Lo.hasStandardBrowserEnv||Lo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(r=o.getContentType())){const[e,...t]=r?r.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Lo.hasStandardBrowserEnv&&(n&&go.isFunction(n)&&(n=n(t)),n||!1!==n&&el(t.url))){const e=s&&i&&tl.read(i);e&&o.set(s,e)}return t},il="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const a=sl(e);let n=a.data;const s=Ho.from(a.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=a;function f(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let p=new XMLHttpRequest;function g(){if(!p)return;const a=Ho.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Qo(function(e){t(e),f()},function(e){r(e),f()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:a,config:e,request:p}),p=null}p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(r(new xo("Request aborted",xo.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new xo("Network Error",xo.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const n=a.transitional||Oo;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),r(new xo(t,n.clarifyTimeoutError?xo.ETIMEDOUT:xo.ECONNABORTED,e,p)),p=null},void 0===n&&s.setContentType(null),"setRequestHeader"in p&&go.forEach(s.toJSON(),function(e,t){p.setRequestHeader(t,e)}),go.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),u&&"json"!==u&&(p.responseType=a.responseType),h&&([l,d]=Xo(h,!0),p.addEventListener("progress",l)),m&&p.upload&&([o,c]=Xo(m),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{p&&(r(!t||t.type?new Ko(null,e,p):t),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);x&&-1===Lo.protocols.indexOf(x)?r(new xo("Unsupported protocol "+x+":",xo.ERR_BAD_REQUEST,e)):p.send(n||null)})},ol=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,a=new AbortController;const n=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof xo?t:new Ko(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,n(new xo(`timeout ${t} of ms exceeded`,xo.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:o}=a;return o.unsubscribe=()=>go.asap(i),o}},ll=function*(e,t){let r=e.byteLength;if(r<t)return void(yield e);let a,n=0;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},cl=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},dl=(e,t,r,a)=>{const n=async function*(e,t){for await(const r of cl(e))yield*ll(r,t)}(e,t);let s,i=0,o=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await n.next();if(t)return o(),void e.close();let s=a.byteLength;if(r){let e=i+=s;r(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),n.return())},{highWaterMark:2})},ul="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,ml=ul&&"function"==typeof ReadableStream,hl=ul&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),fl=(e,...t)=>{try{return!!e(...t)}catch(Ba){return!1}},pl=ml&&fl(()=>{let e=!1;const t=new Request(Lo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),gl=ml&&fl(()=>go.isReadableStream(new Response("").body)),xl={stream:gl&&(e=>e.body)};var bl;ul&&(bl=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!xl[e]&&(xl[e]=go.isFunction(bl[e])?t=>t[e]():(t,r)=>{throw new xo(`Response type '${e}' is not supported`,xo.ERR_NOT_SUPPORT,r)})}));const yl=async(e,t)=>{const r=go.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(go.isBlob(e))return e.size;if(go.isSpecCompliantForm(e)){const t=new Request(Lo.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return go.isArrayBufferView(e)||go.isArrayBuffer(e)?e.byteLength:(go.isURLSearchParams(e)&&(e+=""),go.isString(e)?(await hl(e)).byteLength:void 0)})(t):r},vl={http:null,xhr:il,fetch:ul&&(async e=>{let{url:t,method:r,data:a,signal:n,cancelToken:s,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=sl(e);c=c?(c+"").toLowerCase():"text";let h,f=ol([n,s&&s.toAbortSignal()],i);const p=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&pl&&"get"!==r&&"head"!==r&&0!==(g=await yl(d,a))){let e,r=new Request(t,{method:"POST",body:a,duplex:"half"});if(go.isFormData(a)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=Jo(g,Xo(Zo(l)));a=dl(r.body,65536,e,t)}}go.isString(u)||(u=u?"include":"omit");const n="credentials"in Request.prototype;h=new Request(t,{...m,signal:f,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:n?u:void 0});let s=await fetch(h,m);const i=gl&&("stream"===c||"response"===c);if(gl&&(o||i&&p)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});const t=go.toFiniteNumber(s.headers.get("content-length")),[r,a]=o&&Jo(t,Xo(Zo(o),!0))||[];s=new Response(dl(s.body,65536,r,()=>{a&&a(),p&&p()}),e)}c=c||"text";let x=await xl[go.findKey(xl,c)||"text"](s,e);return!i&&p&&p(),await new Promise((t,r)=>{Qo(t,r,{data:x,headers:Ho.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:h})})}catch(x){if(p&&p(),x&&"TypeError"===x.name&&/Load failed|fetch/i.test(x.message))throw Object.assign(new xo("Network Error",xo.ERR_NETWORK,e,h),{cause:x.cause||x});throw xo.from(x,x&&x.code,e,h)}})};go.forEach(vl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ba){}Object.defineProperty(e,"adapterName",{value:t})}});const jl=e=>`- ${e}`,wl=e=>go.isFunction(e)||null===e||!1===e,Nl=e=>{e=go.isArray(e)?e:[e];const{length:t}=e;let r,a;const n={};for(let s=0;s<t;s++){let t;if(r=e[s],a=r,!wl(r)&&(a=vl[(t=String(r)).toLowerCase()],void 0===a))throw new xo(`Unknown adapter '${t}'`);if(a)break;n[t||"#"+s]=a}if(!a){const e=Object.entries(n).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new xo("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(jl).join("\n"):" "+jl(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return a};function El(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ko(null,e)}function Sl(e){return El(e),e.headers=Ho.from(e.headers),e.data=Wo.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nl(e.adapter||$o.adapter)(e).then(function(t){return El(e),t.data=Wo.call(e,e.transformResponse,t),t.headers=Ho.from(t.headers),t},function(t){return Go(t)||(El(e),t&&t.response&&(t.response.data=Wo.call(e,e.transformResponse,t.response),t.response.headers=Ho.from(t.response.headers))),Promise.reject(t)})}const kl="1.11.0",Cl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Cl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Al={};Cl.transitional=function(e,t,r){return(a,n,s)=>{if(!1===e)throw new xo(function(e,t){return"[Axios v"+kl+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}(n," has been removed"+(t?" in "+t:"")),xo.ERR_DEPRECATED);return t&&!Al[n]&&(Al[n]=!0),!e||e(a,n,s)}},Cl.spelling=function(e){return(e,t)=>!0};const _l={assertOptions:function(e,t,r){if("object"!=typeof e)throw new xo("options must be an object",xo.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const s=a[n],i=t[s];if(i){const t=e[s],r=void 0===t||i(t,s,e);if(!0!==r)throw new xo("option "+s+" must be "+r,xo.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new xo("Unknown option "+s,xo.ERR_BAD_OPTION)}},validators:Cl},Tl=_l.validators;let Ol=class{constructor(e){this.defaults=e||{},this.interceptors={request:new To,response:new To}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(Ba){}}throw r}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=nl(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:n}=t;void 0!==r&&_l.assertOptions(r,{silentJSONParsing:Tl.transitional(Tl.boolean),forcedJSONParsing:Tl.transitional(Tl.boolean),clarifyTimeoutError:Tl.transitional(Tl.boolean)},!1),null!=a&&(go.isFunction(a)?t.paramsSerializer={serialize:a}:_l.assertOptions(a,{encode:Tl.function,serialize:Tl.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),_l.assertOptions(t,{baseUrl:Tl.spelling("baseURL"),withXsrfToken:Tl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=n&&go.merge(n.common,n[t.method]);n&&go.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=Ho.concat(s,n);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Sl.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=Sl.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return _o(rl((e=nl(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};go.forEach(["delete","get","head","options"],function(e){Ol.prototype[e]=function(t,r){return this.request(nl(r||{},{method:e,url:t,data:(r||{}).data}))}}),go.forEach(["post","put","patch"],function(e){function t(t){return function(r,a,n){return this.request(nl(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Ol.prototype[e]=t(),Ol.prototype[e+"Form"]=t(!0)});const Dl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dl).forEach(([e,t])=>{Dl[t]=e});const Pl=function e(t){const r=new Ol(t),a=Ci(Ol.prototype.request,r);return go.extend(a,Ol.prototype,r,{allOwnKeys:!0}),go.extend(a,r,null,{allOwnKeys:!0}),a.create=function(r){return e(nl(t,r))},a}($o);Pl.Axios=Ol,Pl.CanceledError=Ko,Pl.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{r.subscribe(e),t=e}).then(e);return a.cancel=function(){r.unsubscribe(t)},a},e(function(e,a,n){r.reason||(r.reason=new Ko(e,a,n),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},Pl.isCancel=Go,Pl.VERSION=kl,Pl.toFormData=Eo,Pl.AxiosError=xo,Pl.Cancel=Pl.CanceledError,Pl.all=function(e){return Promise.all(e)},Pl.spread=function(e){return function(t){return e.apply(null,t)}},Pl.isAxiosError=function(e){return go.isObject(e)&&!0===e.isAxiosError},Pl.mergeConfig=nl,Pl.AxiosHeaders=Ho,Pl.formToJSON=e=>zo(go.isHTMLForm(e)?new FormData(e):e),Pl.getAdapter=Nl,Pl.HttpStatusCode=Dl,Pl.default=Pl;const{Axios:Ml,AxiosError:Fl,CanceledError:Il,isCancel:Rl,CancelToken:Ll,VERSION:zl,all:$l,Cancel:ql,isAxiosError:Ul,spread:Bl,toFormData:Yl,AxiosHeaders:Vl,HttpStatusCode:Hl,formToJSON:Wl,getAdapter:Gl,mergeConfig:Kl}=Pl,Ql=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}}),Xl={async login(e){try{const r={usuario:e.email,contrasena:e.password},a=await Ql.post("/auth/login",r),{data:n}=a,s="DIRECTORA"===(t=n.usuario.rol)||"Admin"===t||"ADMINISTRADOR"===t?{id:"1",nombre:"admin",permissions:["all"]}:"ESTUDIANTE"===t?{id:"3",nombre:"padre",permissions:["read_own_data","view_grades"]}:"SECRETARIA"===t?{id:"4",nombre:"SECRETARIA",permissions:["read_students","write_students","academic_access"]}:{id:"2",nombre:"trabajador",permissions:["read_students","write_students"]};return{token:n.access_token,user:{id:n.usuario.sub,email:n.usuario.usuario,nombre:n.usuario.fullName?.split(" ")[0]||n.usuario.usuario,apellido:n.usuario.fullName?.split(" ").slice(1).join(" ")||"",fullName:n.usuario.fullName||n.usuario.usuario,tipo:n.usuario.tipo,rol:n.usuario.rol,entidadId:n.usuario.entidadId,cambioContrasena:n.usuario.cambioContrasena,role:{id:s.id,nombre:s.nombre},permissions:s.permissions},role:{id:s.id,nombre:s.nombre},permissions:s.permissions}}catch(r){if(401===r.response?.status)throw new Error("Credenciales invlidas");if(404===r.response?.status)throw new Error("Usuario no encontrado");if("ERR_NETWORK"===r.code)throw new Error("Error de conexin. Verifica que el servidor est funcionando.");throw new Error(r.response?.data?.message||"Error de conexin. Intenta nuevamente.")}var t},async loginDev(e){try{await new Promise(e=>setTimeout(e,1e3));const t={"admin@nidopro.com":{id:"1",email:"admin@nidopro.com",nombre:"Administrador",apellido:"Sistema",role:{id:"1",nombre:"admin"},permissions:["all"]},"trabajador@nidopro.com":{id:"2",email:"trabajador@nidopro.com",nombre:"Juan",apellido:"Prez",role:{id:"2",nombre:"trabajador"},permissions:["read_students","write_students"]}}[e.email];if(!t||"123456"!==e.password)throw new Error("Credenciales invlidas");return{token:`dev-token-${t.id}`,user:t,role:t.role,permissions:t.permissions}}catch(t){throw t}},async logout(){try{const e=localStorage.getItem("token");e&&await Ql.post("/auth/logout",{},{headers:{Authorization:`Bearer ${e}`}})}catch(e){}finally{localStorage.removeItem("token")}},async validateToken(e){try{if(e.startsWith("dev-token-")){const t=e.replace("dev-token-",""),r={1:{id:"1",email:"admin@nidopro.com",nombre:"Administrador",apellido:"Sistema",role:{id:"1",nombre:"admin"},permissions:["all"]},2:{id:"2",email:"trabajador@nidopro.com",nombre:"Juan",apellido:"Prez",role:{id:"2",nombre:"trabajador"},permissions:["read_students","write_students"]}}[t];if(r)return{valid:!0,user:r,role:r.role,permissions:r.permissions}}const t=await Ql.get("/auth/validate",{headers:{Authorization:`Bearer ${e}`}}),{data:r}=t;return{valid:!0,user:{id:r.usuario.sub,email:r.usuario.usuario,nombre:r.usuario.usuario,apellido:"",role:{id:"DIRECTORA"===r.usuario.rol||"Admin"===r.usuario.rol?"1":"2",nombre:"DIRECTORA"===r.usuario.rol||"Admin"===r.usuario.rol?"admin":"trabajador"},permissions:"DIRECTORA"===r.usuario.rol||"Admin"===r.usuario.rol?["all"]:["read_students","write_students"]},role:{id:"DIRECTORA"===r.usuario.rol||"Admin"===r.usuario.rol?"1":"2",nombre:"DIRECTORA"===r.usuario.rol||"Admin"===r.usuario.rol?"admin":"trabajador"},permissions:"DIRECTORA"===r.usuario.rol||"Admin"===r.usuario.rol?["all"]:["read_students","write_students"]}}catch(t){return{valid:!1}}},async getProfile(){try{const e=localStorage.getItem("token");return(await Ql.get("/auth/profile",{headers:{Authorization:`Bearer ${e}`}})).data}catch(e){throw new Error("Error al obtener perfil de usuario")}},async updateProfile(e){try{const t=localStorage.getItem("token");return(await Ql.put("/auth/profile",e,{headers:{Authorization:`Bearer ${t}`}})).data}catch(t){throw new Error("Error al actualizar perfil")}},async changePassword(e,t){try{const r=localStorage.getItem("token");return(await Ql.patch(`/usuario/${e}/cambiar-contrasena`,t,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw new Error(r.response?.data?.message||"Error al cambiar contrasea")}},async changePassword(e){try{const t=localStorage.getItem("token");if(!t)throw new Error("No hay sesin activa");return(await Ql.post("/auth/change-password",e,{headers:{Authorization:`Bearer ${t}`}})).data}catch(t){throw t}}};Ql.interceptors.response.use(e=>e,e=>(401===e.response?.status&&localStorage.removeItem("token"),Promise.reject(e)));const Jl=Object.freeze(Object.defineProperty({__proto__:null,authService:Xl},Symbol.toStringTag,{value:"Module"})),Zl=({isOpen:e,onClose:r,userId:a,userName:n})=>{const[s,i]=t.useState({contrasenaActual:"",nuevaContrasena:"",confirmarContrasena:""}),[o,l]=t.useState({current:!1,new:!1,confirm:!1}),[c,d]=t.useState(!1),[u,m]=t.useState({}),h=e=>{const{name:t,value:r}=e.target;i(e=>({...e,[t]:r})),u[t]&&m(e=>({...e,[t]:""}))},f=e=>{l(t=>({...t,[e]:!t[e]}))};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:()=>{},children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-50 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all border border-gray-200",children:[It.jsx("div",{className:"flex items-center justify-center mb-6",children:It.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-400 to-red-500 rounded-full flex items-center justify-center shadow-lg",children:It.jsx(v,{className:"w-8 h-8 text-white"})})}),It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900 text-center mb-2",children:"Cambio de Contrasea Requerido"}),It.jsx("div",{className:"mb-6",children:It.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-start",children:[It.jsx(j,{className:"w-5 h-5 text-orange-600 mt-0.5 mr-3 flex-shrink-0"}),It.jsxs("div",{className:"text-sm text-orange-800",children:[It.jsxs("p",{className:"font-medium mb-1",children:["Hola ",n,"!"]}),It.jsx("p",{children:"Necesitas cambiar tu contrasea para poder usar EDA de forma segura."})]})]})})}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return s.contrasenaActual||(e.contrasenaActual="La contrasea actual es requerida"),s.nuevaContrasena?s.nuevaContrasena.length<6&&(e.nuevaContrasena="La contrasea debe tener al menos 6 caracteres"):e.nuevaContrasena="La nueva contrasea es requerida",s.confirmarContrasena?s.nuevaContrasena!==s.confirmarContrasena&&(e.confirmarContrasena="Las contraseas no coinciden"):e.confirmarContrasena="Confirma tu nueva contrasea",m(e),0===Object.keys(e).length})()){d(!0);try{(await Xl.changePassword(a,{contrasenaActual:s.contrasenaActual,nuevaContrasena:s.nuevaContrasena,confirmarContrasena:s.confirmarContrasena})).success&&(ca.success("Contrasea actualizada correctamente"),i({contrasenaActual:"",nuevaContrasena:"",confirmarContrasena:""}),r(!0))}catch(t){ca.error(t.message||"Error al cambiar la contrasea"),(t.message.toLowerCase().includes("actual")||t.message.toLowerCase().includes("incorrect"))&&m({contrasenaActual:"Contrasea actual incorrecta"})}finally{d(!1)}}},className:"space-y-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea Actual *"}),It.jsxs("div",{className:"relative",children:[It.jsx("input",{type:o.current?"text":"password",name:"contrasenaActual",value:s.contrasenaActual,onChange:h,className:"w-full px-3 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 "+(u.contrasenaActual?"border-red-300":"border-gray-300"),placeholder:"Ingresa tu contrasea actual"}),It.jsx("button",{type:"button",onClick:()=>f("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.current?It.jsx(w,{className:"w-4 h-4 text-gray-400"}):It.jsx(N,{className:"w-4 h-4 text-gray-400"})})]}),u.contrasenaActual&&It.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.contrasenaActual})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nueva Contrasea *"}),It.jsxs("div",{className:"relative",children:[It.jsx("input",{type:o.new?"text":"password",name:"nuevaContrasena",value:s.nuevaContrasena,onChange:h,className:"w-full px-3 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 "+(u.nuevaContrasena?"border-red-300":"border-gray-300"),placeholder:"Ingresa tu nueva contrasea"}),It.jsx("button",{type:"button",onClick:()=>f("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.new?It.jsx(w,{className:"w-4 h-4 text-gray-400"}):It.jsx(N,{className:"w-4 h-4 text-gray-400"})})]}),u.nuevaContrasena&&It.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.nuevaContrasena}),It.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Mnimo 6 caracteres"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Nueva Contrasea *"}),It.jsxs("div",{className:"relative",children:[It.jsx("input",{type:o.confirm?"text":"password",name:"confirmarContrasena",value:s.confirmarContrasena,onChange:h,className:"w-full px-3 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 "+(u.confirmarContrasena?"border-red-300":"border-gray-300"),placeholder:"Confirma tu nueva contrasea"}),It.jsx("button",{type:"button",onClick:()=>f("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.confirm?It.jsx(w,{className:"w-4 h-4 text-gray-400"}):It.jsx(N,{className:"w-4 h-4 text-gray-400"})})]}),u.confirmarContrasena&&It.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.confirmarContrasena})]}),It.jsx("div",{className:"pt-4",children:It.jsx("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin mr-2"}),"Cambiando contrasea..."]}):It.jsxs(It.Fragment,{children:[It.jsx(S,{className:"w-4 h-4 mr-2"}),"Cambiar Contrasea"]})})})]}),It.jsx("div",{className:"mt-4 text-center",children:It.jsx("p",{className:"text-xs text-gray-500",children:"Esta accin es obligatoria para garantizar la seguridad de tu cuenta"})})]})})})})]})})},ec=()=>{const[e,r]=t.useState({usuario:"",password:""}),[a,s]=t.useState({}),[i,o]=t.useState(!1),[c,d]=t.useState(!1),[u,m]=t.useState(!1),h=l(),f=n(),{login:p,setLoading:g,setError:x,clearError:b}=Sa(),y=f.state?.from?.pathname||"/dashboard";t.useEffect(()=>{const e=setTimeout(()=>{m(!0)},100);return()=>clearTimeout(e)},[]);const j=e=>{const{name:t,value:n}=e.target;r(e=>({...e,[t]:n})),a[t]&&s(e=>({...e,[t]:""})),"usuario"===t&&r(e=>({...e,email:n}))};return It.jsx("div",{className:"min-h-screen bg-gradient-to-br from-white via-white to-purple-100 relative overflow-hidden",children:It.jsxs("div",{className:"absolute inset-0 transition-all duration-1500 "+(u?"opacity-100":"opacity-0"),children:[It.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[It.jsx("div",{className:"absolute -top-12 -right-12 w-72 h-72 bg-gradient-to-br from-pink-400 to-red-500 rounded-full opacity-25 blur-2xl"}),It.jsx("div",{className:"absolute -bottom-12 -right-24 w-64 h-64 bg-gradient-to-br from-green-400 to-blue-500 rounded-full opacity-25 blur-2xl"}),It.jsx("div",{className:"absolute top-1/4 left-1/4 w-8 h-8 bg-blue-500 rounded-lg rotate-45 opacity-30 animate-bounce",style:{animationDelay:"0s",animation:"float 6s ease-in-out infinite"}}),It.jsx("div",{className:"absolute top-1/3 right-1/4 w-6 h-6 bg-pink-500 rounded-full opacity-40",style:{animationDelay:"1s",animation:"float 8s ease-in-out infinite reverse"}}),It.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-4 h-4 bg-yellow-500 rounded-full opacity-50",style:{animationDelay:"2s",animation:"float 7s ease-in-out infinite"}}),It.jsx("div",{className:"absolute bottom-1/4 right-1/3 w-7 h-7 bg-purple-500 rounded-lg rotate-12 opacity-35",style:{animationDelay:"0.5s",animation:"float 9s ease-in-out infinite reverse"}}),It.jsx("div",{className:"absolute top-20 left-16 text-blue-400 opacity-70",style:{animation:"floatMega 8s ease-in-out infinite",animationDelay:"0s"},children:It.jsx(k,{className:"w-8 h-8"})}),It.jsx("div",{className:"absolute top-32 right-20 text-pink-400 opacity-65",style:{animation:"floatIntense 6s ease-in-out infinite reverse",animationDelay:"1.5s"},children:It.jsx(C,{className:"w-9 h-9"})}),It.jsx("div",{className:"absolute top-1/2 left-12 text-green-400 opacity-75",style:{animation:"floatMega 10s ease-in-out infinite",animationDelay:"3s"},children:It.jsx(A,{className:"w-7 h-7"})}),It.jsx("div",{className:"absolute bottom-32 left-24 text-yellow-400 opacity-70",style:{animation:"floatIntense 7s ease-in-out infinite reverse",animationDelay:"2s"},children:It.jsx(_,{className:"w-8 h-8"})}),It.jsx("div",{className:"absolute bottom-20 right-16 text-red-400 opacity-65",style:{animation:"floatMega 9s ease-in-out infinite",animationDelay:"4s"},children:It.jsx(T,{className:"w-7 h-7"})}),It.jsx("div",{className:"absolute top-14 left-6 text-emerald-500 opacity-75",style:{animation:"floatMega 7s ease-in-out infinite",animationDelay:"0.8s"},children:It.jsx(O,{className:"w-10 h-10"})}),It.jsx("div",{className:"absolute top-72 right-6 text-purple-500 opacity-80",style:{animation:"floatIntense 8s ease-in-out infinite reverse",animationDelay:"2.3s"},children:It.jsx(D,{className:"w-11 h-11"})}),It.jsx("div",{className:"absolute bottom-14 left-6 text-cyan-500 opacity-70",style:{animation:"floatMega 9s ease-in-out infinite",animationDelay:"3.7s"},children:It.jsx(P,{className:"w-10 h-10"})}),It.jsx("div",{className:"absolute bottom-72 right-12 text-orange-500 opacity-75",style:{animation:"floatIntense 6s ease-in-out infinite reverse",animationDelay:"1.4s"},children:It.jsx(M,{className:"w-9 h-9"})}),It.jsx("div",{className:"absolute top-40 left-32 text-purple-400 opacity-60",style:{animation:"floatIntense 8s ease-in-out infinite reverse",animationDelay:"1s"},children:It.jsx(F,{className:"w-6 h-6"})}),It.jsx("div",{className:"absolute bottom-40 left-8 text-indigo-400 opacity-75",style:{animation:"floatMega 11s ease-in-out infinite",animationDelay:"3.5s"},children:It.jsx(I,{className:"w-6 h-6"})}),It.jsx("div",{className:"absolute top-60 right-32 text-orange-400 opacity-65",style:{animation:"floatIntense 6s ease-in-out infinite reverse",animationDelay:"2.5s"},children:It.jsx(R,{className:"w-7 h-7"})}),It.jsx("div",{className:"absolute bottom-60 right-8 text-teal-400 opacity-70",style:{animation:"floatMega 12s ease-in-out infinite",animationDelay:"5s"},children:It.jsx(L,{className:"w-6 h-6"})}),It.jsx("div",{className:"absolute top-16 left-40 text-cyan-400 opacity-65",style:{animation:"floatIntense 9s ease-in-out infinite",animationDelay:"1.2s"},children:It.jsx(z,{className:"w-8 h-8"})}),It.jsx("div",{className:"absolute top-80 left-20 text-lime-400 opacity-70",style:{animation:"floatMega 7s ease-in-out infinite reverse",animationDelay:"4.2s"},children:It.jsx($,{className:"w-9 h-9"})}),It.jsx("div",{className:"absolute bottom-16 left-40 text-amber-400 opacity-75",style:{animation:"floatIntense 10s ease-in-out infinite",animationDelay:"2.8s"},children:It.jsx(q,{className:"w-8 h-8"})}),It.jsx("div",{className:"absolute top-24 right-8 text-rose-400 opacity-60",style:{animation:"floatMega 8s ease-in-out infinite reverse",animationDelay:"3.8s"},children:It.jsx(M,{className:"w-7 h-7"})}),It.jsx("div",{className:"absolute top-28 left-8 text-violet-400 opacity-55",style:{animation:"floatIntense 5s ease-in-out infinite",animationDelay:"0.5s"},children:It.jsx(U,{className:"w-4 h-4"})}),It.jsx("div",{className:"absolute top-44 right-12 text-sky-400 opacity-60",style:{animation:"floatMega 6s ease-in-out infinite reverse",animationDelay:"2.2s"},children:It.jsx(B,{className:"w-5 h-5"})}),It.jsx("div",{className:"absolute bottom-28 left-16 text-emerald-400 opacity-65",style:{animation:"floatIntense 7s ease-in-out infinite",animationDelay:"1.8s"},children:It.jsx(Y,{className:"w-4 h-4"})}),It.jsx("div",{className:"absolute bottom-44 right-24 text-fuchsia-400 opacity-55",style:{animation:"floatMega 9s ease-in-out infinite reverse",animationDelay:"3.2s"},children:It.jsx(V,{className:"w-5 h-5"})}),It.jsx("div",{className:"absolute top-36 left-4 text-orange-300 opacity-50",style:{animation:"floatIntense 6s ease-in-out infinite",animationDelay:"4.5s"},children:It.jsx(H,{className:"w-4 h-4"})}),It.jsx("div",{className:"absolute top-52 right-4 text-blue-300 opacity-60",style:{animation:"floatMega 8s ease-in-out infinite reverse",animationDelay:"1.7s"},children:It.jsx(W,{className:"w-5 h-5"})}),It.jsx("div",{className:"absolute bottom-36 left-4 text-pink-300 opacity-55",style:{animation:"floatIntense 7s ease-in-out infinite",animationDelay:"3.7s"},children:It.jsx(G,{className:"w-4 h-4"})}),It.jsx("div",{className:"absolute bottom-52 right-4 text-green-300 opacity-65",style:{animation:"floatMega 5s ease-in-out infinite reverse",animationDelay:"2.7s"},children:It.jsx(K,{className:"w-5 h-5"})}),It.jsx("div",{className:"absolute top-12 left-28 text-yellow-300 opacity-45",style:{animation:"floatIntense 4s ease-in-out infinite",animationDelay:"0.8s"},children:It.jsx(Q,{className:"w-3 h-3"})}),It.jsx("div",{className:"absolute top-68 left-36 text-slate-400 opacity-50",style:{animation:"floatMega 6s ease-in-out infinite reverse",animationDelay:"2.3s"},children:It.jsx(X,{className:"w-3 h-3"})}),It.jsx("div",{className:"absolute bottom-12 left-28 text-gray-400 opacity-45",style:{animation:"floatIntense 5s ease-in-out infinite",animationDelay:"4.1s"},children:It.jsx(J,{className:"w-3 h-3"})}),It.jsx("div",{className:"absolute bottom-68 right-28 text-purple-300 opacity-55",style:{animation:"floatMega 7s ease-in-out infinite reverse",animationDelay:"1.3s"},children:It.jsx(O,{className:"w-4 h-4"})})]}),It.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-6",children:It.jsxs("div",{className:"w-full max-w-6xl flex items-center justify-center",children:[It.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-start pl-6 pr-3 transition-all duration-1000 transform "+(u?"translate-x-0 opacity-100":"-translate-x-10 opacity-0"),children:It.jsx("div",{className:"w-full max-w-md",children:It.jsxs("div",{className:"bg-transparent rounded-3xl border border-white/30 p-8 relative transition-all duration-1200 transform "+(u?"translate-y-0 opacity-100 scale-100":"translate-y-8 opacity-0 scale-95"),children:[It.jsx("div",{className:"lg:hidden flex items-center justify-center mb-6",children:It.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center",children:It.jsx(Z,{className:"w-8 h-8 text-white"})})}),It.jsxs("div",{className:"text-center mb-8 transition-all duration-700 transform "+(u?"translate-y-0 opacity-100":"translate-y-4 opacity-0"),style:{transitionDelay:"0.3s"},children:[It.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"EDA"}),It.jsx("p",{className:"text-gray-600",children:"Accede a tu cuenta para continuar"})]}),It.jsxs("form",{onSubmit:async t=>{t.preventDefault();const r=(()=>{const t={};return e.usuario?e.usuario.length<2&&(t.usuario="El DNI debe tener al menos 8 dgitos"):t.usuario="El DNI es requerido",e.password?e.password.length<2&&(t.password="La contrasea debe tener al menos 6 caracteres"):t.password="La contrasea es requerida",t})();if(Object.keys(r).length>0)s(r);else{d(!0),b();try{let t;try{t=await Xl.login(e),ca.success("Bienvenido a EDA!")}catch(a){t=await Xl.loginDev(e)}p(t),localStorage.setItem("token",t.token),h(y,{replace:!0})}catch(n){ca.error(n.message||"Error al iniciar sesin"),s({general:n.message})}finally{d(!1)}}},className:"space-y-6",children:[It.jsxs("div",{className:"transition-all duration-700 transform "+(u?"translate-y-0 opacity-100":"translate-y-4 opacity-0"),style:{transitionDelay:"0.5s"},children:[It.jsx("label",{htmlFor:"usuario",className:"block text-sm font-semibold text-gray-700 mb-2",children:"DNI / Documento"}),It.jsxs("div",{className:"relative",children:[It.jsx(ee,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),It.jsx("input",{id:"usuario",type:"text",name:"usuario",value:e.usuario,onChange:j,placeholder:"12345678",className:"w-full pl-4 pr-4 py-4 border-2 rounded-2xl focus:outline-none focus:ring-4 transition-all duration-300 bg-white/70 backdrop-blur-sm "+(a.usuario?"border-red-300 focus:ring-red-200 focus:border-red-500":"border-gray-200 focus:ring-blue-200 focus:border-blue-500 hover:border-gray-300"),required:!0})]}),a.usuario&&It.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[It.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mr-2"}),a.usuario]})]}),It.jsxs("div",{className:"transition-all duration-700 transform "+(u?"translate-y-0 opacity-100":"translate-y-4 opacity-0"),style:{transitionDelay:"0.7s"},children:[It.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contrasea"}),It.jsxs("div",{className:"relative",children:[It.jsx(v,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),It.jsx("input",{id:"password",type:i?"text":"password",name:"password",value:e.password,onChange:j,placeholder:"",className:"w-full pl-4 pr-14 py-4 border-2 rounded-2xl focus:outline-none focus:ring-4 transition-all duration-300 bg-white/70 backdrop-blur-sm "+(a.password?"border-red-300 focus:ring-red-200 focus:border-red-500":"border-gray-200 focus:ring-blue-200 focus:border-blue-500 hover:border-gray-300"),required:!0}),It.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",onClick:()=>o(!i),children:i?It.jsx(w,{className:"w-5 h-5"}):It.jsx(N,{className:"w-5 h-5"})})]}),a.password&&It.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[It.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mr-2"}),a.password]})]}),a.general&&It.jsx("div",{className:"p-4 bg-red-50 border-2 border-red-200 rounded-2xl",children:It.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[It.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),a.general]})}),It.jsx("div",{className:"transition-all duration-700 transform "+(u?"translate-y-0 opacity-100":"translate-y-4 opacity-0"),style:{transitionDelay:"0.9s"},children:It.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 px-6 rounded-2xl font-semibold text-white transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl "+(c?"bg-gray-400 cursor-not-allowed scale-100":"bg-blue-600 focus:outline-none focus:ring-4 focus:ring-blue-200 hover:bg-blue-700"),children:c?It.jsxs("div",{className:"flex items-center justify-center",children:[It.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-3"}),"Verificando..."]}):It.jsxs("div",{className:"flex items-center justify-center",children:[It.jsx(te,{className:"w-5 h-5 mr-2"}),"Ingresar al Sistema"]})})})]}),It.jsx("div",{className:"absolute -top-4 -right-4 w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-lg rotate-45 opacity-20"}),It.jsx("div",{className:"absolute -bottom-4 -left-4 w-6 h-6 bg-gradient-to-br from-pink-400 to-red-500 rounded-full opacity-30"})]})})}),It.jsxs("div",{className:"hidden lg:flex lg:w-1/2 flex-col justify-center items-start p-12 relative transition-all duration-1000 transform "+(u?"translate-x-0 opacity-100":"translate-x-10 opacity-0"),children:[It.jsxs("div",{className:"relative z-10",children:[It.jsxs("div",{className:"flex items-center mb-8",children:[It.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mr-4 shadow-lg",children:It.jsx(Z,{className:"w-7 h-7 text-white"})}),It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold bg-blue-600 bg-clip-text text-transparent",children:"EDA"}),It.jsx("p",{className:"text-sm text-gray-600",children:"Sistema Educativo"})]})]}),It.jsxs("div",{className:"mb-8",children:[It.jsxs("h2",{className:"text-4xl font-bold text-gray-800 mb-4 leading-tight",children:["Bienvenido a",It.jsx("br",{}),It.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"EDA"})]}),It.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Plataforma educativa completa para la gestin integral de centros educativos"})]}),It.jsxs("div",{className:"space-y-3",children:[It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),It.jsx("span",{className:"text-gray-700",children:"Gestin de estudiantes y padres"})]}),It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),It.jsx("span",{className:"text-gray-700",children:"Sistema de matrculas integrado"})]}),It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),It.jsx("span",{className:"text-gray-700",children:"Reportes y anlisis en tiempo real"})]})]})]}),It.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-gradient-to-br from-blue-200 to-purple-200 rounded-full opacity-40",style:{animation:"floatMega 12s ease-in-out infinite",animationDelay:"2s"}}),It.jsx("div",{className:"absolute bottom-20 left-32 w-20 h-20 bg-gradient-to-br from-pink-200 to-red-200 rounded-full opacity-50",style:{animation:"floatIntense 10s ease-in-out infinite reverse",animationDelay:"4s"}})]})]})}),It.jsx("div",{className:"absolute bottom-4 left-6 z-20 hover:-translate-y-1 transition-all duration-400",children:It.jsx("div",{className:"flex justify-center items-center space-x-2  transition-all duration-1000 transform "+(u?"translate-y-0":"translate-y-4 opacity-0"),style:{transitionDelay:"1.5s"},children:It.jsx("div",{className:"text-black text-sm font-medium",children:It.jsxs("a",{href:"https://hannahlab.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-black transition-colors cursor-pointer",children:["Powered by ",It.jsx("span",{className:"font-extrabold text-xl bg-gradient-to-r from-green-500 to-emerald-700 bg-clip-text text-transparent",children:"HannahLab"})]})})})})]})})},tc=()=>{const e=l(),{user:r,logout:a}=Sa(),[n,s]=t.useState({contrasenaActual:"",contrasenaNueva:"",confirmacionContrasena:""}),[i,o]=t.useState(""),[c,d]=t.useState(!1),u=!1===r?.cambioContrasena;t.useEffect(()=>(u&&(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href)}),()=>{window.onpopstate=null}),[u]);const m=e=>{s({...n,[e.target.name]:e.target.value}),o("")};return It.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:It.jsxs("div",{className:"max-w-md w-full space-y-8",children:[It.jsxs("div",{children:[It.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:u?"Cambio de Contrasea Obligatorio":"Cambiar Contrasea"}),u?It.jsx("div",{className:"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4",children:It.jsxs("div",{className:"flex",children:[It.jsx("div",{className:"flex-shrink-0",children:It.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:It.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),It.jsx("div",{className:"ml-3",children:It.jsx("p",{className:"text-sm text-yellow-700",children:"Por seguridad, debes cambiar tu contrasea antes de continuar. Tu contrasea actual es la misma que tu documento de identidad."})})]})}):It.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Actualiza tu contrasea de forma segura"})]}),It.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),o(""),n.contrasenaNueva.length<8)o("La contrasea debe tener al menos 8 caracteres");else if(n.contrasenaNueva===n.confirmacionContrasena){d(!0);try{const t=await Xl.changePassword(n);t.user&&Sa.getState().setUser(t.user),alert("Contrasea actualizada exitosamente"),u?(a(),e("/login",{replace:!0,state:{message:"Contrasea actualizada. Por favor, inicia sesin con tu nueva contrasea."}})):e(-1)}catch(r){o(r.response?.data?.message||"Error al cambiar contrasea")}finally{d(!1)}}else o("Las contraseas no coinciden")},children:[i&&It.jsx("div",{className:"rounded-md bg-red-50 p-4",children:It.jsx("p",{className:"text-sm text-red-700",children:i})}),It.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[It.jsxs("div",{children:[It.jsx("label",{htmlFor:"contrasenaActual",className:"sr-only",children:"Contrasea Actual"}),It.jsx("input",{id:"contrasenaActual",name:"contrasenaActual",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Contrasea Actual",value:n.contrasenaActual,onChange:m})]}),It.jsxs("div",{children:[It.jsx("label",{htmlFor:"contrasenaNueva",className:"sr-only",children:"Nueva Contrasea"}),It.jsx("input",{id:"contrasenaNueva",name:"contrasenaNueva",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Nueva Contrasea (mnimo 8 caracteres)",value:n.contrasenaNueva,onChange:m})]}),It.jsxs("div",{children:[It.jsx("label",{htmlFor:"confirmacionContrasena",className:"sr-only",children:"Confirmar Contrasea"}),It.jsx("input",{id:"confirmacionContrasena",name:"confirmacionContrasena",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirmar Nueva Contrasea",value:n.confirmacionContrasena,onChange:m})]})]}),It.jsxs("div",{className:"flex gap-3",children:[It.jsx("button",{type:"submit",disabled:c,className:"flex-1 group relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?"Cambiando...":"Cambiar Contrasea"}),u&&It.jsx("button",{type:"button",onClick:()=>{a(),e("/login")},className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cerrar Sesin"})]})]})]})})},rc=()=>{const[e,a]=t.useState(!1),[s,i]=t.useState(!1),[o,u]=t.useState(!1),m=n();l();const{logout:h,user:f}=Sa(),p=[{path:"/admin",label:"Panel Principal",icon:se,category:"dashboard"},{path:"/admin/estudiantes",label:"Estudiantes",icon:ae,category:"personas"},{path:"/admin/padres",label:"Padres de Familia",icon:ie,category:"personas"},{path:"/admin/trabajadores",label:"Trabajadores",icon:oe,category:"personas"},{path:"/admin/pensiones",label:"Pensiones",icon:le,category:"configuracion"},{path:"/admin/grados",label:"Grados",icon:ce,category:"configuracion"},{path:"/admin/aulas",label:"Aulas",icon:ce,category:"configuracion"},{path:"/admin/anio-escolar",label:"Periodo Escolar",icon:de,category:"configuracion"},{path:"/admin/bimestres",label:"Bimestres",icon:ue,category:"configuracion"},{path:"/admin/cursos",label:"Cursos",icon:me,category:"configuracion"},{path:"/admin/matricula",label:"Matrcula",icon:Z,category:"academico"},{path:"/admin/asignacion-aula",label:"Asignacin de Aulas",icon:me,category:"academico"},{path:"/admin/planificaciones",label:"Planificaciones",icon:he,category:"academico"},{path:"/admin/cronogramas",label:"Cronogramas",icon:de,category:"academico"},{path:"/admin/evaluacion-docente",label:"Comentario Docente",icon:fe,category:"academico"},{path:"/admin/bimestral-docente",label:"Evaluacin Bimestral",icon:pe,category:"academico"},{path:"/admin/ai-chat",label:"Asistente IA",icon:ge,category:"herramientas"}],g=e=>({dashboard:"Dashboard",personas:"Personas",academico:"Acadmico",infraestructura:"Infraestructura",finanzas:"Finanzas",administrativo:"Administrativo",reportes:"Reportes",herramientas:"Herramientas",usuarios:"Usuarios",configuracion:"Configuracin"}[e]||e),x=()=>u(!1);return It.jsxs("div",{className:"flex h-screen bg-gray-50 border-r",children:[It.jsx("header",{className:"fixed inset-x-0 top-0 z-50",children:It.jsx("div",{className:"flex w-full",children:It.jsx("div",{className:"w-full bg-blue-800 border-gray-200 px-4 lg:px-6 py-4",children:It.jsxs("div",{className:"flex items-center justify-between gap-4",children:[It.jsx("div",{className:"flex items-center",children:It.jsx("button",{className:"lg:hidden p-2 text-white hover:text-gray-300",onClick:()=>a(!0),children:It.jsx(re,{className:"w-6 h-6"})})}),It.jsxs("div",{className:"flex-1 ml-4",children:[It.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-white",children:"Panel de Administracin"}),It.jsx("p",{className:"text-sm text-white mt-1 hidden sm:block",children:(new Date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),It.jsx("div",{className:"hidden sm:flex items-center gap-3",children:It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsxs("div",{className:"flex flex-col leading-tight text-right",children:[It.jsxs("span",{className:"text-white font-semibold text-sm truncate max-w-[180px]",children:[f?.nombre||""," ",f?.apellido||""]}),It.jsx("span",{className:"text-xs text-white/80 truncate max-w-[180px]",children:f?.email||"correo@ejemplo.com"})]}),It.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white/70 bg-white/10 flex items-center justify-center",children:It.jsx(ae,{className:"w-5 h-5 text-white"})})]})})]})})})}),e&&It.jsx("div",{className:"fixed inset-0 z-40 bg-black/30 lg:hidden",onClick:()=>a(!1)}),It.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 bg-white shadow-lg transform transition-all duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 flex flex-col pt-20 ${e?"translate-x-0":"-translate-x-full"} ${s?"lg:w-20":"lg:w-64"} w-64`,children:[It.jsx("button",{className:"lg:hidden absolute right-4 top-4 p-2 text-blue-800 hover:text-blue-600",onClick:()=>a(!1),children:It.jsx(ne,{className:"w-6 h-6"})}),It.jsx("nav",{className:"mt-6 flex-1 overflow-y-auto "+(s?"lg:px-2":"px-3"),children:It.jsx("div",{className:"space-y-1 pb-4",children:p.map((e,t)=>{const n=e.icon,i=m.pathname===e.path,o=t>0?p[t-1]:null,l=o&&o.category!==e.category;return It.jsxs("div",{children:[l&&It.jsxs("div",{className:"my-4 "+(s?"lg:px-1":"px-4"),children:[It.jsx("div",{className:"h-px bg-gray-400"}),It.jsxs("div",{className:"text-sm font-bold text-blue-900 uppercase tracking-wider mt-2 mb-1 flex items-center gap-2 transition-opacity duration-200 "+(s?"lg:opacity-0 lg:pointer-events-none":"lg:opacity-100 lg:delay-150"),children:[r.createElement((d=e.category,{dashboard:se,personas:oe,academico:Z,infraestructura:ce,finanzas:ve,administrativo:he,reportes:se,herramientas:ge,usuarios:ae,configuracion:ye}[d]||Z),{className:"w-4 h-4"}),g(e.category)]}),!s&&It.jsx("div",{className:"h-px bg-gray-400"})]}),It.jsxs(c,{to:e.path,onClick:()=>a(!1),title:s?e.label:"",className:`w-full flex items-center ${s?"lg:justify-center lg:px-2":"justify-between px-4"} py-3 mb-1 rounded-lg text-left transition-all duration-200 group hover:translate-x-1 cursor-pointer ${i?"bg-blue-800 text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-600 active:text-gray-600"}`,children:[It.jsxs("div",{className:"flex items-center",children:[It.jsx(n,{className:"w-5 h-5 "+(i?"text-white":"text-gray-400 group-hover:text-gray-600")}),It.jsx("span",{className:"font-medium whitespace-nowrap transition-all duration-200 "+(s?"lg:w-0 lg:opacity-0 lg:overflow-hidden lg:pointer-events-none":"lg:w-auto lg:opacity-100 lg:ml-3 lg:delay-150"),children:e.label})]}),It.jsx(xe,{className:`w-4 h-4 transition-all duration-200 ${s?"lg:w-0 lg:opacity-0 lg:overflow-hidden lg:translate-x-1":"lg:w-4 lg:opacity-100 lg:delay-150"} ${i?"rotate-90 text-white":"text-gray-400"}`})]})]},e.path);var d})})}),It.jsx("div",{className:"mt-auto border-t border-gray-200 "+(s?"lg:p-2":"p-3"),children:It.jsxs("button",{className:"w-full flex items-center bg-red-50 text-red-600 hover:bg-red-100 cursor-pointer rounded-lg transition-colors duration-200 "+(s?"lg:justify-center lg:px-2 lg:py-3":"space-x-3 px-4 py-3"),onClick:()=>u(!0),title:s?"Cerrar Sesin":"",children:[It.jsx(be,{className:"w-5 h-5"}),It.jsx("span",{className:"font-medium whitespace-nowrap transition-opacity duration-200 "+(s?"lg:opacity-0 lg:pointer-events-none":"lg:opacity-100 lg:delay-150"),children:"Cerrar Sesin"})]})})]}),It.jsx("main",{className:"flex-1 flex flex-col overflow-hidden lg:ml-0 pt-20",children:It.jsx("div",{className:"p-4 lg:p-6 h-full overflow-y-auto",children:It.jsx(d,{context:{isSidebarCollapsed:s,setIsSidebarCollapsed:i}})})}),It.jsx(hi,{appear:!0,show:o,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:x,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-md"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:It.jsx(be,{className:"w-6 h-6 text-red-600"})}),It.jsx(ki.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 text-center mb-2",children:"Cerrar sesin?"}),It.jsx("div",{className:"mt-2",children:It.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Ests seguro de que quieres cerrar sesin? Perders el acceso a tu cuenta administrativa."})}),It.jsxs("div",{className:"mt-6 flex space-x-3",children:[It.jsx("button",{type:"button",className:"flex-1 inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors duration-200",onClick:x,children:"Cancelar"}),It.jsx("button",{type:"button",className:"flex-1 inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors duration-200",onClick:()=>{u(!1),h()},children:"Cerrar sesin"})]})]})})})})]})})]})},ac=()=>{const[e,a]=t.useState(!1),[s,i]=t.useState(!1),o=n(),{logout:l,user:u}=Sa(),m=[{path:"/teacher",label:"Panel Principal",icon:se,category:"dashboard"},{path:"/teacher/ai-chat",label:"Asistente IA",icon:ge,category:"herramientas"},{path:"/teacher/juegos",label:"Juegos",icon:U,category:"herramientas"},{path:"/teacher/cronograma",label:"Cronograma",icon:ue,category:"academico"},{path:"/teacher/asistencia",label:"Asistencias",icon:pe,category:"academico"},{path:"/teacher/tareas",label:"Tareas",icon:me,category:"academico"},{path:"/teacher/evaluaciones-estudiantes",label:"Evaluaciones Estudiantes",icon:he,category:"academico"},{path:"/teacher/anotaciones",label:"Anotaciones",icon:je,category:"academico"},{path:"/teacher/planificaciones",label:"Planificaciones",icon:he,category:"academico"},{path:"/teacher/aulas",label:"Mis Aulas",icon:ce,category:"gestion"},{path:"/teacher/evaluaciones",label:"Mis Evaluaciones",icon:he,category:"evaluaciones"}],h=e=>({dashboard:"Dashboard",herramientas:"Herramientas Educativas",academico:"Trabajo Acadmico",gestion:"Gestin de Estudiantes",evaluaciones:"Evaluaciones Personales"}[e]||e),f=()=>i(!1);return It.jsxs("div",{className:"flex h-screen bg-gray-50 border-r",children:[e&&It.jsx("div",{className:"fixed inset-0 z-40 bg-black/30 lg:hidden",onClick:()=>a(!1)}),It.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 flex flex-col "+(e?"translate-x-0":"-translate-x-full"),children:[It.jsxs("div",{className:"flex items-center bg-green-600 justify-between p-7 border-b border-gray-200 lg:justify-start",children:[It.jsx("div",{className:"flex items-center space-x-3 mt-1",children:It.jsx("span",{className:"text-xl font-bold text-white tracking-wider",children:"EDA"})}),It.jsx("button",{className:"lg:hidden p-2 text-white hover:text-gray-200",onClick:()=>a(!1),children:It.jsx(ne,{className:"w-6 h-6"})})]}),It.jsx("nav",{className:"mt-6 px-3 flex-1 overflow-y-auto",children:It.jsx("div",{className:"space-y-1 pb-4",children:m.map((e,t)=>{const n=e.icon,s=o.pathname===e.path,i=t>0?m[t-1]:null,l=i&&i.category!==e.category;return It.jsxs("div",{children:[l&&It.jsxs("div",{className:"my-4 px-4",children:[It.jsx("div",{className:"h-px bg-gray-400"}),It.jsxs("div",{className:"text-sm font-bold text-green-900 uppercase tracking-wider mt-2 mb-1 flex items-center gap-2",children:[r.createElement((d=e.category,{dashboard:se,herramientas:we,academico:Z,gestion:oe,evaluaciones:pe}[d]||Z),{className:"w-4 h-4"}),h(e.category)]}),It.jsx("div",{className:"h-px bg-gray-400"})]}),It.jsxs(c,{to:e.path,onClick:()=>a(!1),className:"w-full flex items-center justify-between px-4 py-3 mb-1 rounded-lg text-left transition-all duration-200 group hover:translate-x-2 cursor-pointer "+(s?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx(n,{className:"w-5 h-5 "+(s?"text-white":"text-gray-400 group-hover:text-gray-600")}),It.jsx("span",{className:"font-medium",children:e.label})]}),It.jsx(xe,{className:"w-4 h-4 transition-transform "+(s?"rotate-90 text-white":"text-gray-400")})]})]},e.path);var d})})}),It.jsxs("div",{className:"mt-auto p-3 border-t border-gray-300",children:[It.jsxs("div",{className:"flex flex-row items-center bg-gray-200 rounded-xl px-3 py-2 mb-3 w-full shadow gap-3 hover:-translate-y-1 transition-all hover:bg-green-100 cursor-pointer",children:[It.jsx("div",{className:"w-11 h-11 rounded-full border-2 border-green-500 shadow bg-green-100 flex items-center justify-center",children:It.jsx(ae,{className:"w-6 h-6 text-green-600"})}),It.jsxs("div",{className:"flex flex-col min-w-0",children:[It.jsxs("span",{className:"font-semibold text-gray-900 text-sm truncate",children:[u?.nombre||""," ",u?.apellido||""]}),It.jsx("span",{className:"text-xs text-gray-700 truncate",children:u?.email||"correo@ejemplo.com"}),u?.role?.nombre&&It.jsx("span",{className:"text-[10px] text-white bg-green-500 rounded px-2 py-0.5 mt-1 mb-1 w-fit font-semibold tracking-wide uppercase",children:u.rol})]})]}),It.jsxs("button",{className:"w-full flex items-center bg-red-50 text-red-600 space-x-3 px-4 py-3 hover:bg-red-100 cursor-pointer rounded-lg transition-colors duration-200",onClick:()=>i(!0),children:[It.jsx(be,{className:"w-5 h-5"}),It.jsx("span",{className:"font-medium",children:"Cerrar Sesin"})]})]})]}),It.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden lg:ml-0",children:[It.jsx("header",{className:"bg-green-600 border-gray-200 px-4 lg:px-6 py-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("button",{className:"lg:hidden p-2 text-white hover:text-gray-200",onClick:()=>a(!0),children:It.jsx(re,{className:"w-6 h-6"})}),It.jsxs("div",{className:"flex-1 lg:ml-0 ml-4",children:[It.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-white",children:"Panel de Docente"}),It.jsxs("p",{className:"text-sm text-white mt-1 hidden sm:block",children:[u?.fullName||u?.nombre||u?.username," |"," ",(new Date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]})}),It.jsx("div",{className:"p-4 lg:p-6 h-full overflow-y-auto",children:It.jsx(d,{})})]}),It.jsx(hi,{appear:!0,show:s,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:f,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-md"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsx("div",{className:"flex items-center justify-center mb-4",children:It.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:It.jsx(be,{className:"w-6 h-6 text-red-600"})})}),It.jsx(ki.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 text-center mb-2",children:"Seguro que quieres salir?"}),It.jsx("div",{className:"mt-2",children:It.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Ests a punto de cerrar sesin en"," ",It.jsx("span",{className:"font-semibold text-green-600",children:"EDA"}),". Ests seguro de que quieres continuar?"]})}),It.jsxs("div",{className:"mt-6 flex space-x-3",children:[It.jsx("button",{type:"button",className:"flex-1 inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:f,children:"Cancelar"}),It.jsx("button",{type:"button",className:"flex-1 inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",onClick:()=>{i(!1),l()},children:"S, salir"})]})]})})})})]})})]})},nc=()=>{const[e,a]=t.useState(!1),[s,i]=t.useState(!1),o=n(),{logout:l,user:u}=Sa(),m=[{path:"/parent",label:"Panel Principal",icon:se,category:"dashboard"},{path:"/parent/iachat",label:"Asistente IA",icon:Ne,category:"herramientas"},{path:"/parent/juegos",label:"Juegos",icon:U,category:"herramientas"},{path:"/parent/tareas",label:"Actividades",icon:me,category:"academico"},{path:"/parent/cronograma",label:"Cronograma",icon:ue,category:"academico"},{path:"/parent/anotaciones",label:"Anotaciones",icon:Ee,category:"academico"},{path:"/parent/asistencia",label:"Asistencia",icon:S,category:"gestion"}],h=e=>({dashboard:"Dashboard",herramientas:"Herramientas Educativas",academico:"Trabajo Acadmico",gestion:"Gestin de Estudiantes",financiero:"Gestin Financiera"}[e]||e),f=()=>i(!1);return It.jsxs("div",{className:"flex h-screen bg-gray-50 border-r",children:[e&&It.jsx("div",{className:"fixed inset-0 z-40 bg-black/30 lg:hidden",onClick:()=>a(!1)}),It.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 flex flex-col "+(e?"translate-x-0":"-translate-x-full"),children:[It.jsxs("div",{className:"flex items-center bg-yellow-600 justify-between p-7 border-b border-gray-200 lg:justify-start",children:[It.jsx("div",{className:"flex items-center space-x-3 mt-1",children:It.jsx("span",{className:"text-xl font-bold text-white tracking-wider",children:"EDA"})}),It.jsx("button",{className:"lg:hidden p-2 text-gray-400 hover:text-gray-600",onClick:()=>a(!1),children:It.jsx(ne,{className:"w-6 h-6"})})]}),It.jsx("nav",{className:"mt-6 px-3 flex-1 overflow-y-auto",children:It.jsx("div",{className:"space-y-1 pb-4",children:m.map((e,t)=>{const n=e.icon,s=o.pathname===e.path,i=t>0?m[t-1]:null,l=i&&i.category!==e.category;return It.jsxs("div",{children:[l&&It.jsxs("div",{className:"my-4 px-4",children:[It.jsx("div",{className:"h-px bg-gray-400"}),It.jsxs("div",{className:"text-sm font-bold text-yellow-900 uppercase tracking-wider mt-2 mb-1 flex items-center gap-2",children:[r.createElement((d=e.category,{dashboard:se,herramientas:we,academico:me,gestion:S,financiero:ve}[d]||me),{className:"w-4 h-4"}),h(e.category)]}),It.jsx("div",{className:"h-px bg-gray-400"})]}),It.jsxs(c,{to:e.path,onClick:()=>a(!1),className:"w-full flex items-center justify-between px-4 py-3 mb-1 rounded-lg text-left transition-all duration-200 group hover:translate-x-2 cursor-pointer "+(s?"bg-yellow-600 text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx(n,{className:"w-5 h-5 "+(s?"text-white":"text-gray-400 group-hover:text-gray-600")}),It.jsx("span",{className:"font-medium",children:e.label})]}),It.jsx(xe,{className:"w-4 h-4 transition-transform "+(s?"rotate-90 text-white":"text-gray-400")})]})]},e.path);var d})})}),It.jsxs("div",{className:"mt-auto px-3 pb-6 flex flex-col gap-3",children:[It.jsxs("div",{className:"flex flex-row items-center bg-gray-200 rounded-xl px-3 py-2 mb-2 w-full shadow gap-3 hover:-translate-y-1 transition-all hover:bg-yellow-100 cursor-pointer",children:[It.jsx("div",{className:"w-11 h-11 rounded-full border-2 border-yellow-500 shadow bg-yellow-100 flex items-center justify-center",children:It.jsx(ae,{className:"w-6 h-6 text-yellow-600"})}),It.jsxs("div",{className:"flex flex-col min-w-0",children:[It.jsxs("span",{className:"font-semibold text-gray-900 text-sm truncate",children:[u?.nombre||""," ",u?.apellido||""]}),It.jsx("span",{className:"text-xs text-gray-700 truncate",children:u?.email||"correo@ejemplo.com"}),u?.role?.nombre&&It.jsx("span",{className:"text-[10px] text-white bg-yellow-500 rounded px-2 py-0.5 mt-1 mb-1 w-fit font-semibold tracking-wide uppercase",children:u.role.nombre})]})]}),It.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",onClick:()=>i(!0),children:[It.jsx(be,{className:"w-5 h-5"}),It.jsx("span",{className:"font-medium",children:"Cerrar Sesin"})]})]})]}),It.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden lg:ml-0",children:[It.jsx("header",{className:"bg-yellow-600 border-gray-200 px-4 lg:px-6 py-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("button",{className:"lg:hidden p-2 text-gray-400 hover:text-gray-600",onClick:()=>a(!0),children:It.jsx(re,{className:"w-6 h-6"})}),It.jsxs("div",{className:"flex-1 lg:ml-0 ml-4",children:[It.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-white",children:"Panel Familiar"}),It.jsxs("p",{className:"text-sm text-white mt-1 hidden sm:block",children:[u?.fullName||u?.nombre||u?.username," |"," ",(new Date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]})}),It.jsx("div",{className:"p-4 lg:p-6 h-full overflow-y-auto",children:It.jsx(d,{})})]}),It.jsx(hi,{appear:!0,show:s,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:f,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-md"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:It.jsx(be,{className:"w-6 h-6 text-red-600"})}),It.jsx(ki.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 text-center mb-2",children:"Cerrar sesin?"}),It.jsx("div",{className:"mt-2",children:It.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Ests seguro de que quieres cerrar sesin? Perders el acceso a tu cuenta familiar."})}),It.jsxs("div",{className:"mt-6 flex space-x-3",children:[It.jsx("button",{type:"button",className:"flex-1 inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors duration-200",onClick:f,children:"Cancelar"}),It.jsx("button",{type:"button",className:"flex-1 inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors duration-200",onClick:()=>{i(!1),l()},children:"Cerrar sesin"})]})]})})})})]})})]})},sc=()=>{const[e,a]=t.useState(!1),[s,i]=t.useState(!1),[o,l]=t.useState(!1),u=n(),{logout:m,user:h}=Sa(),f=[{path:"/secretaria",label:"Panel Principal",icon:se,category:"dashboard"},{path:"/secretaria/reportes",label:"Reportes",icon:he,category:"reportes"},{path:"/secretaria/caja",label:"Caja",icon:ve,category:"finanzas"},{path:"/secretaria/pensiones",label:"Pensiones",icon:le,category:"finanzas"}],p=e=>({dashboard:"Dashboard",reportes:"Reportes",finanzas:"Finanzas"}[e]||e),g=()=>l(!1);return It.jsxs("div",{className:"flex h-screen bg-gray-50 border-r",children:[It.jsx("header",{className:"fixed inset-x-0 top-0 z-50",children:It.jsx("div",{className:"flex w-full",children:It.jsx("div",{className:"w-full bg-blue-300 border-gray-200 px-4 lg:px-6 py-4",children:It.jsxs("div",{className:"flex items-center justify-between gap-4",children:[It.jsxs("div",{className:"flex items-center",children:[It.jsx("button",{className:"lg:hidden p-2 text-blue-900 hover:text-blue-700",onClick:()=>a(!0),children:It.jsx(re,{className:"w-6 h-6"})}),It.jsx("button",{className:"hidden lg:flex p-2 text-blue-900 hover:text-blue-700 transition-colors rounded-md hover:bg-blue-100",onClick:()=>i(!s),title:s?"Expandir menu":"Colapsar menu",children:s?It.jsx(Se,{className:"w-5 h-5"}):It.jsx(ke,{className:"w-5 h-5"})})]}),It.jsxs("div",{className:"flex-1 ml-4",children:[It.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-black",children:"Panel de Secretara"}),It.jsx("p",{className:"text-sm text-blue-900/70 mt-1 hidden sm:block",children:(new Date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),It.jsx("div",{className:"hidden sm:flex items-center gap-3",children:It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsxs("div",{className:"flex flex-col leading-tight text-right",children:[It.jsxs("span",{className:"text-blue-900 font-semibold text-sm truncate max-w-[180px]",children:[h?.nombre||""," ",h?.apellido||""]}),It.jsx("span",{className:"text-xs text-blue-900/70 truncate max-w-[180px]",children:h?.email||"correo@ejemplo.com"})]}),It.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-blue-900/30 bg-white/40 flex items-center justify-center",children:It.jsx(ae,{className:"w-5 h-5 text-blue-900"})})]})})]})})})}),e&&It.jsx("div",{className:"fixed inset-0 z-40 bg-black/30 lg:hidden",onClick:()=>a(!1)}),It.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 bg-blue-50 shadow-lg transform transition-all duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 flex flex-col pt-20 ${e?"translate-x-0":"-translate-x-full"} ${s?"lg:w-20":"lg:w-64"} w-64`,children:[It.jsx("button",{className:"lg:hidden absolute right-4 top-4 p-2 text-blue-700 hover:text-blue-600",onClick:()=>a(!1),children:It.jsx(ne,{className:"w-6 h-6"})}),It.jsx("nav",{className:"mt-6 flex-1 overflow-y-auto "+(s?"lg:px-2":"px-3"),children:It.jsx("div",{className:"space-y-1 pb-4",children:f.map((e,t)=>{const n=e.icon,i=u.pathname===e.path,o=t>0?f[t-1]:null,l=o&&o.category!==e.category;return It.jsxs("div",{children:[l&&It.jsxs("div",{className:"my-4 "+(s?"lg:px-1":"px-4"),children:[It.jsx("div",{className:"h-px bg-gray-400"}),It.jsxs("div",{className:"text-sm font-bold text-blue-900 uppercase tracking-wider mt-2 mb-1 flex items-center gap-2 transition-opacity duration-200 "+(s?"lg:opacity-0 lg:pointer-events-none":"lg:opacity-100 lg:delay-150"),children:[r.createElement((d=e.category,{dashboard:se,reportes:he,finanzas:ve}[d]||se),{className:"w-4 h-4"}),p(e.category)]}),!s&&It.jsx("div",{className:"h-px bg-gray-400"})]}),It.jsxs(c,{to:e.path,onClick:()=>a(!1),title:s?e.label:"",className:`w-full flex items-center ${s?"lg:justify-center lg:px-2":"justify-between px-4"} py-3 mb-1 rounded-lg text-left transition-all duration-200 group hover:translate-x-2 cursor-pointer ${i?"bg-blue-300 text-blue-900":"text-blue-900/70 hover:bg-blue-100 hover:text-blue-900 active:text-blue-900"}`,children:[It.jsxs("div",{className:"flex items-center",children:[It.jsx(n,{className:"w-5 h-5 "+(i?"text-blue-900":"text-blue-400 group-hover:text-blue-700")}),It.jsx("span",{className:"font-medium whitespace-nowrap transition-all duration-200 "+(s?"lg:w-0 lg:opacity-0 lg:overflow-hidden lg:pointer-events-none":"lg:w-auto lg:opacity-100 lg:ml-3 lg:delay-150"),children:e.label})]}),It.jsx(xe,{className:`w-4 h-4 transition-all duration-200 ${s?"lg:w-0 lg:opacity-0 lg:overflow-hidden lg:translate-x-1":"lg:w-4 lg:opacity-100 lg:delay-150"} ${i?"rotate-90 text-blue-900":"text-blue-400"}`})]})]},e.path);var d})})}),It.jsx("div",{className:"mt-auto border-t border-blue-200 p-3",children:It.jsxs("button",{className:"w-full flex items-center bg-red-50 text-red-600 hover:bg-red-100 cursor-pointer rounded-lg transition-colors duration-200 space-x-3 px-4 py-3",onClick:()=>l(!0),children:[It.jsx(be,{className:"w-5 h-5"}),It.jsx("span",{className:"font-medium",children:"Cerrar Sesin"})]})})]}),It.jsx("main",{className:"flex-1 flex flex-col overflow-hidden lg:ml-0 pt-20",children:It.jsx("div",{className:"p-4 lg:p-6 h-full overflow-y-auto",children:It.jsx(d,{context:{isSidebarCollapsed:s,setIsSidebarCollapsed:i}})})}),It.jsx(hi,{appear:!0,show:o,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:g,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-md"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:It.jsx(be,{className:"w-6 h-6 text-red-600"})}),It.jsx(ki.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 text-center mb-2",children:"Cerrar sesin?"}),It.jsx("div",{className:"mt-2",children:It.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Ests seguro de que quieres cerrar sesin? Perders el acceso a tu cuenta administrativa."})}),It.jsxs("div",{className:"mt-6 flex space-x-3",children:[It.jsx("button",{type:"button",className:"flex-1 inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors duration-200",onClick:g,children:"Cancelar"}),It.jsx("button",{type:"button",className:"flex-1 inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors duration-200",onClick:()=>{l(!1),m()},children:"Cerrar sesin"})]})]})})})})]})})]})},ic=void 0,oc=void 0,lc=`https://api.cloudinary.com/v1_1/${ic}/image/upload`,cc=async(e,t="usuarios",r={})=>{if((()=>{throw new Error("VITE_CLOUDINARY_CLOUD_NAME no est configurado")})(),!e)throw new Error("No se proporcion archivo");if(!e.type.startsWith("image/"))throw new Error("El archivo debe ser una imagen");const a=5242880;if(e.size>a)throw new Error("Archivo muy grande. Mximo 5MB permitido");const n=new FormData;n.append("file",e),n.append("upload_preset",oc),n.append("folder",t),n.append("resource_type","image");try{const e=await fetch(lc,{method:"POST",body:n});if(!e.ok){const t=await e.json();throw new Error(t.error?.message||`Error HTTP ${e.status}`)}const t=await e.json(),r=`https://res.cloudinary.com/${ic}/image/upload`;return{success:!0,url:t.secure_url,publicId:t.public_id,format:t.format,width:t.width,height:t.height,bytes:t.bytes,thumbnailUrl:`${r}/c_fill,w_100,h_100,q_auto,f_auto/${t.public_id}`,detailUrl:`${r}/c_fill,w_400,h_400,q_auto,f_auto/${t.public_id}`}}catch(s){if(s.message.includes("fetch"))throw new Error("Error de conexin. Verifica tu internet e intenta nuevamente.");throw s}},dc=(e,t={})=>cc(e,"estudiantes",t),uc=(e,t={})=>cc(e,"vouchers",t),mc={all:["estudiantes"],lists:()=>[...mc.all,"list"],list:e=>[...mc.lists(),{filters:e}],details:()=>[...mc.all,"detail"],detail:e=>[...mc.details(),e]},hc=async(e={})=>{const t=localStorage.getItem("token");return((await Pl.get("http://localhost:3000/api/v1/estudiante",{headers:{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""},params:e})).data||{}).estudiantes||[]},fc=async e=>{const t=localStorage.getItem("token");return(await Pl.post("http://localhost:3000/api/v1/estudiante",e,{headers:{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""}})).data.estudiante},pc=async({id:e,...t})=>{if(!e)throw new Error("ID del estudiante es requerido para actualizar");const r=localStorage.getItem("token");return(await Pl.patch(`http://localhost:3000/api/v1/estudiante/${e}`,t,{headers:{"Content-Type":"application/json",Authorization:r?`Bearer ${r}`:""}})).data.estudiante},gc=async e=>{const t=localStorage.getItem("token");return(await Pl.delete(`http://localhost:3000/api/v1/estudiante/${e}`,{headers:{Authorization:t?`Bearer ${t}`:""}})).data},xc=()=>{const[e,r]=t.useState({grade:"",status:"",search:""}),{data:a=[],isLoading:n,refetch:s}=((e={})=>Qr({queryKey:mc.list(e),queryFn:()=>hc(e),staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:2}))({}),i=(()=>{const e=Yr();return Xr({mutationFn:async e=>{let t=null;if(e.photoFile)try{const r=await dc(e.photoFile);t={url:r.url,publicId:r.publicId,thumbnailUrl:r.thumbnailUrl,detailUrl:r.detailUrl}}catch(a){t=null}const r={...e,photo:t||e.photo||null};return delete r.photoFile,fc(r)},onSuccess:t=>{e.invalidateQueries({queryKey:mc.lists()}),ca.success("Estudiante creado exitosamente!",{description:`${t.nombre} ${t.apellido} ha sido agregado al sistema`})},onError:e=>{ca.error("Error al crear estudiante",{description:e.message||"Ocurri un error inesperado"})}})})(),o=(()=>{const e=Yr();return Xr({mutationFn:async({id:e,...t})=>{if(!e)throw new Error("ID del estudiante es requerido");let r=t.photo;if(t.photoFile)try{const e=await dc(t.photoFile);r={url:e.url,publicId:e.publicId,thumbnailUrl:e.thumbnailUrl,detailUrl:e.detailUrl}}catch(n){throw new Error("Error al subir la nueva imagen")}const a={...t,photo:r};return delete a.photoFile,pc({id:e,...a})},onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:mc.lists()}),e.invalidateQueries({queryKey:mc.detail(r)}),ca.success("Estudiante actualizado exitosamente",{description:`Los datos de ${t.nombre} ${t.apellido} han sido actualizados`})},onError:e=>{ca.error("Error al actualizar estudiante",{description:e.message||"Ocurri un error inesperado"})}})})(),l=(()=>{const e=Yr();return Xr({mutationFn:e=>{if(!e)throw new Error("ID del estudiante no encontrado");return gc(e)},onMutate:()=>({loadingToast:ca.loading("Desactivando estudiante...",{description:"Procesando desactivacin..."})}),onSuccess:(t,r,a)=>{e.invalidateQueries({queryKey:mc.lists()}),e.invalidateQueries({queryKey:mc.detail(r)}),ca.success("Estudiante desactivado exitosamente",{id:a.loadingToast,description:"El estudiante ha sido desactivado del sistema"})},onError:(e,t,r)=>{ca.error("Error al desactivar estudiante",{id:r?.loadingToast,description:e.message||"Ocurri un error inesperado"})}})})(),c=(()=>{const e=Yr();return Xr({mutationFn:e=>{if(!e)throw new Error("ID del estudiante no encontrado");return gc(e)},onMutate:()=>({loadingToast:ca.loading("Cambiando estado del estudiante...",{description:"Procesando cambio..."})}),onSuccess:(t,r,a)=>{e.invalidateQueries({queryKey:mc.lists()}),e.invalidateQueries({queryKey:mc.detail(r)}),ca.success("Estado del estudiante actualizado exitosamente!",{id:a.loadingToast,description:"El estado ha sido cambiado correctamente"})},onError:(e,t,r)=>{ca.error("Error al cambiar estado del estudiante",{id:r?.loadingToast,description:e.message||"Ocurri un error inesperado"})}})})(),d=i.isPending,u=o.isPending,m=l.isPending,h=d||u,f=t.useMemo(()=>{if(!a||0===a.length)return{total:0,active:0,inactive:0,byGrade:{},recentEnrollments:0};const e=a.length,t=a.filter(e=>!0===e.idUsuario?.estaActivo).length,r=a.filter(e=>!1===e.idUsuario?.estaActivo||null===e.idUsuario?.estaActivo||void 0===e.idUsuario?.estaActivo).length,n=a.reduce((e,t)=>{const r=t.idGrado?.grado||t.grado||"Sin grado";return e[r]=(e[r]||0)+1,e},{}),s=new Date;return s.setMonth(s.getMonth()-1),{total:e,active:t,inactive:r,byGrade:n,recentEnrollments:a.filter(e=>new Date(e.fechaIngreso)>s).length}},[a]),p=t.useCallback(async e=>i.mutateAsync(e),[i]),g=t.useCallback(async(e,t)=>{if(!e)throw new Error("ID del estudiante es requerido para actualizar");return o.mutateAsync({id:e,...t})},[o]),x=t.useCallback(async e=>l.mutateAsync(e),[l]),b=t.useCallback(async e=>c.mutateAsync(e),[c]),y=t.useCallback(async e=>{r(t=>({...t,search:e}))},[]),v=t.useCallback(async e=>{r(t=>({...t,grade:e}))},[]),j=t.useCallback(e=>{r(t=>({...t,...e}))},[]),w=t.useCallback(()=>{r({grade:"",status:"",search:""})},[]),N=t.useCallback(()=>{s()},[s]),E=t.useCallback(async e=>a.find(t=>t.id===e||t.idEstudiante===e),[a]);return{students:a,loading:n,creating:d,updating:u,deleting:m,uploading:h,filters:e,statistics:f,createStudent:p,updateStudent:g,deleteStudent:x,changeStudentStatus:b,searchStudents:y,filterByGrade:v,updateFilters:j,resetFilters:w,fetchStudents:s,refreshStudents:N,getStudentById:E,getActiveStudents:()=>a.filter(e=>!0===e.idUsuario?.estaActivo),getInactiveStudents:()=>a.filter(e=>!1===e.idUsuario?.estaActivo),getStudentsByGrade:e=>a.filter(t=>t.grado===e),getTotalStudents:()=>a.length,hasStudents:a.length>0,isOperating:d||u||m||h,isCached:!0}},bc=Pl.create({baseURL:"http://localhost:3000/api/v1/storage",headers:{"Content-Type":"multipart/form-data"}});bc.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),bc.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));class yc{static async uploadFile(e,t="general",r="anonymous"){try{const a=r&&r.trim()?r:"anonymous",n=new FormData;n.append("file",e),n.append("folder",t),"anonymous"!==a&&n.append("userId",a);const s=await bc.post("/upload",n,{headers:{"Content-Type":"multipart/form-data"}}),i=s.data?.data||s.data;return{url:i.url,fileName:i.fileName,mimeType:i.mimeType||e.type,size:i.size||e.size,folder:i.folder||t,originalName:e.name}}catch(a){throw new Error(a.response?.data?.message||`Error al subir el archivo: ${a.message}`)}}static async uploadMultipleFiles(e,t="general",r="anonymous"){try{const a=Array.from(e);if(a.length>10)throw new Error("Mximo 10 archivos permitidos por subida");const n=r&&r.trim()?r:"anonymous",s=new FormData;a.forEach(e=>{s.append("files",e)}),s.append("folder",t),"anonymous"!==n&&s.append("userId",n);const i=await bc.post("/upload-multiple",s,{headers:{"Content-Type":"multipart/form-data"}}),o=i.data?.data||i.data;return{urls:o.urls||[],count:o.count||a.length,files:(o.files||[]).map((e,t)=>({url:e.url,fileName:e.fileName,mimeType:e.mimeType,size:e.size,originalName:a[t]?.name}))}}catch(a){throw new Error(a.response?.data?.message||`Error al subir los archivos: ${a.message}`)}}static async deleteFile(e){try{return(await bc.delete("/delete",{data:{fileUrl:e},headers:{"Content-Type":"application/json"}})).data}catch(t){throw new Error(t.response?.data?.message||`Error al eliminar el archivo: ${t.message}`)}}static async getSignedUrl(e,t=60){try{const r=await bc.get("/signed-url",{params:{fileUrl:e,expiresInMinutes:t}}),a=r.data?.data||r.data;return{signedUrl:a.signedUrl,expiresInMinutes:a.expiresInMinutes,originalUrl:a.originalUrl}}catch(r){throw new Error(r.response?.data?.message||`Error al obtener URL firmada: ${r.message}`)}}static async fileExists(e){try{const t=await bc.get("/exists",{params:{fileUrl:e}}),r=t.data?.data||t.data;return{exists:r.exists||!1,fileUrl:r.fileUrl}}catch(t){return{exists:!1,fileUrl:e}}}static async listFiles(e){try{const t=await bc.get(`/list/${e}`),r=t.data?.data||t.data;return{folder:r.folder||e,count:r.count||r.files?.length||0,files:r.files||[]}}catch(t){throw new Error(t.response?.data?.message||`Error al listar archivos: ${t.message}`)}}static async listAllFiles(){try{const e=await bc.get("/list"),t=e.data?.data||e.data;return{count:t.count||t.files?.length||0,files:t.files||[]}}catch(e){throw new Error(e.response?.data?.message||`Error al listar archivos: ${e.message}`)}}static validateFileType(e,t=null){return t||(t=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","image/jpeg","image/png","image/gif","image/webp","text/plain","application/zip","application/x-zip-compressed"]),t.includes(e.type)}static validateFileSize(e,t=10){const r=1024*t*1024;return e.size<=r}static getFileInfo(e){return{name:e.name,size:e.size,sizeFormatted:this.formatFileSize(e.size),type:e.type,lastModified:new Date(e.lastModified)}}static formatFileSize(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]}}const vc=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});vc.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),vc.interceptors.response.use(e=>"string"==typeof e.data&&e.data.includes("<html>")?{...e,data:{trabajadores:[],data:[],info:{data:[]}}}:e,e=>(401!==e.response?.status||window.location.pathname.includes("/login")||(localStorage.removeItem("token"),localStorage.removeItem("auth-storage"),window.location.replace("/login")),Promise.reject(e)));const jc={async getAllTrabajadores(e={}){try{const t=new URLSearchParams;Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,r)});const r=await vc.get(`/trabajador?${t.toString()}`);return(r.data.success||r.data.sucess)&&r.data.trabajadores?r.data.trabajadores:r.data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener trabajadores")}},async getTrabajadorById(e){try{return(await vc.get(`/trabajador/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener trabajador")}},async getAulasPorTrabajador(e){try{const t=await vc.get(`/trabajador/aulas/${e}`);return{aulas:t.data?.aulas||t.data?.data||[],success:!0}}catch(t){if(404===t.response?.status)return{aulas:[],success:!0};throw new Error(t.response?.data?.message||"Error al obtener aulas del trabajador")}},async createTrabajadorSimple(e){try{const t=["nombre","apellido","tipoDocumento","nroDocumento","idRol"].filter(t=>!e[t]);if(t.length>0)throw new Error(`Campos requeridos faltantes: ${t.join(", ")}`);const r={nombre:e.nombre.trim(),apellido:e.apellido.trim(),tipoDocumento:e.tipoDocumento,nroDocumento:e.nroDocumento.trim(),idRol:e.idRol,correo:e.correo?.trim()||null,telefono:e.telefono?.trim()||null,direccion:e.direccion?.trim()||null,estaActivo:void 0===e.estaActivo||e.estaActivo,imagenUrl:e.imagenUrl||null};return(await vc.post("/trabajador",r)).data}catch(t){throw t.response,new Error(t.response?.data?.message||"Error al crear trabajador")}},async createTrabajador(e){try{const t=["nombre","apellido","tipoDocumento","nroDocumento","direccion","correo","telefono","idRol"].filter(t=>!e[t]);if(t.length>0)throw new Error(`Campos requeridos faltantes: ${t.join(", ")}`);const r=e.archivos;let a=null,n=null;if(r&&r.length>0){const t=Array.from(r).find(e=>e.name.toLowerCase().includes("contrato")||e.name.toLowerCase().includes("contract")),s=Array.from(r).find(e=>e.name.toLowerCase().includes("firmado")||e.name.toLowerCase().includes("signed")||e.name.toLowerCase().includes("firma"));t&&(a=(await yc.uploadFile(t,"trabajadores/contratos",e.correo||"anonymous")).url),s&&(n=(await yc.uploadFile(s,"trabajadores/firmados",e.correo||"anonymous")).url),!t&&!s&&r.length>0&&(a=(await yc.uploadFile(r[0],"trabajadores/contratos",e.correo||"anonymous")).url)}const s={idTrabajador:null,nombre:e.nombre.trim(),apellido:e.apellido.trim(),tipoDocumento:e.tipoDocumento||"DNI",nroDocumento:e.nroDocumento.trim(),direccion:e.direccion.trim(),correo:e.correo.trim(),telefono:e.telefono.trim(),estaActivo:void 0===e.estaActivo||e.estaActivo,imagenUrl:null,idRol:e.idRol,contrato:e.idTipoContrato?{idTipoContrato:e.idTipoContrato,numeroContrato:e.numeroContrato,fechaInicio:e.fechaInicio,fechaFin:e.fechaFin,jornadaLaboral:["COMPLETA","PARCIAL","FLEXIBLE"].includes(e.jornadaLaboral?.toUpperCase())?e.jornadaLaboral.toUpperCase():"COMPLETA",horasSemanales:parseInt(e.horasSemanales)||40,cargoContrato:e.cargoContrato||e.descripcionFunciones||"Trabajador",descripcionFunciones:e.descripcionFunciones||"",lugarTrabajo:e.lugarTrabajo||"",estadoContrato:"ACTIVO",fechaFinalizacionReal:e.fechaFin,archivoContratoUrl:a,archivoFirmadoUrl:n,renovacionAutomatica:e.renovacion||!1,diasAvisoRenovacion:parseInt(e.diasAviso)||30,fechaAprobacion:e.fechaAprobacion,creadoEn:(new Date).toISOString().split("T")[0]}:null,sueldoBase:e.sueldoBase?{sueldoBase:parseFloat(e.sueldoBase).toFixed(2),bonificacionFamiliar:e.bonificacion?parseFloat(e.bonificacion).toFixed(2):"0.00",asignacionFamiliar:e.asignacion?parseFloat(e.asignacion).toFixed(2):"0.00",fechaAsignacion:e.fechaAsignacion,fechaVigenciaDesde:e.fechaVigenciaDesde,fechaVigenciaHasta:e.fechaHasta,observaciones:e.observacionesSueldo||"Sueldo inicial de contratacin",estaActivo:void 0===e.estaActivoSueldo||e.estaActivoSueldo,creadoPor:"459b0eb9-1a9f-474d-91b1-3c3a037673cd",actualizadoPor:null}:null},i=await vc.post("/trabajador/transactional",s);return i.data.trabajador?i.data.trabajador:i.data}catch(t){throw t.response,new Error(t.response?.data?.message||"Error al crear trabajador")}},async updateTrabajador(e,t){try{const r={nombre:t.nombre?.trim(),apellido:t.apellido?.trim(),correo:t.correo?.trim(),numero:t.numero?.trim(),direccion:t.direccion?.trim(),tipoDocumento:t.tipoDocumento,nroDocumento:t.nroDocumento?.trim(),fechaNacimiento:t.fechaNacimiento,idRol:t.idRol,estaActivo:t.estaActivo};return Object.keys(r).forEach(e=>{void 0!==r[e]&&""!==r[e]||delete r[e]}),(await vc.patch(`/trabajador/${e}`,r)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar trabajador")}},async updateTeacher(e,t){try{const r={name:t.name?.trim(),email:t.email?.trim(),phone:t.phone?.trim(),address:t.address?.trim(),subject:t.subject,degree:t.degree?.trim(),experience:t.experience?Number(t.experience):void 0,schedule:t.schedule,specializations:t.specializations?Array.isArray(t.specializations)?t.specializations:t.specializations.split(",").map(e=>e.trim()).filter(e=>e):void 0,notes:t.notes?.trim(),photo:t.photo,status:t.status,rating:t.rating?Number(t.rating):void 0,students:t.students?Number(t.students):void 0,classes:t.classes};return Object.keys(r).forEach(e=>{void 0===r[e]&&delete r[e]}),(await vc.put(`/teachers/${e}`,r)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar profesor")}},async toggleTrabajadorStatus(e,t){try{return(await vc.patch(`/trabajador/${e}`,{estaActivo:t})).data}catch(r){throw new Error(r.response?.data?.message||"Error al cambiar estado del trabajador")}},async changeTeacherStatus(e,t){try{return(await vc.patch(`/teachers/${e}/status`,{status:t})).data}catch(r){throw new Error(r.response?.data?.message||"Error al cambiar estado del profesor")}},async getTeachersBySubject(e){try{return(await vc.get(`/teachers/subject/${encodeURIComponent(e)}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener profesores por materia")}},async getTeachersBySchedule(e){try{return(await vc.get(`/teachers/schedule/${encodeURIComponent(e)}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener profesores por horario")}},async searchTeachers(e){try{return(await vc.get(`/teachers/search?q=${encodeURIComponent(e)}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al buscar profesores")}},async getTeacherClasses(e){try{return(await vc.get(`/teachers/${e}/classes`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener clases del profesor")}},async assignClassesToTeacher(e,t){try{return(await vc.post(`/teachers/${e}/classes`,{classIds:t})).data}catch(r){throw new Error(r.response?.data?.message||"Error al asignar clases al profesor")}},async removeClassesFromTeacher(e,t){try{await vc.delete(`/teachers/${e}/classes`,{data:{classIds:t}})}catch(r){throw new Error(r.response?.data?.message||"Error al remover clases del profesor")}},async updateTeacherRating(e,t){try{if(t<1||t>5)throw new Error("La calificacin debe estar entre 1 y 5");return(await vc.patch(`/teachers/${e}/rating`,{rating:t})).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar calificacin")}},async getTeacherSchedule(e){try{return(await vc.get(`/teachers/${e}/schedule`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener horario del profesor")}},async getTeacherStats(){try{return(await vc.get("/teachers/stats")).data}catch(e){throw new Error(e.response?.data?.message||"Error al obtener estadsticas")}},async getTeacherEvaluations(e){try{return(await vc.get(`/teachers/${e}/evaluations`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener evaluaciones del profesor")}},async createTeacherEvaluation(e,t){try{return(await vc.post(`/teachers/${e}/evaluations`,t)).data}catch(r){throw new Error(r.response?.data?.message||"Error al crear evaluacin")}},async exportTeachersToCSV(e={}){try{const t=new URLSearchParams(e);return(await vc.get(`/teachers/export/csv?${t.toString()}`,{responseType:"blob"})).data}catch(t){throw new Error(t.response?.data?.message||"Error al exportar profesores")}},async importTeachersFromCSV(e){try{const t=new FormData;return t.append("file",e),(await vc.post("/teachers/import/csv",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw new Error(t.response?.data?.message||"Error al importar profesores")}},async deleteTrabajador(e){try{return(await vc.delete(`/trabajador/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar/desactivar trabajador")}},async toggleTrabajadorStatus(e){try{return(await vc.delete(`/trabajador/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al cambiar estado del trabajador")}},async getDocentes(){try{const e=await vc.get("/trabajador/docentes");return e.data?.info?.data&&Array.isArray(e.data.info.data)?e.data.info.data:Array.isArray(e.data)?e.data:[]}catch(e){throw new Error(e.response?.data?.message||"Error al obtener docentes")}}},wc={all:["trabajadores"],lists:()=>[...wc.all,"list"],list:e=>[...wc.lists(),{filters:e}],details:()=>[...wc.all,"detail"],detail:e=>[...wc.details(),e]},Nc=(e={},t={})=>Qr({queryKey:wc.list(e),queryFn:()=>jc.getAllTrabajadores(e),staleTime:3e5,gcTime:6e5,...t}),Ec=()=>{const e=Yr();return Xr({mutationFn:({id:e,data:t})=>jc.updateTrabajador(e,t),onMutate:()=>({loadingToast:ca.loading("Actualizando trabajador...",{description:"Guardando cambios..."})}),onSuccess:(t,r,a)=>{e.invalidateQueries({queryKey:wc.lists()}),e.invalidateQueries({queryKey:wc.detail(r.id)}),ca.success("Trabajador actualizado exitosamente",{id:a.loadingToast,description:`Los datos de ${t.nombre} ${t.apellido} han sido actualizados`})},onError:(e,t,r)=>{ca.error("Error al actualizar trabajador",{id:r?.loadingToast,description:e.message||"Ha ocurrido un error inesperado"})}})},Sc=()=>{const e=Yr();return Xr({mutationFn:({trabajador:e})=>{const t=e.idTrabajador||e.id;if(!t)throw new Error("ID del trabajador no encontrado");return jc.toggleTrabajadorStatus(t,!e.estaActivo)},onMutate:({trabajador:e})=>{const t=e.estaActivo?"desactivando":"activando";return{loadingToast:ca.loading(`${t.charAt(0).toUpperCase()+t.slice(1)} trabajador...`,{description:"Procesando solicitud..."}),trabajador:e}},onSuccess:(t,r,a)=>{e.invalidateQueries({queryKey:wc.lists()}),e.invalidateQueries({queryKey:wc.detail(r.trabajador.idTrabajador||r.trabajador.id)});const n=a.trabajador.estaActivo?"desactivado":"activado";ca.success(`Trabajador ${n} exitosamente`,{id:a.loadingToast,description:`${a.trabajador.nombre} ${a.trabajador.apellido} ha sido ${n}`})},onError:(e,t,r)=>{const a=r.trabajador.estaActivo?"desactivar":"activar";ca.error(`Error al ${a} trabajador`,{id:r?.loadingToast,description:e.message||"Ha ocurrido un error inesperado"})}})},kc=(e={})=>{const[r,a]=t.useState({tipoDocumento:"",estaActivo:"",search:"",...e}),{data:n=[],isLoading:s,error:i,refetch:o}=Nc(r),l=(()=>{const e=Yr();return Xr({mutationFn:e=>jc.createTrabajador(e),onMutate:()=>({loadingToast:ca.loading("Creando trabajador...",{description:"Guardando datos..."})}),onSuccess:(t,r,a)=>{e.invalidateQueries({queryKey:wc.lists()}),ca.success("Trabajador creado exitosamente!",{id:a.loadingToast,description:`${t.nombre} ${t.apellido} ha sido agregado al sistema`})},onError:(e,t,r)=>{ca.error("Error al crear trabajador",{id:r?.loadingToast,description:e.message||"Ha ocurrido un error inesperado"})}})})(),c=Ec(),d=(()=>{const e=Yr();return Xr({mutationFn:e=>jc.deleteTrabajador(e),onMutate:()=>({loadingToast:ca.loading("Eliminando trabajador...",{description:"Procesando eliminacin..."})}),onSuccess:(t,r,a)=>{e.invalidateQueries({queryKey:wc.lists()}),e.removeQueries({queryKey:wc.detail(r)}),ca.success("Trabajador eliminado exitosamente",{id:a.loadingToast,description:"El registro ha sido eliminado del sistema"})},onError:(e,t,r)=>{ca.error("Error al eliminar trabajador",{id:r?.loadingToast,description:e.message||"Ha ocurrido un error inesperado"})}})})(),u=Sc(),{invalidateAll:m,invalidateLists:h}=(()=>{const e=Yr();return{invalidateAll:t.useCallback(()=>{e.invalidateQueries({queryKey:wc.all})},[e]),invalidateLists:t.useCallback(()=>{e.invalidateQueries({queryKey:wc.lists()})},[e]),invalidateDetail:t.useCallback(t=>{e.invalidateQueries({queryKey:wc.detail(t)})},[e])}})(),f=t.useMemo(()=>{if(!n||0===n.length)return{total:0,active:0,inactive:0,byPosition:{},recentHires:0};const e=n.length,t=n.filter(e=>!0===e.estaActivo).length,r=n.filter(e=>!1===e.estaActivo||null===e.estaActivo||void 0===e.estaActivo).length,a=n.reduce((e,t)=>{const r=t.cargo?.nombre||"Sin cargo";return e[r]=(e[r]||0)+1,e},{}),s=new Date;s.setMonth(s.getMonth()-1);const i=n.filter(e=>new Date(e.fechaContratacion)>s).length;return{total:e,active:t,inactive:r,byPosition:a,recentHires:i}},[n]),p=t.useCallback(async e=>l.mutateAsync(e),[l]),g=t.useCallback(async(e,t)=>c.mutateAsync({id:e,data:t}),[c]),x=t.useCallback(async e=>d.mutateAsync(e),[d]),b=t.useCallback(async e=>u.mutateAsync({trabajador:e}),[u]),y=t.useCallback(e=>{a(t=>({...t,...e}))},[]),v=t.useCallback(()=>{a({tipoDocumento:"",estaActivo:"",search:""})},[]),j=t.useCallback(e=>{y({search:e})},[y]),w=t.useCallback(e=>{y({tipoDocumento:e})},[y]),N=t.useCallback(e=>{y({estaActivo:e})},[y]),E=l.isPending,S=c.isPending,k=d.isPending,C=l.isPending,A=t.useCallback(async(e={})=>{if(!(Object.keys(e).length>0))return o();y(e)},[o,y]),_=t.useCallback(()=>o(),[o]);return{trabajadores:n,loading:s,creating:E,updating:S,deleting:k,uploading:C,filters:r,error:i,statistics:f,createTrabajador:p,updateTrabajador:g,deleteTrabajador:x,toggleTrabajadorStatus:b,searchTrabajadores:j,filterByTipoDocumento:w,filterByEstado:N,updateFilters:y,resetFilters:v,fetchTrabajadores:A,refreshTrabajadores:_,invalidateCache:m,invalidateLists:h,getActiveTrabajadores:()=>n.filter(e=>!0===e.estaActivo),getInactiveTrabajadores:()=>n.filter(e=>!1===e.estaActivo),getTotalTrabajadores:()=>n.length,hasTrabajadores:n.length>0,isOperating:E||S||k||C,isCached:!0}},Cc={all:["aulas"],lists:()=>[...Cc.all,"list"],list:e=>[...Cc.lists(),{filters:e}],details:()=>[...Cc.all,"detail"],detail:e=>[...Cc.details(),e]},Ac=()=>{const{data:e=[],isLoading:t,error:r}=((e={},t={})=>Qr({queryKey:Cc.list(e),queryFn:async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("No se encontr token de autenticacin");const t=await fetch("http://localhost:3000/api/v1/aula",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){if(401===t.status)throw new Error("Token de autenticacin invlido o expirado");throw new Error("Error al cargar aulas")}const r=await t.json();return r.success&&r.info?.data?r.info.data:[]},staleTime:3e5,gcTime:6e5,...t}))(),a={total:e.length,capacidadTotal:e.reduce((e,t)=>e+(t.cantidadEstudiantes||0),0),secciones:e.map(e=>e.seccion).filter(Boolean),loading:t,error:r};return{aulas:e,statistics:a,isLoading:t,error:r}},_c="http://localhost:3000/api/v1",Tc={async obtenerMovimientos(e={}){try{const t=localStorage.getItem("token");if(!t)throw new Error("Token de autorizacin no encontrado");const r=new URLSearchParams;e.mes&&r.append("mes",e.mes),e.anio&&r.append("anio",e.anio),e.fechaInicio&&r.append("fechaInicio",e.fechaInicio),e.fechaFin&&r.append("fechaFin",e.fechaFin);const a=r.toString(),n=a?`${_c}/caja-simple?${a}`:`${_c}/caja-simple`,s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok)throw new Error(`Error ${s.status}: ${s.statusText}`);const i=await s.json(),o=Array.isArray(i)?i:i?.info?.data||i?.data||i?.movimientos||[];return{success:!0,movimientos:Array.isArray(o)?o:[]}}catch(t){throw new Error(t.message||"Error al obtener movimientos de caja")}},async crearMovimiento(e){try{const t=localStorage.getItem("token");if(!t)throw new Error("Token de autorizacin no encontrado");const r=await fetch(`${_c}/caja-simple`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(!r.ok){const e=await r.json();throw new Error(e.message||`Error ${r.status}: ${r.statusText}`)}return{success:!0,movimiento:await r.json()}}catch(t){throw new Error(t.message||"Error al crear movimiento de caja")}},async obtenerSaldo(){try{const e=localStorage.getItem("token");if(!e)throw new Error("Token de autorizacin no encontrado");const t=await fetch(`${_c}/caja-simple/saldo`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Error ${t.status}: ${t.statusText}`);const r=await t.json();return{success:!0,saldo:r.saldo,ingresos:r.ingresos,egresos:r.egresos}}catch(e){throw new Error(e.message||"Error al obtener saldo de caja")}},async actualizarMovimiento(e,t){try{const r=localStorage.getItem("token");if(!r)throw new Error("Token de autorizacin no encontrado");const a=await fetch(`${_c}/caja-simple/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)});if(!a.ok){const e=await a.json();throw new Error(e.message||`Error ${a.status}: ${a.statusText}`)}return{success:!0,movimiento:await a.json()}}catch(r){throw new Error(r.message||"Error al actualizar movimiento de caja")}},async obtenerDashboardFinanciero(){try{const e=localStorage.getItem("token");if(!e)throw new Error("Token de autorizacin no encontrado");const t=await fetch(`${_c}/caja-simple/reportes/dashboard`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Error ${t.status}: ${t.statusText}`);return{success:!0,dashboard:await t.json()}}catch(e){throw new Error(e.message||"Error al obtener dashboard financiero")}}};var Oc,Dc={},Pc={};function Mc(){return Oc||(Oc=1,e=Pc,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isUnsafeProperty=function(e){return"__proto__"===e}),Pc;var e}var Fc,Ic={};function Rc(){return Fc||(Fc=1,e=Ic,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}),Ic;var e}var Lc,zc={};function $c(){return Lc||(Lc=1,e=zc,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toKey=function(e){return"string"==typeof e||"symbol"==typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}),zc;var e}var qc,Uc,Bc,Yc,Vc={};function Hc(){return qc||(qc=1,e=Vc,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toPath=function(e){const t=[],r=e.length;if(0===r)return t;let a=0,n="",s="",i=!1;for(46===e.charCodeAt(0)&&(t.push(""),a++);a<r;){const o=e[a];s?"\\"===o&&a+1<r?(a++,n+=e[a]):o===s?s="":n+=o:i?'"'===o||"'"===o?s=o:"]"===o?(i=!1,t.push(n),n=""):n+=o:"["===o?(i=!0,n&&(t.push(n),n="")):"."===o?n&&(t.push(n),n=""):n+=o,a++}return n&&t.push(n),t}),Vc;var e}function Wc(){return Uc||(Uc=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mc(),r=Rc(),a=$c(),n=Hc();e.get=function e(s,i,o){if(null==s)return o;switch(typeof i){case"string":{if(t.isUnsafeProperty(i))return o;const a=s[i];return void 0===a?r.isDeepKey(i)?e(s,n.toPath(i),o):o:a}case"number":case"symbol":{"number"==typeof i&&(i=a.toKey(i));const e=s[i];return void 0===e?o:e}default:{if(Array.isArray(i))return function(e,r,a){if(0===r.length)return a;let n=e;for(let s=0;s<r.length;s++){if(null==n)return a;if(t.isUnsafeProperty(r[s]))return a;n=n[r[s]]}return void 0===n?a:n}(s,i,o);if(i=Object.is(i?.valueOf(),-0)?"-0":String(i),t.isUnsafeProperty(i))return o;const e=s[i];return void 0===e?o:e}}}}(Dc)),Dc}function Gc(){return Yc?Bc:(Yc=1,Bc=Wc().get)}const Kc=b(Gc());var Qc,Xc,Jc={exports:{}},Zc={},ed=(Xc||(Xc=1,Jc.exports=function(){if(Qc)return Zc;Qc=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,n=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,u=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,f=e?Symbol.for("react.lazy"):60116,p=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var m=e.$$typeof;switch(m){case t:switch(e=e.type){case l:case c:case a:case s:case n:case u:return e;default:switch(e=e&&e.$$typeof){case o:case d:case f:case h:case i:return e;default:return m}}case r:return m}}}function v(e){return y(e)===c}return Zc.AsyncMode=l,Zc.ConcurrentMode=c,Zc.ContextConsumer=o,Zc.ContextProvider=i,Zc.Element=t,Zc.ForwardRef=d,Zc.Fragment=a,Zc.Lazy=f,Zc.Memo=h,Zc.Portal=r,Zc.Profiler=s,Zc.StrictMode=n,Zc.Suspense=u,Zc.isAsyncMode=function(e){return v(e)||y(e)===l},Zc.isConcurrentMode=v,Zc.isContextConsumer=function(e){return y(e)===o},Zc.isContextProvider=function(e){return y(e)===i},Zc.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},Zc.isForwardRef=function(e){return y(e)===d},Zc.isFragment=function(e){return y(e)===a},Zc.isLazy=function(e){return y(e)===f},Zc.isMemo=function(e){return y(e)===h},Zc.isPortal=function(e){return y(e)===r},Zc.isProfiler=function(e){return y(e)===s},Zc.isStrictMode=function(e){return y(e)===n},Zc.isSuspense=function(e){return y(e)===u},Zc.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===c||e===s||e===n||e===u||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===h||e.$$typeof===i||e.$$typeof===o||e.$$typeof===d||e.$$typeof===g||e.$$typeof===x||e.$$typeof===b||e.$$typeof===p)},Zc.typeOf=y,Zc}()),Jc.exports),td=e=>0===e?0:e>0?1:-1,rd=e=>"number"==typeof e&&e!=+e,ad=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,nd=e=>("number"==typeof e||e instanceof Number)&&!rd(e),sd=e=>nd(e)||"string"==typeof e,id=0,od=e=>{var t=++id;return"".concat(e||"").concat(t)},ld=function(e,t){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!nd(e)&&"string"!=typeof e)return a;if(ad(e)){if(null==t)return a;var s=e.indexOf("%");r=t*parseFloat(e.slice(0,s))/100}else r=+e;return rd(r)&&(r=a),n&&null!=t&&r>t&&(r=t),r},cd=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++){if(r[e[a]])return!0;r[e[a]]=!0}return!1};function dd(e,t,r){return nd(e)&&nd(t)?e+r*(t-e):t}function ud(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):Kc(e,t))===r)}var md=e=>null==e,hd=e=>md(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),fd=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function pd(e){return"string"==typeof e&&fd.includes(e)}var gd=["points","pathLength"],xd={svg:["viewBox","children"],polygon:gd,polyline:gd},bd=(e,r)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var a=e;if(t.isValidElement(e)&&(a=e.props),"object"!=typeof a&&"function"!=typeof a)return null;var n={};return Object.keys(a).forEach(e=>{pd(e)&&(n[e]=t=>a[e](a,t))}),n},yd=(e,t,r)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var a=null;return Object.keys(e).forEach(n=>{var s=e[n];pd(n)&&"function"==typeof s&&(a||(a={}),a[n]=((e,t,r)=>a=>(e(t,r,a),null))(s,t,r))}),a},vd=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function jd(e){return"string"==typeof e&&vd.includes(e)}function wd(e){var t=Object.entries(e).filter(e=>{var[t]=e;return jd(t)});return Object.fromEntries(t)}var Nd=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",Ed=null,Sd=null,kd=e=>{if(e===Ed&&Array.isArray(Sd))return Sd;var r=[];return t.Children.forEach(e,e=>{md(e)||(ed.isFragment(e)?r=r.concat(kd(e.props.children)):r.push(e))}),Sd=r,Ed=e,r};function Cd(e,t){var r=[],a=[];return a=Array.isArray(t)?t.map(e=>Nd(e)):[Nd(t)],kd(e).forEach(e=>{var t=Kc(e,"type.displayName")||Kc(e,"type.name");-1!==a.indexOf(t)&&r.push(e)}),r}var Ad=e=>!e||"object"!=typeof e||!("clipDot"in e)||Boolean(e.clipDot),_d=(e,r,a)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(t.isValidElement(e)&&(n=e.props),"object"!=typeof n&&"function"!=typeof n)return null;var s={};return Object.keys(n).forEach(e=>{var t;((e,t,r,a)=>{var n;if("symbol"==typeof t||"number"==typeof t)return!0;var s=null!==(n=a&&(null==xd?void 0:xd[a]))&&void 0!==n?n:[],i=t.startsWith("data-"),o="function"!=typeof e&&(Boolean(a)&&s.includes(t)||jd(t)),l=Boolean(r)&&pd(t);return i||o||l})(null===(t=n)||void 0===t?void 0:t[e],e,r,a)&&(s[e]=n[e])}),s},Td=["children","width","height","viewBox","className","style","title","desc"];function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Od.apply(null,arguments)}var Dd=t.forwardRef((e,r)=>{var{children:a,width:n,height:s,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Td),m=i||{width:n,height:s,x:0,y:0},h=_a("recharts-surface",o);return t.createElement("svg",Od({},_d(u,!0,"svg"),{className:h,width:n,height:s,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:r}),t.createElement("title",null,c),t.createElement("desc",null,d),a)}),Pd=["children","className"];function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Md.apply(null,arguments)}var Fd=t.forwardRef((e,r)=>{var{children:a,className:n}=e,s=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Pd),i=_a("recharts-layer",n);return t.createElement("g",Md({className:i},_d(s,!0),{ref:r}),a)}),Id=t.createContext(null);function Rd(e){return function(){return e}}const Ld=Math.cos,zd=Math.sin,$d=Math.sqrt,qd=Math.PI,Ud=2*qd,Bd=Math.PI,Yd=2*Bd,Vd=1e-6,Hd=Yd-Vd;function Wd(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Gd{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Wd:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Wd;const r=10**t;return function(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,a){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,t,r,a,n,s){this._append`C${+e},${+t},${+r},${+a},${this._x1=+n},${this._y1=+s}`}arcTo(e,t,r,a,n){if(e=+e,t=+t,r=+r,a=+a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=this._x1,i=this._y1,o=r-e,l=a-t,c=s-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>Vd)if(Math.abs(d*o-l*c)>Vd&&n){let m=r-s,h=a-i,f=o*o+l*l,p=m*m+h*h,g=Math.sqrt(f),x=Math.sqrt(u),b=n*Math.tan((Bd-Math.acos((f+u-p)/(2*g*x)))/2),y=b/x,v=b/g;Math.abs(y-1)>Vd&&this._append`L${e+y*c},${t+y*d}`,this._append`A${n},${n},0,0,${+(d*m>c*h)},${this._x1=e+v*o},${this._y1=t+v*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,r,a,n,s){if(e=+e,t=+t,s=!!s,(r=+r)<0)throw new Error(`negative radius: ${r}`);let i=r*Math.cos(a),o=r*Math.sin(a),l=e+i,c=t+o,d=1^s,u=s?a-n:n-a;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Vd||Math.abs(this._y1-c)>Vd)&&this._append`L${l},${c}`,r&&(u<0&&(u=u%Yd+Yd),u>Hd?this._append`A${r},${r},0,1,${d},${e-i},${t-o}A${r},${r},0,1,${d},${this._x1=l},${this._y1=c}`:u>Vd&&this._append`A${r},${r},0,${+(u>=Bd)},${d},${this._x1=e+r*Math.cos(n)},${this._y1=t+r*Math.sin(n)}`)}rect(e,t,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Kd(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new Gd(t)}function Qd(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Xd(e){this._context=e}function Jd(e){return new Xd(e)}function Zd(e){return e[0]}function eu(e){return e[1]}function tu(e,t){var r=Rd(!0),a=null,n=Jd,s=null,i=Kd(o);function o(o){var l,c,d,u=(o=Qd(o)).length,m=!1;for(null==a&&(s=n(d=i())),l=0;l<=u;++l)!(l<u&&r(c=o[l],l,o))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(c,l,o),+t(c,l,o));if(d)return s=null,d+""||null}return e="function"==typeof e?e:void 0===e?Zd:Rd(e),t="function"==typeof t?t:void 0===t?eu:Rd(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:Rd(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Rd(+e),o):t},o.defined=function(e){return arguments.length?(r="function"==typeof e?e:Rd(!!e),o):r},o.curve=function(e){return arguments.length?(n=e,null!=a&&(s=n(a)),o):n},o.context=function(e){return arguments.length?(null==e?a=s=null:s=n(a=e),o):a},o}function ru(e,t,r){var a=null,n=Rd(!0),s=null,i=Jd,o=null,l=Kd(c);function c(c){var d,u,m,h,f,p=(c=Qd(c)).length,g=!1,x=new Array(p),b=new Array(p);for(null==s&&(o=i(f=l())),d=0;d<=p;++d){if(!(d<p&&n(h=c[d],d,c))===g)if(g=!g)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=d-1;m>=u;--m)o.point(x[m],b[m]);o.lineEnd(),o.areaEnd()}g&&(x[d]=+e(h,d,c),b[d]=+t(h,d,c),o.point(a?+a(h,d,c):x[d],r?+r(h,d,c):b[d]))}if(f)return o=null,f+""||null}function d(){return tu().defined(n).curve(i).context(s)}return e="function"==typeof e?e:void 0===e?Zd:Rd(+e),t="function"==typeof t?t:Rd(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?eu:Rd(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Rd(+t),a=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Rd(+t),c):e},c.x1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:Rd(+e),c):a},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Rd(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Rd(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Rd(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(a).y(t)},c.defined=function(e){return arguments.length?(n="function"==typeof e?e:Rd(!!e),c):n},c.curve=function(e){return arguments.length?(i=e,null!=s&&(o=i(s)),c):i},c.context=function(e){return arguments.length?(null==e?s=o=null:o=i(s=e),c):s},c}Xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class au{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const nu={draw(e,t){const r=$d(t/qd);e.moveTo(r,0),e.arc(0,0,r,0,Ud)}},su={draw(e,t){const r=$d(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},iu=$d(1/3),ou=2*iu,lu={draw(e,t){const r=$d(t/ou),a=r*iu;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},cu={draw(e,t){const r=$d(t),a=-r/2;e.rect(a,a,r,r)}},du=zd(qd/10)/zd(7*qd/10),uu=zd(Ud/10)*du,mu=-Ld(Ud/10)*du,hu={draw(e,t){const r=$d(.8908130915292852*t),a=uu*r,n=mu*r;e.moveTo(0,-r),e.lineTo(a,n);for(let s=1;s<5;++s){const t=Ud*s/5,i=Ld(t),o=zd(t);e.lineTo(o*r,-i*r),e.lineTo(i*a-o*n,o*a+i*n)}e.closePath()}},fu=$d(3),pu={draw(e,t){const r=-$d(t/(3*fu));e.moveTo(0,2*r),e.lineTo(-fu*r,-r),e.lineTo(fu*r,-r),e.closePath()}},gu=-.5,xu=$d(3)/2,bu=1/$d(12),yu=3*(bu/2+1),vu={draw(e,t){const r=$d(t/yu),a=r/2,n=r*bu,s=a,i=r*bu+r,o=-s,l=i;e.moveTo(a,n),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(gu*a-xu*n,xu*a+gu*n),e.lineTo(gu*s-xu*i,xu*s+gu*i),e.lineTo(gu*o-xu*l,xu*o+gu*l),e.lineTo(gu*a+xu*n,gu*n-xu*a),e.lineTo(gu*s+xu*i,gu*i-xu*s),e.lineTo(gu*o+xu*l,gu*l-xu*o),e.closePath()}};function ju(){}function wu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Nu(e){this._context=e}function Eu(e){this._context=e}function Su(e){this._context=e}function ku(e){this._context=e}function Cu(e){return e<0?-1:1}function Au(e,t,r){var a=e._x1-e._x0,n=t-e._x1,s=(e._y1-e._y0)/(a||n<0&&-0),i=(r-e._y1)/(n||a<0&&-0),o=(s*n+i*a)/(a+n);return(Cu(s)+Cu(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function _u(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Tu(e,t,r){var a=e._x0,n=e._y0,s=e._x1,i=e._y1,o=(s-a)/3;e._context.bezierCurveTo(a+o,n+o*t,s-o,i-o*r,s,i)}function Ou(e){this._context=e}function Du(e){this._context=new Pu(e)}function Pu(e){this._context=e}function Mu(e){this._context=e}function Fu(e){var t,r,a=e.length-1,n=new Array(a),s=new Array(a),i=new Array(a);for(n[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<a-1;++t)n[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(n[a-1]=2,s[a-1]=7,i[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=n[t]/s[t-1],s[t]-=r,i[t]-=r*i[t-1];for(n[a-1]=i[a-1]/s[a-1],t=a-2;t>=0;--t)n[t]=(i[t]-n[t+1])/s[t];for(s[a-1]=(e[a]+n[a-1])/2,t=0;t<a-1;++t)s[t]=2*e[t+1]-n[t+1];return[n,s]}function Iu(e,t){this._context=e,this._t=t}function Ru(e,t){if((n=e.length)>1)for(var r,a,n,s=1,i=e[t[0]],o=i.length;s<n;++s)for(a=i,i=e[t[s]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Lu(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function zu(e,t){return e[t]}function $u(e){const t=[];return t.key=e,t}Nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wu(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Eu.prototype={areaStart:ju,areaEnd:ju,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wu(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:wu(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ku.prototype={areaStart:ju,areaEnd:ju,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tu(this,this._t0,_u(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tu(this,_u(this,r=Au(this,e,t)),r);break;default:Tu(this,this._t0,r=Au(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(Du.prototype=Object.create(Ou.prototype)).point=function(e,t){Ou.prototype.point.call(this,t,e)},Pu.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,n,s){this._context.bezierCurveTo(t,e,a,r,s,n)}},Mu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var a=Fu(e),n=Fu(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(a[0][s],n[0][s],a[1][s],n[1][s],e[i],t[i]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Iu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var qu=["type","size","sizeType"];function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Uu.apply(null,arguments)}function Bu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bu(Object(r),!0).forEach(function(t){Vu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Vu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hu={symbolCircle:nu,symbolCross:su,symbolDiamond:lu,symbolSquare:cu,symbolStar:hu,symbolTriangle:pu,symbolWye:vu},Wu=Math.PI/180,Gu=e=>{var{type:r="circle",size:a=64,sizeType:n="area"}=e,s=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,qu),i=Yu(Yu({},s),{},{type:r,size:a,sizeType:n}),o="circle";"string"==typeof r&&(o=r);var l,c,{className:d,cx:u,cy:m}=i,h=_d(i,!0);return u===+u&&m===+m&&a===+a?t.createElement("path",Uu({},h,{className:_a("recharts-symbols",d),transform:"translate(".concat(u,", ").concat(m,")"),d:(l=(e=>{var t="symbol".concat(hd(e));return Hu[t]||nu})(o),c=function(e,t){let r=null,a=Kd(n);function n(){let n;if(r||(r=n=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),n)return r=null,n+""||null}return e="function"==typeof e?e:Rd(e||nu),t="function"==typeof t?t:Rd(void 0===t?64:+t),n.type=function(t){return arguments.length?(e="function"==typeof t?t:Rd(t),n):e},n.size=function(e){return arguments.length?(t="function"==typeof e?e:Rd(+e),n):t},n.context=function(e){return arguments.length?(r=null==e?null:e,n):r},n}().type(l).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var a=18*Wu;return 1.25*e*e*(Math.tan(a)-Math.tan(2*a)*Math.tan(a)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(a,n,o)),c())})):null};function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ku.apply(null,arguments)}function Qu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Xu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Gu.registerSymbol=(e,t)=>{Hu["symbol".concat(hd(e))]=t};var Ju=32;class Zu extends t.PureComponent{renderIcon(e,r){var{inactiveColor:a}=this.props,n=16,s=Ju/6,i=Ju/3,o=e.inactive?a:e.color,l=null!=r?r:e.type;if("none"===l)return null;if("plainline"===l)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Ju,y2:n,className:"recharts-legend-icon"});if("line"===l)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(Ju,"M").concat(2*i,",").concat(n,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===l)return t.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(Ju,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(r),!0).forEach(function(t){Xu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete c.legendIcon,t.cloneElement(e.legendIcon,c)}return t.createElement(Gu,{fill:o,cx:n,cy:n,size:Ju,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:r,layout:a,formatter:n,inactiveColor:s,iconType:i}=this.props,o={x:0,y:0,width:Ju,height:Ju},l={display:"horizontal"===a?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,a)=>{var d=e.formatter||n,u=_a({"recharts-legend-item":!0,["legend-item-".concat(a)]:!0,inactive:e.inactive});if("none"===e.type)return null;var m=e.inactive?s:e.color,h=d?d(e.value,e,a):e.value;return t.createElement("li",Ku({className:u,style:l,key:"legend-item-".concat(a)},yd(this.props,e,a)),t.createElement(Dd,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(h," legend icon")},this.renderIcon(e,i)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},h))})}render(){var{payload:e,layout:r,align:a}=this.props;if(!e||!e.length)return null;var n={padding:0,margin:0,textAlign:"horizontal"===r?a:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:n},this.renderItems())}}Xu(Zu,"displayName","Legend"),Xu(Zu,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var em,tm={},rm={};function am(){return em||(em=1,e=rm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.uniqBy=function(e,t){const r=new Map;for(let a=0;a<e.length;a++){const n=e[a],s=t(n);r.has(s)||r.set(s,n)}return Array.from(r.values())}),rm;var e}var nm,sm={};function im(){return nm||(nm=1,e=sm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.identity=function(e){return e}),sm;var e}var om,lm,cm={},dm={},um={};function mm(){return om||(om=1,e=um,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}),um;var e}function hm(){return lm||(lm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mm();e.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&t.isLength(e.length)}}(dm)),dm}var fm,pm,gm={};function xm(){return fm||(fm=1,e=gm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObjectLike=function(e){return"object"==typeof e&&null!==e}),gm;var e}function bm(){return pm||(pm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hm(),r=xm();e.isArrayLikeObject=function(e){return r.isObjectLike(e)&&t.isArrayLike(e)}}(cm)),cm}var ym,vm={},jm={};function wm(){return ym||(ym=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wc();e.property=function(e){return function(r){return t.get(r,e)}}}(jm)),jm}var Nm,Em={},Sm={},km={},Cm={};function Am(){return Nm||(Nm=1,e=Cm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}),Cm;var e}var _m,Tm={};function Om(){return _m||(_m=1,e=Tm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}),Tm;var e}var Dm,Pm,Mm,Fm={};function Im(){return Dm||(Dm=1,e=Fm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}),Fm;var e}function Rm(){return Pm||(Pm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lm(),r=Am(),a=Om(),n=Im();function s(e,t,l,c){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return i(e,t,r,n);if(t instanceof Map)return function(e,t,r,a){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[n,s]of t.entries())if(!1===r(e.get(n),s,n,e,t,a))return!1;return!0}(e,t,r,n);if(t instanceof Set)return o(e,t,r,n);const s=Object.keys(t);if(null==e)return 0===s.length;if(0===s.length)return!0;if(n&&n.has(t))return n.get(t)===e;n&&n.set(t,e);try{for(let i=0;i<s.length;i++){const o=s[i];if(!a.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!r(e[o],t[o],o,e,t,n))return!1}return!0}finally{n&&n.delete(t)}}(e,t,l,c);case"function":return Object.keys(t).length>0?s(e,{...t},l,c):n.eq(e,t);default:return r.isObject(e)?"string"!=typeof t||""===t:n.eq(e,t)}}function i(e,t,r,a){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const n=new Set;for(let s=0;s<t.length;s++){const i=t[s];let o=!1;for(let l=0;l<e.length;l++){if(n.has(l))continue;let c=!1;if(r(e[l],i,s,e,t,a)&&(c=!0),c){n.add(l),o=!0;break}}if(!o)return!1}return!0}function o(e,t,r,a){return 0===t.size||e instanceof Set&&i([...e],[...t],r,a)}e.isMatchWith=function(e,r,a){return"function"!=typeof a?t.isMatch(e,r):s(e,r,function e(t,r,n,i,o,l){const c=a(t,r,n,i,o,l);return void 0!==c?Boolean(c):s(t,r,e,l)},new Map)},e.isSetMatch=o}(km)),km}function Lm(){return Mm||(Mm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rm();e.isMatch=function(e,r){return t.isMatchWith(e,r,()=>{})}}(Sm)),Sm}var zm,$m={},qm={},Um={};function Bm(){return zm||(zm=1,e=Um,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}),Um;var e}var Ym,Vm={};function Hm(){return Ym||(Ym=1,e=Vm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}),Vm;var e}var Wm,Gm={};function Km(){return Wm||(Wm=1,e=Gm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.argumentsTag="[object Arguments]",e.arrayBufferTag="[object ArrayBuffer]",e.arrayTag="[object Array]",e.bigInt64ArrayTag="[object BigInt64Array]",e.bigUint64ArrayTag="[object BigUint64Array]",e.booleanTag="[object Boolean]",e.dataViewTag="[object DataView]",e.dateTag="[object Date]",e.errorTag="[object Error]",e.float32ArrayTag="[object Float32Array]",e.float64ArrayTag="[object Float64Array]",e.functionTag="[object Function]",e.int16ArrayTag="[object Int16Array]",e.int32ArrayTag="[object Int32Array]",e.int8ArrayTag="[object Int8Array]",e.mapTag="[object Map]",e.numberTag="[object Number]",e.objectTag="[object Object]",e.regexpTag="[object RegExp]",e.setTag="[object Set]",e.stringTag="[object String]",e.symbolTag="[object Symbol]",e.uint16ArrayTag="[object Uint16Array]",e.uint32ArrayTag="[object Uint32Array]",e.uint8ArrayTag="[object Uint8Array]",e.uint8ClampedArrayTag="[object Uint8ClampedArray]"),Gm;var e}var Qm,Xm,Jm,Zm,eh={};function th(){return Qm||(Qm=1,e=eh,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}),eh;var e}function rh(){return Xm||(Xm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bm(),r=Hm(),a=Km(),n=Om(),s=th();function i(e,t,l,c=new Map,d=void 0){const u=d?.(e,t,l,c);if(void 0!==u)return u;if(n.isPrimitive(e))return e;if(c.has(e))return c.get(e);if(Array.isArray(e)){const t=new Array(e.length);c.set(e,t);for(let r=0;r<e.length;r++)t[r]=i(e[r],r,l,c,d);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;c.set(e,t);for(const[r,a]of e)t.set(r,i(a,r,l,c,d));return t}if(e instanceof Set){const t=new Set;c.set(e,t);for(const r of e)t.add(i(r,void 0,l,c,d));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);c.set(e,t);for(let r=0;r<e.length;r++)t[r]=i(e[r],r,l,c,d);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return c.set(e,t),o(t,e,l,c,d),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return c.set(e,t),o(t,e,l,c,d),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return c.set(e,t),o(t,e,l,c,d),t}if(e instanceof Error){const t=new e.constructor;return c.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,o(t,e,l,c,d),t}if("object"==typeof e&&function(e){switch(r.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return c.set(e,t),o(t,e,l,c,d),t}return e}function o(e,r,a=e,n,s){const o=[...Object.keys(r),...t.getSymbols(r)];for(let t=0;t<o.length;t++){const l=o[t],c=Object.getOwnPropertyDescriptor(e,l);(null==c||c.writable)&&(e[l]=i(r[l],l,a,n,s))}}e.cloneDeepWith=function(e,t){return i(e,void 0,e,new Map,t)},e.cloneDeepWithImpl=i,e.copyProperties=o}(qm)),qm}function ah(){return Jm||(Jm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rh();e.cloneDeep=function(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}}($m)),$m}function nh(){return Zm||(Zm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lm(),r=ah();e.matches=function(e){return e=r.cloneDeep(e),r=>t.isMatch(r,e)}}(Em)),Em}var sh,ih,oh={},lh={},ch={};function dh(){return sh||(sh=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rh(),r=Km();e.cloneDeepWith=function(e,a){return t.cloneDeepWith(e,(n,s,i,o)=>{const l=a?.(n,s,i,o);if(void 0!==l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case r.numberTag:case r.stringTag:case r.booleanTag:{const r=new e.constructor(e?.valueOf());return t.copyProperties(r,e),r}case r.argumentsTag:{const r={};return t.copyProperties(r,e),r.length=e.length,r[Symbol.iterator]=e[Symbol.iterator],r}default:return}})}}(ch)),ch}function uh(){return ih||(ih=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dh();e.cloneDeep=function(e){return t.cloneDeepWith(e)}}(lh)),lh}var mh,hh={},fh={};function ph(){return mh||(mh=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;e.isIndex=function(e,r=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<r;case"symbol":return!1;case"string":return t.test(e)}}}(fh)),fh}var gh,xh,bh,yh,vh,jh,wh,Nh={};function Eh(){return gh||(gh=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hm();e.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===t.getTag(e)}}(Nh)),Nh}function Sh(){return xh||(xh=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rc(),r=ph(),a=Eh(),n=Hc();e.has=function(e,s){let i;if(i=Array.isArray(s)?s:"string"==typeof s&&t.isDeepKey(s)&&null==e?.[s]?n.toPath(s):[s],0===i.length)return!1;let o=e;for(let t=0;t<i.length;t++){const e=i[t];if(!(null!=o&&Object.hasOwn(o,e)||(Array.isArray(o)||a.isArguments(o))&&r.isIndex(e)&&e<o.length))return!1;o=o[e]}return!0}}(hh)),hh}function kh(){return bh||(bh=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lm(),r=$c(),a=uh(),n=Wc(),s=Sh();e.matchesProperty=function(e,i){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=r.toKey(e)}return i=a.cloneDeep(i),function(r){const a=n.get(r,e);return void 0===a?s.has(r,e):void 0===i?void 0===a:t.isMatch(a,i)}}}(oh)),oh}function Ch(){return yh||(yh=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=im(),r=wm(),a=nh(),n=kh();e.iteratee=function(e){if(null==e)return t.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?n.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return r.property(e)}}}(vm)),vm}function Ah(){return wh?jh:(wh=1,jh=(vh||(vh=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=am(),r=im(),a=bm(),n=Ch();e.uniqBy=function(e,s=r.identity){return a.isArrayLikeObject(e)?t.uniqBy(Array.from(e),n.iteratee(s)):[]}}(tm)),tm).uniqBy)}const _h=b(Ah());function Th(e,t,r){return!0===t?_h(e,r):"function"==typeof t?_h(e,t):e}var Oh,Dh,Ph,Mh,Fh={exports:{}},Ih={},Rh={exports:{}},Lh={};function zh(){return Dh||(Dh=1,Rh.exports=function(){if(Oh)return Lh;Oh=1;var e=g(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=e.useState,a=e.useEffect,n=e.useLayoutEffect,s=e.useDebugValue;function i(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!t(e,a)}catch(n){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),l=r({inst:{value:o,getSnapshot:t}}),c=l[0].inst,d=l[1];return n(function(){c.value=o,c.getSnapshot=t,i(c)&&d({inst:c})},[e,o,t]),a(function(){return i(c)&&d({inst:c}),e(function(){i(c)&&d({inst:c})})},[e]),s(o),o};return Lh.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:o,Lh}()),Rh.exports}
/**
     * @license React
     * use-sync-external-store-shim/with-selector.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var $h=(Mh||(Mh=1,Fh.exports=function(){if(Ph)return Ih;Ph=1;var e=g(),t=zh(),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=t.useSyncExternalStore,n=e.useRef,s=e.useEffect,i=e.useMemo,o=e.useDebugValue;return Ih.useSyncExternalStoreWithSelector=function(e,t,l,c,d){var u=n(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;u=i(function(){function e(e){if(!s){if(s=!0,a=e,e=c(e),void 0!==d&&m.hasValue){var t=m.value;if(d(t,e))return n=t}return n=e}if(t=n,r(a,e))return t;var i=c(e);return void 0!==d&&d(t,i)?(a=e,t):(a=e,n=i)}var a,n,s=!1,i=void 0===l?null:l;return[function(){return e(t())},null===i?void 0:function(){return e(i())}]},[t,l,c,d]);var h=a(e,u[0],u[1]);return s(function(){m.hasValue=!0,m.value=h},[h]),o(h),h},Ih}()),Fh.exports),qh=t.createContext(null),Uh=e=>e,Bh=()=>{var e=t.useContext(qh);return e?e.store.dispatch:Uh},Yh=()=>{},Vh=()=>Yh,Hh=(e,t)=>e===t;function Wh(e){var r=t.useContext(qh);return $h.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:Vh,r?r.store.getState:Yh,r?r.store.getState:Yh,r?e:Yh,Hh)}var Gh=e=>Array.isArray(e)?e:[e];function Kh(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var Qh="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Xh(){return{s:0,v:void 0,o:null,p:null}}function Jh(e,t={}){let r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:a}=t;let n,s=0;function i(){let t=r;const{length:i}=arguments;for(let e=0,r=i;e<r;e++){const r=arguments[e];if("function"==typeof r||"object"==typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const a=e.get(r);void 0===a?(t=Xh(),e.set(r,t)):t=a}else{let e=t.p;null===e&&(t.p=e=new Map);const a=e.get(r);void 0===a?(t=Xh(),e.set(r,t)):t=a}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),s++,a){const e=n?.deref?.()??n;null!=e&&a(e,l)&&(l=e,0!==s&&s--),n="object"==typeof l&&null!==l||"function"==typeof l?new Qh(l):l}return o.s=1,o.v=l,l}return i.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function Zh(e,...t){const r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,a=(...e)=>{let t,a=0,n=0,s={},i=e.pop();"object"==typeof i&&(s=i,i=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(i,`createSelector expects an output function after the inputs, but received: [${typeof i}]`);const o={...r,...s},{memoize:l,memoizeOptions:c=[],argsMemoize:d=Jh,argsMemoizeOptions:u=[]}=o,m=Gh(c),h=Gh(u),f=Kh(e),p=l(function(){return a++,i.apply(null,arguments)},...m),g=d(function(){n++;const e=function(e,t){const r=[],{length:a}=e;for(let n=0;n<a;n++)r.push(e[n].apply(null,t));return r}(f,arguments);return t=p.apply(null,e),t},...h);return Object.assign(g,{resultFunc:i,memoizedResultFunc:p,dependencies:f,dependencyRecomputations:()=>n,resetDependencyRecomputations:()=>{n=0},lastResult:()=>t,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:l,argsMemoize:d})};return Object.assign(a,{withTypes:()=>a}),a}var ef,tf=Zh(Jh),rf=Object.assign((e,t=tf)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e);return t(r.map(t=>e[t]),(...e)=>e.reduce((e,t,a)=>(e[r[a]]=t,e),{}))},{withTypes:()=>rf}),af={},nf={},sf={};function of(){return ef||(ef=1,function(e){function t(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.compareValues=(e,r,a)=>{if(e!==r){const n=t(e),s=t(r);if(n===s&&0===n){if(e<r)return"desc"===a?1:-1;if(e>r)return"desc"===a?-1:1}return"desc"===a?s-n:n-s}return 0}}(sf)),sf}var lf,cf,df,uf={},mf={};function hf(){return lf||(lf=1,e=mf,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}),mf;var e}function ff(){return cf||(cf=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.isKey=function(e,n){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!t.isSymbol(e))||"string"==typeof e&&(a.test(e)||!r.test(e))||null!=n&&Object.hasOwn(n,e))}}(uf)),uf}function pf(){return df||(df=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=of(),r=ff(),a=Hc();e.orderBy=function(e,n,s,i){if(null==e)return[];s=i?void 0:s,Array.isArray(e)||(e=Object.values(e)),Array.isArray(n)||(n=null==n?[null]:[n]),0===n.length&&(n=[null]),Array.isArray(s)||(s=null==s?[]:[s]),s=s.map(e=>String(e));const o=(e,t)=>{let r=e;for(let a=0;a<t.length&&null!=r;++a)r=r[t[a]];return r},l=n.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||r.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?o(t,e):"object"==typeof t?t[e]:t)(t,e))})).slice().sort((e,r)=>{for(let a=0;a<l.length;a++){const n=t.compareValues(e.criteria[a],r.criteria[a],s[a]);if(0!==n)return n}return 0}).map(e=>e.original)}}(nf)),nf}var gf,xf={};function bf(){return gf||(gf=1,e=xf,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.flatten=function(e,t=1){const r=[],a=Math.floor(t),n=(e,t)=>{for(let s=0;s<e.length;s++){const i=e[s];Array.isArray(i)&&t<a?n(i,t+1):r.push(i)}};return n(e,0),r}),xf;var e}var yf,vf,jf,wf,Nf={};function Ef(){return yf||(yf=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ph(),r=hm(),a=Am(),n=Im();e.isIterateeCall=function(e,s,i){return!!a.isObject(i)&&!!("number"==typeof s&&r.isArrayLike(i)&&t.isIndex(s)&&s<i.length||"string"==typeof s&&s in i)&&n.eq(i[s],e)}}(Nf)),Nf}function Sf(){return wf?jf:(wf=1,jf=(vf||(vf=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pf(),r=bf(),a=Ef();e.sortBy=function(e,...n){const s=n.length;return s>1&&a.isIterateeCall(e,n[0],n[1])?n=[]:s>2&&a.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),t.orderBy(e,r.flatten(n),["asc"])}}(af)),af).sortBy)}const kf=b(Sf());var Cf=e=>e.legend.settings,Af=tf([e=>e.legend.payload,Cf],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?kf(a,r):a});function _f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[r,a]=t.useState({height:0,left:0,top:0,width:0}),n=t.useCallback(e=>{if(null!=e){var t=e.getBoundingClientRect(),n={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(n.height-r.height)>1||Math.abs(n.left-r.left)>1||Math.abs(n.top-r.top)>1||Math.abs(n.width-r.width)>1)&&a({height:n.height,left:n.left,top:n.top,width:n.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,n]}function Tf(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Of=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Df=()=>Math.random().toString(36).substring(7).split("").join("."),Pf={INIT:`@@redux/INIT${Df()}`,REPLACE:`@@redux/REPLACE${Df()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Df()}`};function Mf(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Ff(e,t,r){if("function"!=typeof e)throw new Error(Tf(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(Tf(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(Tf(1));return r(Ff)(e,t)}let a=e,n=t,s=new Map,i=s,o=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((e,t)=>{i.set(t,e)}))}function d(){if(l)throw new Error(Tf(3));return n}function u(e){if("function"!=typeof e)throw new Error(Tf(4));if(l)throw new Error(Tf(5));let t=!0;c();const r=o++;return i.set(r,e),function(){if(t){if(l)throw new Error(Tf(6));t=!1,c(),i.delete(r),s=null}}}function m(e){if(!Mf(e))throw new Error(Tf(7));if(void 0===e.type)throw new Error(Tf(8));if("string"!=typeof e.type)throw new Error(Tf(17));if(l)throw new Error(Tf(9));try{l=!0,n=a(n,e)}finally{l=!1}return(s=i).forEach(e=>{e()}),e}return m({type:Pf.INIT}),{dispatch:m,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Tf(10));a=e,m({type:Pf.REPLACE})},[Of]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(Tf(11));function r(){const e=t;e.next&&e.next(d())}return r(),{unsubscribe:e(r)}},[Of](){return this}}}}}function If(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];"function"==typeof e[a]&&(r[a]=e[a])}const a=Object.keys(r);let n;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if(void 0===r(void 0,{type:Pf.INIT}))throw new Error(Tf(12));if(void 0===r(void 0,{type:Pf.PROBE_UNKNOWN_ACTION()}))throw new Error(Tf(13))})}(r)}catch(Ba){n=Ba}return function(e={},t){if(n)throw n;let s=!1;const i={};for(let n=0;n<a.length;n++){const o=a[n],l=r[o],c=e[o],d=l(c,t);if(void 0===d)throw t&&t.type,new Error(Tf(14));i[o]=d,s=s||d!==c}return s=s||a.length!==Object.keys(e).length,s?i:e}}function Rf(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function Lf(e){return Mf(e)&&"type"in e&&"string"==typeof e.type}var zf=Symbol.for("immer-nothing"),$f=Symbol.for("immer-draftable"),qf=Symbol.for("immer-state");function Uf(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bf=Object.getPrototypeOf;function Yf(e){return!!e&&!!e[qf]}function Vf(e){return!!e&&(Wf(e)||Array.isArray(e)||!!e[$f]||!!e.constructor?.[$f]||Jf(e)||Zf(e))}var Hf=Object.prototype.constructor.toString();function Wf(e){if(!e||"object"!=typeof e)return!1;const t=Bf(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Hf}function Gf(e,t){0===Kf(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Kf(e){const t=e[qf];return t?t.type_:Array.isArray(e)?1:Jf(e)?2:Zf(e)?3:0}function Qf(e,t){return 2===Kf(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Xf(e,t,r){const a=Kf(e);2===a?e.set(t,r):3===a?e.add(r):e[t]=r}function Jf(e){return e instanceof Map}function Zf(e){return e instanceof Set}function ep(e){return e.copy_||e.base_}function tp(e,t){if(Jf(e))return new Map(e);if(Zf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Wf(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[qf];let r=Reflect.ownKeys(t);for(let a=0;a<r.length;a++){const n=r[a],s=t[n];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[n]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[n]})}return Object.create(Bf(e),t)}{const t=Bf(e);if(null!==t&&r)return{...e};const a=Object.create(t);return Object.assign(a,e)}}function rp(e,t=!1){return np(e)||Yf(e)||!Vf(e)||(Kf(e)>1&&Object.defineProperties(e,{set:{value:ap},add:{value:ap},clear:{value:ap},delete:{value:ap}}),Object.freeze(e),t&&Object.values(e).forEach(e=>rp(e,!0))),e}function ap(){Uf(2)}function np(e){return Object.isFrozen(e)}var sp,ip={};function op(e){const t=ip[e];return t||Uf(0),t}function lp(){return sp}function cp(e,t){t&&(op("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dp(e){up(e),e.drafts_.forEach(hp),e.drafts_=null}function up(e){e===sp&&(sp=e.parent_)}function mp(e){return sp={drafts_:[],parent_:sp,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hp(e){const t=e[qf];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function fp(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[qf].modified_&&(dp(t),Uf(4)),Vf(e)&&(e=pp(t,e),t.parent_||xp(t,e)),t.patches_&&op("Patches").generateReplacementPatches_(r[qf].base_,e,t.patches_,t.inversePatches_)):e=pp(t,r,[]),dp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zf?e:void 0}function pp(e,t,r){if(np(t))return t;const a=t[qf];if(!a)return Gf(t,(n,s)=>gp(e,a,t,n,s,r)),t;if(a.scope_!==e)return t;if(!a.modified_)return xp(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const t=a.copy_;let n=t,s=!1;3===a.type_&&(n=new Set(t),t.clear(),s=!0),Gf(n,(n,i)=>gp(e,a,t,n,i,r,s)),xp(e,t,!1),r&&e.patches_&&op("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function gp(e,t,r,a,n,s,i){if(Yf(n)){const i=pp(e,n,s&&t&&3!==t.type_&&!Qf(t.assigned_,a)?s.concat(a):void 0);if(Xf(r,a,i),!Yf(i))return;e.canAutoFreeze_=!1}else i&&r.add(n);if(Vf(n)&&!np(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;pp(e,n),t&&t.scope_.parent_||"symbol"==typeof a||!(Jf(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))||xp(e,n)}}function xp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rp(t,r)}var bp={get(e,t){if(t===qf)return e;const r=ep(e);if(!Qf(r,t))return function(e,t,r){const a=jp(t,r);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}(e,r,t);const a=r[t];return e.finalized_||!Vf(a)?a:a===vp(e.base_,t)?(Np(e),e.copy_[t]=Ep(a,e)):a},has:(e,t)=>t in ep(e),ownKeys:e=>Reflect.ownKeys(ep(e)),set(e,t,r){const a=jp(ep(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const a=vp(ep(e),t),i=a?.[qf];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((n=r)===(s=a)?0!==n||1/n==1/s:n!=n&&s!=s)&&(void 0!==r||Qf(e.base_,t)))return!0;Np(e),wp(e)}var n,s;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==vp(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Np(e),wp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=ep(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:a.enumerable,value:r[t]}:a},defineProperty(){Uf(11)},getPrototypeOf:e=>Bf(e.base_),setPrototypeOf(){Uf(12)}},yp={};function vp(e,t){const r=e[qf];return(r?ep(r):e)[t]}function jp(e,t){if(!(t in e))return;let r=Bf(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Bf(r)}}function wp(e){e.modified_||(e.modified_=!0,e.parent_&&wp(e.parent_))}function Np(e){e.copy_||(e.copy_=tp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function Ep(e,t){const r=Jf(e)?op("MapSet").proxyMap_(e,t):Zf(e)?op("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:lp(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,s=bp;r&&(n=[a],s=yp);const{revoke:i,proxy:o}=Proxy.revocable(n,s);return a.draft_=o,a.revoke_=i,o}(e,t);return(t?t.scope_:lp()).drafts_.push(r),r}function Sp(e){return Yf(e)||Uf(10),kp(e)}function kp(e){if(!Vf(e)||np(e))return e;const t=e[qf];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=tp(e,t.scope_.immer_.useStrictShallowCopy_)}else r=tp(e,!0);return Gf(r,(e,t)=>{Xf(r,e,kp(t))}),t&&(t.finalized_=!1),r}Gf(bp,(e,t)=>{yp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),yp.deleteProperty=function(e,t){return yp.set.call(this,e,t,void 0)},yp.set=function(e,t,r){return bp.set.call(this,e[0],t,r,e[0])};var Cp=(new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const a=this;return function(e=r,...n){return a.produce(e,e=>t.call(this,e,...n))}}let a;if("function"!=typeof t&&Uf(6),void 0!==r&&"function"!=typeof r&&Uf(7),Vf(e)){const n=mp(this),s=Ep(e,void 0);let i=!0;try{a=t(s),i=!1}finally{i?dp(n):up(n)}return cp(n,r),fp(a,n)}if(!e||"object"!=typeof e){if(a=t(e),void 0===a&&(a=e),a===zf&&(a=void 0),this.autoFreeze_&&rp(a,!0),r){const t=[],n=[];op("Patches").generateReplacementPatches_(e,a,t,n),r(t,n)}return a}Uf(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let r,a;return[this.produce(e,t,(e,t)=>{r=e,a=t}),r,a]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Vf(e)||Uf(8),Yf(e)&&(e=Sp(e));const t=mp(this),r=Ep(e,void 0);return r[qf].isManual_=!0,up(t),r}finishDraft(e,t){const r=e&&e[qf];r&&r.isManual_||Uf(9);const{scope_:a}=r;return cp(a,t),fp(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}r>-1&&(t=t.slice(r+1));const a=op("Patches").applyPatches_;return Yf(e)?a(e,t):this.produce(e,e=>a(e,t))}}).produce;function Ap(e){return({dispatch:t,getState:r})=>a=>n=>"function"==typeof n?n(t,r,e):a(n)}var _p=Ap(),Tp=Ap,Op="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Rf:Rf.apply(null,arguments)};function Dp(e,t){function r(...r){if(t){let a=t(...r);if(!a)throw new Error(Sg(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>Lf(t)&&t.type===e,r}var Pp=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function Mp(e){return Vf(e)?Cp(e,()=>{}):e}function Fp(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var Ip=e=>t=>{setTimeout(t,e)},Rp=e=>function(t){const{autoBatch:r=!0}=t??{};let a=new Pp(e);return r&&a.push(((e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let n=!0,s=!1,i=!1;const o=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ip(10):"callback"===e.type?e.queueNotification:Ip(e.timeout),c=()=>{i=!1,s&&(s=!1,o.forEach(e=>e()))};return Object.assign({},a,{subscribe(e){const t=a.subscribe(()=>n&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{return n=!e?.meta?.RTK_autoBatch,s=!n,s&&(i||(i=!0,l(c))),a.dispatch(e)}finally{n=!0}}})})("object"==typeof r?r:void 0)),a};function Lp(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:n=!0}=e??{};let s=new Pp;return t&&("boolean"==typeof t?s.push(_p):s.push(Tp(t.extraArgument))),s},{reducer:r,middleware:a,devTools:n=!0,preloadedState:s,enhancers:i}=e||{};let o,l;if("function"==typeof r)o=r;else{if(!Mf(r))throw new Error(Sg(1));o=If(r)}l="function"==typeof a?a(t):t();let c=Rf;n&&(c=Op({trace:!1,..."object"==typeof n&&n}));const d=function(...e){return t=>(r,a)=>{const n=t(r,a);let s=()=>{throw new Error(Tf(15))};const i={getState:n.getState,dispatch:(e,...t)=>s(e,...t)},o=e.map(e=>e(i));return s=Rf(...o)(n.dispatch),{...n,dispatch:s}}}(...l),u=Rp(d);return Ff(o,s,c(..."function"==typeof i?i(u):u()))}function zp(e){const t={},r=[];let a;const n={addCase(e,r){const a="string"==typeof e?e:e.type;if(!a)throw new Error(Sg(28));if(a in t)throw new Error(Sg(29));return t[a]=r,n},addAsyncThunk:(e,a)=>(a.pending&&(t[e.pending.type]=a.pending),a.rejected&&(t[e.rejected.type]=a.rejected),a.fulfilled&&(t[e.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:e.settled,reducer:a.settled}),n),addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),n),addDefaultCase:e=>(a=e,n)};return e(n),[t,r,a]}var $p=(e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},qp=Symbol.for("rtk-slice-createasyncthunk");function Up(e,t){return`${e}/${t}`}function Bp({creators:e}={}){const t=e?.asyncThunk?.[qp];return function(e){const{name:r,reducerPath:a=r}=e;if(!r)throw new Error(Sg(11));const n=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(n),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const r="string"==typeof e?e:e.type;if(!r)throw new Error(Sg(12));if(r in i.sliceCaseReducersByType)throw new Error(Sg(13));return i.sliceCaseReducersByType[r]=t,o},addMatcher:(e,t)=>(i.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(i.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(i.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},r=[],a]="function"==typeof e.extraReducers?zp(e.extraReducers):[e.extraReducers],n={...t,...i.sliceCaseReducersByType};return function(e,t){let r,[a,n,s]=zp(t);if("function"==typeof e)r=()=>Mp(e());else{const t=Mp(e);r=()=>t}function i(e=r(),t){let i=[a[t.type],...n.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===i.filter(e=>!!e).length&&(i=[s]),i.reduce((e,r)=>{if(r){if(Yf(e)){const a=r(e,t);return void 0===a?e:a}if(Vf(e))return Cp(e,e=>r(e,t));{const a=r(e,t);if(void 0===a){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return a}}return e},e)}return i.getInitialState=r,i}(e.initialState,e=>{for(let t in n)e.addCase(t,n[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);a&&e.addDefaultCase(a)})}s.forEach(a=>{const s=n[a],i={reducerName:a,type:Up(r,a),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function({type:e,reducerName:t,createNotation:r},a,n){let s,i;if("reducer"in a){if(r&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(a))throw new Error(Sg(17));s=a.reducer,i=a.prepare}else s=a;n.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?Dp(e,i):Dp(e))}(i,s,o):function({type:e,reducerName:t},r,a,n){if(!n)throw new Error(Sg(18));const{payloadCreator:s,fulfilled:i,pending:o,rejected:l,settled:c,options:d}=r,u=n(e,s,d);a.exposeAction(t,u),i&&a.addCase(u.fulfilled,i),o&&a.addCase(u.pending,o),l&&a.addCase(u.rejected,l),c&&a.addMatcher(u.settled,c),a.exposeCaseReducer(t,{fulfilled:i||Hp,pending:o||Hp,rejected:l||Hp,settled:c||Hp})}(i,s,o,t)});const c=e=>e,d=new Map,u=new WeakMap;let m;function h(e,t){return m||(m=l()),m(e,t)}function f(){return m||(m=l()),m.getInitialState()}function p(t,r=!1){function a(e){let n=e[t];return void 0===n&&r&&(n=Fp(u,a,f)),n}function n(t=c){const a=Fp(d,r,()=>new WeakMap);return Fp(a,t,()=>{const a={};for(const[n,s]of Object.entries(e.selectors??{}))a[n]=Yp(s,t,()=>Fp(u,t,f),r);return a})}return{reducerPath:t,getSelectors:n,get selectors(){return n(a)},selectSlice:a}}const g={name:r,reducer:h,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:f,...p(a),injectInto(e,{reducerPath:t,...r}={}){const n=t??a;return e.inject({reducerPath:n,reducer:h},r),{...g,...p(n,!0)}}};return g}}function Yp(e,t,r,a){function n(n,...s){let i=t(n);return void 0===i&&a&&(i=r()),e(i,...s)}return n.unwrapped=e,n}var Vp=Bp();function Hp(){}var Wp="listener",Gp="completed",Kp="cancelled",Qp=`task-${Kp}`,Xp=`task-${Gp}`,Jp=`${Wp}-${Kp}`,Zp=`${Wp}-${Gp}`,eg=class{constructor(e){this.code=e,this.message=`task ${Kp} (reason: ${e})`}name="TaskAbortError";message},tg=(e,t)=>{if("function"!=typeof e)throw new TypeError(Sg(32))},rg=()=>{},ag=(e,t=rg)=>(e.catch(t),e),ng=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),sg=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ig=e=>{if(e.aborted){const{reason:t}=e;throw new eg(t)}};function og(e,t){let r=rg;return new Promise((a,n)=>{const s=()=>n(new eg(e.reason));e.aborted?s():(r=ng(e,s),t.finally(()=>r()).then(a,n))}).finally(()=>{r=rg})}var lg=e=>t=>ag(og(e,t).then(t=>(ig(e),t))),cg=e=>{const t=lg(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:dg}=Object,ug={},mg="listenerMiddleware",hg=(e,t)=>(r,a)=>{tg(r);const n=new AbortController;var s;s=n,ng(e,()=>sg(s,e.reason));const i=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof eg?"cancelled":"rejected",error:r}}finally{t?.()}})(async()=>{ig(e),ig(n.signal);const t=await r({pause:lg(n.signal),delay:cg(n.signal),signal:n.signal});return ig(n.signal),t},()=>sg(n,Xp));return a?.autoJoin&&t.push(i.catch(rg)),{result:lg(e)(i),cancel(){sg(n,Qp)}}},fg=(e,t)=>(r,a)=>ag((async(r,a)=>{ig(t);let n=()=>{};const s=[new Promise((t,a)=>{let s=e({predicate:r,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});n=()=>{s(),a()}})];null!=a&&s.push(new Promise(e=>setTimeout(e,a,null)));try{const e=await og(t,Promise.race(s));return ig(t),e}finally{n()}})(r,a)),pg=e=>{let{type:t,actionCreator:r,matcher:a,predicate:n,effect:s}=e;if(t)n=Dp(t).match;else if(r)t=r.type,n=r.match;else if(a)n=a;else if(!n)throw new Error(Sg(21));return tg(s),{predicate:n,type:t,effect:s}},gg=dg(e=>{const{type:t,predicate:r,effect:a}=pg(e);return{id:$p(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Sg(22))}}},{withTypes:()=>gg}),xg=(e,t)=>{const{type:r,effect:a,predicate:n}=pg(t);return Array.from(e.values()).find(e=>("string"==typeof r?e.type===r:e.predicate===n)&&e.effect===a)},bg=e=>{e.pending.forEach(e=>{sg(e,Jp)})},yg=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},vg=dg(Dp(`${mg}/add`),{withTypes:()=>vg}),jg=Dp(`${mg}/removeAll`),wg=dg(Dp(`${mg}/remove`),{withTypes:()=>wg}),Ng=(...e)=>{},Eg=(e={})=>{const t=new Map,{extra:r,onError:a=Ng}=e;tg(a);const n=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&bg(e)}))(xg(t,e)??gg(e));dg(n,{withTypes:()=>n});const s=e=>{const r=xg(t,e);return r&&(r.unsubscribe(),e.cancelActive&&bg(r)),!!r};dg(s,{withTypes:()=>s});const i=async(e,s,i,o)=>{const l=new AbortController,c=fg(n,l.signal),d=[];try{e.pending.add(l),await Promise.resolve(e.effect(s,dg({},i,{getOriginalState:o,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:cg(l.signal),pause:lg(l.signal),extra:r,signal:l.signal,fork:hg(l.signal,d),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==l&&(sg(e,Jp),r.delete(e))})},cancel:()=>{sg(l,Jp),e.pending.delete(l)},throwIfCancelled:()=>{ig(l.signal)}})))}catch(u){u instanceof eg||yg(a,u,{raisedBy:"effect"})}finally{await Promise.all(d),sg(l,Zp),e.pending.delete(l)}},o=(e=>()=>{e.forEach(bg),e.clear()})(t);return{middleware:e=>r=>l=>{if(!Lf(l))return r(l);if(vg.match(l))return n(l.payload);if(jg.match(l))return void o();if(wg.match(l))return s(l.payload);let c=e.getState();const d=()=>{if(c===ug)throw new Error(Sg(23));return c};let u;try{if(u=r(l),t.size>0){const r=e.getState(),n=Array.from(t.values());for(const t of n){let n=!1;try{n=t.predicate(l,r,c)}catch(m){n=!1,yg(a,m,{raisedBy:"predicate"})}n&&i(t,l,e,d)}}}finally{c=ug}return u},startListening:n,stopListening:s,clearListeners:o}};function Sg(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kg=Vp({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,n,s;e.margin.top=null!==(r=t.payload.top)&&void 0!==r?r:0,e.margin.right=null!==(a=t.payload.right)&&void 0!==a?a:0,e.margin.bottom=null!==(n=t.payload.bottom)&&void 0!==n?n:0,e.margin.left=null!==(s=t.payload.left)&&void 0!==s?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Cg,setLayout:Ag,setChartSize:_g,setScale:Tg}=kg.actions,Og=kg.reducer;function Dg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Pg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dg(Object(r),!0).forEach(function(t){Mg(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Mg(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fg=Math.PI/180,Ig=e=>180*e/Math.PI,Rg=(e,t,r,a)=>({x:e+Math.cos(-Fg*a)*r,y:t+Math.sin(-Fg*a)*r}),Lg=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},zg=(e,t)=>{var{x:r,y:a}=e,{cx:n,cy:s}=t,i=((e,t)=>{var{x:r,y:a}=e,{x:n,y:s}=t;return Math.sqrt((r-n)**2+(a-s)**2)})({x:r,y:a},{x:n,y:s});if(i<=0)return{radius:i,angle:0};var o=(r-n)/i,l=Math.acos(o);return a>s&&(l=2*Math.PI-l),{radius:i,angle:Ig(l),angleInRadian:l}},$g=(e,t)=>{var{startAngle:r,endAngle:a}=t,n=Math.floor(r/360),s=Math.floor(a/360);return e+360*Math.min(n,s)},qg=(e,t)=>{var{x:r,y:a}=e,{radius:n,angle:s}=zg({x:r,y:a},t),{innerRadius:i,outerRadius:o}=t;if(n<i||n>o)return null;if(0===n)return null;var l,{startAngle:c,endAngle:d}=(e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),n=Math.floor(r/360),s=Math.min(a,n);return{startAngle:t-360*s,endAngle:r-360*s}})(t),u=s;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;l=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;l=u>=d&&u<=c}return l?Pg(Pg({},t),{},{radius:n,angle:$g(u,t)}):null};function Ug(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Bg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bg(Object(r),!0).forEach(function(t){Vg(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Vg(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hg(e,t,r){return md(e)||md(t)?r:sd(t)?Kc(e,t,r):"function"==typeof t?t(e):r}var Wg=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Gg=(e,t,r,a)=>{if(a)return e.map(e=>e.coordinate);var n,s,i=e.map(e=>(e.coordinate===t&&(n=!0),e.coordinate===r&&(s=!0),e.coordinate));return n||i.push(t),s||i.push(r),i},Kg=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:s,scale:i,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:u,niceTicks:m,axisType:h}=e;if(!i)return null;var f="scaleBand"===o&&i.bandwidth?i.bandwidth()/2:2,p="category"===n&&i.bandwidth?i.bandwidth()/f:0;return p="angleAxis"===h&&s&&s.length>=2?2*td(s[0]-s[1])*p:p,u||m?(u||m||[]).map((e,t)=>{var r=a?a.indexOf(e):e;return{coordinate:i(r)+p,value:e,offset:p,index:t}}).filter(e=>!rd(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:i(e)+p,value:e,index:t,offset:p})):i.ticks&&null!=d?i.ticks(d).map((e,t)=>({coordinate:i(e)+p,value:e,offset:p,index:t})):i.domain().map((e,t)=>({coordinate:i(e)+p,value:a?a[e]:e,index:t,offset:p}))},Qg=1e-4,Xg={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,s=0,i=0;i<t;++i){var o=rd(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=n,e[i][r][1]=n+o,n=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},expand:function(e,t){if((a=e.length)>0){for(var r,a,n,s=0,i=e[0].length;s<i;++s){for(n=r=0;r<a;++r)n+=e[r][s][1]||0;if(n)for(r=0;r<a;++r)e[r][s][1]/=n}Ru(e,t)}},none:Ru,silhouette:function(e,t){if((r=e.length)>0){for(var r,a=0,n=e[t[0]],s=n.length;a<s;++a){for(var i=0,o=0;i<r;++i)o+=e[i][a][1]||0;n[a][1]+=n[a][0]=-o/2}Ru(e,t)}},wiggle:function(e,t){if((n=e.length)>0&&(a=(r=e[t[0]]).length)>0){for(var r,a,n,s=0,i=1;i<a;++i){for(var o=0,l=0,c=0;o<n;++o){for(var d=e[t[o]],u=d[i][1]||0,m=(u-(d[i-1][1]||0))/2,h=0;h<o;++h){var f=e[t[h]];m+=(f[i][1]||0)-(f[i-1][1]||0)}l+=u,c+=m*u}r[i-1][1]+=r[i-1][0]=s,l&&(s-=c/l)}r[i-1][1]+=r[i-1][0]=s,Ru(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,s=0;s<t;++s){var i=rd(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=n,e[s][r][1]=n+i,n=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}}},Jg=(e,t,r)=>{var a=Xg[r],n=function(){var e=Rd([]),t=Lu,r=Ru,a=zu;function n(n){var s,i,o=Array.from(e.apply(this,arguments),$u),l=o.length,c=-1;for(const e of n)for(s=0,++c;s<l;++s)(o[s][c]=[0,+a(e,o[s].key,c,n)]).data=e;for(s=0,i=Qd(t(o));s<l;++s)o[i[s]].index=s;return r(o,i),o}return n.keys=function(t){return arguments.length?(e="function"==typeof t?t:Rd(Array.from(t)),n):e},n.value=function(e){return arguments.length?(a="function"==typeof e?e:Rd(+e),n):a},n.order=function(e){return arguments.length?(t=null==e?Lu:"function"==typeof e?e:Rd(Array.from(e)),n):t},n.offset=function(e){return arguments.length?(r=null==e?Ru:e,n):r},n}().keys(t).value((e,t)=>+Hg(e,t,0)).order(Lu).offset(a);return n(e)};function Zg(e){var{axis:t,ticks:r,bandSize:a,entry:n,index:s,dataKey:i}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!md(n[t.dataKey])){var o=ud(r,"value",n[t.dataKey]);if(o)return o.coordinate+a/2}return r[s]?r[s].coordinate+a/2:null}var l=Hg(n,md(i)?t.dataKey:i);return md(l)?null:t.scale(l)}var ex=e=>{var{axis:t,ticks:r,offset:a,bandSize:n,entry:s,index:i}=e;if("category"===t.type)return r[i]?r[i].coordinate+a:null;var o=Hg(s,t.dataKey,t.scale.domain()[i]);return md(o)?null:t.scale(o)-n/2+a},tx=(e,t,r)=>{var a;if(null!=e)return a=Object.keys(e).reduce((a,n)=>{var s=e[n],{stackedData:i}=s,o=i.reduce((e,a)=>{var n,s=Ug(a,t,r),i=(n=s.flat(2).filter(nd),[Math.min(...n),Math.max(...n)]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],a[0]),Math.max(o[1],a[1])]},[1/0,-1/0]),[a[0]===1/0?0:a[0],a[1]===-1/0?0:a[1]]},rx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ax=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nx=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var n=kf(t,e=>e.coordinate),s=1/0,i=1,o=n.length;i<o;i++){var l=n[i],c=n[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function sx(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:n,name:s}=e;return Yg(Yg({},t),{},{dataKey:r,payload:a,value:n,name:s})}function ix(e,t){return e?String(e):"string"==typeof t?t:void 0}var ox=e=>e.layout.width,lx=e=>e.layout.height,cx=e=>e.layout.scale,dx=e=>e.layout.margin,ux=tf(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),mx=tf(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),hx="data-recharts-item-index",fx="data-recharts-item-data-key";function px(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function gx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?px(Object(r),!0).forEach(function(t){xx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):px(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bx=tf([ox,lx,dx,e=>e.brush.height,function(e){return mx(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return mx(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return ux(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return ux(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},Cf,e=>e.legend.size],(e,t,r,a,n,s,i,o,l,c)=>{var d={left:(r.left||0)+n,right:(r.right||0)+s},u=gx(gx({},{top:(r.top||0)+i,bottom:(r.bottom||0)+o}),d),m=u.bottom;u.bottom+=a,u=((e,t,r)=>{if(t&&r){var{width:a,height:n}=r,{align:s,verticalAlign:i,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===i)&&"center"!==s&&nd(e[s]))return Yg(Yg({},e),{},{[s]:e[s]+(a||0)});if(("horizontal"===o||"vertical"===o&&"center"===s)&&"middle"!==i&&nd(e[i]))return Yg(Yg({},e),{},{[i]:e[i]+(n||0)})}return e})(u,l,c);var h=e-u.left-u.right,f=t-u.top-u.bottom;return gx(gx({brushBottom:m},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),yx=tf(bx,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),vx=tf(ox,lx,(e,t)=>({x:0,y:0,width:e,height:t})),jx=t.createContext(null),wx=()=>null!=t.useContext(jx),Nx=e=>e.brush,Ex=tf([Nx,bx,dx],(e,t,r)=>({height:e.height,x:nd(e.x)?e.x:t.left,y:nd(e.y)?e.y:t.top+t.height+t.brushBottom-((null==r?void 0:r.bottom)||0),width:nd(e.width)?e.width:t.width})),Sx=()=>{var e,t=wx(),r=Wh(yx),a=Wh(Ex),n=null===(e=Wh(Nx))||void 0===e?void 0:e.padding;return t&&a&&n?{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}:r},kx={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Cx=()=>{var e;return null!==(e=Wh(bx))&&void 0!==e?e:kx},Ax=()=>Wh(ox),_x=()=>Wh(lx),Tx=e=>e.layout.layoutType,Ox=()=>Wh(Tx),Dx=Vp({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Sp(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Px,setLegendSettings:Mx,addLegendPayload:Fx,removeLegendPayload:Ix}=Dx.actions,Rx=Dx.reducer,Lx=["contextPayload"];function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zx.apply(null,arguments)}function $x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function qx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$x(Object(r),!0).forEach(function(t){Ux(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ux(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bx(e){return e.value}function Yx(e){var{contextPayload:r}=e,a=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Lx),n=Th(r,e.payloadUniqBy,Bx),s=qx(qx({},a),{},{payload:n});return t.isValidElement(e.content)?t.cloneElement(e.content,s):"function"==typeof e.content?t.createElement(e.content,s):t.createElement(Zu,s)}function Vx(e){var r=Bh();return t.useEffect(()=>{r(Mx(e))},[r,e]),null}function Hx(e){var r=Bh();return t.useEffect(()=>(r(Px(e)),()=>{r(Px({width:0,height:0}))}),[r,e]),null}function Wx(e){var r=Wh(Af),a=t.useContext(Id),n=Wh(e=>e.layout.margin),{width:s,height:i,wrapperStyle:l,portal:c}=e,[d,u]=_f([r]),m=Ax(),h=_x();if(null==m||null==h)return null;var f=m-(n.left||0)-(n.right||0),p=Gx.getWidthOrHeight(e.layout,i,s,f),g=c?l:qx(qx({position:"absolute",width:(null==p?void 0:p.width)||s||"auto",height:(null==p?void 0:p.height)||i||"auto"},function(e,t,r,a,n,s){var i,o,{layout:l,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(i="center"===c&&"vertical"===l?{left:((a||0)-s.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===d?{top:((n||0)-s.height)/2}:"bottom"===d?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),qx(qx({},i),o)}(l,e,n,m,h,d)),l),x=null!=c?c:a;if(null==x)return null;var b=t.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},t.createElement(Vx,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),t.createElement(Hx,{width:d.width,height:d.height}),t.createElement(Yx,zx({},e,p,{margin:n,chartWidth:m,chartHeight:h,contextPayload:r})));return o.createPortal(b,x)}class Gx extends t.PureComponent{static getWidthOrHeight(e,t,r,a){return"vertical"===e&&nd(t)?{height:t}:"horizontal"===e?{width:r||a}:null}render(){return t.createElement(Wx,this.props)}}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Kx.apply(null,arguments)}function Qx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Xx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qx(Object(r),!0).forEach(function(t){Jx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Jx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zx(e){return Array.isArray(e)&&sd(e[0])&&sd(e[1])?e.join(" ~ "):e}Ux(Gx,"displayName","Legend"),Ux(Gx,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var eb=e=>{var{separator:r=" : ",contentStyle:a={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:m,accessibilityLayer:h=!1}=e,f=Xx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),p=Xx({margin:0},s),g=!md(u),x=g?u:"",b=_a("recharts-default-tooltip",c),y=_a("recharts-tooltip-label",d);g&&m&&null!=i&&(x=m(u,i));var v=h?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",Kx({className:b,style:f},v),t.createElement("p",{className:y,style:p},t.isValidElement(x)?x:"".concat(x)),(()=>{if(i&&i.length){var e=(l?kf(i,l):i).map((e,a)=>{if("none"===e.type)return null;var s=e.formatter||o||Zx,{value:l,name:c}=e,d=l,u=c;if(s){var m=s(l,c,e,a,i);if(Array.isArray(m))[d,u]=m;else{if(null==m)return null;d=m}}var h=Xx({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},n);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(a),style:h},sd(u)?t.createElement("span",{className:"recharts-tooltip-item-name"},u):null,sd(u)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},d),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},tb="recharts-tooltip-wrapper",rb={visibility:"hidden"};function ab(e){var{coordinate:t,translateX:r,translateY:a}=e;return _a(tb,{["".concat(tb,"-right")]:nd(r)&&t&&nd(t.x)&&r>=t.x,["".concat(tb,"-left")]:nd(r)&&t&&nd(t.x)&&r<t.x,["".concat(tb,"-bottom")]:nd(a)&&t&&nd(t.y)&&a>=t.y,["".concat(tb,"-top")]:nd(a)&&t&&nd(t.y)&&a<t.y})}function nb(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(s&&nd(s[a]))return s[a];var d=r[a]-o-(n>0?n:0),u=r[a]+n;if(t[a])return i[a]?d:u;var m=l[a];return null==m?0:i[a]?d<m?Math.max(u,m):Math.max(d,m):null==c?0:u+o>m+c?Math.max(d,m):Math.max(u,m)}function sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ib(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sb(Object(r),!0).forEach(function(t){ob(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ob(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class lb extends t.PureComponent{constructor(){super(...arguments),ob(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ob(this,"handleKeyDown",e=>{var t,r,a,n;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(r=this.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==t?t:0,y:null!==(a=null===(n=this.props.coordinate)||void 0===n?void 0:n.y)&&void 0!==a?a:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:r,animationDuration:a,animationEasing:n,children:s,coordinate:i,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:u,useTranslate3d:m,viewBox:h,wrapperStyle:f,lastBoundingBox:p,innerRef:g,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:y}=function(e){var t,r,a,{allowEscapeViewBox:n,coordinate:s,offsetTopLeft:i,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:u}=e;return t=c.height>0&&c.width>0&&s?function(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=nb({allowEscapeViewBox:n,coordinate:s,key:"x",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:a=nb({allowEscapeViewBox:n,coordinate:s,key:"y",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:d}):rb,{cssProperties:t,cssClasses:ab({translateX:r,translateY:a,coordinate:s})}}({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:c,position:d,reverseDirection:u,tooltipBox:{height:p.height,width:p.width},useTranslate3d:m,viewBox:h}),v=x?{}:ib(ib({transition:l&&e?"transform ".concat(a,"ms ").concat(n):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=ib(ib({},v),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},f);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:j,ref:g},s)}}var cb=!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),db=()=>Wh(e=>e.rootProps.accessibilityLayer);function ub(e){return Number.isFinite(e)}function mb(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hb.apply(null,arguments)}function fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function pb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fb(Object(r),!0).forEach(function(t){gb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xb={curveBasisClosed:function(e){return new Eu(e)},curveBasisOpen:function(e){return new Su(e)},curveBasis:function(e){return new Nu(e)},curveBumpX:function(e){return new au(e,!0)},curveBumpY:function(e){return new au(e,!1)},curveLinearClosed:function(e){return new ku(e)},curveLinear:Jd,curveMonotoneX:function(e){return new Ou(e)},curveMonotoneY:function(e){return new Du(e)},curveNatural:function(e){return new Mu(e)},curveStep:function(e){return new Iu(e,.5)},curveStepAfter:function(e){return new Iu(e,1)},curveStepBefore:function(e){return new Iu(e,0)}},bb=e=>ub(e.x)&&ub(e.y),yb=e=>e.x,vb=e=>e.y,jb=e=>{var t,{type:r="linear",points:a=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=((e,t)=>{if("function"==typeof e)return e;var r="curve".concat(hd(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?xb[r]||Jd:xb["".concat(r).concat("vertical"===t?"Y":"X")]})(r,s),l=i?a.filter(bb):a;if(Array.isArray(n)){var c=i?n.filter(e=>bb(e)):n,d=l.map((e,t)=>pb(pb({},e),{},{base:c[t]}));return(t="vertical"===s?ru().y(vb).x1(yb).x0(e=>e.base.x):ru().x(yb).y1(vb).y0(e=>e.base.y)).defined(bb).curve(o),t(d)}return(t="vertical"===s&&nd(n)?ru().y(vb).x1(yb).x0(n):nd(n)?ru().x(yb).y1(vb).y0(n):tu().x(yb).y(vb)).defined(bb).curve(o),t(l)},wb=e=>{var{className:r,points:a,path:n,pathRef:s}=e;if(!(a&&a.length||n))return null;var i=a&&a.length?jb(e):n;return t.createElement("path",hb({},wd(e),bd(e),{className:_a("recharts-curve",r),d:null===i?void 0:i,ref:s}))},Nb=["x","y","top","left","width","height","className"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Eb.apply(null,arguments)}function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function kb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cb=(e,t,r,a,n,s)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(s,",").concat(t,"h").concat(r),Ab=e=>{var{x:r=0,y:a=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Nb),d=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(t){kb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:a,top:n,left:s,width:i,height:o},c);return nd(r)&&nd(a)&&nd(i)&&nd(o)&&nd(n)&&nd(s)?t.createElement("path",Eb({},_d(d,!0),{className:_a("recharts-cross",l),d:Cb(r,a,i,o,n,s)})):null};function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Tb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ob(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(t){Tb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),a=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==a[t]&&(e[t]=a[t]),e),r)}function Db(){}function Pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pb(Object(r),!0).forEach(function(t){Fb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ib=(e,t,r)=>e.map(e=>{return"".concat((a=e,a.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(r);var a}).join(","),Rb=(e,t)=>Object.keys(t).reduce((r,a)=>Mb(Mb({},r),{},{[a]:e(a,t[a])}),{});function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function zb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(t){$b(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qb=(e,t,r)=>e+(t-e)*r,Ub=e=>{var{from:t,to:r}=e;return t!==r},Bb=(e,t,r)=>{var a=Rb((t,r)=>{if(Ub(r)){var[a,n]=e(r.from,r.to,r.velocity);return zb(zb({},r),{},{from:a,velocity:n})}return r},t);return r<1?Rb((e,t)=>Ub(t)?zb(zb({},t),{},{velocity:qb(t.velocity,a[e].velocity,r),from:qb(t.from,a[e].from,r)}):t,t):Bb(e,a,r-1)};function Yb(e,t,r,a,n,s){var i,o=a.reduce((r,a)=>zb(zb({},r),{},{[a]:{from:e[a],velocity:0,to:t[a]}}),{}),l=null,c=a=>{i||(i=a);var d=(a-i)/r.dt;o=Bb(r,o,d),n(zb(zb(zb({},e),t),Rb((e,t)=>t.from,o))),i=a,Object.values(o).filter(Ub).length&&(l=s.setTimeout(c))};return()=>(l=s.setTimeout(c),()=>{l()})}const Vb=(e,t,r,a,n,s)=>{var i,o,l=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===r.isStepper?Yb(e,t,r,l,n,s):function(e,t,r,a,n,s,i){var o,l=null,c=n.reduce((r,a)=>zb(zb({},r),{},{[a]:[e[a],t[a]]}),{}),d=n=>{o||(o=n);var u=(n-o)/a,m=Rb((e,t)=>qb(...t,r(u)),c);if(s(zb(zb(zb({},e),t),m)),u<1)l=i.setTimeout(d);else{var h=Rb((e,t)=>qb(...t,r(1)),c);s(zb(zb(zb({},e),t),h))}};return()=>(l=i.setTimeout(d),()=>{l()})}(e,t,r,a,l,n,s)};var Hb=1e-4,Wb=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Gb=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),Kb=(e,t)=>r=>{var a=Wb(e,t);return Gb(a,r)},Qb=function(){for(var e,t,r,a,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];if(1===s.length)switch(s[0]){case"linear":[e,r,t,a]=[0,0,1,1];break;case"ease":[e,r,t,a]=[.25,.1,.25,1];break;case"ease-in":[e,r,t,a]=[.42,0,1,1];break;case"ease-out":[e,r,t,a]=[.42,0,.58,1];break;case"ease-in-out":[e,r,t,a]=[0,0,.58,1];break;default:var o=s[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,r,t,a]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===s.length&&([e,r,t,a]=s);var l,c,d=Kb(e,t),u=Kb(r,a),m=(l=e,c=t,e=>{var t=[...Wb(l,c).map((e,t)=>e*t).slice(1),0];return Gb(t,e)}),h=e=>e>1?1:e<0?0:e,f=e=>{for(var t=e>1?1:e,r=t,a=0;a<8;++a){var n=d(r)-t,s=m(r);if(Math.abs(n-t)<Hb||s<Hb)return u(r);r=h(r-n/s)}return u(r)};return f.isStepper=!1,f},Xb=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Qb(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:a=17}=e,n=(e,n,s)=>{var i=s+(-(e-n)*t-s*r)*a/1e3,o=s*a/1e3+e;return Math.abs(o-n)<Hb&&Math.abs(i)<Hb?[n,0]:[o,i]};return n.isStepper=!0,n.dt=a,n}();default:if("cubic-bezier"===e.split("(")[0])return Qb(e)}return"function"==typeof e?e:null};class Jb{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),a=null,n=s=>{s-r>=t?e(s):"function"==typeof requestAnimationFrame&&(a=requestAnimationFrame(n))};return a=requestAnimationFrame(n),()=>{cancelAnimationFrame(a)}}}function Zb(){return e=new Jb,t=()=>null,r=!1,a=null,n=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,[o,...l]=i;return"number"==typeof o?void(a=e.setTimeout(n.bind(null,l),o)):(n(o),void(a=e.setTimeout(n.bind(null,l))))}"string"==typeof s&&t(s),"object"==typeof s&&t(s),"function"==typeof s&&s()}},{stop:()=>{r=!0},start:e=>{r=!1,a&&(a(),a=null),n(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e};var e,t,r,a,n}var ey=t.createContext(Zb),ty={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ry={t:0},ay={t:1};function ny(e){var r,a,n,s=Ob(e,ty),{isActive:i,canBegin:o,duration:l,easing:c,begin:d,onAnimationEnd:u,onAnimationStart:m,children:h}=s,f=(r=s.animationId,a=s.animationManager,n=t.useContext(ey),t.useMemo(()=>null!=a?a:n(r),[r,a,n])),[p,g]=t.useState(i?ry:ay),x=t.useRef(null);return t.useEffect(()=>{i||g(ay)},[i]),t.useEffect(()=>{if(!i||!o)return Db;var e=Vb(ry,ay,Xb(c),l,g,f.getTimeoutController());return f.start([m,d,()=>{x.current=e()},l,u]),()=>{f.stop(),x.current&&x.current(),u()}},[i,o,l,c,d,m,u,f]),h(p.t)}function sy(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",a=t.useRef(od(r)),n=t.useRef(e);return n.current!==e&&(a.current=od(r),n.current=e),a.current}function iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function oy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iy(Object(r),!0).forEach(function(t){ly(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ly(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cy.apply(null,arguments)}var dy=(e,t,r,a,n)=>{var s,i=Math.min(Math.abs(r)/2,Math.abs(a)/2),o=a>=0?1:-1,l=r>=0?1:-1,c=a>=0&&r>=0||a<0&&r<0?1:0;if(i>0&&n instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=n[u]>i?i:n[u];s="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(s+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),s+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(s+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*d[1])),s+="L ".concat(e+r,",").concat(t+a-o*d[2]),d[2]>0&&(s+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-l*d[2],",").concat(t+a)),s+="L ".concat(e+l*d[3],",").concat(t+a),d[3]>0&&(s+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+a-o*d[3])),s+="Z"}else if(i>0&&n===+n&&n>0){var m=Math.min(i,n);s="M ".concat(e,",").concat(t+o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,"\n            L ").concat(e+r-l*m,",").concat(t,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,"\n            L ").concat(e+r,",").concat(t+a-o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+a,"\n            L ").concat(e+l*m,",").concat(t+a,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+a-o*m," Z")}else s="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return s},uy={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},my=e=>{var r=Ob(e,uy),a=t.useRef(null),[n,s]=t.useState(-1);t.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var e=a.current.getTotalLength();e&&s(e)}catch(t){}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=r,{animationEasing:m,animationDuration:h,animationBegin:f,isAnimationActive:p,isUpdateAnimationActive:g}=r,x=t.useRef(l),b=t.useRef(c),y=t.useRef(i),v=t.useRef(o),j=sy(t.useMemo(()=>({x:i,y:o,width:l,height:c,radius:d}),[i,o,l,c,d]),"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var w=_a("recharts-rectangle",u);if(!g)return t.createElement("path",cy({},_d(r,!0),{className:w,d:dy(i,o,l,c,d)}));var N=x.current,E=b.current,S=y.current,k=v.current,C="0px ".concat(-1===n?1:n,"px"),A="".concat(n,"px 0px"),_=Ib(["strokeDasharray"],h,"string"==typeof m?m:void 0);return t.createElement(ny,{animationId:j,key:j,canBegin:n>0,duration:h,easing:m,isActive:g,begin:f},e=>{var n,s=dd(N,l,e),u=dd(E,c,e),m=dd(S,i,e),h=dd(k,o,e);return a.current&&(x.current=s,b.current=u,y.current=m,v.current=h),n=p?e>0?{transition:_,strokeDasharray:A}:{strokeDasharray:C}:{strokeDasharray:A},t.createElement("path",cy({},_d(r,!0),{className:w,d:dy(m,h,s,u,d),ref:a,style:oy(oy({},n),r.style)}))})};function hy(e){var{cx:t,cy:r,radius:a,startAngle:n,endAngle:s}=e;return{points:[Rg(t,r,a,n),Rg(t,r,a,s)],cx:t,cy:r,radius:a,startAngle:n,endAngle:s}}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fy.apply(null,arguments)}var py=e=>{var{cx:t,cy:r,radius:a,angle:n,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:l}=e,c=o*(i?1:-1)+a,d=Math.asin(o/c)/Fg,u=l?n:n+s*d,m=l?n-s*d:n;return{center:Rg(t,r,c,u),circleTangency:Rg(t,r,a,u),lineTangency:Rg(t,r,c*Math.cos(d*Fg),m),theta:d}},gy=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:s,endAngle:i}=e,o=((e,t)=>td(t-e)*Math.min(Math.abs(t-e),359.999))(s,i),l=s+o,c=Rg(t,r,n,s),d=Rg(t,r,n,l),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(n,",").concat(n,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(s>l),",\n    ").concat(d.x,",").concat(d.y,"\n  ");if(a>0){var m=Rg(t,r,a,s),h=Rg(t,r,a,l);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(a,",").concat(a,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(s<=l),",\n            ").concat(m.x,",").concat(m.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},xy={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},by=e=>{var r=Ob(e,xy),{cx:a,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:m}=r;if(i<s||d===u)return null;var h,f=_a("recharts-sector",m),p=i-s,g=ld(o,p,0,!0);return h=g>0&&Math.abs(d-u)<360?(e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=td(c-l),{circleTangency:u,lineTangency:m,theta:h}=py({cx:t,cy:r,radius:n,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:f,lineTangency:p,theta:g}=py({cx:t,cy:r,radius:n,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-h-g;if(x<0)return i?"M ".concat(m.x,",").concat(m.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):gy({cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:l,endAngle:c});var b="M ".concat(m.x,",").concat(m.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(u.x,",").concat(u.y,"\n    A").concat(n,",").concat(n,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,"\n  ");if(a>0){var{circleTangency:y,lineTangency:v,theta:j}=py({cx:t,cy:r,radius:a,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:w,lineTangency:N,theta:E}=py({cx:t,cy:r,radius:a,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(l-c):Math.abs(l-c)-j-E;if(S<0&&0===s)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(N.x,",").concat(N.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,"\n      A").concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d>0),",").concat(y.x,",").concat(y.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b})({cx:a,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):gy({cx:a,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u}),t.createElement("path",fy({},_d(r,!0),{className:f,d:h}))};function yy(e,t,r){var a,n,s,i;if("horizontal"===e)s=a=t.x,n=r.top,i=r.top+r.height;else if("vertical"===e)i=n=t.y,a=r.left,s=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return hy(t);var{cx:o,cy:l,innerRadius:c,outerRadius:d,angle:u}=t,m=Rg(o,l,c,u),h=Rg(o,l,d,u);a=m.x,n=m.y,s=h.x,i=h.y}return[{x:a,y:n},{x:s,y:i}]}var vy,jy,wy,Ny,Ey,Sy={},ky={},Cy={};function Ay(){return vy||(vy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hf();e.toNumber=function(e){return t.isSymbol(e)?NaN:Number(e)}}(Cy)),Cy}function _y(){return jy||(jy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ay();e.toFinite=function(e){return e?(e=t.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}}(ky)),ky}function Ty(){return Ey?Ny:(Ey=1,Ny=(wy||(wy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ef(),r=_y();e.range=function(e,a,n){n&&"number"!=typeof n&&t.isIterateeCall(e,a,n)&&(a=n=void 0),e=r.toFinite(e),void 0===a?(a=e,e=0):a=r.toFinite(a),n=void 0===n?e<a?1:-1:r.toFinite(n);const s=Math.max(Math.ceil((a-e)/(n||1)),0),i=new Array(s);for(let t=0;t<s;t++)i[t]=e,e+=n;return i}}(Sy)),Sy).range)}const Oy=b(Ty());function Dy(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Py(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function My(e){let t,r,a;function n(e,a,n=0,s=e.length){if(n<s){if(0!==t(a,a))return s;do{const t=n+s>>>1;r(e[t],a)<0?n=t+1:s=t}while(n<s)}return n}return 2!==e.length?(t=Dy,r=(t,r)=>Dy(e(t),r),a=(t,r)=>e(t)-r):(t=e===Dy||e===Py?e:Fy,r=e,a=e),{left:n,center:function(e,t,r=0,s=e.length){const i=n(e,t,r,s-1);return i>r&&a(e[i-1],t)>-a(e[i],t)?i-1:i},right:function(e,a,n=0,s=e.length){if(n<s){if(0!==t(a,a))return s;do{const t=n+s>>>1;r(e[t],a)<=0?n=t+1:s=t}while(n<s)}return n}}}function Fy(){return 0}function Iy(e){return null===e?NaN:+e}const Ry=My(Dy).right;My(Iy).center;class Ly extends Map{constructor(e,t=$y){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(zy(this,e))}has(e){return super.has(zy(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}(this,e))}}function zy({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function $y(e){return null!==e&&"object"==typeof e?e.valueOf():e}function qy(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const Uy=Math.sqrt(50),By=Math.sqrt(10),Yy=Math.sqrt(2);function Vy(e,t,r){const a=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(a)),s=a/Math.pow(10,n),i=s>=Uy?10:s>=By?5:s>=Yy?2:1;let o,l,c;return n<0?(c=Math.pow(10,-n)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,n)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Vy(e,t,2*r):[o,l,c]}function Hy(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const a=t<e,[n,s,i]=a?Vy(t,e,r):Vy(e,t,r);if(!(s>=n))return[];const o=s-n+1,l=new Array(o);if(a)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(n+c)/-i;else for(let c=0;c<o;++c)l[c]=(n+c)*i;return l}function Wy(e,t,r){return Vy(e=+e,t=+t,r=+r)[2]}function Gy(e,t,r){r=+r;const a=(t=+t)<(e=+e),n=a?Wy(t,e,r):Wy(e,t,r);return(a?-1:1)*(n<0?1/-n:n)}function Ky(e,t){let r;for(const a of e)null!=a&&(r<a||void 0===r&&a>=a)&&(r=a);return r}function Qy(e,t){let r;for(const a of e)null!=a&&(r>a||void 0===r&&a>=a)&&(r=a);return r}function Xy(e,t,r=0,a=1/0,n){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(n=void 0===n?qy:function(e=Dy){if(e===Dy)return qy;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||0===a?a:(0===e(r,r))-(0===e(t,t))}}(n);a>r;){if(a-r>600){const s=a-r+1,i=t-r+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(i-s/2<0?-1:1);Xy(e,t,Math.max(r,Math.floor(t-i*l/s+c)),Math.min(a,Math.floor(t+(s-i)*l/s+c)),n)}const s=e[t];let i=r,o=a;for(Jy(e,r,t),n(e[a],s)>0&&Jy(e,r,a);i<o;){for(Jy(e,i,o),++i,--o;n(e[i],s)<0;)++i;for(;n(e[o],s)>0;)--o}0===n(e[r],s)?Jy(e,r,o):(++o,Jy(e,o,a)),o<=t&&(r=o+1),t<=o&&(a=o-1)}return e}function Jy(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function Zy(e,t,r=Iy){if((a=e.length)&&!isNaN(t=+t)){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,n=(a-1)*t,s=Math.floor(n),i=+r(e[s],s,e);return i+(+r(e[s+1],s+1,e)-i)*(n-s)}}function ev(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function tv(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const rv=Symbol("implicit");function av(){var e=new Ly,t=[],r=[],a=rv;function n(n){let s=e.get(n);if(void 0===s){if(a!==rv)return a;e.set(n,s=t.push(n)-1)}return r[s%r.length]}return n.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Ly;for(const a of r)e.has(a)||e.set(a,t.push(a)-1);return n},n.range=function(e){return arguments.length?(r=Array.from(e),n):r.slice()},n.unknown=function(e){return arguments.length?(a=e,n):a},n.copy=function(){return av(t,r).unknown(a)},ev.apply(n,arguments),n}function nv(){var e,t,r=av().unknown(void 0),a=r.domain,n=r.range,s=0,i=1,o=!1,l=0,c=0,d=.5;function u(){var r=a().length,u=i<s,m=u?i:s,h=u?s:i;e=(h-m)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),m+=(h-m-e*(r-l))*d,t=e*(1-l),o&&(m=Math.round(m),t=Math.round(t));var f=function(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var a=-1,n=0|Math.max(0,Math.ceil((t-e)/r)),s=new Array(n);++a<n;)s[a]=e+a*r;return s}(r).map(function(t){return m+e*t});return n(u?f.reverse():f)}return delete r.unknown,r.domain=function(e){return arguments.length?(a(e),u()):a()},r.range=function(e){return arguments.length?([s,i]=e,s=+s,i=+i,u()):[s,i]},r.rangeRound=function(e){return[s,i]=e,s=+s,i=+i,o=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,u()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return nv(a(),[s,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},ev.apply(u(),arguments)}function sv(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return sv(t())},e}function iv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ov(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function lv(){}var cv=.7,dv=1/cv,uv="\\s*([+-]?\\d+)\\s*",mv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fv=/^#([0-9a-f]{3,8})$/,pv=new RegExp(`^rgb\\(${uv},${uv},${uv}\\)$`),gv=new RegExp(`^rgb\\(${hv},${hv},${hv}\\)$`),xv=new RegExp(`^rgba\\(${uv},${uv},${uv},${mv}\\)$`),bv=new RegExp(`^rgba\\(${hv},${hv},${hv},${mv}\\)$`),yv=new RegExp(`^hsl\\(${mv},${hv},${hv}\\)$`),vv=new RegExp(`^hsla\\(${mv},${hv},${hv},${mv}\\)$`),jv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wv(){return this.rgb().formatHex()}function Nv(){return this.rgb().formatRgb()}function Ev(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fv.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Sv(t):3===r?new Av(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?kv(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?kv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=pv.exec(e))?new Av(t[1],t[2],t[3],1):(t=gv.exec(e))?new Av(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=xv.exec(e))?kv(t[1],t[2],t[3],t[4]):(t=bv.exec(e))?kv(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=yv.exec(e))?Mv(t[1],t[2]/100,t[3]/100,1):(t=vv.exec(e))?Mv(t[1],t[2]/100,t[3]/100,t[4]):jv.hasOwnProperty(e)?Sv(jv[e]):"transparent"===e?new Av(NaN,NaN,NaN,0):null}function Sv(e){return new Av(e>>16&255,e>>8&255,255&e,1)}function kv(e,t,r,a){return a<=0&&(e=t=r=NaN),new Av(e,t,r,a)}function Cv(e,t,r,a){return 1===arguments.length?function(e){return e instanceof lv||(e=Ev(e)),e?new Av((e=e.rgb()).r,e.g,e.b,e.opacity):new Av}(e):new Av(e,t,r,null==a?1:a)}function Av(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}function _v(){return`#${Pv(this.r)}${Pv(this.g)}${Pv(this.b)}`}function Tv(){const e=Ov(this.opacity);return`${1===e?"rgb(":"rgba("}${Dv(this.r)}, ${Dv(this.g)}, ${Dv(this.b)}${1===e?")":`, ${e})`}`}function Ov(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dv(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pv(e){return((e=Dv(e))<16?"0":"")+e.toString(16)}function Mv(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Iv(e,t,r,a)}function Fv(e){if(e instanceof Iv)return new Iv(e.h,e.s,e.l,e.opacity);if(e instanceof lv||(e=Ev(e)),!e)return new Iv;if(e instanceof Iv)return e;var t=(e=e.rgb()).r/255,r=e.g/255,a=e.b/255,n=Math.min(t,r,a),s=Math.max(t,r,a),i=NaN,o=s-n,l=(s+n)/2;return o?(i=t===s?(r-a)/o+6*(r<a):r===s?(a-t)/o+2:(t-r)/o+4,o/=l<.5?s+n:2-s-n,i*=60):o=l>0&&l<1?0:i,new Iv(i,o,l,e.opacity)}function Iv(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}function Rv(e){return(e=(e||0)%360)<0?e+360:e}function Lv(e){return Math.max(0,Math.min(1,e||0))}function zv(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}iv(lv,Ev,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wv,formatHex:wv,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Fv(this).formatHsl()},formatRgb:Nv,toString:Nv}),iv(Av,Cv,ov(lv,{brighter(e){return e=null==e?dv:Math.pow(dv,e),new Av(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?cv:Math.pow(cv,e),new Av(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Av(Dv(this.r),Dv(this.g),Dv(this.b),Ov(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_v,formatHex:_v,formatHex8:function(){return`#${Pv(this.r)}${Pv(this.g)}${Pv(this.b)}${Pv(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Tv,toString:Tv})),iv(Iv,function(e,t,r,a){return 1===arguments.length?Fv(e):new Iv(e,t,r,null==a?1:a)},ov(lv,{brighter(e){return e=null==e?dv:Math.pow(dv,e),new Iv(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?cv:Math.pow(cv,e),new Iv(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,n=2*r-a;return new Av(zv(e>=240?e-240:e+120,n,a),zv(e,n,a),zv(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new Iv(Rv(this.h),Lv(this.s),Lv(this.l),Ov(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ov(this.opacity);return`${1===e?"hsl(":"hsla("}${Rv(this.h)}, ${100*Lv(this.s)}%, ${100*Lv(this.l)}%${1===e?")":`, ${e})`}`}}));const $v=e=>()=>e;function qv(e){return 1===(e=+e)?Uv:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}(t,r,e):$v(isNaN(t)?r:t)}}function Uv(e,t){var r=t-e;return r?function(e,t){return function(r){return e+r*t}}(e,r):$v(isNaN(e)?t:e)}const Bv=function e(t){var r=qv(t);function a(e,t){var a=r((e=Cv(e)).r,(t=Cv(t)).r),n=r(e.g,t.g),s=r(e.b,t.b),i=Uv(e.opacity,t.opacity);return function(t){return e.r=a(t),e.g=n(t),e.b=s(t),e.opacity=i(t),e+""}}return a.gamma=e,a}(1);function Yv(e,t){t||(t=[]);var r,a=e?Math.min(t.length,e.length):0,n=t.slice();return function(s){for(r=0;r<a;++r)n[r]=e[r]*(1-s)+t[r]*s;return n}}function Vv(e,t){var r,a=t?t.length:0,n=e?Math.min(a,e.length):0,s=new Array(n),i=new Array(a);for(r=0;r<n;++r)s[r]=Jv(e[r],t[r]);for(;r<a;++r)i[r]=t[r];return function(e){for(r=0;r<n;++r)i[r]=s[r](e);return i}}function Hv(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function Wv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Gv(e,t){var r,a={},n={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?a[r]=Jv(e[r],t[r]):n[r]=t[r];return function(e){for(r in a)n[r]=a[r](e);return n}}var Kv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qv=new RegExp(Kv.source,"g");function Xv(e,t){var r,a,n,s=Kv.lastIndex=Qv.lastIndex=0,i=-1,o=[],l=[];for(e+="",t+="";(r=Kv.exec(e))&&(a=Qv.exec(t));)(n=a.index)>s&&(n=t.slice(s,n),o[i]?o[i]+=n:o[++i]=n),(r=r[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,l.push({i:i,x:Wv(r,a)})),s=Qv.lastIndex;return s<t.length&&(n=t.slice(s),o[i]?o[i]+=n:o[++i]=n),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,a=0;a<t;++a)o[(r=l[a]).i]=r.x(e);return o.join("")})}function Jv(e,t){var r,a,n=typeof t;return null==t||"boolean"===n?$v(t):("number"===n?Wv:"string"===n?(r=Ev(t))?(t=r,Bv):Xv:t instanceof Ev?Bv:t instanceof Date?Hv:(a=t,!ArrayBuffer.isView(a)||a instanceof DataView?Array.isArray(t)?Vv:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Gv:Wv:Yv))(e,t)}function Zv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ej(e){return+e}var tj=[0,1];function rj(e){return e}function aj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function nj(e,t,r){var a=e[0],n=e[1],s=t[0],i=t[1];return n<a?(a=aj(n,a),s=r(i,s)):(a=aj(a,n),s=r(s,i)),function(e){return s(a(e))}}function sj(e,t,r){var a=Math.min(e.length,t.length)-1,n=new Array(a),s=new Array(a),i=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<a;)n[i]=aj(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(t){var r=Ry(e,t,1,a)-1;return s[r](n[r](t))}}function ij(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function oj(){var e,t,r,a,n,s,i=tj,o=tj,l=Jv,c=rj;function d(){var e=Math.min(i.length,o.length);return c!==rj&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(i[0],i[e-1])),a=e>2?sj:nj,n=s=null,u}function u(t){return null==t||isNaN(t=+t)?r:(n||(n=a(i.map(e),o,l)))(e(c(t)))}return u.invert=function(r){return c(t((s||(s=a(o,i.map(e),Wv)))(r)))},u.domain=function(e){return arguments.length?(i=Array.from(e,ej),d()):i.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=Zv,d()},u.clamp=function(e){return arguments.length?(c=!!e||rj,d()):c!==rj},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,a){return e=r,t=a,d()}}function lj(){return oj()(rj,rj)}function cj(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function dj(e){return(e=cj(Math.abs(e)))?e[1]:NaN}var uj,mj=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hj(e){if(!(t=mj.exec(e)))throw new Error("invalid format: "+e);var t;return new fj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function fj(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function pj(e,t){var r=cj(e,t);if(!r)return e+"";var a=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}hj.prototype=fj.prototype,fj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const gj={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pj(100*e,t),r:pj,s:function(e,t){var r=cj(e,t);if(!r)return e+"";var a=r[0],n=r[1],s=n-(uj=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,i=a.length;return s===i?a:s>i?a+new Array(s-i+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+cj(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xj(e){return e}var bj,yj,vj,jj=Array.prototype.map,wj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nj(e){var t,r,a=void 0===e.grouping||void 0===e.thousands?xj:(t=jj.call(e.grouping,Number),r=e.thousands+"",function(e,a){for(var n=e.length,s=[],i=0,o=t[0],l=0;n>0&&o>0&&(l+o+1>a&&(o=Math.max(1,a-l)),s.push(e.substring(n-=o,n+o)),!((l+=o+1)>a));)o=t[i=(i+1)%t.length];return s.reverse().join(r)}),n=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?xj:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(jj.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=hj(e)).fill,r=e.align,u=e.sign,m=e.symbol,h=e.zero,f=e.width,p=e.comma,g=e.precision,x=e.trim,b=e.type;"n"===b?(p=!0,b="g"):gj[b]||(void 0===g&&(g=12),x=!0,b="g"),(h||"0"===t&&"="===r)&&(h=!0,t="0",r="=");var y="$"===m?n:"#"===m&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",v="$"===m?s:/[%p]/.test(b)?l:"",j=gj[b],w=/[defgprs%]/.test(b);function N(e){var n,s,l,m=y,N=v;if("c"===b)N=j(e)+N,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),g),x&&(e=function(e){e:for(var t,r=e.length,a=1,n=-1;a<r;++a)switch(e[a]){case".":n=t=a;break;case"0":0===n&&(n=a),t=a;break;default:if(!+e[a])break e;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==u&&(E=!1),m=(E?"("===u?u:c:"-"===u||"("===u?"":u)+m,N=("s"===b?wj[8+uj/3]:"")+N+(E&&"("===u?")":""),w)for(n=-1,s=e.length;++n<s;)if(48>(l=e.charCodeAt(n))||l>57){N=(46===l?i+e.slice(n+1):e.slice(n))+N,e=e.slice(0,n);break}}p&&!h&&(e=a(e,1/0));var S=m.length+e.length+N.length,k=S<f?new Array(f-S+1).join(t):"";switch(p&&h&&(e=a(k+e,k.length?f-N.length:1/0),k=""),r){case"<":e=m+e+N+k;break;case"=":e=m+k+e+N;break;case"^":e=k.slice(0,S=k.length>>1)+m+e+N+k.slice(S);break;default:e=k+m+e+N}return o(e)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var r=u(((e=hj(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(dj(t)/3))),n=Math.pow(10,-a),s=wj[8+a/3];return function(e){return r(n*e)+s}}}}function Ej(e,t,r,a){var n,s=Gy(e,t,r);switch((a=hj(null==a?",f":a)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(n=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(dj(t)/3)))-dj(Math.abs(e)))}(s,i))||(a.precision=n),vj(a,i);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(n=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dj(t)-dj(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=n-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(n=function(e){return Math.max(0,-dj(Math.abs(e)))}(s))||(a.precision=n-2*("%"===a.type))}return yj(a)}function Sj(e){var t=e.domain;return e.ticks=function(e){var r=t();return Hy(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var a=t();return Ej(a[0],a[a.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var a,n,s=t(),i=0,o=s.length-1,l=s[i],c=s[o],d=10;for(c<l&&(n=l,l=c,c=n,n=i,i=o,o=n);d-- >0;){if((n=Wy(l,c,r))===a)return s[i]=l,s[o]=c,t(s);if(n>0)l=Math.floor(l/n)*n,c=Math.ceil(c/n)*n;else{if(!(n<0))break;l=Math.ceil(l*n)/n,c=Math.floor(c*n)/n}a=n}return e},e}function kj(e,t){var r,a=0,n=(e=e.slice()).length-1,s=e[a],i=e[n];return i<s&&(r=a,a=n,n=r,r=s,s=i,i=r),e[a]=t.floor(s),e[n]=t.ceil(i),e}function Cj(e){return Math.log(e)}function Aj(e){return Math.exp(e)}function _j(e){return-Math.log(-e)}function Tj(e){return-Math.exp(-e)}function Oj(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Dj(e){return(t,r)=>-e(-t,r)}function Pj(e){const t=e(Cj,Aj),r=t.domain;let a,n,s=10;function i(){return a=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),n=function(e){return 10===e?Oj:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),r()[0]<0?(a=Dj(a),n=Dj(n),e(_j,Tj)):e(Cj,Aj),t}return t.base=function(e){return arguments.length?(s=+e,i()):s},t.domain=function(e){return arguments.length?(r(e),i()):r()},t.ticks=e=>{const t=r();let i=t[0],o=t[t.length-1];const l=o<i;l&&([i,o]=[o,i]);let c,d,u=a(i),m=a(o);const h=null==e?10:+e;let f=[];if(!(s%1)&&m-u<h){if(u=Math.floor(u),m=Math.ceil(m),i>0){for(;u<=m;++u)for(c=1;c<s;++c)if(d=u<0?c/n(-u):c*n(u),!(d<i)){if(d>o)break;f.push(d)}}else for(;u<=m;++u)for(c=s-1;c>=1;--c)if(d=u>0?c/n(-u):c*n(u),!(d<i)){if(d>o)break;f.push(d)}2*f.length<h&&(f=Hy(i,o,h))}else f=Hy(u,m,Math.min(m-u,h)).map(n);return l?f.reverse():f},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===s?"s":","),"function"!=typeof r&&(s%1||null!=(r=hj(r)).precision||(r.trim=!0),r=yj(r)),e===1/0)return r;const i=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/n(Math.round(a(e)));return t*s<s-.5&&(t*=s),t<=i?r(e):""}},t.nice=()=>r(kj(r(),{floor:e=>n(Math.floor(a(e))),ceil:e=>n(Math.ceil(a(e)))})),t}function Mj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Fj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ij(e){var t=1,r=e(Mj(t),Fj(t));return r.constant=function(r){return arguments.length?e(Mj(t=+r),Fj(t)):t},Sj(r)}function Rj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lj(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zj(e){return e<0?-e*e:e*e}function $j(e){var t=e(rj,rj),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(rj,rj):.5===r?e(Lj,zj):e(Rj(r),Rj(1/r)):r},Sj(t)}function qj(){var e=$j(oj());return e.copy=function(){return ij(e,qj()).exponent(e.exponent())},ev.apply(e,arguments),e}function Uj(e){return Math.sign(e)*e*e}bj=Nj({thousands:",",grouping:[3],currency:["$",""]}),yj=bj.format,vj=bj.formatPrefix;const Bj=new Date,Yj=new Date;function Vj(e,t,r,a){function n(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return n.floor=t=>(e(t=new Date(+t)),t),n.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),n.round=e=>{const t=n(e),r=n.ceil(e);return e-t<r-e?t:r},n.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),n.range=(r,a,s)=>{const i=[];if(r=n.ceil(r),s=null==s?1:Math.floor(s),!(r<a&&s>0))return i;let o;do{i.push(o=new Date(+r)),t(r,s),e(r)}while(o<r&&r<a);return i},n.filter=r=>Vj(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,a)=>{if(e>=e)if(a<0)for(;++a<=0;)for(;t(e,-1),!r(e););else for(;--a>=0;)for(;t(e,1),!r(e););}),r&&(n.count=(t,a)=>(Bj.setTime(+t),Yj.setTime(+a),e(Bj),e(Yj),Math.floor(r(Bj,Yj))),n.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?n.filter(a?t=>a(t)%e===0:t=>n.count(0,t)%e===0):n:null)),n}const Hj=Vj(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Hj.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Vj(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Hj:null),Hj.range;const Wj=1e3,Gj=6e4,Kj=36e5,Qj=864e5,Xj=6048e5,Jj=2592e6,Zj=31536e6,ew=Vj(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wj)},(e,t)=>(t-e)/Wj,e=>e.getUTCSeconds());ew.range;const tw=Vj(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wj)},(e,t)=>{e.setTime(+e+t*Gj)},(e,t)=>(t-e)/Gj,e=>e.getMinutes());tw.range;const rw=Vj(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gj)},(e,t)=>(t-e)/Gj,e=>e.getUTCMinutes());rw.range;const aw=Vj(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wj-e.getMinutes()*Gj)},(e,t)=>{e.setTime(+e+t*Kj)},(e,t)=>(t-e)/Kj,e=>e.getHours());aw.range;const nw=Vj(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Kj)},(e,t)=>(t-e)/Kj,e=>e.getUTCHours());nw.range;const sw=Vj(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gj)/Qj,e=>e.getDate()-1);sw.range;const iw=Vj(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qj,e=>e.getUTCDate()-1);iw.range;const ow=Vj(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qj,e=>Math.floor(e/Qj));function lw(e){return Vj(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gj)/Xj)}ow.range;const cw=lw(0),dw=lw(1),uw=lw(2),mw=lw(3),hw=lw(4),fw=lw(5),pw=lw(6);function gw(e){return Vj(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Xj)}cw.range,dw.range,uw.range,mw.range,hw.range,fw.range,pw.range;const xw=gw(0),bw=gw(1),yw=gw(2),vw=gw(3),jw=gw(4),ww=gw(5),Nw=gw(6);xw.range,bw.range,yw.range,vw.range,jw.range,ww.range,Nw.range;const Ew=Vj(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());Ew.range;const Sw=Vj(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());Sw.range;const kw=Vj(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());kw.every=e=>isFinite(e=Math.floor(e))&&e>0?Vj(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,kw.range;const Cw=Vj(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function Aw(e,t,r,a,n,s){const i=[[ew,1,Wj],[ew,5,5e3],[ew,15,15e3],[ew,30,3e4],[s,1,Gj],[s,5,3e5],[s,15,9e5],[s,30,18e5],[n,1,Kj],[n,3,108e5],[n,6,216e5],[n,12,432e5],[a,1,Qj],[a,2,1728e5],[r,1,Xj],[t,1,Jj],[t,3,7776e6],[e,1,Zj]];function o(t,r,a){const n=Math.abs(r-t)/a,s=My(([,,e])=>e).right(i,n);if(s===i.length)return e.every(Gy(t/Zj,r/Zj,a));if(0===s)return Hj.every(Math.max(Gy(t,r,a),1));const[o,l]=i[n/i[s-1][2]<i[s][2]/n?s-1:s];return o.every(l)}return[function(e,t,r){const a=t<e;a&&([e,t]=[t,e]);const n=r&&"function"==typeof r.range?r:o(e,t,r),s=n?n.range(e,+t+1):[];return a?s.reverse():s},o]}Cw.every=e=>isFinite(e=Math.floor(e))&&e>0?Vj(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,Cw.range;const[_w,Tw]=Aw(Cw,Sw,xw,ow,nw,rw),[Ow,Dw]=Aw(kw,Ew,cw,sw,aw,tw);function Pw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fw(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var Iw,Rw,Lw,zw={"-":"",_:" ",0:"0"},$w=/^\s*\d+/,qw=/^%/,Uw=/[\\^$*+?|[\]().{}]/g;function Bw(e,t,r){var a=e<0?"-":"",n=(a?-e:e)+"",s=n.length;return a+(s<r?new Array(r-s+1).join(t)+n:n)}function Yw(e){return e.replace(Uw,"\\$&")}function Vw(e){return new RegExp("^(?:"+e.map(Yw).join("|")+")","i")}function Hw(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Ww(e,t,r){var a=$w.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function Gw(e,t,r){var a=$w.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function Kw(e,t,r){var a=$w.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function Qw(e,t,r){var a=$w.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function Xw(e,t,r){var a=$w.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function Jw(e,t,r){var a=$w.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function Zw(e,t,r){var a=$w.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function eN(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function tN(e,t,r){var a=$w.exec(t.slice(r,r+1));return a?(e.q=3*a[0]-3,r+a[0].length):-1}function rN(e,t,r){var a=$w.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function aN(e,t,r){var a=$w.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function nN(e,t,r){var a=$w.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function sN(e,t,r){var a=$w.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function iN(e,t,r){var a=$w.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function oN(e,t,r){var a=$w.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function lN(e,t,r){var a=$w.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function cN(e,t,r){var a=$w.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function dN(e,t,r){var a=qw.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function uN(e,t,r){var a=$w.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function mN(e,t,r){var a=$w.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function hN(e,t){return Bw(e.getDate(),t,2)}function fN(e,t){return Bw(e.getHours(),t,2)}function pN(e,t){return Bw(e.getHours()%12||12,t,2)}function gN(e,t){return Bw(1+sw.count(kw(e),e),t,3)}function xN(e,t){return Bw(e.getMilliseconds(),t,3)}function bN(e,t){return xN(e,t)+"000"}function yN(e,t){return Bw(e.getMonth()+1,t,2)}function vN(e,t){return Bw(e.getMinutes(),t,2)}function jN(e,t){return Bw(e.getSeconds(),t,2)}function wN(e){var t=e.getDay();return 0===t?7:t}function NN(e,t){return Bw(cw.count(kw(e)-1,e),t,2)}function EN(e){var t=e.getDay();return t>=4||0===t?hw(e):hw.ceil(e)}function SN(e,t){return e=EN(e),Bw(hw.count(kw(e),e)+(4===kw(e).getDay()),t,2)}function kN(e){return e.getDay()}function CN(e,t){return Bw(dw.count(kw(e)-1,e),t,2)}function AN(e,t){return Bw(e.getFullYear()%100,t,2)}function _N(e,t){return Bw((e=EN(e)).getFullYear()%100,t,2)}function TN(e,t){return Bw(e.getFullYear()%1e4,t,4)}function ON(e,t){var r=e.getDay();return Bw((e=r>=4||0===r?hw(e):hw.ceil(e)).getFullYear()%1e4,t,4)}function DN(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Bw(t/60|0,"0",2)+Bw(t%60,"0",2)}function PN(e,t){return Bw(e.getUTCDate(),t,2)}function MN(e,t){return Bw(e.getUTCHours(),t,2)}function FN(e,t){return Bw(e.getUTCHours()%12||12,t,2)}function IN(e,t){return Bw(1+iw.count(Cw(e),e),t,3)}function RN(e,t){return Bw(e.getUTCMilliseconds(),t,3)}function LN(e,t){return RN(e,t)+"000"}function zN(e,t){return Bw(e.getUTCMonth()+1,t,2)}function $N(e,t){return Bw(e.getUTCMinutes(),t,2)}function qN(e,t){return Bw(e.getUTCSeconds(),t,2)}function UN(e){var t=e.getUTCDay();return 0===t?7:t}function BN(e,t){return Bw(xw.count(Cw(e)-1,e),t,2)}function YN(e){var t=e.getUTCDay();return t>=4||0===t?jw(e):jw.ceil(e)}function VN(e,t){return e=YN(e),Bw(jw.count(Cw(e),e)+(4===Cw(e).getUTCDay()),t,2)}function HN(e){return e.getUTCDay()}function WN(e,t){return Bw(bw.count(Cw(e)-1,e),t,2)}function GN(e,t){return Bw(e.getUTCFullYear()%100,t,2)}function KN(e,t){return Bw((e=YN(e)).getUTCFullYear()%100,t,2)}function QN(e,t){return Bw(e.getUTCFullYear()%1e4,t,4)}function XN(e,t){var r=e.getUTCDay();return Bw((e=r>=4||0===r?jw(e):jw.ceil(e)).getUTCFullYear()%1e4,t,4)}function JN(){return"+0000"}function ZN(){return"%"}function eE(e){return+e}function tE(e){return Math.floor(+e/1e3)}function rE(e){return new Date(e)}function aE(e){return e instanceof Date?+e:+new Date(+e)}function nE(e,t,r,a,n,s,i,o,l,c){var d=lj(),u=d.invert,m=d.domain,h=c(".%L"),f=c(":%S"),p=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),b=c("%b %d"),y=c("%B"),v=c("%Y");function j(e){return(l(e)<e?h:o(e)<e?f:i(e)<e?p:s(e)<e?g:a(e)<e?n(e)<e?x:b:r(e)<e?y:v)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?m(Array.from(e,aE)):m().map(rE)},d.ticks=function(t){var r=m();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?j:c(t)},d.nice=function(e){var r=m();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?m(kj(r,e)):d},d.copy=function(){return ij(d,nE(e,t,r,a,n,s,i,o,l,c))},d}function sE(){var e,t,r,a,n,s=0,i=1,o=rj,l=!1;function c(t){return null==t||isNaN(t=+t)?n:o(0===r?.5:(t=(a(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,a;return arguments.length?([r,a]=t,o=e(r,a),c):[o(0),o(1)]}}return c.domain=function(n){return arguments.length?([s,i]=n,e=a(s=+s),t=a(i=+i),r=e===t?0:1/(t-e),c):[s,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(Jv),c.rangeRound=d(Zv),c.unknown=function(e){return arguments.length?(n=e,c):n},function(n){return a=n,e=n(s),t=n(i),r=e===t?0:1/(t-e),c}}function iE(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oE(){var e=$j(sE());return e.copy=function(){return iE(e,oE()).exponent(e.exponent())},tv.apply(e,arguments)}function lE(){var e,t,r,a,n,s,i,o=0,l=.5,c=1,d=1,u=rj,m=!1;function h(e){return isNaN(e=+e)?i:(e=.5+((e=+s(e))-t)*(d*e<d*t?a:n),u(m?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var r,a,n;return arguments.length?([r,a,n]=t,u=function(e,t){void 0===t&&(t=e,e=Jv);for(var r=0,a=t.length-1,n=t[0],s=new Array(a<0?0:a);r<a;)s[r]=e(n,n=t[++r]);return function(e){var t=Math.max(0,Math.min(a-1,Math.floor(e*=a)));return s[t](e-t)}}(e,[r,a,n]),h):[u(0),u(.5),u(1)]}}return h.domain=function(i){return arguments.length?([o,l,c]=i,e=s(o=+o),t=s(l=+l),r=s(c=+c),a=e===t?0:.5/(t-e),n=t===r?0:.5/(r-t),d=t<e?-1:1,h):[o,l,c]},h.clamp=function(e){return arguments.length?(m=!!e,h):m},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.range=f(Jv),h.rangeRound=f(Zv),h.unknown=function(e){return arguments.length?(i=e,h):i},function(i){return s=i,e=i(o),t=i(l),r=i(c),a=e===t?0:.5/(t-e),n=t===r?0:.5/(r-t),d=t<e?-1:1,h}}function cE(){var e=$j(lE());return e.copy=function(){return iE(e,cE()).exponent(e.exponent())},tv.apply(e,arguments)}!function(e){Iw=function(e){var t=e.dateTime,r=e.date,a=e.time,n=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=Vw(n),d=Hw(n),u=Vw(s),m=Hw(s),h=Vw(i),f=Hw(i),p=Vw(o),g=Hw(o),x=Vw(l),b=Hw(l),y={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:hN,e:hN,f:bN,g:_N,G:ON,H:fN,I:pN,j:gN,L:xN,m:yN,M:vN,p:function(e){return n[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:eE,s:tE,S:jN,u:wN,U:NN,V:SN,w:kN,W:CN,x:null,X:null,y:AN,Y:TN,Z:DN,"%":ZN},v={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:PN,e:PN,f:LN,g:KN,G:XN,H:MN,I:FN,j:IN,L:RN,m:zN,M:$N,p:function(e){return n[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:eE,s:tE,S:qN,u:UN,U:BN,V:VN,w:HN,W:WN,x:null,X:null,y:GN,Y:QN,Z:JN,"%":ZN},j={a:function(e,t,r){var a=h.exec(t.slice(r));return a?(e.w=f.get(a[0].toLowerCase()),r+a[0].length):-1},A:function(e,t,r){var a=u.exec(t.slice(r));return a?(e.w=m.get(a[0].toLowerCase()),r+a[0].length):-1},b:function(e,t,r){var a=x.exec(t.slice(r));return a?(e.m=b.get(a[0].toLowerCase()),r+a[0].length):-1},B:function(e,t,r){var a=p.exec(t.slice(r));return a?(e.m=g.get(a[0].toLowerCase()),r+a[0].length):-1},c:function(e,r,a){return E(e,t,r,a)},d:aN,e:aN,f:cN,g:Zw,G:Jw,H:sN,I:sN,j:nN,L:lN,m:rN,M:iN,p:function(e,t,r){var a=c.exec(t.slice(r));return a?(e.p=d.get(a[0].toLowerCase()),r+a[0].length):-1},q:tN,Q:uN,s:mN,S:oN,u:Gw,U:Kw,V:Qw,w:Ww,W:Xw,x:function(e,t,a){return E(e,r,t,a)},X:function(e,t,r){return E(e,a,t,r)},y:Zw,Y:Jw,Z:eN,"%":dN};function w(e,t){return function(r){var a,n,s,i=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(n=zw[a=e.charAt(++o)])?a=e.charAt(++o):n="e"===a?" ":"0",(s=t[a])&&(a=s(r,n)),i.push(a),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function N(e,t){return function(r){var a,n,s=Fw(1900,void 0,1);if(E(s,e,r+="",0)!=r.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(n=(a=Mw(Fw(s.y,0,1))).getUTCDay(),a=n>4||0===n?bw.ceil(a):bw(a),a=iw.offset(a,7*(s.V-1)),s.y=a.getUTCFullYear(),s.m=a.getUTCMonth(),s.d=a.getUTCDate()+(s.w+6)%7):(n=(a=Pw(Fw(s.y,0,1))).getDay(),a=n>4||0===n?dw.ceil(a):dw(a),a=sw.offset(a,7*(s.V-1)),s.y=a.getFullYear(),s.m=a.getMonth(),s.d=a.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),n="Z"in s?Mw(Fw(s.y,0,1)).getUTCDay():Pw(Fw(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(n+5)%7:s.w+7*s.U-(n+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,Mw(s)):Pw(s)}}function E(e,t,r,a){for(var n,s,i=0,o=t.length,l=r.length;i<o;){if(a>=l)return-1;if(37===(n=t.charCodeAt(i++))){if(n=t.charAt(i++),!(s=j[n in zw?t.charAt(i++):n])||(a=s(e,r,a))<0)return-1}else if(n!=r.charCodeAt(a++))return-1}return a}return y.x=w(r,y),y.X=w(a,y),y.c=w(t,y),v.x=w(r,v),v.X=w(a,v),v.c=w(t,v),{format:function(e){var t=w(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Rw=Iw.format,Iw.parse,Lw=Iw.utcFormat,Iw.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const dE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nv,scaleDiverging:function e(){var t=Sj(lE()(rj));return t.copy=function(){return iE(t,e())},tv.apply(t,arguments)},scaleDivergingLog:function e(){var t=Pj(lE()).domain([.1,1,10]);return t.copy=function(){return iE(t,e()).base(t.base())},tv.apply(t,arguments)},scaleDivergingPow:cE,scaleDivergingSqrt:function(){return cE.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=Ij(lE());return t.copy=function(){return iE(t,e()).constant(t.constant())},tv.apply(t,arguments)},scaleIdentity:function e(t){var r;function a(e){return null==e||isNaN(e=+e)?r:e}return a.invert=a,a.domain=a.range=function(e){return arguments.length?(t=Array.from(e,ej),a):t.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return e(t).unknown(r)},t=arguments.length?Array.from(t,ej):[0,1],Sj(a)},scaleImplicit:rv,scaleLinear:function e(){var t=lj();return t.copy=function(){return ij(t,e())},ev.apply(t,arguments),Sj(t)},scaleLog:function e(){const t=Pj(oj()).domain([1,10]);return t.copy=()=>ij(t,e()).base(t.base()),ev.apply(t,arguments),t},scaleOrdinal:av,scalePoint:function(){return sv(nv.apply(null,arguments).paddingInner(1))},scalePow:qj,scaleQuantile:function e(){var t,r=[],a=[],n=[];function s(){var e=0,t=Math.max(1,a.length);for(n=new Array(t-1);++e<t;)n[e-1]=Zy(r,e/t);return i}function i(e){return null==e||isNaN(e=+e)?t:a[Ry(n,e)]}return i.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:[t>0?n[t-1]:r[0],t<n.length?n[t]:r[r.length-1]]},i.domain=function(e){if(!arguments.length)return r.slice();r=[];for(let t of e)null==t||isNaN(t=+t)||r.push(t);return r.sort(Dy),s()},i.range=function(e){return arguments.length?(a=Array.from(e),s()):a.slice()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.quantiles=function(){return n.slice()},i.copy=function(){return e().domain(r).range(a).unknown(t)},ev.apply(i,arguments)},scaleQuantize:function e(){var t,r=0,a=1,n=1,s=[.5],i=[0,1];function o(e){return null!=e&&e<=e?i[Ry(s,e,0,n)]:t}function l(){var e=-1;for(s=new Array(n);++e<n;)s[e]=((e+1)*a-(e-n)*r)/(n+1);return o}return o.domain=function(e){return arguments.length?([r,a]=e,r=+r,a=+a,l()):[r,a]},o.range=function(e){return arguments.length?(n=(i=Array.from(e)).length-1,l()):i.slice()},o.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,s[0]]:t>=n?[s[n-1],a]:[s[t-1],s[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return s.slice()},o.copy=function(){return e().domain([r,a]).range(i).unknown(t)},ev.apply(Sj(o),arguments)},scaleRadial:function e(){var t,r=lj(),a=[0,1],n=!1;function s(e){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(r(e));return isNaN(a)?t:n?Math.round(a):a}return s.invert=function(e){return r.invert(Uj(e))},s.domain=function(e){return arguments.length?(r.domain(e),s):r.domain()},s.range=function(e){return arguments.length?(r.range((a=Array.from(e,ej)).map(Uj)),s):a.slice()},s.rangeRound=function(e){return s.range(e).round(!0)},s.round=function(e){return arguments.length?(n=!!e,s):n},s.clamp=function(e){return arguments.length?(r.clamp(e),s):r.clamp()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return e(r.domain(),a).round(n).clamp(r.clamp()).unknown(t)},ev.apply(s,arguments),Sj(s)},scaleSequential:function e(){var t=Sj(sE()(rj));return t.copy=function(){return iE(t,e())},tv.apply(t,arguments)},scaleSequentialLog:function e(){var t=Pj(sE()).domain([1,10]);return t.copy=function(){return iE(t,e()).base(t.base())},tv.apply(t,arguments)},scaleSequentialPow:oE,scaleSequentialQuantile:function e(){var t=[],r=rj;function a(e){if(null!=e&&!isNaN(e=+e))return r((Ry(t,e,1)-1)/(t.length-1))}return a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(Dy),a},a.interpolator=function(e){return arguments.length?(r=e,a):r},a.range=function(){return t.map((e,a)=>r(a/(t.length-1)))},a.quantiles=function(e){return Array.from({length:e+1},(r,a)=>function(e,t){if((r=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return Qy(e);if(t>=1)return Ky(e);var r,a=(r-1)*t,n=Math.floor(a),s=Ky(Xy(e,n).subarray(0,n+1));return s+(Qy(e.subarray(n+1))-s)*(a-n)}}(t,a/e))},a.copy=function(){return e(r).domain(t)},tv.apply(a,arguments)},scaleSequentialSqrt:function(){return oE.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=Ij(sE());return t.copy=function(){return iE(t,e()).constant(t.constant())},tv.apply(t,arguments)},scaleSqrt:function(){return qj.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=Ij(oj());return t.copy=function(){return ij(t,e()).constant(t.constant())},ev.apply(t,arguments)},scaleThreshold:function e(){var t,r=[.5],a=[0,1],n=1;function s(e){return null!=e&&e<=e?a[Ry(r,e,0,n)]:t}return s.domain=function(e){return arguments.length?(r=Array.from(e),n=Math.min(r.length,a.length-1),s):r.slice()},s.range=function(e){return arguments.length?(a=Array.from(e),n=Math.min(r.length,a.length-1),s):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return[r[t-1],r[t]]},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return e().domain(r).range(a).unknown(t)},ev.apply(s,arguments)},scaleTime:function(){return ev.apply(nE(Ow,Dw,kw,Ew,cw,sw,aw,tw,ew,Rw).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return ev.apply(nE(_w,Tw,Cw,Sw,xw,iw,nw,rw,ew,Lw).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:Ej},Symbol.toStringTag,{value:"Module"}));var uE=e=>e.chartData,mE=tf([uE],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),hE=(e,t,r,a)=>a?mE(e):uE(e);function fE(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(ub(t)&&ub(r))return!0}return!1}function pE(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var gE,xE=1e9,bE=!0,yE="[DecimalError] ",vE=yE+"Invalid argument: ",jE=yE+"Exponent out of range: ",wE=Math.floor,NE=Math.pow,EE=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,SE=1e7,kE=9007199254740991,CE=wE(1286742750677284.5),AE={};function _E(e,t){var r,a,n,s,i,o,l,c,d=e.constructor,u=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),bE?zE(t,u):t;if(l=e.d,c=t.d,i=e.e,n=t.e,l=l.slice(),s=i-n){for(s<0?(a=l,s=-s,o=c.length):(a=c,n=i,o=l.length),s>(o=(i=Math.ceil(u/7))>o?i+1:o+1)&&(s=o,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for((o=l.length)-(s=c.length)<0&&(s=o,a=c,c=l,l=a),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/SE|0,l[s]%=SE;for(r&&(l.unshift(r),++n),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=n,bE?zE(t,u):t}function TE(e,t,r){if(e!==~~e||e<t||e>r)throw Error(vE+e)}function OE(e){var t,r,a,n=e.length-1,s="",i=e[0];if(n>0){for(s+=i,t=1;t<n;t++)(r=7-(a=e[t]+"").length)&&(s+=IE(r)),s+=a;(r=7-(a=(i=e[t])+"").length)&&(s+=IE(r))}else if(0===i)return"0";for(;i%10==0;)i/=10;return s+i}AE.absoluteValue=AE.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},AE.comparedTo=AE.cmp=function(e){var t,r,a,n,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,r=(a=s.d.length)<(n=e.d.length)?a:n;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return a===n?0:a>n^s.s<0?1:-1},AE.decimalPlaces=AE.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},AE.dividedBy=AE.div=function(e){return DE(this,new this.constructor(e))},AE.dividedToIntegerBy=AE.idiv=function(e){var t=this.constructor;return zE(DE(this,new t(e),0,1),t.precision)},AE.equals=AE.eq=function(e){return!this.cmp(e)},AE.exponent=function(){return ME(this)},AE.greaterThan=AE.gt=function(e){return this.cmp(e)>0},AE.greaterThanOrEqualTo=AE.gte=function(e){return this.cmp(e)>=0},AE.isInteger=AE.isint=function(){return this.e>this.d.length-2},AE.isNegative=AE.isneg=function(){return this.s<0},AE.isPositive=AE.ispos=function(){return this.s>0},AE.isZero=function(){return 0===this.s},AE.lessThan=AE.lt=function(e){return this.cmp(e)<0},AE.lessThanOrEqualTo=AE.lte=function(e){return this.cmp(e)<1},AE.logarithm=AE.log=function(e){var t,r=this,a=r.constructor,n=a.precision,s=n+5;if(void 0===e)e=new a(10);else if((e=new a(e)).s<1||e.eq(gE))throw Error(yE+"NaN");if(r.s<1)throw Error(yE+(r.s?"NaN":"-Infinity"));return r.eq(gE)?new a(0):(bE=!1,t=DE(RE(r,s),RE(e,s),s),bE=!0,zE(t,n))},AE.minus=AE.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$E(t,e):_E(t,(e.s=-e.s,e))},AE.modulo=AE.mod=function(e){var t,r=this,a=r.constructor,n=a.precision;if(!(e=new a(e)).s)throw Error(yE+"NaN");return r.s?(bE=!1,t=DE(r,e,0,1).times(e),bE=!0,r.minus(t)):zE(new a(r),n)},AE.naturalExponential=AE.exp=function(){return PE(this)},AE.naturalLogarithm=AE.ln=function(){return RE(this)},AE.negated=AE.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},AE.plus=AE.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_E(t,e):$E(t,(e.s=-e.s,e))},AE.precision=AE.sd=function(e){var t,r,a,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(vE+e);if(t=ME(n)+1,r=7*(a=n.d.length-1)+1,a=n.d[a]){for(;a%10==0;a/=10)r--;for(a=n.d[0];a>=10;a/=10)r++}return e&&t>r?t:r},AE.squareRoot=AE.sqrt=function(){var e,t,r,a,n,s,i,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(yE+"NaN")}for(e=ME(o),bE=!1,0==(n=Math.sqrt(+o))||n==1/0?(((t=OE(o.d)).length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=wE((e+1)/2)-(e<0||e%2),a=new l(t=n==1/0?"5e"+e:(t=n.toExponential()).slice(0,t.indexOf("e")+1)+e)):a=new l(n.toString()),n=i=(r=l.precision)+3;;)if(a=(s=a).plus(DE(o,s,i+2)).times(.5),OE(s.d).slice(0,i)===(t=OE(a.d)).slice(0,i)){if(t=t.slice(i-3,i+1),n==i&&"4999"==t){if(zE(s,r+1,0),s.times(s).eq(o)){a=s;break}}else if("9999"!=t)break;i+=4}return bE=!0,zE(a,r)},AE.times=AE.mul=function(e){var t,r,a,n,s,i,o,l,c,d=this,u=d.constructor,m=d.d,h=(e=new u(e)).d;if(!d.s||!e.s)return new u(0);for(e.s*=d.s,r=d.e+e.e,(l=m.length)<(c=h.length)&&(s=m,m=h,h=s,i=l,l=c,c=i),s=[],a=i=l+c;a--;)s.push(0);for(a=c;--a>=0;){for(t=0,n=l+a;n>a;)o=s[n]+h[a]*m[n-a-1]+t,s[n--]=o%SE|0,t=o/SE|0;s[n]=(s[n]+t)%SE|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,bE?zE(e,u.precision):e},AE.toDecimalPlaces=AE.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),void 0===e?r:(TE(e,0,xE),void 0===t?t=a.rounding:TE(t,0,8),zE(r,e+ME(r)+1,t))},AE.toExponential=function(e,t){var r,a=this,n=a.constructor;return void 0===e?r=qE(a,!0):(TE(e,0,xE),void 0===t?t=n.rounding:TE(t,0,8),r=qE(a=zE(new n(a),e+1,t),!0,e+1)),r},AE.toFixed=function(e,t){var r,a,n=this,s=n.constructor;return void 0===e?qE(n):(TE(e,0,xE),void 0===t?t=s.rounding:TE(t,0,8),r=qE((a=zE(new s(n),e+ME(n)+1,t)).abs(),!1,e+ME(a)+1),n.isneg()&&!n.isZero()?"-"+r:r)},AE.toInteger=AE.toint=function(){var e=this,t=e.constructor;return zE(new t(e),ME(e)+1,t.rounding)},AE.toNumber=function(){return+this},AE.toPower=AE.pow=function(e){var t,r,a,n,s,i,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(gE);if(!(o=new l(o)).s){if(e.s<1)throw Error(yE+"Infinity");return o}if(o.eq(gE))return o;if(a=l.precision,e.eq(gE))return zE(o,a);if(i=(t=e.e)>=(r=e.d.length-1),s=o.s,i){if((r=c<0?-c:c)<=kE){for(n=new l(gE),t=Math.ceil(a/7+4),bE=!1;r%2&&UE((n=n.times(o)).d,t),0!==(r=wE(r/2));)UE((o=o.times(o)).d,t);return bE=!0,e.s<0?new l(gE).div(n):zE(n,a)}}else if(s<0)throw Error(yE+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,o.s=1,bE=!1,n=e.times(RE(o,a+12)),bE=!0,(n=PE(n)).s=s,n},AE.toPrecision=function(e,t){var r,a,n=this,s=n.constructor;return void 0===e?a=qE(n,(r=ME(n))<=s.toExpNeg||r>=s.toExpPos):(TE(e,1,xE),void 0===t?t=s.rounding:TE(t,0,8),a=qE(n=zE(new s(n),e,t),e<=(r=ME(n))||r<=s.toExpNeg,e)),a},AE.toSignificantDigits=AE.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(TE(e,1,xE),void 0===t?t=r.rounding:TE(t,0,8)),zE(new r(this),e,t)},AE.toString=AE.valueOf=AE.val=AE.toJSON=AE[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ME(e),r=e.constructor;return qE(e,t<=r.toExpNeg||t>=r.toExpPos)};var DE=function(){function e(e,t){var r,a=0,n=e.length;for(e=e.slice();n--;)r=e[n]*t+a,e[n]=r%SE|0,a=r/SE|0;return a&&e.unshift(a),e}function t(e,t,r,a){var n,s;if(r!=a)s=r>a?1:-1;else for(n=s=0;n<r;n++)if(e[n]!=t[n]){s=e[n]>t[n]?1:-1;break}return s}function r(e,t,r){for(var a=0;r--;)e[r]-=a,a=e[r]<t[r]?1:0,e[r]=a*SE+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(a,n,s,i){var o,l,c,d,u,m,h,f,p,g,x,b,y,v,j,w,N,E,S=a.constructor,k=a.s==n.s?1:-1,C=a.d,A=n.d;if(!a.s)return new S(a);if(!n.s)throw Error(yE+"Division by zero");for(l=a.e-n.e,N=A.length,j=C.length,f=(h=new S(k)).d=[],c=0;A[c]==(C[c]||0);)++c;if(A[c]>(C[c]||0)&&--l,(b=null==s?s=S.precision:i?s+(ME(a)-ME(n))+1:s)<0)return new S(0);if(b=b/7+2|0,c=0,1==N)for(d=0,A=A[0],b++;(c<j||d)&&b--;c++)y=d*SE+(C[c]||0),f[c]=y/A|0,d=y%A|0;else{for((d=SE/(A[0]+1)|0)>1&&(A=e(A,d),C=e(C,d),N=A.length,j=C.length),v=N,g=(p=C.slice(0,N)).length;g<N;)p[g++]=0;(E=A.slice()).unshift(0),w=A[0],A[1]>=SE/2&&++w;do{d=0,(o=t(A,p,N,g))<0?(x=p[0],N!=g&&(x=x*SE+(p[1]||0)),(d=x/w|0)>1?(d>=SE&&(d=SE-1),1==(o=t(u=e(A,d),p,m=u.length,g=p.length))&&(d--,r(u,N<m?E:A,m))):(0==d&&(o=d=1),u=A.slice()),(m=u.length)<g&&u.unshift(0),r(p,u,g),-1==o&&(o=t(A,p,N,g=p.length))<1&&(d++,r(p,N<g?E:A,g)),g=p.length):0===o&&(d++,p=[0]),f[c++]=d,o&&p[0]?p[g++]=C[v]||0:(p=[C[v]],g=1)}while((v++<j||void 0!==p[0])&&b--)}return f[0]||f.shift(),h.e=l,zE(h,i?s+ME(h)+1:s)}}();function PE(e,t){var r,a,n,s,i,o=0,l=0,c=e.constructor,d=c.precision;if(ME(e)>16)throw Error(jE+ME(e));if(!e.s)return new c(gE);for(bE=!1,i=d,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),l+=5;for(i+=Math.log(NE(2,l))/Math.LN10*2+5|0,r=a=n=new c(gE),c.precision=i;;){if(a=zE(a.times(e),i),r=r.times(++o),OE((s=n.plus(DE(a,r,i))).d).slice(0,i)===OE(n.d).slice(0,i)){for(;l--;)n=zE(n.times(n),i);return c.precision=d,null==t?(bE=!0,zE(n,d)):n}n=s}}function ME(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function FE(e,t,r){if(t>e.LN10.sd())throw bE=!0,r&&(e.precision=r),Error(yE+"LN10 precision limit exceeded");return zE(new e(e.LN10),t)}function IE(e){for(var t="";e--;)t+="0";return t}function RE(e,t){var r,a,n,s,i,o,l,c,d,u=1,m=e,h=m.d,f=m.constructor,p=f.precision;if(m.s<1)throw Error(yE+(m.s?"NaN":"-Infinity"));if(m.eq(gE))return new f(0);if(null==t?(bE=!1,c=p):c=t,m.eq(10))return null==t&&(bE=!0),FE(f,c);if(c+=10,f.precision=c,a=(r=OE(h)).charAt(0),s=ME(m),!(Math.abs(s)<15e14))return l=FE(f,c+2,p).times(s+""),m=RE(new f(a+"."+r.slice(1)),c-10).plus(l),f.precision=p,null==t?(bE=!0,zE(m,p)):m;for(;a<7&&1!=a||1==a&&r.charAt(1)>3;)a=(r=OE((m=m.times(e)).d)).charAt(0),u++;for(s=ME(m),a>1?(m=new f("0."+r),s++):m=new f(a+"."+r.slice(1)),o=i=m=DE(m.minus(gE),m.plus(gE),c),d=zE(m.times(m),c),n=3;;){if(i=zE(i.times(d),c),OE((l=o.plus(DE(i,new f(n),c))).d).slice(0,c)===OE(o.d).slice(0,c))return o=o.times(2),0!==s&&(o=o.plus(FE(f,c+2,p).times(s+""))),o=DE(o,new f(u),c),f.precision=p,null==t?(bE=!0,zE(o,p)):o;o=l,n+=2}}function LE(e,t){var r,a,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;48===t.charCodeAt(a);)++a;for(n=t.length;48===t.charCodeAt(n-1);)--n;if(t=t.slice(a,n)){if(n-=a,r=r-a-1,e.e=wE(r/7),e.d=[],a=(r+1)%7,r<0&&(a+=7),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=7;a<n;)e.d.push(+t.slice(a,a+=7));a=7-(t=t.slice(a)).length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),bE&&(e.e>CE||e.e<-CE))throw Error(jE+r)}else e.s=0,e.e=0,e.d=[0];return e}function zE(e,t,r){var a,n,s,i,o,l,c,d,u=e.d;for(i=1,s=u[0];s>=10;s/=10)i++;if((a=t-i)<0)a+=7,n=t,c=u[d=0];else{if((d=Math.ceil((a+1)/7))>=(s=u.length))return e;for(c=s=u[d],i=1;s>=10;s/=10)i++;n=(a%=7)-7+i}if(void 0!==r&&(o=c/(s=NE(10,i-n-1))%10|0,l=t<0||void 0!==u[d+1]||c%s,l=r<4?(o||l)&&(0==r||r==(e.s<0?3:2)):o>5||5==o&&(4==r||l||6==r&&(a>0?n>0?c/NE(10,i-n):0:u[d-1])%10&1||r==(e.s<0?8:7))),t<1||!u[0])return l?(s=ME(e),u.length=1,t=t-s-1,u[0]=NE(10,(7-t%7)%7),e.e=wE(-t/7)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(0==a?(u.length=d,s=1,d--):(u.length=d+1,s=NE(10,7-a),u[d]=n>0?(c/NE(10,i-n)%NE(10,n)|0)*s:0),l)for(;;){if(0==d){(u[0]+=s)==SE&&(u[0]=1,++e.e);break}if(u[d]+=s,u[d]!=SE)break;u[d--]=0,s=1}for(a=u.length;0===u[--a];)u.pop();if(bE&&(e.e>CE||e.e<-CE))throw Error(jE+ME(e));return e}function $E(e,t){var r,a,n,s,i,o,l,c,d,u,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),bE?zE(t,h):t;if(l=e.d,u=t.d,a=t.e,c=e.e,l=l.slice(),i=c-a){for((d=i<0)?(r=l,i=-i,o=u.length):(r=u,a=c,o=l.length),i>(n=Math.max(Math.ceil(h/7),o)+2)&&(i=n,r.length=1),r.reverse(),n=i;n--;)r.push(0);r.reverse()}else{for((d=(n=l.length)<(o=u.length))&&(o=n),n=0;n<o;n++)if(l[n]!=u[n]){d=l[n]<u[n];break}i=0}for(d&&(r=l,l=u,u=r,t.s=-t.s),o=l.length,n=u.length-o;n>0;--n)l[o++]=0;for(n=u.length;n>i;){if(l[--n]<u[n]){for(s=n;s&&0===l[--s];)l[s]=SE-1;--l[s],l[n]+=SE}l[n]-=u[n]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--a;return l[0]?(t.d=l,t.e=a,bE?zE(t,h):t):new m(0)}function qE(e,t,r){var a,n=ME(e),s=OE(e.d),i=s.length;return t?(r&&(a=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+IE(a):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n<0?"e":"e+")+n):n<0?(s="0."+IE(-n-1)+s,r&&(a=r-i)>0&&(s+=IE(a))):n>=i?(s+=IE(n+1-i),r&&(a=r-n-1)>0&&(s=s+"."+IE(a))):((a=n+1)<i&&(s=s.slice(0,a)+"."+s.slice(a)),r&&(a=r-i)>0&&(n+1===i&&(s+="."),s+=IE(a))),e.s<0?"-"+s:s}function UE(e,t){if(e.length>t)return e.length=t,!0}function BE(e){if(!e||"object"!=typeof e)throw Error(yE+"Object expected");var t,r,a,n=["precision",1,xE,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if(void 0!==(a=e[r=n[t]])){if(!(wE(a)===a&&a>=n[t+1]&&a<=n[t+2]))throw Error(vE+r+": "+a);this[r]=a}if(void 0!==(a=e[r="LN10"])){if(a!=Math.LN10)throw Error(vE+r+": "+a);this[r]=new this(a)}return this}var YE=function e(t){var r,a,n;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(vE+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):LE(t,e.toString())}if("string"!=typeof e)throw Error(vE+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!EE.test(e))throw Error(vE+e);LE(t,e)}if(s.prototype=AE,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=BE,void 0===t&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<n.length;)t.hasOwnProperty(a=n[r++])||(t[a]=this[a]);return s.config(t),s}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});gE=new YE(1);const VE=YE;var HE=e=>e,WE={},GE=e=>e===WE,KE=e=>function t(){return 0===arguments.length||1===arguments.length&&GE(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},QE=(e,t)=>1===e?t:KE(function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var s=a.filter(e=>e!==WE).length;return s>=e?t(...a):QE(e-s,KE(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=a.map(e=>GE(e)?r.shift():e);return t(...s,...r)}))}),XE=e=>QE(e.length,e),JE=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},ZE=XE((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),eS=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),tS=e=>{var t=null,r=null;return function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return t&&n.every((e,r)=>{var a;return e===(null===(a=t)||void 0===a?void 0:a[r])})?r:(t=n,r=e(...n))}};function rS(e){return 0===e?1:Math.floor(new VE(e).abs().log(10).toNumber())+1}function aS(e,t,r){for(var a=new VE(e),n=0,s=[];a.lt(t)&&n<1e5;)s.push(a.toNumber()),a=a.add(r),n++;return s}XE((e,t,r)=>{var a=+e;return a+r*(+t-a)}),XE((e,t,r)=>{var a=t-+e;return(r-e)/(a=a||1/0)}),XE((e,t,r)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});var nS=e=>{var[t,r]=e,[a,n]=[t,r];return t>r&&([a,n]=[r,t]),[a,n]},sS=(e,t,r)=>{if(e.lte(0))return new VE(0);var a=rS(e.toNumber()),n=new VE(10).pow(a),s=e.div(n),i=1!==a?.05:.1,o=new VE(Math.ceil(s.div(i).toNumber())).add(r).mul(i).mul(n);return new VE(t?o.toNumber():Math.ceil(o.toNumber()))},iS=(e,t,r)=>{var a=new VE(1),n=new VE(e);if(!n.isint()&&r){var s=Math.abs(e);s<1?(a=new VE(10).pow(rS(e)-1),n=new VE(Math.floor(n.div(a).toNumber())).mul(a)):s>1&&(n=new VE(Math.floor(e)))}else 0===e?n=new VE(Math.floor((t-1)/2)):r||(n=new VE(Math.floor(e)));var i=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return HE;var a=t.reverse(),n=a[0],s=a.slice(1);return function(){return s.reduce((e,t)=>t(e),n(...arguments))}}(ZE(e=>n.add(new VE(e-i).mul(a)).toNumber()),JE);return o(0,t)},oS=function(e,t,r,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new VE(0),tickMin:new VE(0),tickMax:new VE(0)};var s,i=sS(new VE(t).sub(e).div(r-1),a,n);s=e<=0&&t>=0?new VE(0):(s=new VE(e).add(t).div(2)).sub(new VE(s).mod(i));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new VE(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?oS(e,t,r,a,n+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new VE(o).mul(i)),tickMax:s.add(new VE(l).mul(i))})},lS=tS(function(e){var[t,r]=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(a,2),[i,o]=nS([t,r]);if(i===-1/0||o===1/0){var l=o===1/0?[i,...JE(0,a-1).map(()=>1/0)]:[...JE(0,a-1).map(()=>-1/0),o];return t>r?eS(l):l}if(i===o)return iS(i,a,n);var{step:c,tickMin:d,tickMax:u}=oS(i,o,s,n,0),m=aS(d,u.add(new VE(.1).mul(c)),c);return t>r?eS(m):m}),cS=tS(function(e,t){var[r,a]=e,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[s,i]=nS([r,a]);if(s===-1/0||i===1/0)return[r,a];if(s===i)return[s];var o=Math.max(t,2),l=sS(new VE(i).sub(s).div(o-1),n,0),c=[...aS(new VE(s),new VE(i),l),i];return!1===n&&(c=c.map(e=>Math.round(e))),r>a?eS(c):c}),dS=e=>e.rootProps.maxBarSize,uS=e=>e.rootProps.barCategoryGap,mS=e=>e.rootProps.stackOffset,hS=e=>e.options.chartName,fS=e=>e.rootProps.syncId,pS=e=>e.rootProps.syncMethod,gS=e=>e.options.eventEmitter,xS=0,bS="auto",yS=!0,vS=!1,jS=!0,wS=0,NS="auto",ES=!0,SS=5,kS=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},CS={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xS,includeHidden:!1,name:void 0,reversed:!1,scale:bS,tick:yS,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},AS={allowDataOverflow:vS,allowDecimals:!1,allowDuplicatedCategory:jS,dataKey:void 0,domain:void 0,id:wS,includeHidden:!1,name:void 0,reversed:!1,scale:NS,tick:ES,tickCount:SS,ticks:void 0,type:"number",unit:void 0},_S={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:xS,includeHidden:!1,name:void 0,reversed:!1,scale:bS,tick:yS,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},TS={allowDataOverflow:vS,allowDecimals:!1,allowDuplicatedCategory:jS,dataKey:void 0,domain:void 0,id:wS,includeHidden:!1,name:void 0,reversed:!1,scale:NS,tick:ES,tickCount:SS,ticks:void 0,type:"category",unit:void 0},OS=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?_S:CS,DS=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?TS:AS,PS=e=>e.polarOptions,MS=tf([ox,lx,bx],Lg),FS=tf([PS,MS],(e,t)=>{if(null!=e)return ld(e.innerRadius,t,0)}),IS=tf([PS,MS],(e,t)=>{if(null!=e)return ld(e.outerRadius,t,.8*t)}),RS=tf([PS],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]});tf([OS,RS],kS);var LS=tf([MS,FS,IS],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]});tf([DS,LS],kS);var zS=tf([Tx,PS,FS,IS,ox,lx],(e,t,r,a,n,s)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=a){var{cx:i,cy:o,startAngle:l,endAngle:c}=t;return{cx:ld(i,n,n/2),cy:ld(o,s,s/2),innerRadius:r,outerRadius:a,startAngle:l,endAngle:c,clockWise:!1}}}),$S=(e,t)=>t,qS=(e,t,r)=>r;function US(e){return null==e?void 0:e.id}var BS=e=>{var t=Tx(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},YS=e=>e.tooltip.settings.axisId,VS=e=>{var t=BS(e),r=YS(e);return lk(e,t,r)},HS=tf([VS],e=>null==e?void 0:e.dataKey);function WS(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:n,dataKey:s}=r,i=new Map;return e.forEach(e=>{var t,r=null!==(t=e.data)&&void 0!==t?t:a;if(null!=r&&0!==r.length){var o=US(e);r.forEach((t,r)=>{var a,l=null==s||n?r:String(Hg(t,s,null)),c=Hg(t,e.dataKey,0);a=i.has(l)?i.get(l):{},Object.assign(a,{[o]:c}),i.set(l,a)})}}),Array.from(i.values())}function GS(e){return null!=e.stackId&&null!=e.dataKey}function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function QS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(t){XS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function XS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var JS=[0,"auto"],ZS={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ek=(e,t)=>e.cartesianAxis.xAxis[t],tk=(e,t)=>{var r=ek(e,t);return null==r?ZS:r},rk={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:JS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},ak=(e,t)=>e.cartesianAxis.yAxis[t],nk=(e,t)=>{var r=ak(e,t);return null==r?rk:r},sk={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ik=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?sk:r},ok=(e,t,r)=>{switch(t){case"xAxis":return tk(e,r);case"yAxis":return nk(e,r);case"zAxis":return ik(e,r);case"angleAxis":return OS(e,r);case"radiusAxis":return DS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lk=(e,t,r)=>{switch(t){case"xAxis":return tk(e,r);case"yAxis":return nk(e,r);case"angleAxis":return OS(e,r);case"radiusAxis":return DS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ck=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function dk(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var uk=e=>e.graphicalItems.cartesianItems,mk=tf([$S,qS],dk),hk=(e,t,r)=>e.filter(r).filter(e=>!0===(null==t?void 0:t.includeHidden)||!e.hide),fk=tf([uk,ok,mk],hk),pk=tf([fk],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(GS)),gk=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),xk=tf([fk],gk),bk=e=>e.map(e=>e.data).filter(Boolean).flat(1),yk=tf([fk],bk),vk=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:n}=t;return e.length>0?e:r.slice(a,n+1)},jk=tf([yk,hE],vk),wk=(e,t,r)=>null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:Hg(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Hg(e,t)}))):e.map(e=>({value:e})),Nk=tf([jk,ok,fk],wk);function Ek(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function Sk(e){return e.filter(e=>sd(e)||e instanceof Date).map(Number).filter(e=>!1===rd(e))}function kk(e,t,r){return!r||"number"!=typeof t||rd(t)?[]:r.length?Sk(r.flatMap(r=>{var a,n,s=Hg(e,r.dataKey);if(Array.isArray(s)?[a,n]=s:a=n=s,ub(a)&&ub(n))return[t-a,t+n]})):[]}var Ck=tf([pk,hE,VS],WS),Ak=(e,t,r)=>{var a=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(a).map(t=>{var[a,n]=t,s=n.map(US);return[a,{stackedData:Jg(e,s,r),graphicalItems:n}]}))},_k=tf([Ck,pk,mS],Ak),Tk=(e,t,r)=>{var{dataStartIndex:a,dataEndIndex:n}=t;if("zAxis"!==r){var s=tx(e,a,n);if(null==s||0!==s[0]||0!==s[1])return s}},Ok=tf([_k,uE,$S],Tk),Dk=(e,t,r,a,n)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var s,i,o=null===(s=a[r.id])||void 0===s?void 0:s.filter(e=>Ek(n,e)),l=Hg(e,null!==(i=t.dataKey)&&void 0!==i?i:r.dataKey);return{value:l,errorDomain:kk(e,l,o)}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:Hg(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),Pk=e=>e.errorBars,Mk=(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>Ek(r,e));tf([xk,Pk,$S],Mk);var Fk=tf([jk,ok,xk,Pk,$S],Dk);function Ik(e){var{value:t}=e;if(sd(t)||t instanceof Date)return t}var Rk=e=>{var t=Sk(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},Lk=e=>{var t;if(null==e||!("domain"in e))return JS;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=Sk(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:JS},zk=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t.filter(Boolean);if(0!==a.length){var n=a.flat();return[Math.min(...n),Math.max(...n)]}},$k=e=>e.referenceElements.dots,qk=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),Uk=tf([$k,$S,qS],qk),Bk=e=>e.referenceElements.areas,Yk=tf([Bk,$S,qS],qk),Vk=e=>e.referenceElements.lines,Hk=tf([Vk,$S,qS],qk),Wk=(e,t)=>{var r=Sk(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},Gk=tf(Uk,$S,Wk),Kk=(e,t)=>{var r=Sk(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},Qk=tf([Yk,$S],Kk),Xk=(e,t)=>{var r=Sk(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},Jk=tf(Hk,$S,Xk),Zk=tf(Gk,Jk,Qk,(e,t,r)=>zk(e,r,t)),eC=tf([ok],Lk),tC=(e,t,r,a,n,s,i)=>{var o=function(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var r,a,[n,s]=e;if(ub(n))r=n;else if("function"==typeof n)return;if(ub(s))a=s;else if("function"==typeof s)return;var i=[r,a];if(fE(i))return i}}(t,e.allowDataOverflow);return null!=o?o:function(e,t,r){if(r||null!=t){if("function"==typeof e&&null!=t)try{var a=e(t,r);if(fE(a))return pE(a,t,r)}catch(h){}if(Array.isArray(e)&&2===e.length){var n,s,[i,o]=e;if("auto"===i)null!=t&&(n=Math.min(...t));else if(nd(i))n=i;else if("function"==typeof i)try{null!=t&&(n=i(null==t?void 0:t[0]))}catch(f){}else if("string"==typeof i&&rx.test(i)){var l=rx.exec(i);if(null==l||null==t)n=void 0;else{var c=+l[1];n=t[0]-c}}else n=null==t?void 0:t[0];if("auto"===o)null!=t&&(s=Math.max(...t));else if(nd(o))s=o;else if("function"==typeof o)try{null!=t&&(s=o(null==t?void 0:t[1]))}catch(p){}else if("string"==typeof o&&ax.test(o)){var d=ax.exec(o);if(null==d||null==t)s=void 0;else{var u=+d[1];s=t[1]+u}}else s=null==t?void 0:t[1];var m=[n,s];if(fE(m))return null==t?m:pE(m,t,r)}}}(t,"vertical"===s&&"xAxis"===i||"horizontal"===s&&"yAxis"===i?zk(r,n,Rk(a)):zk(n,Rk(a)),e.allowDataOverflow)},rC=tf([ok,eC,Ok,Fk,Zk,Tx,$S],tC),aC=[0,1],nC=(e,t,r,a,n,s,i)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==i){var{dataKey:o,type:l}=e,c=Wg(t,s);return c&&null==o?Oy(0,r.length):"category"===l?((e,t,r)=>{var a=e.map(Ik).filter(e=>null!=e);return r&&(null==t.dataKey||t.allowDuplicatedCategory&&cd(a))?Oy(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))})(a,e,c):"expand"===n?aC:i}},sC=tf([ok,Tx,jk,Nk,mS,$S,rC],nC),iC=(e,t,r,a,n)=>{if(null!=e){var{scale:s,type:i}=e;if("auto"===s)return"radial"===t&&"radiusAxis"===n?"band":"radial"===t&&"angleAxis"===n?"linear":"category"===i&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":"category"===i?"band":"linear";if("string"==typeof s){var o="scale".concat(hd(s));return o in dE?o:"point"}}},oC=tf([ok,Tx,ck,hS,$S],iC);function lC(e,t,r,a){if(null!=r&&null!=a){if("function"==typeof e.scale)return e.scale.copy().domain(r).range(a);var n=function(e){if(null!=e){if(e in dE)return dE[e]();var t="scale".concat(hd(e));return t in dE?dE[t]():void 0}}(t);if(null!=n){var s=n.domain(r).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,a=e.range(),n=Math.min(a[0],a[1])-Qg,s=Math.max(a[0],a[1])+Qg,i=e(t[0]),o=e(t[r-1]);(i<n||i>s||o<n||o>s)&&e.domain([t[0],t[r-1]])}})(s),s}}}var cC=(e,t,r)=>{var a=Lk(t);if("auto"===r||"linear"===r)return null!=t&&t.tickCount&&Array.isArray(a)&&("auto"===a[0]||"auto"===a[1])&&fE(e)?lS(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&fE(e)?cS(e,t.tickCount,t.allowDecimals):void 0},dC=tf([sC,lk,oC],cC),uC=(e,t,r,a)=>{if("angleAxis"!==a&&"number"===(null==e?void 0:e.type)&&fE(t)&&Array.isArray(r)&&r.length>0){var n=t[0],s=r[0],i=t[1],o=r[r.length-1];return[Math.min(n,s),Math.max(i,o)]}return t},mC=tf([ok,sC,dC,$S],uC),hC=tf(Nk,ok,(e,t)=>{if(t&&"number"===t.type){var r=1/0,a=Array.from(Sk(e.map(e=>e.value))).sort((e,t)=>e-t);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(0===n)return 1/0;for(var s=0;s<a.length-1;s++){var i=a[s+1]-a[s];r=Math.min(r,i)}return r/n}}),fC=tf(hC,Tx,uS,bx,(e,t,r,a)=>a,(e,t,r,a,n)=>{if(!ub(e))return 0;var s="vertical"===t?a.height:a.width;if("gap"===n)return e*s/2;if("no-gap"===n){var i=ld(r,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),pC=tf(tk,(e,t)=>{var r=tk(e,t);return null==r||"string"!=typeof r.padding?0:fC(e,"xAxis",t,r.padding)},(e,t)=>{var r,a;if(null==e)return{left:0,right:0};var{padding:n}=e;return"string"==typeof n?{left:t,right:t}:{left:(null!==(r=n.left)&&void 0!==r?r:0)+t,right:(null!==(a=n.right)&&void 0!==a?a:0)+t}}),gC=tf(nk,(e,t)=>{var r=nk(e,t);return null==r||"string"!=typeof r.padding?0:fC(e,"yAxis",t,r.padding)},(e,t)=>{var r,a;if(null==e)return{top:0,bottom:0};var{padding:n}=e;return"string"==typeof n?{top:t,bottom:t}:{top:(null!==(r=n.top)&&void 0!==r?r:0)+t,bottom:(null!==(a=n.bottom)&&void 0!==a?a:0)+t}}),xC=tf([bx,pC,Ex,Nx,(e,t,r)=>r],(e,t,r,a,n)=>{var{padding:s}=a;return n?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),bC=tf([bx,Tx,gC,Ex,Nx,(e,t,r)=>r],(e,t,r,a,n,s)=>{var{padding:i}=n;return s?[a.height-i.bottom,i.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),yC=(e,t,r,a)=>{var n;switch(t){case"xAxis":return xC(e,r,a);case"yAxis":return bC(e,r,a);case"zAxis":return null===(n=ik(e,r))||void 0===n?void 0:n.range;case"angleAxis":return RS(e);case"radiusAxis":return LS(e,r);default:return}},vC=tf([ok,yC],kS),jC=tf([ok,oC,mC,vC],lC);function wC(e,t){return e.id<t.id?-1:e.id>t.id?1:0}tf([fk,Pk,$S],Mk);var NC=(e,t)=>t,EC=(e,t,r)=>r,SC=tf(ux,NC,EC,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(wC)),kC=tf(mx,NC,EC,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(wC)),CC=(e,t)=>({width:e.width,height:t.height}),AC=tf(bx,tk,CC),_C=tf(lx,bx,SC,NC,EC,(e,t,r,a,n)=>{var s,i={};return r.forEach(r=>{var o=CC(t,r);null==s&&(s=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,a,e));var l="top"===a&&!n||"bottom"===a&&n;i[r.id]=s-Number(l)*o.height,s+=(l?-1:1)*o.height}),i}),TC=tf(ox,bx,kC,NC,EC,(e,t,r,a,n)=>{var s,i={};return r.forEach(r=>{var o=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,r);null==s&&(s=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,a,e));var l="left"===a&&!n||"right"===a&&n;i[r.id]=s-Number(l)*o.width,s+=(l?-1:1)*o.width}),i}),OC=tf(bx,nk,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),DC=(e,t,r)=>{switch(t){case"xAxis":return AC(e,r).width;case"yAxis":return OC(e,r).height;default:return}},PC=(e,t,r,a)=>{if(null!=r){var{allowDuplicatedCategory:n,type:s,dataKey:i}=r,o=Wg(e,a),l=t.map(e=>e.value);return i&&o&&"category"===s&&n&&cd(l)?l:void 0}},MC=tf([Tx,Nk,ok,$S],PC),FC=(e,t,r,a)=>{if(null!=r&&null!=r.dataKey){var{type:n,scale:s}=r;return!Wg(e,a)||"number"!==n&&"auto"===s?void 0:t.map(e=>e.value)}},IC=tf([Tx,Nk,lk,$S],FC),RC=tf([Tx,(e,t,r)=>{switch(t){case"xAxis":return tk(e,r);case"yAxis":return nk(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},oC,jC,MC,IC,yC,dC,$S],(e,t,r,a,n,s,i,o,l)=>{if(null==t)return null;var c=Wg(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:n,isCategorical:c,niceTicks:o,range:i,realScaleType:r,scale:a}}),LC=tf([Tx,lk,oC,jC,dC,yC,MC,IC,$S],(e,t,r,a,n,s,i,o,l)=>{if(null!=t&&null!=a){var c=Wg(e,l),{type:d,ticks:u,tickCount:m}=t,h="scaleBand"===r&&"function"==typeof a.bandwidth?a.bandwidth()/2:2,f="category"===d&&a.bandwidth?a.bandwidth()/h:0;f="angleAxis"===l&&null!=s&&s.length>=2?2*td(s[0]-s[1])*f:f;var p=u||n;return p?p.map((e,t)=>{var r=i?i.indexOf(e):e;return{index:t,coordinate:a(r)+f,value:e,offset:f}}).filter(e=>!rd(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:a(e)+f,value:e,index:t,offset:f})):a.ticks?a.ticks(m).map(e=>({coordinate:a(e)+f,value:e,offset:f})):a.domain().map((e,t)=>({coordinate:a(e)+f,value:i?i[e]:e,index:t,offset:f}))}}),zC=tf([Tx,lk,jC,yC,MC,IC,$S],(e,t,r,a,n,s,i)=>{if(null!=t&&null!=r&&null!=a&&a[0]!==a[1]){var o=Wg(e,i),{tickCount:l}=t,c=0;return c="angleAxis"===i&&(null==a?void 0:a.length)>=2?2*td(a[0]-a[1])*c:c,o&&s?s.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:n?n[e]:e,index:t,offset:c}))}}),$C=tf(ok,jC,(e,t)=>{if(null!=e&&null!=t)return QS(QS({},e),{},{scale:t})}),qC=tf([ok,oC,sC,vC],lC);tf((e,t,r)=>ik(e,r),qC,(e,t)=>{if(null!=e&&null!=t)return QS(QS({},e),{},{scale:t})});var UC=tf([Tx,ux,mx],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),BC=e=>e.options.defaultTooltipEventType,YC=e=>e.options.validateTooltipEventTypes;function VC(e,t,r){if(null==e)return t;var a=e?"axis":"item";return null==r?t:r.includes(a)?a:t}function HC(e,t){return VC(t,BC(e),YC(e))}var WC=(e,t)=>{var r,a=Number(t);if(!rd(a)&&null!=t)return a>=0?null==e||null===(r=e[a])||void 0===r?void 0:r.value:void 0},GC={active:!1,index:null,dataKey:void 0,coordinate:void 0},KC=Vp({name:"tooltip",initialState:{itemInteraction:{click:GC,hover:GC},axisInteraction:{click:GC,hover:GC},keyboardInteraction:GC,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Sp(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:QC,removeTooltipEntrySettings:XC,setTooltipSettingsState:JC,setActiveMouseOverItemIndex:ZC,mouseLeaveItem:eA,mouseLeaveChart:tA,setActiveClickItemIndex:rA,setMouseOverAxisIndex:aA,setMouseClickAxisIndex:nA,setSyncInteraction:sA,setKeyboardInteraction:iA}=KC.actions,oA=KC.reducer;function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function cA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(t){dA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dA(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uA=(e,t,r,a)=>{if(null==t)return GC;var n=function(e,t,r){return"axis"===t?"click"===r?e.axisInteraction.click:e.axisInteraction.hover:"click"===r?e.itemInteraction.click:e.itemInteraction.hover}(e,t,r);if(null==n)return GC;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var s=!0===e.settings.active;if(null!=n.index){if(s)return cA(cA({},n),{},{active:!0})}else if(null!=a)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return cA(cA({},GC),{},{coordinate:n.coordinate})},mA=(e,t)=>{var r=null==e?void 0:e.index;if(null==r)return null;var a=Number(r);if(!ub(a))return r;var n=1/0;return t.length>0&&(n=t.length-1),String(Math.max(0,Math.min(a,n)))},hA=(e,t,r,a,n,s,i,o)=>{if(null!=s&&null!=o){var l=i[0],c=null==l?void 0:o(l.positions,s);if(null!=c)return c;var d=null==n?void 0:n[Number(s)];if(d)return"horizontal"===r?{x:d.coordinate,y:(a.top+t)/2}:{x:(a.left+e)/2,y:d.coordinate}}},fA=(e,t,r,a)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(n="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=a?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===n});var n},pA=e=>e.options.tooltipPayloadSearcher,gA=e=>e.tooltip;function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function bA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(t){yA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yA(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vA=(e,t,r,a,n,s,i)=>{if(null!=t&&null!=s){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=r;return e.reduce((e,r)=>{var u,m,h,{dataDefinedOnItem:f,settings:p}=r,g=function(e,t){return null!=e?e:t}(f,o),x=Array.isArray(g)?Ug(g,c,d):g,b=null!==(u=null==p?void 0:p.dataKey)&&void 0!==u?u:a,y=null==p?void 0:p.nameKey;return m=a&&Array.isArray(x)&&!Array.isArray(x[0])&&"axis"===i?ud(x,a,n):s(x,t,l,y),Array.isArray(m)?m.forEach(t=>{var r=bA(bA({},p),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(sx({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:Hg(t.payload,t.dataKey),name:t.name}))}):e.push(sx({tooltipEntrySettings:p,dataKey:b,payload:m,value:Hg(m,b),name:null!==(h=Hg(m,y))&&void 0!==h?h:null==p?void 0:p.name})),e},[])}},jA=tf([VS,Tx,ck,hS,BS],iC),wA=tf([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),NA=tf([BS,YS],dk),EA=tf([wA,VS,NA],hk),SA=tf([EA],e=>e.filter(GS)),kA=tf([EA],bk),CA=tf([kA,uE],vk),AA=tf([SA,uE,VS],WS),_A=tf([CA,VS,EA],wk),TA=tf([VS],Lk),OA=tf([EA],e=>e.filter(GS)),DA=tf([AA,OA,mS],Ak),PA=tf([DA,uE,BS],Tk),MA=tf([EA],gk),FA=tf([CA,VS,MA,Pk,BS],Dk),IA=tf([$k,BS,YS],qk),RA=tf([IA,BS],Wk),LA=tf([Bk,BS,YS],qk),zA=tf([LA,BS],Kk),$A=tf([Vk,BS,YS],qk),qA=tf([$A,BS],Xk),UA=tf([RA,qA,zA],zk),BA=tf([VS,TA,PA,FA,UA,Tx,BS],tC),YA=tf([VS,Tx,CA,_A,mS,BS,BA],nC),VA=tf([YA,VS,jA],cC),HA=tf([VS,YA,VA,BS],uC),WA=e=>{var t=BS(e),r=YS(e);return yC(e,t,r,!1)},GA=tf([VS,WA],kS),KA=tf([VS,jA,HA,GA],lC),QA=tf([Tx,_A,VS,BS],PC),XA=tf([Tx,_A,VS,BS],FC),JA=tf([Tx,VS,jA,KA,WA,QA,XA,BS],(e,t,r,a,n,s,i,o)=>{if(t){var{type:l}=t,c=Wg(e,o);if(a){var d="scaleBand"===r&&a.bandwidth?a.bandwidth()/2:2,u="category"===l&&a.bandwidth?a.bandwidth()/d:0;return u="angleAxis"===o&&null!=n&&(null==n?void 0:n.length)>=2?2*td(n[0]-n[1])*u:u,c&&i?i.map((e,t)=>({coordinate:a(e)+u,value:e,index:t,offset:u})):a.domain().map((e,t)=>({coordinate:a(e)+u,value:s?s[e]:e,index:t,offset:u}))}}}),ZA=tf([BC,YC,e=>e.tooltip.settings],(e,t,r)=>VC(r.shared,e,t)),e_=e=>e.tooltip.settings.trigger,t_=e=>e.tooltip.settings.defaultIndex,r_=tf([gA,ZA,e_,t_],uA),a_=tf([r_,CA],mA),n_=tf([JA,a_],WC),s_=tf([r_],e=>{if(e)return e.dataKey}),i_=tf([gA,ZA,e_,t_],fA),o_=tf([ox,lx,Tx,bx,JA,t_,i_,pA],hA),l_=tf([r_,o_],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),c_=tf([r_],e=>e.active),d_=tf([i_,a_,uE,HS,n_,pA,ZA],vA),u_=tf([d_],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function h_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(t){f_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p_=()=>{var e=Wh(VS),t=Wh(JA),r=Wh(KA);return nx(h_(h_({},e),{},{scale:r}),t)},g_=(e,t)=>t,x_=(e,t,r)=>r,b_=(e,t,r,a)=>a,y_=tf(JA,e=>kf(e,e=>e.coordinate)),v_=tf([gA,g_,x_,b_],uA),j_=tf([v_,CA],mA),w_=tf([gA,g_,x_,b_],fA),N_=tf([ox,lx,Tx,bx,JA,b_,w_,pA],hA),E_=tf([v_,N_],(e,t)=>{var r;return null!==(r=e.coordinate)&&void 0!==r?r:t}),S_=tf(JA,j_,WC),k_=tf([w_,j_,uE,HS,S_,pA,g_],vA),C_=tf([v_],e=>({isActive:e.active,activeIndex:e.index}));function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},A_.apply(null,arguments)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function T_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(t){O_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D_(e){var r,a,{coordinate:n,payload:s,index:i,offset:o,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:u,chartName:m}=e,h=n,f=s,p=i;if(!d||!h||"ScatterChart"!==m&&"axis"!==u)return null;if("ScatterChart"===m)r=h,a=Ab;else if("BarChart"===m)r=function(e,t,r,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-n:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-n,width:"horizontal"===e?a:r.width-1,height:"horizontal"===e?r.height-1:a}}(c,h,o,l),a=my;else if("radial"===c){var{cx:g,cy:x,radius:b,startAngle:y,endAngle:v}=hy(h);r={cx:g,cy:x,startAngle:y,endAngle:v,innerRadius:b,outerRadius:b},a=by}else r={points:yy(c,h,o)},a=wb;var j="object"==typeof d&&"className"in d?d.className:void 0,w=T_(T_(T_(T_({stroke:"#ccc",pointerEvents:"none"},o),r),_d(d,!1)),{},{payload:f,payloadIndex:p,className:_a("recharts-tooltip-cursor",j)});return t.isValidElement(d)?t.cloneElement(d,w):t.createElement(a,w)}function P_(e){var r=p_(),a=Cx(),n=Ox(),s=Wh(hS);return t.createElement(D_,A_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:n,tooltipAxisBandSize:r,chartName:s}))}var M_,F_=t.createContext(null),I_={exports:{}},R_=(M_||(M_=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,a,s,i){if("function"!=typeof a)throw new TypeError("The listener must be a function");var o=new n(a,s||e,i),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new a:delete e._events[t]}function o(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,a,n=[];if(0===this._eventsCount)return n;for(a in e=this._events)t.call(e,a)&&n.push(r?a.slice(1):a);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e){var t=r?r+e:e,a=this._events[t];if(!a)return[];if(a.fn)return[a.fn];for(var n=0,s=a.length,i=new Array(s);n<s;n++)i[n]=a[n].fn;return i},o.prototype.listenerCount=function(e){var t=r?r+e:e,a=this._events[t];return a?a.fn?1:a.length:0},o.prototype.emit=function(e,t,a,n,s,i){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,a),!0;case 4:return d.fn.call(d.context,t,a,n),!0;case 5:return d.fn.call(d.context,t,a,n,s),!0;case 6:return d.fn.call(d.context,t,a,n,s,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var m,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,a);break;case 4:d[c].fn.call(d[c].context,t,a,n);break;default:if(!l)for(m=1,l=new Array(u-1);m<u;m++)l[m-1]=arguments[m];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,a,n){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||n&&!o.once||a&&o.context!==a||i(this,s);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||n&&!o[l].once||a&&o[l].context!==a)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:i(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(I_)),I_.exports),L_=new(b(R_)),z_="recharts.syncEvent.tooltip",$_="recharts.syncEvent.brush";function q_(e,t){if(t){var r=Number.parseInt(t,10);if(!rd(r))return null==e?void 0:e[r]}}var U_=Vp({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),B_=U_.reducer,{createEventEmitter:Y_}=U_.actions;function V_(e){return e.tooltip.syncInteraction}var H_=Vp({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;null!=r&&(e.dataStartIndex=r),null!=a&&(e.dataEndIndex=a)}}}),{setChartData:W_,setDataStartEndIndexes:G_,setComputedData:K_}=H_.actions,Q_=H_.reducer,X_=["x","y"];function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(t){eT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tT=()=>{};function rT(){var e=Wh(fS),r=Wh(gS),a=Bh(),n=Wh(pS),s=Wh(JA),i=Ox(),o=Sx(),l=Wh(e=>e.rootProps.className);t.useEffect(()=>{if(null==e)return tT;var t=(t,l,c)=>{var d;if(r!==c&&e===t)if("index"!==n){if(null!=s){var u;if("function"==typeof n){var m={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=n(s,m);u=s[h]}else"value"===n&&(u=s.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=o){var{x:p,y:g}=f,x=Math.min(p,o.x+o.width),b=Math.min(g,o.y+o.height),y={x:"horizontal"===i?u.coordinate:x,y:"horizontal"===i?b:u.coordinate},v=sA({active:l.payload.active,coordinate:y,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});a(v)}else a(sA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else if(o&&null!=l&&null!==(d=l.payload)&&void 0!==d&&d.coordinate){var j=l.payload.coordinate,{x:w,y:N}=j,E=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(j,X_),S=Z_(Z_(Z_({},E),"number"==typeof w&&{x:Math.max(o.x,Math.min(w,o.x+o.width))}),"number"==typeof N&&{y:Math.max(o.y,Math.min(N,o.y+o.height))}),k=Z_(Z_({},l),{},{payload:Z_(Z_({},l.payload),{},{coordinate:S})});a(k)}else a(l)};return L_.on(z_,t),()=>{L_.off(z_,t)}},[l,a,r,e,n,s,i,o])}function aT(){var e=Bh();t.useEffect(()=>{e(Y_())},[e]),rT(),function(){var e=Wh(fS),r=Wh(gS),a=Bh();t.useEffect(()=>{if(null==e)return tT;var t=(t,n,s)=>{r!==s&&e===t&&a(G_(n))};return L_.on($_,t),()=>{L_.off($_,t)}},[a,r,e])}()}function nT(e,r,a,n,s,i){var o=Wh(t=>((e,t,r)=>{if(null!=t){var a=gA(e);return"axis"===t?"hover"===r?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:"hover"===r?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}})(t,e,r)),l=Wh(gS),c=Wh(fS),d=Wh(pS),u=Wh(V_),m=null==u?void 0:u.active;t.useEffect(()=>{if(!m&&null!=c&&null!=l){var e=sA({active:i,coordinate:a,dataKey:o,index:s,label:"number"==typeof n?String(n):n});L_.emit(z_,c,e,l)}},[m,a,o,s,n,l,c,d,i])}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function iT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(t){oT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lT(e){return e.dataKey}var cT=[],dT={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!cb,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function uT(e){var r=Ob(e,dT),{active:a,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:l,filterNull:c,isAnimationActive:d,offset:u,payloadUniqBy:m,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:g,cursor:x,shared:b,trigger:y,defaultIndex:v,portal:j,axisId:w}=r,N=Bh(),E="number"==typeof v?String(v):v;t.useEffect(()=>{N(JC({shared:b,trigger:y,axisId:w,active:a,defaultIndex:E}))},[N,b,y,w,a,E]);var S=Sx(),k=db(),C=function(e){return Wh(t=>HC(t,e))}(b),{activeIndex:A,isActive:_}=Wh(e=>C_(e,C,y,E)),T=Wh(e=>k_(e,C,y,E)),O=Wh(e=>S_(e,C,y,E)),D=Wh(e=>E_(e,C,y,E)),P=T,M=t.useContext(F_),F=null!=a?a:_,[I,R]=_f([P,F]),L="axis"===C?O:void 0;nT(C,y,D,L,A,F);var z=null!=j?j:M;if(null==z)return null;var $=null!=P?P:cT;F||($=cT),c&&$.length&&($=Th(P.filter(e=>null!=e.value&&(!0!==e.hide||r.includeHidden)),m,lT));var q=$.length>0,U=t.createElement(lb,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:d,active:F,coordinate:D,hasPayload:q,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:S,wrapperStyle:g,lastBoundingBox:I,innerRef:R,hasPortalFromProps:Boolean(j)},function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):"function"==typeof e?t.createElement(e,r):t.createElement(eb,r)}(l,iT(iT({},r),{},{payload:$,label:L,active:F,coordinate:D,accessibilityLayer:k})));return t.createElement(t.Fragment,null,o.createPortal(U,z),F&&t.createElement(P_,{cursor:x,tooltipEventType:C,coordinate:D,payload:P,index:A}))}var mT,hT,fT,pT,gT,xT={},bT={},yT={};function vT(){return mT||(mT=1,e=yT,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.debounce=function(e,t,{signal:r,edges:a}={}){let n,s=null;const i=null!=a&&a.includes("leading"),o=null==a||a.includes("trailing"),l=()=>{null!==s&&(e.apply(n,s),n=void 0,s=null)};let c=null;const d=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),u()},t)},u=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,s=null},m=function(...e){if(r?.aborted)return;n=this,s=e;const t=null==c;d(),i&&t&&l()};return m.schedule=d,m.cancel=u,m.flush=()=>{l()},r?.addEventListener("abort",u,{once:!0}),m}),yT;var e}function jT(){return hT||(hT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vT();e.debounce=function(e,r=0,a={}){"object"!=typeof a&&(a={});const{leading:n=!1,trailing:s=!0,maxWait:i}=a,o=Array(2);let l;n&&(o[0]="leading"),s&&(o[1]="trailing");let c=null;const d=t.debounce(function(...t){l=e.apply(this,t),c=null},r,{edges:o}),u=function(...t){return null!=i&&(null===c&&(c=Date.now()),Date.now()-c>=i)?(l=e.apply(this,t),c=Date.now(),d.cancel(),d.schedule(),l):(d.apply(this,t),l)};return u.cancel=d.cancel,u.flush=()=>(d.flush(),l),u}}(bT)),bT}function wT(){return gT?pT:(gT=1,pT=(fT||(fT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jT();e.throttle=function(e,r=0,a={}){const{leading:n=!0,trailing:s=!0}=a;return t.debounce(e,r,{leading:n,maxWait:r,trailing:s})}}(xT)),xT).throttle)}const NT=b(wT());var ET=function(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n]};function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function kT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(t){CT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function CT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var AT=t.forwardRef((e,r)=>{var{aspect:a,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:m,className:h,onResize:f,style:p={}}=e,g=t.useRef(null),x=t.useRef();x.current=f,t.useImperativeHandle(r,()=>g.current);var[b,y]=t.useState({containerWidth:n.width,containerHeight:n.height}),v=t.useCallback((e,t)=>{y(r=>{var a=Math.round(e),n=Math.round(t);return r.containerWidth===a&&r.containerHeight===n?r:{containerWidth:a,containerHeight:n}})},[]);t.useEffect(()=>{var e=e=>{var t,{width:r,height:a}=e[0].contentRect;v(r,a),null===(t=x.current)||void 0===t||t.call(x,r,a)};u>0&&(e=NT(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:a}=g.current.getBoundingClientRect();return v(r,a),t.observe(g.current),()=>{t.disconnect()}},[v,u]);var j=t.useMemo(()=>{var{containerWidth:e,containerHeight:r}=b;if(e<0||r<0)return null;ET(ad(s)||ad(i),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,i),ET(!a||a>0,"The aspect(%s) must be greater than zero.",a);var n=ad(s)?e:s,u=ad(i)?r:i;return a&&a>0&&(n?u=n/a:u&&(n=u*a),c&&u>c&&(u=c)),ET(n>0||u>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,u,s,i,o,l,a),t.Children.map(d,e=>t.cloneElement(e,{width:n,height:u,style:kT({width:n,height:u},e.props.style)}))},[a,d,i,c,l,o,b,s]);return t.createElement("div",{id:m?"".concat(m):void 0,className:_a("recharts-responsive-container",h),style:kT(kT({},p),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),_T=e=>null;function TT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function DT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_T.displayName="Cell";var PT=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(t){DT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),MT=new class{constructor(e){TT(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(PT.cacheSize),FT={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IT="recharts_measurement_span",RT=(e,t)=>{try{var r=document.getElementById(IT);r||((r=document.createElement("span")).setAttribute("id",IT),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,FT,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch(n){return{width:0,height:0}}},LT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||cb)return{width:0,height:0};if(!PT.enableCache)return RT(e,t);var r=function(e,t){var r=t.fontSize||"",a=t.fontFamily||"",n=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o)}(e,t),a=MT.get(r);if(a)return a;var n=RT(e,t);return MT.set(r,n),n},zT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$T=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qT=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UT=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},YT=Object.keys(BT),VT="NaN";class HT{static parse(e){var t,[,r,a]=null!==(t=UT.exec(e))&&void 0!==t?t:[];return new HT(parseFloat(r),null!=a?a:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,rd(e)&&(this.unit=""),""===t||qT.test(t)||(this.num=NaN,this.unit=""),YT.includes(t)&&(this.num=function(e,t){return e*BT[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new HT(NaN,""):new HT(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new HT(NaN,""):new HT(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new HT(NaN,""):new HT(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new HT(NaN,""):new HT(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return rd(this.num)}}function WT(e){if(e.includes(VT))return VT;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,n,s]=null!==(r=zT.exec(t))&&void 0!==r?r:[],i=HT.parse(null!=a?a:""),o=HT.parse(null!=s?s:""),l="*"===n?i.multiply(o):i.divide(o);if(l.isNaN())return VT;t=t.replace(zT,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,u,m]=null!==(c=$T.exec(t))&&void 0!==c?c:[],h=HT.parse(null!=d?d:""),f=HT.parse(null!=m?m:""),p="+"===u?h.add(f):h.subtract(f);if(p.isNaN())return VT;t=t.replace($T,p.toString())}return t}var GT=/\(([^()]*)\)/;function KT(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,r=e;null!=(t=GT.exec(r));){var[,a]=t;r=r.replace(GT,WT(a))}return r}(t),t=WT(t)}function QT(e){var t=function(e){try{return KT(e)}catch(t){return VT}}(e.slice(5,-1));return t===VT?"":t}var XT=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],JT=["dx","dy","angle","className","breakAll"];function ZT(){return ZT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ZT.apply(null,arguments)}function eO(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var tO=/[ \f\n\r\t\v\u2028\u2029]+/,rO=e=>{var{children:t,breakAll:r,style:a}=e;try{var n=[];return md(t)||(n=r?t.toString().split(""):t.toString().split(tO)),{wordsWithComputedWidth:n.map(e=>({word:e,width:LT(e,a).width})),spaceWidth:r?0:LT("",a).width}}catch(s){return null}},aO=e=>[{words:md(e)?[]:e.toString().split(tO)}],nO=e=>{var{width:t,scaleToFit:r,children:a,style:n,breakAll:s,maxLines:i}=e;if((t||r)&&!cb){var o=rO({breakAll:s,children:a,style:n});if(!o)return aO(a);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,r,a,n)=>{var{maxLines:s,children:i,style:o,breakAll:l}=e,c=nd(s),d=i,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:s,width:i}=t,o=e[e.length-1];if(o&&(null==a||n||o.width+i+r<Number(a)))o.words.push(s),o.width+=i+r;else{var l={words:[s],width:i};e.push(l)}return e},[])},m=u(t),h=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||n)return m;if(!(m.length>s||h(m).width>Number(a)))return m;for(var f,p=e=>{var t=d.slice(0,e),r=rO({breakAll:l,style:o,children:t+""}).wordsWithComputedWidth,n=u(r);return[n.length>s||h(n).width>Number(a),n]},g=0,x=d.length-1,b=0;g<=x&&b<=d.length-1;){var y=Math.floor((g+x)/2),v=y-1,[j,w]=p(v),[N]=p(y);if(j||N||(g=y+1),j&&N&&(x=y-1),!j&&N){f=w;break}b++}return f||m})({breakAll:s,children:a,maxLines:i,style:n},l,c,t,r)}return aO(a)},sO="#808080",iO=t.forwardRef((e,r)=>{var{x:a=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=sO}=e,u=eO(e,XT),m=t.useMemo(()=>nO({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:f,angle:p,className:g,breakAll:x}=u,b=eO(u,JT);if(!sd(a)||!sd(n)||0===m.length)return null;var y,v=a+(nd(h)?h:0),j=n+(nd(f)?f:0);switch(c){case"start":y=QT("calc(".concat(i,")"));break;case"middle":y=QT("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:y=QT("calc(".concat(m.length-1," * -").concat(s,")"))}var w=[];if(o){var N=m[0].width,{width:E}=u;w.push("scale(".concat(nd(E)?E/N:1,")"))}return p&&w.push("rotate(".concat(p,", ").concat(v,", ").concat(j,")")),w.length&&(b.transform=w.join(" ")),t.createElement("text",ZT({},_d(b,!0),{ref:r,x:v,y:j,className:_a("recharts-text",g),textAnchor:l,fill:d.includes("url")?sO:d}),m.map((e,r)=>{var a=e.words.join(x?"":" ");return t.createElement("tspan",{x:v,dy:0===r?y:s,key:"".concat(a,"-").concat(r)},a)}))});iO.displayName="Text";var oO=["labelRef"];function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(t){dO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uO(){return uO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},uO.apply(null,arguments)}var mO=t.createContext(null),hO=e=>{var{x:r,y:a,width:n,height:s,children:i}=e,o=t.useMemo(()=>({x:r,y:a,width:n,height:s}),[r,a,n,s]);return t.createElement(mO.Provider,{value:o},i)},fO=()=>{var e=t.useContext(mO),r=Sx();return e||r},pO=t.createContext(null),gO=e=>null!=e&&"function"==typeof e,xO=(e,r,a,n,s)=>{var i,o,{offset:l,className:c}=e,{cx:d,cy:u,innerRadius:m,outerRadius:h,startAngle:f,endAngle:p,clockWise:g}=s,x=(m+h)/2,b=((e,t)=>td(t-e)*Math.min(Math.abs(t-e),360))(f,p),y=b>=0?1:-1;switch(r){case"insideStart":i=f+y*l,o=g;break;case"insideEnd":i=p-y*l,o=!g;break;case"end":i=p+y*l,o=g;break;default:throw new Error("Unsupported position ".concat(r))}o=b<=0?o:!o;var v=Rg(d,u,x,i),j=Rg(d,u,x,i+359*(o?1:-1)),w="M".concat(v.x,",").concat(v.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(o?0:1,",\n    ").concat(j.x,",").concat(j.y),N=md(e.id)?od("recharts-radial-line-"):e.id;return t.createElement("text",uO({},n,{dominantBaseline:"central",className:_a("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:N,d:w})),t.createElement("textPath",{xlinkHref:"#".concat(N)},a))},bO=e=>"cx"in e&&nd(e.cx),yO={offset:5};function vO(e){var r,a,n=Ob(e,yO),{viewBox:s,position:i,value:o,children:l,content:c,className:d="",textBreakAll:u,labelRef:m}=n,h=(r=t.useContext(pO),a=Wh(zS),r||a),f=fO(),p=s||("center"===i?f:null!=h?h:f);if(!p||md(o)&&md(l)&&!t.isValidElement(c)&&"function"!=typeof c)return null;var g,x=cO(cO({},n),{},{viewBox:p});if(t.isValidElement(c)){var{labelRef:b}=x,y=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(x,oO);return t.cloneElement(c,y)}if("function"==typeof c){if(g=t.createElement(c,x),t.isValidElement(g))return g}else g=(e=>{var{value:t,formatter:r}=e,a=md(e.children)?t:e.children;return"function"==typeof r?r(a):a})(n);var v=bO(p),j=_d(n,!0);if(v&&("insideStart"===i||"insideEnd"===i||"end"===i))return xO(n,i,g,j,p);var w=v?((e,t,r)=>{var{cx:a,cy:n,innerRadius:s,outerRadius:i,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===r){var{x:d,y:u}=Rg(a,n,i+t,c);return{x:d,y:u,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var m=(s+i)/2,{x:h,y:f}=Rg(a,n,m,c);return{x:h,y:f,textAnchor:"middle",verticalAnchor:"middle"}})(p,n.offset,n.position):((e,t)=>{var r,{parentViewBox:a,offset:n,position:s}=e;null==a||bO(a)||(r=a);var{x:i,y:o,width:l,height:c}=t,d=c>=0?1:-1,u=d*n,m=d>0?"end":"start",h=d>0?"start":"end",f=l>=0?1:-1,p=f*n,g=f>0?"end":"start",x=f>0?"start":"end";if("top"===s)return cO(cO({},{x:i+l/2,y:o-d*n,textAnchor:"middle",verticalAnchor:m}),r?{height:Math.max(o-r.y,0),width:l}:{});if("bottom"===s)return cO(cO({},{x:i+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{});if("left"===s){var b={x:i-p,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return cO(cO({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if("right"===s){var y={x:i+l+p,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return cO(cO({},y),r?{width:Math.max(r.x+r.width-y.x,0),height:c}:{})}var v=r?{width:l,height:c}:{};return"insideLeft"===s?cO({x:i+p,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},v):"insideRight"===s?cO({x:i+l-p,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},v):"insideTop"===s?cO({x:i+l/2,y:o+u,textAnchor:"middle",verticalAnchor:h},v):"insideBottom"===s?cO({x:i+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:m},v):"insideTopLeft"===s?cO({x:i+p,y:o+u,textAnchor:x,verticalAnchor:h},v):"insideTopRight"===s?cO({x:i+l-p,y:o+u,textAnchor:g,verticalAnchor:h},v):"insideBottomLeft"===s?cO({x:i+p,y:o+c-u,textAnchor:x,verticalAnchor:m},v):"insideBottomRight"===s?cO({x:i+l-p,y:o+c-u,textAnchor:g,verticalAnchor:m},v):s&&"object"==typeof s&&(nd(s.x)||ad(s.x))&&(nd(s.y)||ad(s.y))?cO({x:i+ld(s.x,l),y:o+ld(s.y,c),textAnchor:"end",verticalAnchor:"end"},v):cO({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},v)})(n,p);return t.createElement(iO,uO({ref:m,className:_a("recharts-label",d)},j,w,{breakAll:u}),g)}function jO(e){var{label:r}=e;return((e,r,a)=>{if(!e)return null;var n={viewBox:r,labelRef:a};return!0===e?t.createElement(vO,uO({key:"label-implicit"},n)):sd(e)?t.createElement(vO,uO({key:"label-implicit",value:e},n)):t.isValidElement(e)?e.type===vO?t.cloneElement(e,cO({key:"label-implicit"},n)):t.createElement(vO,uO({key:"label-implicit",content:e},n)):gO(e)?t.createElement(vO,uO({key:"label-implicit",content:e},n)):e&&"object"==typeof e?t.createElement(vO,uO({},e,{key:"label-implicit"},n)):null})(r,fO())||null}vO.displayName="Label";var wO,NO={},EO={};function SO(){return wO||(wO=1,e=EO,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.last=function(e){return e[e.length-1]}),EO;var e}var kO,CO,AO,_O,TO={};function OO(){return kO||(kO=1,e=TO,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}),TO;var e}function DO(){return _O?AO:(_O=1,AO=(CO||(CO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SO(),r=OO(),a=hm();e.last=function(e){if(a.isArrayLike(e))return t.last(r.toArray(e))}}(NO)),NO).last)}const PO=b(DO());var MO=["valueAccessor"],FO=["dataKey","clockWise","id","textBreakAll"];function IO(){return IO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},IO.apply(null,arguments)}function RO(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var LO=e=>Array.isArray(e.value)?PO(e.value):e.value,zO=t.createContext(void 0),$O=zO.Provider,qO=t.createContext(void 0),UO=qO.Provider;function BO(e){var{valueAccessor:r=LO}=e,a=RO(e,MO),{dataKey:n,clockWise:s,id:i,textBreakAll:o}=a,l=RO(a,FO),c=t.useContext(zO),d=t.useContext(qO),u=c||d;return u&&u.length?t.createElement(Fd,{className:"recharts-label-list"},u.map((e,s)=>{var c,d=md(n)?r(e,s):Hg(e&&e.payload,n),u=md(i)?{}:{id:"".concat(i,"-").concat(s)};return t.createElement(vO,IO({},_d(e,!0),l,u,{fill:null!==(c=a.fill)&&void 0!==c?c:e.fill,parentViewBox:e.parentViewBox,value:d,textBreakAll:o,viewBox:e.viewBox,key:"label-".concat(s),index:s}))})):null}function YO(e){var{label:r}=e;return r?!0===r?t.createElement(BO,{key:"labelList-implicit"}):t.isValidElement(r)||gO(r)?t.createElement(BO,{key:"labelList-implicit",content:r}):"object"==typeof r?t.createElement(BO,IO({key:"labelList-implicit"},r,{type:String(r.type)})):null:null}function VO(){return VO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},VO.apply(null,arguments)}BO.displayName="LabelList";var HO=e=>{var{cx:r,cy:a,r:n,className:s}=e,i=_a("recharts-dot",s);return r===+r&&a===+a&&n===+n?t.createElement("circle",VO({},wd(e),bd(e),{className:i,cx:r,cy:a,r:n})):null},WO=e=>e.graphicalItems.polarItems,GO=tf([$S,qS],dk),KO=tf([WO,ok,GO],hk),QO=tf([KO],bk),XO=tf([QO,mE],vk),JO=tf([XO,ok,KO],wk),ZO=tf([XO,ok,KO],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var a;return{value:Hg(e,null!==(a=t.dataKey)&&void 0!==a?a:r.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:Hg(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),eD=()=>{},tD=tf([ok,eC,eD,ZO,eD,Tx,$S],tC),rD=tf([ok,Tx,XO,JO,mS,$S,tD],nC),aD=tf([rD,ok,oC],cC);tf([ok,rD,aD,$S],uC);var nD=Vp({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:sD,removeRadiusAxis:iD,addAngleAxis:oD,removeAngleAxis:lD}=nD.actions,cD=nD.reducer;function dD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function uD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dD(Object(r),!0).forEach(function(t){mD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hD,fD,pD,gD=tf([WO,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),xD=[],bD=(e,t,r)=>0===(null==r?void 0:r.length)?xD:r,yD=tf([mE,gD,bD],(e,t,r)=>{var a,{chartData:n}=e;if(null!=t&&((a=null!=(null==t?void 0:t.data)&&t.data.length>0?t.data:n)&&a.length||null==r||(a=r.map(e=>uD(uD({},t.presentationProps),e.props))),null!=a))return a}),vD=tf([yD,gD,bD],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,a)=>{var n,s,i=Hg(e,t.nameKey,t.name);return s=null!=r&&null!==(n=r[a])&&void 0!==n&&null!==(n=n.props)&&void 0!==n&&n.fill?r[a].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:ix(i,t.dataKey),color:s,payload:e,type:t.legendType}})}),jD=tf([yD,gD,bD,bx],(e,t,r,a)=>{if(null!=t&&null!=e)return function(e){var t,r,a,{pieSettings:n,displayedData:s,cells:i,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:u,nameKey:m,tooltipType:h}=n,f=Math.abs(n.minAngle),p=((e,t)=>{var r=td(t-e),a=Math.min(Math.abs(t-e),360);return r*a})(c,d),g=Math.abs(p),x=s.length<=1?0:null!==(t=n.paddingAngle)&&void 0!==t?t:0,b=s.filter(e=>0!==Hg(e,u,0)).length,y=g-b*f-(g>=360?b:b-1)*x,v=s.reduce((e,t)=>{var r=Hg(t,u,0);return e+(nd(r)?r:0)},0);return v>0&&(r=s.map((e,t)=>{var r,s=Hg(e,u,0),d=Hg(e,m,t),g=((e,t,r)=>{var{top:a,left:n,width:s,height:i}=t,o=Lg(s,i),l=n+ld(e.cx,s,s/2),c=a+ld(e.cy,i,i/2),d=ld(e.innerRadius,o,0),u=((e,t,r)=>ld("function"==typeof t?t(e):t,r,.8*r))(r,e.outerRadius,o),m=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:m}})(n,o,e),b=(nd(s)?s:0)/v,j=dP(dP({},e),i&&i[t]&&i[t].props),w=(r=t?a.endAngle+td(p)*x*(0!==s?1:0):c)+td(p)*((0!==s?f:0)+b*y),N=(r+w)/2,E=(g.innerRadius+g.outerRadius)/2,S=[{name:d,value:s,payload:j,dataKey:u,type:h}],k=Rg(g.cx,g.cy,E,N);return a=dP(dP(dP(dP({},n.presentationProps),{},{percent:b,cornerRadius:l,name:d,tooltipPayload:S,midAngle:N,middleRadius:E,tooltipPosition:k},j),g),{},{value:Hg(e,u),startAngle:r,endAngle:w,payload:j,paddingAngle:td(p)*x})})),r}({offset:a,pieSettings:t,displayedData:e,cells:r})}),wD={};function ND(){return pD?fD:(pD=1,fD=(hD||(hD=1,e=wD,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];return null!=t&&!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}),wD).isPlainObject);var e}const ED=b(ND());function SD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function kD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SD(Object(r),!0).forEach(function(t){CD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function CD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AD(){return AD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},AD.apply(null,arguments)}var _D=(e,t,r,a,n)=>{var s,i=r-a;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+n),s+="L ".concat(e+r-i/2-a,",").concat(t+n),s+="L ".concat(e,",").concat(t," Z")},TD={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OD=e=>{var r=Ob(e,TD),{x:a,y:n,upperWidth:s,lowerWidth:i,height:o,className:l}=r,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:m}=r,h=t.useRef(),[f,p]=t.useState(-1),g=t.useRef(s),x=t.useRef(i),b=t.useRef(o),y=t.useRef(a),v=t.useRef(n),j=sy(e,"trapezoid-");if(t.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var e=h.current.getTotalLength();e&&p(e)}catch(t){}},[]),a!==+a||n!==+n||s!==+s||i!==+i||o!==+o||0===s&&0===i||0===o)return null;var w=_a("recharts-trapezoid",l);if(!m)return t.createElement("g",null,t.createElement("path",AD({},_d(r,!0),{className:w,d:_D(a,n,s,i,o)})));var N=g.current,E=x.current,S=b.current,k=y.current,C=v.current,A="0px ".concat(-1===f?1:f,"px"),_="".concat(f,"px 0px"),T=Ib(["strokeDasharray"],d,c);return t.createElement(ny,{animationId:j,key:j,canBegin:f>0,duration:d,easing:c,isActive:m,begin:u},e=>{var l=dd(N,s,e),c=dd(E,i,e),d=dd(S,o,e),u=dd(k,a,e),m=dd(C,n,e);h.current&&(g.current=l,x.current=c,b.current=d,y.current=u,v.current=m);var f=e>0?{transition:T,strokeDasharray:_}:{strokeDasharray:A};return t.createElement("path",AD({},_d(r,!0),{className:w,d:_D(u,m,l,c,d),ref:h,style:kD(kD({},f),r.style)}))})},DD=["option","shapeType","propTransformer","activeClassName","isActive"];function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function MD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(t){FD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ID(e,t){return MD(MD({},t),e)}function RD(e){var{shapeType:r,elementProps:a}=e;switch(r){case"rectangle":return t.createElement(my,a);case"trapezoid":return t.createElement(OD,a);case"sector":return t.createElement(by,a);case"symbols":if(function(e){return"symbols"===e}(r))return t.createElement(Gu,a);break;default:return null}}function LD(e){var r,{option:a,shapeType:n,propTransformer:s=ID,activeClassName:i="recharts-active-shape",isActive:o}=e,l=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,DD);if(t.isValidElement(a))r=t.cloneElement(a,MD(MD({},l),function(e){return t.isValidElement(e)?e.props:e}(a)));else if("function"==typeof a)r=a(l);else if(ED(a)&&"boolean"!=typeof a){var c=s(a,l);r=t.createElement(RD,{shapeType:n,elementProps:c})}else{var d=l;r=t.createElement(RD,{shapeType:n,elementProps:d})}return o?t.createElement(Fd,{className:i},r):r}var zD=(e,t)=>{var r=Bh();return(a,n)=>s=>{null==e||e(a,n,s),r(ZC({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},$D=e=>{var t=Bh();return(r,a)=>n=>{null==e||e(r,a,n),t(eA())}},qD=(e,t)=>{var r=Bh();return(a,n)=>s=>{null==e||e(a,n,s),r(rA({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function UD(e){var{fn:r,args:a}=e,n=Bh(),s=wx();return t.useEffect(()=>{if(!s){var e=r(a);return n(QC(e)),()=>{n(XC(e))}}},[r,a,n,s]),null}var BD,YD=()=>{};function VD(e){var{legendPayload:r}=e,a=Bh(),n=wx();return t.useEffect(()=>n?YD:(a(Fx(r)),()=>{a(Ix(r))}),[a,n,r]),null}function HD(e){var{legendPayload:r}=e,a=Bh(),n=Wh(Tx);return t.useEffect(()=>"centric"!==n&&"radial"!==n?YD:(a(Fx(r)),()=>{a(Ix(r))}),[a,n,r]),null}var WD=null!==(BD=i["useId".toString()])&&void 0!==BD?BD:()=>{var[e]=t.useState(()=>od("uid-"));return e},GD=t.createContext(void 0),KD=e=>{var r,a,n,{id:s,type:i,children:o}=e,l=(r="recharts-".concat(i),a=s,n=WD(),a||(r?"".concat(r,"-").concat(n):n));return t.createElement(GD.Provider,{value:l},o(l))},QD=Vp({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:a}=t.payload,n=Sp(e).cartesianItems.indexOf(r);n>-1&&(e.cartesianItems[n]=a)},removeCartesianGraphicalItem(e,t){var r=Sp(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Sp(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:XD,replaceCartesianGraphicalItem:JD,removeCartesianGraphicalItem:ZD,addPolarGraphicalItem:eP,removePolarGraphicalItem:tP}=QD.actions,rP=QD.reducer;function aP(e){var r=Bh(),a=t.useRef(null);return t.useEffect(()=>{null===a.current?r(XD(e)):a.current!==e&&r(JD({prev:a.current,next:e})),a.current=e},[r,e]),t.useEffect(()=>()=>{a.current&&(r(ZD(a.current)),a.current=null)},[r]),null}function nP(e){var r=Bh();return t.useEffect(()=>(r(eP(e)),()=>{r(tP(e))}),[r,e]),null}var sP=["onMouseEnter","onClick","onMouseLeave"],iP=["id"],oP=["id"];function lP(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(t){uP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mP(){return mP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mP.apply(null,arguments)}function hP(e){var r=t.useMemo(()=>Cd(e.children,_T),[e.children]),a=Wh(t=>vD(t,e.id,r));return null==a?null:t.createElement(HD,{legendPayload:a})}function fP(e){var{dataKey:t,nameKey:r,sectors:a,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:a.map(e=>e.tooltipPayload),positions:a.map(e=>e.tooltipPosition),settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:r,name:ix(o,t),hide:l,type:c,color:i,unit:""}}}function pP(e){var{sectors:r,props:a,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=a;if(!n||!s||!r)return null;var l=wd(a),c=_d(s,!1),d=_d(i,!1),u="object"==typeof s&&"offsetRadius"in s&&"number"==typeof s.offsetRadius&&s.offsetRadius||20,m=r.map((e,r)=>{var a,n,m=(e.startAngle+e.endAngle)/2,h=Rg(e.cx,e.cy,e.outerRadius+u,m),f=dP(dP(dP(dP({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:(a=h.x,n=e.cx,a>n?"start":a<n?"end":"middle")},h),p=dP(dP(dP(dP({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:r,points:[Rg(e.cx,e.cy,e.outerRadius,m),h],key:"line"});return t.createElement(Fd,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},i&&((e,r)=>{if(t.isValidElement(e))return t.cloneElement(e,r);if("function"==typeof e)return e(r);var a=_a("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return t.createElement(wb,mP({},r,{type:"linear",className:a}))})(i,p),((e,r,a)=>{if(t.isValidElement(e))return t.cloneElement(e,r);var n=a;if("function"==typeof e&&(n=e(r),t.isValidElement(n)))return n;var s,i=_a("recharts-pie-label-text",(s=e)&&"object"==typeof s&&"className"in s&&"string"==typeof s.className?s.className:"");return t.createElement(iO,mP({},r,{alignmentBaseline:"middle",className:i}),n)})(s,f,Hg(e,o)))});return t.createElement(Fd,{className:"recharts-pie-labels"},m)}function gP(e){var{sectors:r,props:a,showLabels:n}=e,{label:s}=a;return"object"==typeof s&&null!=s&&"position"in s?t.createElement(YO,{label:a.label}):t.createElement(pP,{sectors:r,props:a,showLabels:n})}function xP(e){var{sectors:r,activeShape:a,inactiveShape:n,allOtherPieProps:s}=e,i=Wh(a_),{onMouseEnter:o,onClick:l,onMouseLeave:c}=s,d=lP(s,sP),u=zD(o,s.dataKey),m=$D(c),h=qD(l,s.dataKey);return null==r||0===r.length?null:t.createElement(t.Fragment,null,r.map((e,o)=>{if(0===(null==e?void 0:e.startAngle)&&0===(null==e?void 0:e.endAngle)&&1!==r.length)return null;var l=a&&String(o)===i,c=l?a:i?n:null,f=dP(dP({},e),{},{stroke:e.stroke,tabIndex:-1,[hx]:o,[fx]:s.dataKey});return t.createElement(Fd,mP({tabIndex:-1,className:"recharts-pie-sector"},yd(d,e,o),{onMouseEnter:u(e,o),onMouseLeave:m(e,o),onClick:h(e,o),key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o)}),t.createElement(LD,mP({option:c,isActive:l,shapeType:"sector"},f)))}))}function bP(e){var{showLabels:r,sectors:a,children:n}=e,s=t.useMemo(()=>r&&a?a.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[a,r]);return t.createElement(UO,{value:r?s:void 0},n)}function yP(e){var{props:r,previousSectorsRef:a}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:m}=r,h=sy(r,"recharts-pie-"),f=a.current,[p,g]=t.useState(!1),x=t.useCallback(()=>{"function"==typeof m&&m(),g(!1)},[m]),b=t.useCallback(()=>{"function"==typeof u&&u(),g(!0)},[u]);return t.createElement(bP,{showLabels:!p,sectors:n},t.createElement(ny,{animationId:h,begin:i,duration:o,isActive:s,easing:l,onAnimationStart:b,onAnimationEnd:x,key:h},e=>{var s=[],i=n&&n[0],o=null==i?void 0:i.startAngle;return null==n||n.forEach((t,r)=>{var a=f&&f[r],n=r>0?Kc(t,"paddingAngle",0):0;if(a){var i=dd(a.endAngle-a.startAngle,t.endAngle-t.startAngle,e),l=dP(dP({},t),{},{startAngle:o+n,endAngle:o+i+n});s.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:d}=t,u=dd(0,c-d,e),m=dP(dP({},t),{},{startAngle:o+n,endAngle:o+u+n});s.push(m),o=m.endAngle}}),a.current=s,t.createElement(Fd,null,t.createElement(xP,{sectors:s,activeShape:c,inactiveShape:d,allOtherPieProps:r}))}),t.createElement(gP,{showLabels:!p,sectors:n,props:r}),r.children)}var vP={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!cb,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function jP(e){var{id:r}=e,a=lP(e,iP),{hide:n,className:s,rootTabIndex:i}=e,o=t.useMemo(()=>Cd(e.children,_T),[e.children]),l=Wh(e=>jD(e,r,o)),c=t.useRef(null),d=_a("recharts-pie",s);return n||null==l?(c.current=null,t.createElement(Fd,{tabIndex:i,className:d})):t.createElement(t.Fragment,null,t.createElement(UD,{fn:fP,args:dP(dP({},e),{},{sectors:l})}),t.createElement(Fd,{tabIndex:i,className:d},t.createElement(yP,{props:dP(dP({},a),{},{sectors:l}),previousSectorsRef:c})))}function wP(e){var r=Ob(e,vP),{id:a}=r,n=lP(r,oP),s=wd(n);return t.createElement(KD,{id:a,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(nP,{type:"pie",id:e,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s}),t.createElement(hP,mP({},n,{id:e})),t.createElement(jP,mP({},n,{id:e}))))}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function EP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(t){SP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}wP.displayName="Pie";var kP=Vp({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload;e.yAxis[r]&&(e.yAxis[r]=EP(EP({},e.yAxis[r]),{},{width:a}))}}}),{addXAxis:CP,removeXAxis:AP,addYAxis:_P,removeYAxis:TP,addZAxis:OP,removeZAxis:DP,updateYAxisWidth:PP}=kP.actions,MP=kP.reducer,FP=tf([bx],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),IP=tf([FP,ox,lx],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),RP=()=>Wh(IP);function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function zP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(t){$P(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qP(e){var{points:r,mainColor:a,activeDot:n,itemDataKey:s}=e,i=Wh(a_),o=Wh(u_);if(null==r||null==o)return null;var l=r.find(e=>o.includes(e.payload));return md(l)?null:(e=>{var{point:r,childIndex:a,mainColor:n,activeDot:s,dataKey:i}=e;if(!1===s||null==r.x||null==r.y)return null;var o,l=zP(zP({index:a,dataKey:i,cx:r.x,cy:r.y,r:4,fill:null!=n?n:"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},_d(s,!1)),bd(s));return o=t.isValidElement(s)?t.cloneElement(s,l):"function"==typeof s?s(l):t.createElement(HO,l),t.createElement(Fd,{className:"recharts-active-dot"},o)})({point:l,childIndex:Number(i),mainColor:a,dataKey:s,activeDot:n})}var UP=["x","y"];function BP(){return BP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},BP.apply(null,arguments)}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function VP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(t){HP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WP(e,t){var{x:r,y:a}=e,n=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,UP),s="".concat(r),i=parseInt(s,10),o="".concat(a),l=parseInt(o,10),c="".concat(t.height||n.height),d=parseInt(c,10),u="".concat(t.width||n.width),m=parseInt(u,10);return VP(VP(VP(VP(VP({},t),n),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function GP(e){return t.createElement(LD,BP({shapeType:"rectangle",propTransformer:WP,activeClassName:"recharts-active-bar"},e))}var KP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,a)=>{if(nd(e))return e;var n=nd(r)||md(r);return n?e(r,a):(n||function(){throw new Error("Invariant failed")}(),t)}},QP=Vp({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:n}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===a.dataKey&&e.direction===a.direction?n:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==a.dataKey||e.direction!==a.direction))}}}),{addErrorBar:XP,replaceErrorBar:JP,removeErrorBar:ZP}=QP.actions,eM=QP.reducer,tM=["children"],rM={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},aM=t.createContext(rM);function nM(e){var{children:r}=e,a=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,tM);return t.createElement(aM.Provider,{value:a},r)}function sM(e,t){var r,a,n=Wh(t=>tk(t,e)),s=Wh(e=>nk(e,t)),i=null!==(r=null==n?void 0:n.allowDataOverflow)&&void 0!==r?r:ZS.allowDataOverflow,o=null!==(a=null==s?void 0:s.allowDataOverflow)&&void 0!==a?a:rk.allowDataOverflow;return{needClip:i||o,needClipX:i,needClipY:o}}function iM(e){var{xAxisId:r,yAxisId:a,clipPathId:n}=e,s=RP(),{needClipX:i,needClipY:o,needClip:l}=sM(r,a);if(!l)return null;var{x:c,y:d,width:u,height:m}=s;return t.createElement("clipPath",{id:"clipPath-".concat(n)},t.createElement("rect",{x:i?c:c-u/2,y:o?d:d-m/2,width:i?u:2*u,height:o?m:2*m}))}var oM=["onMouseEnter","onMouseLeave","onClick"],lM=["value","background","tooltipPosition"],cM=["id"],dM=["onMouseEnter","onClick","onMouseLeave"];function uM(){return uM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},uM.apply(null,arguments)}function mM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function hM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mM(Object(r),!0).forEach(function(t){fM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pM(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var gM=e=>{var{dataKey:t,name:r,fill:a,legendType:n,hide:s}=e;return[{inactive:s,dataKey:t,type:n,color:a,value:ix(r,t),payload:e}]};function xM(e){var{dataKey:t,stroke:r,strokeWidth:a,fill:n,name:s,hide:i,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:n,dataKey:t,nameKey:void 0,name:ix(s,t),hide:i,type:e.tooltipType,color:e.fill,unit:o}}}function bM(e){var r=Wh(a_),{data:a,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,d=pM(i,oM),u=zD(o,n),m=$D(l),h=qD(c,n);if(!s||null==a)return null;var f=_d(s,!1);return t.createElement(t.Fragment,null,a.map((e,a)=>{var{value:i,background:o,tooltipPosition:l}=e,c=pM(e,lM);if(!o)return null;var p=u(e,a),g=m(e,a),x=h(e,a),b=hM(hM(hM(hM(hM({option:s,isActive:String(a)===r},c),{},{fill:"#eee"},o),f),yd(d,e,a)),{},{onMouseEnter:p,onMouseLeave:g,onClick:x,dataKey:n,index:a,className:"recharts-bar-background-rectangle"});return t.createElement(GP,uM({key:"background-bar-".concat(a)},b))}))}function yM(e){var{showLabels:r,children:a,rects:n}=e,s=null==n?void 0:n.map(e=>{var t={x:e.x,y:e.y,width:e.width,height:e.height};return hM(hM({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return t.createElement($O,{value:r?s:void 0},a)}function vM(e){var{shape:r,activeBar:a,baseProps:n,entry:s,index:i,dataKey:o}=e,l=Wh(a_),c=Wh(s_),d=a&&String(i)===l&&(null==c||o===c),u=d?a:r;return t.createElement(GP,uM({},n,s,{isActive:d,option:u,index:i,dataKey:o}))}function jM(e){var{shape:r,baseProps:a,entry:n,index:s,dataKey:i}=e;return t.createElement(GP,uM({},a,n,{isActive:!1,option:r,index:s,dataKey:i}))}function wM(e){var{data:r,props:a}=e,n=wd(a),{id:s}=n,i=pM(n,cM),{shape:o,dataKey:l,activeBar:c}=a,{onMouseEnter:d,onClick:u,onMouseLeave:m}=a,h=pM(a,dM),f=zD(d,l),p=$D(m),g=qD(u,l);return r?t.createElement(t.Fragment,null,r.map((e,r)=>t.createElement(Fd,uM({className:"recharts-bar-rectangle"},yd(h,e,r),{onMouseEnter:f(e,r),onMouseLeave:p(e,r),onClick:g(e,r),key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(r)}),c?t.createElement(vM,{shape:o,activeBar:c,baseProps:i,entry:e,index:r,dataKey:l}):t.createElement(jM,{shape:o,baseProps:i,entry:e,index:r,dataKey:l})))):null}function NM(e){var{props:r,previousRectanglesRef:a}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=r,m=a.current,h=sy(r,"recharts-bar-"),[f,p]=t.useState(!1),g=!f,x=t.useCallback(()=>{"function"==typeof d&&d(),p(!1)},[d]),b=t.useCallback(()=>{"function"==typeof u&&u(),p(!0)},[u]);return t.createElement(yM,{showLabels:g,rects:n},t.createElement(ny,{animationId:h,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:x,onAnimationStart:b,key:h},e=>{var i=1===e?n:null==n?void 0:n.map((t,r)=>{var a=m&&m[r];if(a)return hM(hM({},t),{},{x:dd(a.x,t.x,e),y:dd(a.y,t.y,e),width:dd(a.width,t.width,e),height:dd(a.height,t.height,e)});if("horizontal"===s){var n=dd(0,t.height,e);return hM(hM({},t),{},{y:t.y+t.height-n,height:n})}var i=dd(0,t.width,e);return hM(hM({},t),{},{width:i})});return e>0&&(a.current=null!=i?i:null),null==i?null:t.createElement(Fd,null,t.createElement(wM,{props:r,data:i}))}),t.createElement(YO,{label:r.label}),r.children)}function EM(e){var r=t.useRef(null);return t.createElement(NM,{previousRectanglesRef:r,props:e})}var SM=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Hg(e,t)}};class kM extends t.PureComponent{render(){var{hide:e,data:r,dataKey:a,className:n,xAxisId:s,yAxisId:i,needClip:o,background:l,id:c}=this.props;if(e||null==r)return null;var d=_a("recharts-bar",n),u=c;return t.createElement(Fd,{className:d,id:c},o&&t.createElement("defs",null,t.createElement(iM,{clipPathId:u,xAxisId:s,yAxisId:i})),t.createElement(Fd,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(u,")"):void 0},t.createElement(bM,{data:r,dataKey:a,background:l,allOtherBarProps:this.props}),t.createElement(EM,this.props)))}}var CM={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!cb,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0};function AM(e){var r,{xAxisId:a,yAxisId:n,hide:s,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:m}=e,{needClip:h}=sM(a,n),f=Ox(),p=wx(),g=Cd(e.children,_T),x=Wh(t=>BM(t,a,n,p,e.id,g));if("vertical"!==f&&"horizontal"!==f)return null;var b=null==x?void 0:x[0];return r=null==b||null==b.height||null==b.width?0:"vertical"===f?b.height/2:b.width/2,t.createElement(nM,{xAxisId:a,yAxisId:n,data:x,dataPointFormatter:SM,errorBarOffset:r},t.createElement(kM,uM({},e,{layout:f,needClip:h,data:x,xAxisId:a,yAxisId:n,hide:s,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:m})))}function _M(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:n,bandSize:s,xAxis:i,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:u,offset:m,cells:h,parentViewBox:f}=e,p="horizontal"===t?o:i,g=d?p.scale.domain():null,x=(e=>{var{numericAxis:t}=e,r=t.scale.domain();if("number"===t.type){var a=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]);return a<=0&&n>=0?0:n<0?n:a}return r[0]})({numericAxis:p});return u.map((e,u)=>{var p,b,y,v,j,w;d?p=((e,t)=>{if(!t||2!==t.length||!nd(t[0])||!nd(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!nd(e[0])||e[0]<r)&&(n[0]=r),(!nd(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<r&&(n[1]=r),n})(d[u],g):(p=Hg(e,r),Array.isArray(p)||(p=[x,p]));var N=KP(a,0)(p[1],u);if("horizontal"===t){var E,[S,k]=[o.scale(p[0]),o.scale(p[1])];b=ex({axis:i,ticks:l,bandSize:s,offset:n.offset,entry:e,index:u}),y=null!==(E=null!=k?k:S)&&void 0!==E?E:void 0,v=n.size;var C=S-k;if(j=rd(C)?0:C,w={x:b,y:m.top,width:v,height:m.height},Math.abs(N)>0&&Math.abs(j)<Math.abs(N)){var A=td(j||N)*(Math.abs(N)-Math.abs(j));y-=A,j+=A}}else{var[_,T]=[i.scale(p[0]),i.scale(p[1])];b=_,y=ex({axis:o,ticks:c,bandSize:s,offset:n.offset,entry:e,index:u}),v=T-_,j=n.size,w={x:m.left,y:y,width:m.width,height:j},Math.abs(N)>0&&Math.abs(v)<Math.abs(N)&&(v+=td(v||N)*(Math.abs(N)-Math.abs(v)))}return null==b||null==y||null==v||null==j?null:hM(hM({},e),{},{x:b,y:y,width:v,height:j,value:d?p:p[1],payload:e,background:w,tooltipPosition:{x:b+v/2,y:y+j/2},parentViewBox:f},h&&h[u]&&h[u].props)}).filter(Boolean)}function TM(e){var r=Ob(e,CM),a=wx();return t.createElement(KD,{id:r.id,type:"bar"},e=>{return t.createElement(t.Fragment,null,t.createElement(VD,{legendPayload:gM(r)}),t.createElement(UD,{fn:xM,args:r}),t.createElement(aP,{type:"bar",id:e,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:(n=r.stackId,null==n?void 0:String(n)),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:a}),t.createElement(AM,uM({},r,{id:e})));var n})}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function DM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(t){PM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}TM.displayName="Bar";var MM=tf([uk,(e,t,r,a,n)=>n],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),FM=tf([MM],e=>null==e?void 0:e.maxBarSize),IM=(e,t,r)=>{var a=null!=r?r:e;if(!md(a))return ld(a,t,0)},RM=tf([Tx,uk,(e,t)=>t,(e,t,r)=>r,(e,t,r,a)=>a],(e,t,r,a,n)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===a).filter(e=>e.isPanorama===n).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),LM=tf([RM,e=>e.rootProps.barSize,(e,t,r)=>"horizontal"===Tx(e)?DC(e,"xAxis",t):DC(e,"yAxis",r)],(e,t,r)=>{var a=e.filter(GS),n=e.filter(e=>null==e.stackId),s=a.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return[...Object.entries(s).map(e=>{var[a,n]=e;return{stackId:a,dataKeys:n.map(e=>e.dataKey),barSize:IM(t,r,n[0].barSize)}}),...n.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:IM(t,r,e.barSize)}))]}),zM=(e,t,r,a)=>{var n,s;return"horizontal"===Tx(e)?(n=$C(e,"xAxis",t,a),s=zC(e,"xAxis",t,a)):(n=$C(e,"yAxis",r,a),s=zC(e,"yAxis",r,a)),nx(n,s)},$M=tf([LM,dS,e=>e.rootProps.barGap,uS,(e,t,r,a,n)=>{var s,i,o=MM(e,t,r,a,n);if(null!=o){var l,c,d=Tx(e),u=dS(e),{maxBarSize:m}=o,h=md(m)?u:m;return"horizontal"===d?(l=$C(e,"xAxis",t,a),c=zC(e,"xAxis",t,a)):(l=$C(e,"yAxis",r,a),c=zC(e,"yAxis",r,a)),null!==(s=null!==(i=nx(l,c,!0))&&void 0!==i?i:h)&&void 0!==s?s:0}},zM,FM],(e,t,r,a,n,s,i)=>{var o=md(i)?t:i,l=function(e,t,r,a,n){var s=a.length;if(!(s<1)){var i,o=ld(e,r,0,!0),l=[];if(ub(a[0].barSize)){var c=!1,d=r/s,u=a.reduce((e,t)=>e+(t.barSize||0),0);(u+=(s-1)*o)>=r&&(u-=(s-1)*o,o=0),u>=r&&d>0&&(c=!0,u=s*(d*=.9));var m={offset:((r-u)/2|0)-o,size:0};i=a.reduce((e,t)=>{var r,a=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:m.offset+m.size+o,size:c?d:null!==(r=t.barSize)&&void 0!==r?r:0}}];return m=a[a.length-1].position,a},l)}else{var h=ld(t,r,0,!0);r-2*h-(s-1)*o<=0&&(o=0);var f=(r-2*h-(s-1)*o)/s;f>1&&(f>>=0);var p=ub(n)?Math.min(f,n):f;i=a.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h+(f+o)*r+(f-p)/2,size:p}}],l)}return i}}(r,a,n!==s?n:s,e,o);return n!==s&&null!=l&&(l=l.map(e=>DM(DM({},e),{},{position:DM(DM({},e.position),{},{offset:e.position.offset-n/2})}))),l}),qM=tf([$M,MM],(e,t)=>{if(null!=e&&null!=t){var r=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),UM=tf([(e,t,r,a)=>"horizontal"===Tx(e)?_k(e,"yAxis",r,a):_k(e,"xAxis",t,a),MM],(e,t)=>{var r=US(t);if(e&&null!=r&&null!=t){var{stackId:a}=t;if(null!=a){var n=e[a];if(n){var{stackedData:s}=n;if(s)return s.find(e=>e.key===r)}}}}),BM=tf([bx,vx,(e,t,r,a)=>$C(e,"xAxis",t,a),(e,t,r,a)=>$C(e,"yAxis",r,a),(e,t,r,a)=>zC(e,"xAxis",t,a),(e,t,r,a)=>zC(e,"yAxis",r,a),qM,Tx,hE,zM,UM,MM,(e,t,r,a,n,s)=>s],(e,t,r,a,n,s,i,o,l,c,d,u,m)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:p}=l;if(null!=u&&null!=i&&null!=t&&("horizontal"===o||"vertical"===o)&&null!=r&&null!=a&&null!=n&&null!=s&&null!=c){var g,{data:x}=u;if(null!=(g=null!=x&&x.length>0?x:null==h?void 0:h.slice(f,p+1)))return _M({layout:o,barSettings:u,pos:i,parentViewBox:t,bandSize:c,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:s,stackedData:d,displayedData:g,offset:e,cells:m})}}),YM=e=>{var{chartData:r}=e,a=Bh(),n=wx();return t.useEffect(()=>n?()=>{}:(a(W_(r)),()=>{a(W_(void 0))}),[r,a,n]),null},VM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},HM=Vp({name:"brush",initialState:VM,reducers:{setBrushSettings:(e,t)=>null==t.payload?VM:t.payload}}),{setBrushSettings:WM}=HM.actions,GM=HM.reducer;class KM{static create(e){return new KM(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var n=this.bandwidth?this.bandwidth():0;return this.scale(e)+n}if(t){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],a=t[t.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(KM,"EPS",1e-4);var QM=Vp({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Sp(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Sp(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Sp(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:XM,removeDot:JM,addArea:ZM,removeArea:eF,addLine:tF,removeLine:rF}=QM.actions,aF=QM.reducer,nF=t.createContext(void 0),sF=e=>{var{children:r}=e,[a]=t.useState("".concat(od("recharts"),"-clip")),n=RP();if(null==n)return null;var{x:s,y:i,width:o,height:l}=n;return t.createElement(nF.Provider,{value:a},t.createElement("defs",null,t.createElement("clipPath",{id:a},t.createElement("rect",{x:s,y:i,height:l,width:o}))),r)};function iF(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function oF(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var a=[],n=0;n<e.length;n+=t)a.push(e[n]);return a}function lF(e,t,r){return function(e){var{width:t,height:r}=e,a=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=a*Math.PI/180,s=Math.atan(r/t),i=n>s&&n<Math.PI-s?r/Math.sin(n):t/Math.cos(n);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},r)}function cF(e,t,r,a,n){if(e*t<e*a||e*t>e*n)return!1;var s=r();return e*(t-e*s/2-a)>=0&&e*(t+e*s/2-n)<=0}function dF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function uF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dF(Object(r),!0).forEach(function(t){mF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hF(e,t,r){var a,{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:m}=e;if(!s||!s.length||!n)return[];if(nd(c)||cb)return null!==(a=function(e,t){return oF(e,t+1)}(s,nd(c)?c:0))&&void 0!==a?a:[];var h=[],f="top"===l||"bottom"===l?"width":"height",p=u&&"width"===f?LT(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(e,a)=>{var n="function"==typeof d?d(e.value,a):e.value;return"width"===f?lF(LT(n,{fontSize:t,letterSpacing:r}),p,m):LT(n,{fontSize:t,letterSpacing:r})[f]},x=s.length>=2?td(s[1].coordinate-s[0].coordinate):1,b=function(e,t,r){var a="width"===r,{x:n,y:s,width:i,height:o}=e;return 1===t?{start:a?n:s,end:a?n+i:s+o}:{start:a?n+i:s+o,end:a?n:s}}(i,x,f);return"equidistantPreserveStart"===c?function(e,t,r,a,n){for(var s,i=(a||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,m=function(){var t=null==a?void 0:a[c];if(void 0===t)return{v:oF(a,d)};var s,i=c,m=()=>(void 0===s&&(s=r(t,i)),s),h=t.coordinate,f=0===c||cF(e,h,m,u,l);f||(c=0,u=o,d+=1),f&&(u=h+e*(m()/2+n),c+=d)};d<=i.length;)if(s=m())return s.v;return[]}(x,b,g,s,o):(h="preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,a,n,s){var i=(a||[]).slice(),o=i.length,{start:l,end:c}=t;if(s){var d=a[o-1],u=r(d,o-1),m=e*(d.coordinate+e*u/2-c);i[o-1]=d=uF(uF({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),cF(e,d.tickCoord,()=>u,l,c)&&(c=d.tickCoord-e*(u/2+n),i[o-1]=uF(uF({},d),{},{isShow:!0}))}for(var h=s?o-1:o,f=function(t){var a,s=i[t],o=()=>(void 0===a&&(a=r(s,t)),a);if(0===t){var d=e*(s.coordinate-e*o()/2-l);i[t]=s=uF(uF({},s),{},{tickCoord:d<0?s.coordinate-d*e:s.coordinate})}else i[t]=s=uF(uF({},s),{},{tickCoord:s.coordinate});cF(e,s.tickCoord,o,l,c)&&(l=s.tickCoord+e*(o()/2+n),i[t]=uF(uF({},s),{},{isShow:!0}))},p=0;p<h;p++)f(p);return i}(x,b,g,s,o,"preserveStartEnd"===c):function(e,t,r,a,n){for(var s=(a||[]).slice(),i=s.length,{start:o}=t,{end:l}=t,c=function(t){var a,c=s[t],d=()=>(void 0===a&&(a=r(c,t)),a);if(t===i-1){var u=e*(c.coordinate+e*d()/2-l);s[t]=c=uF(uF({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else s[t]=c=uF(uF({},c),{},{tickCoord:c.coordinate});cF(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+n),s[t]=uF(uF({},c),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return s}(x,b,g,s,o),h.filter(e=>e.isShow))}var fF=["viewBox"],pF=["viewBox"];function gF(){return gF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gF.apply(null,arguments)}function xF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function bF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xF(Object(r),!0).forEach(function(t){vF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yF(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class jF extends t.Component{constructor(e){super(e),this.tickRefs=t.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:r}=e,a=yF(e,fF),n=this.props,{viewBox:s}=n,i=yF(n,pF);return!iF(r,s)||!iF(a,i)||!iF(t,this.state)}getTickLineCoord(e){var t,r,a,n,s,i,{x:o,y:l,width:c,height:d,orientation:u,tickSize:m,mirror:h,tickMargin:f}=this.props,p=h?-1:1,g=e.tickSize||m,x=nd(e.tickCoord)?e.tickCoord:e.coordinate;switch(u){case"top":t=r=e.coordinate,i=(a=(n=l+ +!h*d)-p*g)-p*f,s=x;break;case"left":a=n=e.coordinate,s=(t=(r=o+ +!h*c)-p*g)-p*f,i=x;break;case"right":a=n=e.coordinate,s=(t=(r=o+ +h*c)+p*g)+p*f,i=x;break;default:t=r=e.coordinate,i=(a=(n=l+ +h*d)+p*g)+p*f,s=x}return{line:{x1:t,y1:a,x2:r,y2:n},tick:{x:s,y:i}}}getTickTextAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:a,height:n,orientation:s,mirror:i,axisLine:o}=this.props,l=bF(bF(bF({},_d(this.props,!1)),_d(o,!1)),{},{fill:"none"});if("top"===s||"bottom"===s){var c=+("top"===s&&!i||"bottom"===s&&i);l=bF(bF({},l),{},{x1:e,y1:r+c*n,x2:e+a,y2:r+c*n})}else{var d=+("left"===s&&!i||"right"===s&&i);l=bF(bF({},l),{},{x1:e+d*a,y1:r,x2:e+d*a,y2:r+n})}return t.createElement("line",gF({},l,{className:_a("recharts-cartesian-axis-line",Kc(o,"className"))}))}static renderTickItem(e,r,a){var n,s=_a(r.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(e))n=t.cloneElement(e,bF(bF({},r),{},{className:s}));else if("function"==typeof e)n=e(bF(bF({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";"boolean"!=typeof e&&(i=_a(i,e.className)),n=t.createElement(iO,gF({},r,{className:i}),a)}return n}renderTicks(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:n,stroke:s,tick:i,tickFormatter:o,unit:l,padding:c,tickTextProps:d}=this.props,u=hF(bF(bF({},this.props),{},{ticks:a}),e,r),m=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=wd(this.props),p=_d(i,!1),g=bF(bF({},f),{},{fill:"none"},_d(n,!1)),x=u.map((e,r)=>{var{line:a,tick:x}=this.getTickLineCoord(e),b=bF(bF(bF(bF({textAnchor:m,verticalAnchor:h},f),{},{stroke:"none",fill:s},p),x),{},{index:r,payload:e,visibleTicksCount:u.length,tickFormatter:o,padding:c},d);return t.createElement(Fd,gF({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},yd(this.props,e,r)),n&&t.createElement("line",gF({},g,a,{className:_a("recharts-cartesian-axis-tick-line",Kc(n,"className"))})),i&&jF.renderTickItem(i,b,"".concat("function"==typeof o?o(e.value,r):e.value).concat(l||"")))});return x.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},x):null}render(){var{axisLine:e,width:r,height:a,className:n,hide:s}=this.props;if(s)return null;var{ticks:i}=this.props;return null!=r&&r<=0||null!=a&&a<=0?null:t.createElement(Fd,{className:_a("recharts-cartesian-axis",n),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var r=t[0];if(r){var a=window.getComputedStyle(r).fontSize,n=window.getComputedStyle(r).letterSpacing;a===this.state.fontSize&&n===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(r).fontSize,letterSpacing:window.getComputedStyle(r).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,i),t.createElement(hO,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},t.createElement(jO,{label:this.props.label}),this.props.children))}}vF(jF,"displayName","CartesianAxis"),vF(jF,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wF=["x1","y1","x2","y2","key"],NF=["offset"],EF=["xAxisId","yAxisId"],SF=["xAxisId","yAxisId"];function kF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function CF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kF(Object(r),!0).forEach(function(t){AF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(){return _F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_F.apply(null,arguments)}function TF(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var OF=e=>{var{fill:r}=e;if(!r||"none"===r)return null;var{fillOpacity:a,x:n,y:s,width:i,height:o,ry:l}=e;return t.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function DF(e,r){var a;if(t.isValidElement(e))a=t.cloneElement(e,r);else if("function"==typeof e)a=e(r);else{var{x1:n,y1:s,x2:i,y2:o,key:l}=r,c=wd(TF(r,wF)),{offset:d}=c,u=TF(c,NF);a=t.createElement("line",_F({},u,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return a}function PF(e){var{x:r,width:a,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=TF(e,EF),c=s.map((e,t)=>{var s=CF(CF({},l),{},{x1:r,y1:e,x2:r+a,y2:e,key:"line-".concat(t),index:t});return DF(n,s)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function MF(e){var{y:r,height:a,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=TF(e,SF),c=s.map((e,t)=>{var s=CF(CF({},l),{},{x1:e,y1:r,x2:e,y2:r+a,key:"line-".concat(t),index:t});return DF(n,s)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function FF(e){var{horizontalFill:r,fillOpacity:a,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!r||!r.length)return null;var d=l.map(e=>Math.round(e+s-s)).sort((e,t)=>e-t);s!==d[0]&&d.unshift(0);var u=d.map((e,l)=>{var c=d[l+1]?d[l+1]-e:s+o-e;if(c<=0)return null;var u=l%r.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:n,height:c,width:i,stroke:"none",fill:r[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function IF(e){var{vertical:r=!0,verticalFill:a,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!r||!a||!a.length)return null;var d=c.map(e=>Math.round(e+s-s)).sort((e,t)=>e-t);s!==d[0]&&d.unshift(0);var u=d.map((e,r)=>{var c=d[r+1]?d[r+1]-e:s+o-e;if(c<=0)return null;var u=r%a.length;return t.createElement("rect",{key:"react-".concat(r),x:e,y:i,width:c,height:l,stroke:"none",fill:a[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var RF=(e,t)=>{var{xAxis:r,width:a,height:n,offset:s}=e;return Gg(hF(CF(CF(CF({},jF.defaultProps),r),{},{ticks:Kg(r),viewBox:{x:0,y:0,width:a,height:n}})),s.left,s.left+s.width,t)},LF=(e,t)=>{var{yAxis:r,width:a,height:n,offset:s}=e;return Gg(hF(CF(CF(CF({},jF.defaultProps),r),{},{ticks:Kg(r),viewBox:{x:0,y:0,width:a,height:n}})),s.top,s.top+s.height,t)},zF={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function $F(e){var r=Ax(),a=_x(),n=Cx(),s=CF(CF({},Ob(e,zF)),{},{x:nd(e.x)?e.x:n.left,y:nd(e.y)?e.y:n.top,width:nd(e.width)?e.width:n.width,height:nd(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:m,horizontalValues:h,verticalValues:f}=s,p=wx(),g=Wh(e=>RC(e,"xAxis",i,p)),x=Wh(e=>RC(e,"yAxis",o,p));if(!nd(d)||d<=0||!nd(u)||u<=0||!nd(l)||l!==+l||!nd(c)||c!==+c)return null;var b=s.verticalCoordinatesGenerator||RF,y=s.horizontalCoordinatesGenerator||LF,{horizontalPoints:v,verticalPoints:j}=s;if(!(v&&v.length||"function"!=typeof y)){var w=h&&h.length,N=y({yAxis:x?CF(CF({},x),{},{ticks:w?h:x.ticks}):void 0,width:r,height:a,offset:n},!!w||m);ET(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(v=N)}if(!(j&&j.length||"function"!=typeof b)){var E=f&&f.length,S=b({xAxis:g?CF(CF({},g),{},{ticks:E?f:g.ticks}):void 0,width:r,height:a,offset:n},!!E||m);ET(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(OF,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),t.createElement(FF,_F({},s,{horizontalPoints:v})),t.createElement(IF,_F({},s,{verticalPoints:j})),t.createElement(PF,_F({},s,{offset:n,horizontalPoints:v,xAxis:g,yAxis:x})),t.createElement(MF,_F({},s,{offset:n,verticalPoints:j,xAxis:g,yAxis:x})))}$F.displayName="CartesianGrid";var qF=(e,t,r,a)=>$C(e,"xAxis",t,a),UF=(e,t,r,a)=>zC(e,"xAxis",t,a),BF=(e,t,r,a)=>$C(e,"yAxis",r,a),YF=(e,t,r,a)=>zC(e,"yAxis",r,a),VF=tf([Tx,qF,BF,UF,YF],(e,t,r,a,n)=>Wg(e,"xAxis")?nx(t,a,!1):nx(r,n,!1));function HF(e){return"line"===e.type}var WF=tf([uk,(e,t,r,a,n)=>n],(e,t)=>e.filter(HF).find(e=>e.id===t)),GF=tf([Tx,qF,BF,UF,YF,WF,VF,hE],(e,t,r,a,n,s,i,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(null!=s&&null!=t&&null!=r&&null!=a&&null!=n&&0!==a.length&&0!==n.length&&null!=i){var u,{dataKey:m,data:h}=s;if(null!=(u=null!=h&&h.length>0?h:null==l?void 0:l.slice(c,d+1)))return function(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:s,dataKey:i,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=Hg(e,i);if("horizontal"===t)return{x:Zg({axis:r,ticks:n,bandSize:o,entry:e,index:l}),y:md(c)?null:a.scale(c),value:c,payload:e};var d=md(c)?null:r.scale(c),u=Zg({axis:a,ticks:s,bandSize:o,entry:e,index:l});return null==d||null==u?null:{x:d,y:u,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataKey:m,bandSize:i,displayedData:u})}}),KF=["id"],QF=["type","layout","connectNulls","needClip"],XF=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function JF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ZF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JF(Object(r),!0).forEach(function(t){eI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tI(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rI(){return rI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rI.apply(null,arguments)}var aI=e=>{var{dataKey:t,name:r,stroke:a,legendType:n,hide:s}=e;return[{inactive:s,dataKey:t,type:n,color:a,value:ix(r,t),payload:e}]};function nI(e){var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:s,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:ix(i,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var sI=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function iI(e,t){for(var r=e.length%2!=0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...r];return a}function oI(e){var{clipPathId:r,points:a,props:n}=e,{dot:s,dataKey:i,needClip:o}=n;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(a,s))return null;var{id:l}=n,c=tI(n,KF),d=Ad(s),u=wd(c),m=_d(s,!0),h=a.map((e,r)=>{var n=ZF(ZF(ZF({key:"dot-".concat(r),r:3},u),m),{},{index:r,cx:e.x,cy:e.y,dataKey:i,value:e.value,payload:e.payload,points:a});return function(e,r){var a;if(t.isValidElement(e))a=t.cloneElement(e,r);else if("function"==typeof e)a=e(r);else{var n=_a("recharts-line-dot","boolean"!=typeof e?e.className:"");a=t.createElement(HO,rI({},r,{className:n}))}return a}(s,n)}),f={clipPath:o?"url(#clipPath-".concat(d?"":"dots-").concat(r,")"):void 0};return t.createElement(Fd,rI({className:"recharts-line-dots",key:"dots"},f),h)}function lI(e){var{showLabels:r,children:a,points:n}=e,s=t.useMemo(()=>null==n?void 0:n.map(e=>{var t={x:e.x,y:e.y,width:0,height:0};return ZF(ZF({},t),{},{value:e.value,payload:e.payload,viewBox:t,parentViewBox:void 0,fill:void 0})}),[n]);return t.createElement($O,{value:r?s:null},a)}function cI(e){var{clipPathId:r,pathRef:a,points:n,strokeDasharray:s,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:d}=i,u=tI(i,QF),m=ZF(ZF({},_d(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(r,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:null!=s?s:i.strokeDasharray});return t.createElement(t.Fragment,null,(null==n?void 0:n.length)>1&&t.createElement(wb,rI({},m,{pathRef:a})),t.createElement(oI,{points:n,clipPathId:r,props:i}))}function dI(e){var{clipPathId:r,props:a,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,animateNewValues:h,width:f,height:p,onAnimationEnd:g,onAnimationStart:x}=a,b=s.current,y=sy(a,"recharts-line-"),[v,j]=t.useState(!1),w=!v,N=t.useCallback(()=>{"function"==typeof g&&g(),j(!1)},[g]),E=t.useCallback(()=>{"function"==typeof x&&x(),j(!0)},[x]),S=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(n.current),k=i.current;return t.createElement(lI,{points:o,showLabels:w},a.children,t.createElement(ny,{animationId:y,begin:d,duration:u,isActive:c,easing:m,onAnimationEnd:N,onAnimationStart:E,key:y},e=>{var d,u=dd(k,S+k,e),m=Math.min(u,S);if(c)if(l){var g="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));d=((e,t,r)=>{var a=r.reduce((e,t)=>e+t);if(!a)return sI(t,e);for(var n=Math.floor(e/a),s=e%a,i=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>s){o=[...r.slice(0,l),s-c];break}var d=o.length%2==0?[0,i]:[i];return[...iI(r,n),...o,...d].map(e=>"".concat(e,"px")).join(", ")})(m,S,g)}else d=sI(S,m);else d=null==l?void 0:String(l);if(b){var x=b.length/o.length,y=1===e?o:o.map((t,r)=>{var a=Math.floor(r*x);if(b[a]){var n=b[a];return ZF(ZF({},t),{},{x:dd(n.x,t.x,e),y:dd(n.y,t.y,e)})}return ZF(ZF({},t),{},h?{x:dd(2*f,t.x,e),y:dd(p/2,t.y,e)}:{x:t.x,y:t.y})});return s.current=y,t.createElement(cI,{props:a,points:y,clipPathId:r,pathRef:n,strokeDasharray:d})}return e>0&&S>0&&(s.current=o,i.current=m),t.createElement(cI,{props:a,points:o,clipPathId:r,pathRef:n,strokeDasharray:d})}),t.createElement(YO,{label:a.label}))}function uI(e){var{clipPathId:r,props:a}=e,n=t.useRef(null),s=t.useRef(0),i=t.useRef(null);return t.createElement(dI,{props:a,clipPathId:r,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:i})}var mI=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Hg(e.payload,t)});class hI extends t.Component{render(){var e,{hide:r,dot:a,points:n,className:s,xAxisId:i,yAxisId:o,top:l,left:c,width:d,height:u,id:m,needClip:h}=this.props;if(r)return null;var f=_a("recharts-line",s),p=m,{r:g=3,strokeWidth:x=2}=null!==(e=_d(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},b=Ad(a),y=2*g+x;return t.createElement(t.Fragment,null,t.createElement(Fd,{className:f},h&&t.createElement("defs",null,t.createElement(iM,{clipPathId:p,xAxisId:i,yAxisId:o}),!b&&t.createElement("clipPath",{id:"clipPath-dots-".concat(p)},t.createElement("rect",{x:c-y/2,y:l-y/2,width:d+y,height:u+y}))),t.createElement(nM,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:mI,errorBarOffset:0},t.createElement(uI,{props:this.props,clipPathId:p}))),t.createElement(qP,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var fI={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!cb,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function pI(e){var r=Ob(e,fI),{activeDot:a,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:m,legendType:h,xAxisId:f,yAxisId:p,id:g}=r,x=tI(r,XF),{needClip:b}=sM(f,p),y=RP(),v=Ox(),j=wx(),w=Wh(e=>GF(e,f,p,j,g));if("horizontal"!==v&&"vertical"!==v||null==w||null==y)return null;var{height:N,width:E,x:S,y:k}=y;return t.createElement(hI,rI({},x,{id:g,connectNulls:l,dot:c,activeDot:a,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:d,label:m,legendType:h,xAxisId:f,yAxisId:p,points:w,layout:v,height:N,width:E,left:S,top:k,needClip:b}))}function gI(e){var r=Ob(e,fI),a=wx();return t.createElement(KD,{id:r.id,type:"line"},e=>t.createElement(t.Fragment,null,t.createElement(VD,{legendPayload:aI(r)}),t.createElement(UD,{fn:nI,args:r}),t.createElement(aP,{type:"line",id:e,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:a}),t.createElement(pI,rI({},r,{id:e}))))}gI.displayName="Line";var xI=["children"],bI=["dangerouslySetInnerHTML","ticks"],yI=["id"];function vI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jI(){return jI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jI.apply(null,arguments)}function wI(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NI(e){var r=Bh(),a=t.useMemo(()=>{var{children:t}=e;return wI(e,xI)},[e]);return t.useEffect(()=>(r(CP(a)),()=>{r(AP(a))}),[a,r]),e.children}var EI=e=>{var{xAxisId:r,className:a}=e,n=Wh(vx),s=wx(),i="xAxis",o=Wh(e=>jC(e,i,r,s)),l=Wh(e=>LC(e,i,r,s)),c=Wh(e=>AC(e,r)),d=Wh(e=>((e,t)=>{var r=bx(e),a=tk(e,t);if(null!=a){var n=_C(e,a.orientation,a.mirror)[t];return null==n?{x:r.left,y:0}:{x:r.left,y:n}}})(e,r)),u=Wh(e=>ek(e,r));if(null==c||null==d||null==u)return null;var{dangerouslySetInnerHTML:m,ticks:h}=e,f=wI(e,bI),{id:p}=u,g=wI(u,yI);return t.createElement(jF,jI({},f,g,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:_a("recharts-".concat(i," ").concat(i),a),viewBox:n,ticks:l}))},SI=e=>{var r,a,n,s,i;return t.createElement(NI,{interval:null!==(r=e.interval)&&void 0!==r?r:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(a=e.includeHidden)&&void 0!==a&&a,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(n=e.angle)&&void 0!==n?n:0,minTickGap:null!==(s=e.minTickGap)&&void 0!==s?s:5,tick:null===(i=e.tick)||void 0===i||i,tickFormatter:e.tickFormatter},t.createElement(EI,e))};class kI extends t.Component{render(){return t.createElement(SI,this.props)}}vI(kI,"displayName","XAxis"),vI(kI,"defaultProps",{allowDataOverflow:ZS.allowDataOverflow,allowDecimals:ZS.allowDecimals,allowDuplicatedCategory:ZS.allowDuplicatedCategory,height:ZS.height,hide:!1,mirror:ZS.mirror,orientation:ZS.orientation,padding:ZS.padding,reversed:ZS.reversed,scale:ZS.scale,tickCount:ZS.tickCount,type:ZS.type,xAxisId:0});var CI=["dangerouslySetInnerHTML","ticks"],AI=["id"];function _I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TI(){return TI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},TI.apply(null,arguments)}function OI(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function DI(e){var r=Bh();return t.useEffect(()=>(r(_P(e)),()=>{r(TP(e))}),[e,r]),null}var PI=e=>{var r,{yAxisId:a,className:n,width:s,label:i}=e,o=t.useRef(null),l=t.useRef(null),c=Wh(vx),d=wx(),u=Bh(),m="yAxis",h=Wh(e=>jC(e,m,a,d)),f=Wh(e=>OC(e,a)),p=Wh(e=>((e,t)=>{var r=bx(e),a=nk(e,t);if(null!=a){var n=TC(e,a.orientation,a.mirror)[t];return null==n?{x:0,y:r.top}:{x:n,y:r.top}}})(e,a)),g=Wh(e=>LC(e,m,a,d)),x=Wh(e=>ak(e,a));if(t.useLayoutEffect(()=>{var e;if("auto"===s&&f&&!gO(i)&&!t.isValidElement(i)&&null!=x){var r=o.current,n=null==r||null===(e=r.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:d}=r.props,m=(e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:n=0,tickMargin:s=0}=e,i=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>i&&(i=t.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+(n+s)+o+(r?a:0);return Math.round(l)}return 0})({ticks:n,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:d});Math.round(f.width)!==Math.round(m)&&u(PP({id:a,width:m}))}},[o,null==o||null===(r=o.current)||void 0===r||null===(r=r.tickRefs)||void 0===r?void 0:r.current,null==f?void 0:f.width,f,u,i,a,s]),null==f||null==p||null==x)return null;var{dangerouslySetInnerHTML:b,ticks:y}=e,v=OI(e,CI),{id:j}=x,w=OI(x,AI);return t.createElement(jF,TI({},v,w,{ref:o,labelRef:l,scale:h,x:p.x,y:p.y,tickTextProps:"auto"===s?{width:void 0}:{width:s},width:f.width,height:f.height,className:_a("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:g}))},MI=e=>{var r,a,n,s,i;return t.createElement(t.Fragment,null,t.createElement(DI,{interval:null!==(r=e.interval)&&void 0!==r?r:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(a=e.includeHidden)&&void 0!==a&&a,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(n=e.angle)&&void 0!==n?n:0,minTickGap:null!==(s=e.minTickGap)&&void 0!==s?s:5,tick:null===(i=e.tick)||void 0===i||i,tickFormatter:e.tickFormatter}),t.createElement(PI,e))},FI={allowDataOverflow:rk.allowDataOverflow,allowDecimals:rk.allowDecimals,allowDuplicatedCategory:rk.allowDuplicatedCategory,hide:!1,mirror:rk.mirror,orientation:rk.orientation,padding:rk.padding,reversed:rk.reversed,scale:rk.scale,tickCount:rk.tickCount,type:rk.type,width:rk.width,yAxisId:0};class II extends t.Component{render(){return t.createElement(MI,this.props)}}_I(II,"displayName","YAxis"),_I(II,"defaultProps",FI);var RI={notify(){},get:()=>[]},LI=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),zI=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),$I=(()=>LI||zI?t.useLayoutEffect:t.useEffect)(),qI=Symbol.for("react-redux-context"),UI="undefined"!=typeof globalThis?globalThis:{};function BI(){if(!t.createContext)return{};const e=UI[qI]??=new Map;let r=e.get(t.createContext);return r||(r=t.createContext(null),e.set(t.createContext,r)),r}var YI=BI(),VI=function(e){const{children:r,context:a,serverState:n,store:s}=e,i=t.useMemo(()=>{const e=function(e){let t,r=RI,a=0,n=!1;function s(){l.onStateChange&&l.onStateChange()}function i(){a++,t||(t=e.subscribe(s),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let a=!0;const n=t={callback:r,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){a&&null!==e&&(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}())}function o(){a--,t&&0===a&&(t(),t=void 0,r.clear(),r=RI)}const l={addNestedSub:function(e){i();const t=r.subscribe(e);let a=!1;return()=>{a||(a=!0,t(),o())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return n},trySubscribe:function(){n||(n=!0,i())},tryUnsubscribe:function(){n&&(n=!1,o())},getListeners:()=>r};return l}(s);return{store:s,subscription:e,getServerState:n?()=>n:void 0}},[s,n]),o=t.useMemo(()=>s.getState(),[s]);$I(()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==s.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[i,o]);const l=a||YI;return t.createElement(l.Provider,{value:i},r)},HI=tf([(e,t)=>t,Tx,zS,BS,GA,JA,y_,bx],(e,t,r,a,n,s,i,o)=>{if(e&&t&&a&&n&&s){var l=function(e,t,r,a,n){return"horizontal"===r||"vertical"===r?e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height?{x:e,y:t}:null:a?qg({x:e,y:t},a):null}(e.chartX,e.chartY,t,r,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),d=((e,t,r,a,n)=>{var s,i=-1,o=null!==(s=null==t?void 0:t.length)&&void 0!==s?s:0;if(o<=1||null==e)return 0;if("angleAxis"===a&&null!=n&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,u=l>=o-1?r[0].coordinate:r[l+1].coordinate,m=void 0;if(td(d-c)!==td(u-d)){var h=[];if(td(u-d)===td(n[1]-n[0])){m=u;var f=d+n[1]-n[0];h[0]=Math.min(f,(f+c)/2),h[1]=Math.max(f,(f+c)/2)}else{m=c;var p=u+n[1]-n[0];h[0]=Math.min(d,(p+d)/2),h[1]=Math.max(d,(p+d)/2)}var g=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){({index:i}=r[l]);break}}else{var x=Math.min(c,u),b=Math.max(c,u);if(e>(x+d)/2&&e<=(b+d)/2){({index:i}=r[l]);break}}}else if(t)for(var y=0;y<o;y++)if(0===y&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y>0&&y<o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y===o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2){({index:i}=t[y]);break}return i})(c,i,s,a,n),u=((e,t,r,a)=>{var n=t.find(e=>e&&e.index===r);if(n){if("horizontal"===e)return{x:n.coordinate,y:a.y};if("vertical"===e)return{x:a.x,y:n.coordinate};if("centric"===e){var s=n.coordinate,{radius:i}=a;return Yg(Yg(Yg({},a),Rg(a.cx,a.cy,i,s)),{},{angle:s,radius:i})}var o=n.coordinate,{angle:l}=a;return Yg(Yg(Yg({},a),Rg(a.cx,a.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,s,d,l);return{activeIndex:String(d),activeCoordinate:u}}}}),WI=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},GI=Dp("mouseClick"),KI=Eg();KI.startListening({actionCreator:GI,effect:(e,t)=>{var r=e.payload,a=HI(t.getState(),WI(r));null!=(null==a?void 0:a.activeIndex)&&t.dispatch(nA({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var QI=Dp("mouseMove"),XI=Eg();function JI(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}XI.startListening({actionCreator:QI,effect:(e,t)=>{var r=e.payload,a=t.getState(),n=HC(a,a.tooltip.settings.shared),s=HI(a,WI(r));"axis"===n&&(null!=(null==s?void 0:s.activeIndex)?t.dispatch(aA({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(tA()))}});var ZI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},eR=Vp({name:"rootProps",initialState:ZI,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(r=t.payload.barGap)&&void 0!==r?r:ZI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),tR=eR.reducer,{updateOptions:rR}=eR.actions,aR=Vp({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:nR}=aR.actions,sR=aR.reducer,iR=Dp("keyDown"),oR=Dp("focus"),lR=Eg();lR.startListening({actionCreator:iR,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:a}=r.tooltip,n=e.payload;if("ArrowRight"===n||"ArrowLeft"===n||"Enter"===n){var s=Number(mA(a,CA(r))),i=JA(r);if("Enter"!==n){var o=s+("ArrowRight"===n?1:-1)*("left-to-right"===UC(r)?1:-1);if(!(null==i||o>=i.length||o<0)){var l=N_(r,"axis","hover",String(o));t.dispatch(iA({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=N_(r,"axis","hover",String(a.index));t.dispatch(iA({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}))}}}}}),lR.startListening({actionCreator:oR,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&null==a.index){var n=N_(r,"axis","hover",String("0"));t.dispatch(iA({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:n}))}}}});var cR=Dp("externalEvent"),dR=Eg();dR.startListening({actionCreator:cR,effect:(e,t)=>{if(null!=e.payload.handler){var r=t.getState(),a={activeCoordinate:l_(r),activeDataKey:s_(r),activeIndex:a_(r),activeLabel:n_(r),activeTooltipIndex:a_(r),isTooltipActive:c_(r)};e.payload.handler(a,e.payload.reactEvent)}}});var uR=tf([gA],e=>e.tooltipItemPayloads),mR=tf([uR,pA,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var n=e.find(e=>e.settings.dataKey===a);if(null!=n){var{positions:s}=n;if(null!=s)return t(s,r)}}),hR=Dp("touchMove"),fR=Eg();fR.startListening({actionCreator:hR,effect:(e,t)=>{var r=e.payload,a=t.getState(),n=HC(a,a.tooltip.settings.shared);if("axis"===n){var s=HI(a,WI({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));null!=(null==s?void 0:s.activeIndex)&&t.dispatch(aA({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if("item"===n){var i,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(hx),d=null!==(i=l.getAttribute(fx))&&void 0!==i?i:void 0,u=mR(t.getState(),c,d);t.dispatch(ZC({activeDataKey:d,activeIndex:c,activeCoordinate:u}))}}});var pR=If({brush:GM,cartesianAxis:MP,chartData:Q_,errorBars:eM,graphicalItems:rP,layout:Og,legend:Rx,options:B_,polarAxis:cD,polarOptions:sR,referenceElements:aF,rootProps:tR,tooltip:oA});function gR(e){var{preloadedState:r,children:a,reduxStoreName:n}=e,s=wx(),i=t.useRef(null);if(s)return a;null==i.current&&(i.current=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return Lp({reducer:pR,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([KI.middleware,XI.middleware,lR.middleware,dR.middleware,fR.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:JI},name:"recharts-".concat(t)}})}(r,n));var o=qh;return t.createElement(VI,{context:o,store:i.current},a)}function xR(e){var{layout:r,width:a,height:n,margin:s}=e,i=Bh(),o=wx();return t.useEffect(()=>{o||(i(Ag(r)),i(_g({width:a,height:n})),i(Cg(s)))},[i,o,r,a,n,s]),null}function bR(e){var r=Bh();return t.useEffect(()=>{r(rR(e))},[r,e]),null}var yR=["children"];function vR(){return vR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vR.apply(null,arguments)}var jR={width:"100%",height:"100%"},wR=t.forwardRef((e,r)=>{var a=Ax(),n=_x(),s=db();if(!mb(a)||!mb(n))return null;var i,o,{children:l,otherAttributes:c,title:d,desc:u}=e;return i="number"==typeof c.tabIndex?c.tabIndex:s?0:void 0,o="string"==typeof c.role?c.role:s?"application":void 0,t.createElement(Dd,vR({},c,{title:d,desc:u,role:o,tabIndex:i,width:a,height:n,style:jR,ref:r}),l)}),NR=e=>{var{children:r}=e,a=Wh(Ex);if(!a)return null;var{width:n,height:s,y:i,x:o}=a;return t.createElement(Dd,{width:n,height:s,x:o,y:i},r)},ER=t.forwardRef((e,r)=>{var{children:a}=e,n=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,yR);return wx()?t.createElement(NR,null,a):t.createElement(wR,vR({ref:r},n),a)});function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function kR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(t){CR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function CR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var AR=t.forwardRef((e,r)=>{var{children:a,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:m,onMouseUp:h,onTouchEnd:f,onTouchMove:p,onTouchStart:g,style:x,width:b}=e,y=Bh(),[v,j]=t.useState(null),[w,N]=t.useState(null);aT();var E=function(){var e=Bh(),[r,a]=t.useState(null),n=Wh(cx);return t.useEffect(()=>{if(null!=r){var t=r.getBoundingClientRect().width/r.offsetWidth;ub(t)&&t!==n&&e(Tg(t))}},[r,e,n]),a}(),S=t.useCallback(e=>{E(e),"function"==typeof r&&r(e),j(e),N(e)},[E,r,j,N]),k=t.useCallback(e=>{y(GI(e)),y(cR({handler:i,reactEvent:e}))},[y,i]),C=t.useCallback(e=>{y(QI(e)),y(cR({handler:d,reactEvent:e}))},[y,d]),A=t.useCallback(e=>{y(tA()),y(cR({handler:u,reactEvent:e}))},[y,u]),_=t.useCallback(e=>{y(QI(e)),y(cR({handler:m,reactEvent:e}))},[y,m]),T=t.useCallback(()=>{y(oR())},[y]),O=t.useCallback(e=>{y(iR(e.key))},[y]),D=t.useCallback(e=>{y(cR({handler:o,reactEvent:e}))},[y,o]),P=t.useCallback(e=>{y(cR({handler:l,reactEvent:e}))},[y,l]),M=t.useCallback(e=>{y(cR({handler:c,reactEvent:e}))},[y,c]),F=t.useCallback(e=>{y(cR({handler:h,reactEvent:e}))},[y,h]),I=t.useCallback(e=>{y(cR({handler:g,reactEvent:e}))},[y,g]),R=t.useCallback(e=>{y(hR(e)),y(cR({handler:p,reactEvent:e}))},[y,p]),L=t.useCallback(e=>{y(cR({handler:f,reactEvent:e}))},[y,f]);return t.createElement(F_.Provider,{value:v},t.createElement(Id.Provider,{value:w},t.createElement("div",{className:_a("recharts-wrapper",n),style:kR({position:"relative",cursor:"default",width:b,height:s},x),onClick:k,onContextMenu:D,onDoubleClick:P,onFocus:T,onKeyDown:O,onMouseDown:M,onMouseEnter:C,onMouseLeave:A,onMouseMove:_,onMouseUp:F,onTouchEnd:L,onTouchMove:R,onTouchStart:I,ref:S},a)))}),_R=["children","className","width","height","style","compact","title","desc"],TR=t.forwardRef((e,r)=>{var{children:a,className:n,width:s,height:i,style:o,compact:l,title:c,desc:d}=e,u=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,_R),m=wd(u);return l?t.createElement(ER,{otherAttributes:m,title:c,desc:d},a):t.createElement(AR,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(ER,{otherAttributes:m,title:c,desc:d,ref:r},t.createElement(sF,null,a)))}),OR=["width","height"];function DR(){return DR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},DR.apply(null,arguments)}var PR={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},MR=t.forwardRef(function(e,r){var a,n=Ob(e.categoricalChartProps,PR),{width:s,height:i}=n,o=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(n,OR);if(!mb(s)||!mb(i))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,categoricalChartProps:m}=e,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,eventEmitter:void 0};return t.createElement(gR,{preloadedState:{options:h},reduxStoreName:null!==(a=m.id)&&void 0!==a?a:l},t.createElement(YM,{chartData:m.data}),t.createElement(xR,{width:s,height:i,layout:n.layout,margin:n.margin}),t.createElement(bR,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),t.createElement(TR,DR({},o,{width:s,height:i,ref:r})))}),FR=["axis"],IR=t.forwardRef((e,r)=>t.createElement(MR,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FR,tooltipPayloadSearcher:q_,categoricalChartProps:e,ref:r})),RR=["axis","item"],LR=t.forwardRef((e,r)=>t.createElement(MR,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:RR,tooltipPayloadSearcher:q_,categoricalChartProps:e,ref:r}));function zR(e){var r=Bh();return t.useEffect(()=>{r(nR(e))},[r,e]),null}var $R=["width","height","layout"];function qR(){return qR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qR.apply(null,arguments)}var UR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},BR=t.forwardRef(function(e,r){var a,n=Ob(e.categoricalChartProps,UR),{width:s,height:i,layout:o}=n,l=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(n,$R);if(!mb(s)||!mb(i))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m}=e,h={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return t.createElement(gR,{preloadedState:{options:h},reduxStoreName:null!==(a=n.id)&&void 0!==a?a:c},t.createElement(YM,{chartData:n.data}),t.createElement(xR,{width:s,height:i,layout:o,margin:n.margin}),t.createElement(bR,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),t.createElement(zR,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),t.createElement(TR,qR({width:s,height:i},l,{ref:r})))}),YR=["item"],VR={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},HR=t.forwardRef((e,r)=>{var a=Ob(e,VR);return t.createElement(BR,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:YR,tooltipPayloadSearcher:q_,categoricalChartProps:a,ref:r})});const WR=({data:e,title:t,height:r=300})=>{const a=e||[{name:"Estudiantes",total:245,activos:220,inactivos:25},{name:"Trabajadores",total:28,activos:26,inactivos:2},{name:"Aulas",total:15,activos:15,inactivos:0}];return It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t||"Estadsticas Generales"}),It.jsx(AT,{width:"100%",height:r,children:It.jsxs(LR,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[It.jsx($F,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),It.jsx(kI,{dataKey:"name",tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),It.jsx(II,{tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),It.jsx(uT,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),It.jsx(Gx,{}),It.jsx(TM,{dataKey:"activos",stackId:"a",fill:"#10b981",name:"Activos",radius:[2,2,0,0]}),It.jsx(TM,{dataKey:"inactivos",stackId:"a",fill:"#ef4444",name:"Inactivos",radius:[2,2,0,0]})]})})]})},GR=({data:e,title:t,height:r=300})=>{const a=e||[{mes:"Ene",ingresos:12e3,egresos:8500,utilidad:3500},{mes:"Feb",ingresos:15e3,egresos:9200,utilidad:5800},{mes:"Mar",ingresos:13500,egresos:8800,utilidad:4700},{mes:"Abr",ingresos:16800,egresos:9500,utilidad:7300},{mes:"May",ingresos:14200,egresos:9100,utilidad:5100},{mes:"Jun",ingresos:15600,egresos:9300,utilidad:6300}];return It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t||"Tendencias Financieras"}),It.jsx(AT,{width:"100%",height:r,children:It.jsxs(IR,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[It.jsx($F,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),It.jsx(kI,{dataKey:"mes",tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),It.jsx(II,{tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),It.jsx(uT,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(e,t)=>[`S/ ${e?.toLocaleString()||0}`,"ingresos"===t?"Ingresos":"egresos"===t?"Egresos":"Utilidad"]}),It.jsx(Gx,{}),It.jsx(gI,{type:"monotone",dataKey:"ingresos",stroke:"#10b981",strokeWidth:3,name:"Ingresos",dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10b981",strokeWidth:2}}),It.jsx(gI,{type:"monotone",dataKey:"egresos",stroke:"#ef4444",strokeWidth:3,name:"Egresos",dot:{fill:"#ef4444",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#ef4444",strokeWidth:2}}),It.jsx(gI,{type:"monotone",dataKey:"utilidad",stroke:"#3b82f6",strokeWidth:3,name:"Utilidad",dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#3b82f6",strokeWidth:2}})]})})]})},KR=({data:e,title:t,height:r=300})=>{const a=e||[{name:"Docentes",value:18,color:"#3b82f6"},{name:"Administrativos",value:6,color:"#10b981"},{name:"Auxiliares",value:4,color:"#f59e0b"}],n=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"];return It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t||"Distribucin por Categoras"}),It.jsx(AT,{width:"100%",height:r,children:It.jsxs(HR,{children:[It.jsx(wP,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((e,t)=>It.jsx(_T,{fill:e.color||n[t%n.length]},`cell-${t}`))}),It.jsx(uT,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(e,t)=>[`${e} personas`,t]}),It.jsx(Gx,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})]})},QR=()=>{const{user:e}=Sa(),{stats:r,loading:a,error:n,dashboardData:s,financialStats:i}=(()=>{const[e,r]=t.useState({estudiantes:{total:0,activos:0,inactivos:0,loading:!0},trabajadores:{total:0,activos:0,inactivos:0,loading:!0},finanzas:{saldoActual:0,ingresosMes:0,egresosMes:0,loading:!0}}),[a,n]=t.useState(null),{students:s,loading:i,statistics:o}=xc(),{trabajadores:l,loading:c,statistics:d}=kc(),{statistics:u}=Ac(),m=async()=>{try{const e=await Tc.obtenerDashboardFinanciero();if(e.success){const t=e.dashboard;r(e=>({...e,finanzas:{saldoActual:t.saldoActual?.saldo||0,ingresosMes:parseFloat(t.movimientosMes?.ingresos_mes||0),egresosMes:parseFloat(t.movimientosMes?.egresos_mes||0),loading:!1}}))}}catch(e){r(e=>({...e,finanzas:{...e.finanzas,loading:!1}}))}};t.useEffect(()=>{r(e=>({...e,estudiantes:{total:o.total||0,activos:o.active||0,inactivos:o.inactive||0,loading:i}}))},[o.total,o.active,o.inactive,i]),t.useEffect(()=>{r(e=>({...e,trabajadores:{total:d.total||0,activos:d.active||0,inactivos:d.inactive||0,loading:c}}))},[d.total,d.active,d.inactive,c]),t.useEffect(()=>{m()},[]);const h=t.useMemo(()=>[{title:"Total Estudiantes",value:e.estudiantes.total.toString(),icon:oe,color:"#3B82F6",change:e.estudiantes.loading?"...":"+5%",loading:e.estudiantes.loading},{title:"Profesores Activos",value:e.trabajadores.activos.toString(),icon:Z,color:"#10B981",change:e.trabajadores.loading?"...":"+2%",loading:e.trabajadores.loading},{title:"Aulas Disponibles",value:u.total.toString(),icon:me,color:"#F59E0B",change:"+1",loading:u.loading}],[e,u]),f=t.useMemo(()=>({ingresosMes:e.finanzas.ingresosMes,egresosMes:e.finanzas.egresosMes,saldoActual:e.finanzas.saldoActual,utilidadMes:e.finanzas.ingresosMes-e.finanzas.egresosMes}),[e.finanzas]);return{stats:h,dashboardData:e,loading:e.estudiantes.loading||e.trabajadores.loading||e.finanzas.loading,students:s,trabajadores:l,refreshData:async()=>{try{n(null),await m()}catch(e){n("Error al refrescar los datos del dashboard")}},financialStats:f,error:a}})();return It.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("h1",{className:"text-5xl font-bold text-gray-700",children:["Bienvenido, ",e?.nombre||""]}),a&&It.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[It.jsx(Ce,{className:"w-5 h-5 animate-spin"}),It.jsx("span",{className:"text-sm",children:"Actualizando datos..."})]})]}),n&&It.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:It.jsx("div",{className:"flex items-center space-x-2",children:It.jsx("span",{className:"text-red-800 text-sm",children:n})})}),It.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:r.map((e,t)=>{const r=e.icon;return It.jsxs("div",{className:"bg-white p-4 lg:p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:`${e.color}15`,color:e.color},children:It.jsx(r,{className:"w-6 h-6"})}),It.jsx(Ae,{className:"w-4 h-4 text-green-500"})]}),It.jsxs("div",{children:[It.jsx("h3",{className:"text-xl lg:text-2xl font-bold text-gray-900 mb-1",children:e.loading?It.jsx("div",{className:"animate-pulse bg-gray-200 h-8 rounded"}):e.value}),It.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.title}),It.jsx("span",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:e.loading?"...":e.change})]})]},t)})}),It.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ingresos del Mes"}),It.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:It.jsx(Ae,{className:"w-5 h-5 text-green-600"})})]}),It.jsx("div",{className:"text-2xl font-bold text-green-600 mb-2",children:a?It.jsx("div",{className:"animate-pulse bg-gray-200 h-8 rounded w-24"}):`S/ ${i.ingresosMes?.toLocaleString()||0}`}),It.jsx("p",{className:"text-sm text-gray-600",children:"Movimientos positivos"})]}),It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Egresos del Mes"}),It.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:It.jsx(Ae,{className:"w-5 h-5 text-red-600 transform rotate-180"})})]}),It.jsx("div",{className:"text-2xl font-bold text-red-600 mb-2",children:a?It.jsx("div",{className:"animate-pulse bg-gray-200 h-8 rounded w-24"}):`S/ ${i.egresosMes?.toLocaleString()||0}`}),It.jsx("p",{className:"text-sm text-gray-600",children:"Movimientos negativos"})]}),It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Utilidad del Mes"}),It.jsx("div",{className:"p-2 rounded-lg "+(i.utilidadMes>=0?"bg-green-100":"bg-red-100"),children:It.jsx(ve,{className:"w-5 h-5 "+(i.utilidadMes>=0?"text-green-600":"text-red-600")})})]}),It.jsx("div",{className:"text-2xl font-bold mb-2 "+(i.utilidadMes>=0?"text-green-600":"text-red-600"),children:a?It.jsx("div",{className:"animate-pulse bg-gray-200 h-8 rounded w-24"}):`S/ ${i.utilidadMes?.toLocaleString()||0}`}),It.jsx("p",{className:"text-sm text-gray-600",children:i.utilidadMes>=0?"Resultado positivo":"Resultado negativo"})]})]}),It.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-blue-700 rounded-xl shadow-sm p-4 lg:p-6 text-white",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-4",children:[It.jsx("div",{className:"p-3 bg-blue-900 bg-opacity-20 rounded-lg",children:It.jsx(we,{className:"w-8 h-8"})}),It.jsxs("div",{children:[It.jsx("h3",{className:"text-lg font-semibold",children:"Asistente IA Administrativo"}),It.jsx("p",{className:"text-blue-100",children:"Necesitas ayuda con anlisis financiero o gestin institucional?"})]})]}),It.jsx(c,{to:"/admin/ai-chat",className:"bg-white text-blue-600 hover:bg-blue-50 px-4 py-2 rounded-lg transition-all duration-200 font-medium",children:"DIsponible pronto..."})]})}),It.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[It.jsx(WR,{data:[{name:"Estudiantes",total:s.estudiantes.total,activos:s.estudiantes.activos,inactivos:s.estudiantes.inactivos},{name:"Trabajadores",total:s.trabajadores.total,activos:s.trabajadores.activos,inactivos:s.trabajadores.inactivos}],title:"Estadsticas de Personal",height:350}),It.jsx(KR,{data:[{name:"Docentes",value:Math.round(.7*s.trabajadores.activos),color:"#3b82f6"},{name:"Administrativos",value:Math.round(.2*s.trabajadores.activos),color:"#10b981"},{name:"Auxiliares",value:Math.round(.1*s.trabajadores.activos),color:"#f59e0b"}],title:"Distribucin de Trabajadores",height:350})]}),It.jsx("div",{className:"mb-6",children:It.jsx(GR,{data:[{mes:"Ago",ingresos:.8*i.ingresosMes,egresos:.9*i.egresosMes,utilidad:.8*i.ingresosMes-.9*i.egresosMes},{mes:"Sep",ingresos:.9*i.ingresosMes,egresos:.85*i.egresosMes,utilidad:.9*i.ingresosMes-.85*i.egresosMes},{mes:"Oct",ingresos:1.1*i.ingresosMes,egresos:.95*i.egresosMes,utilidad:1.1*i.ingresosMes-.95*i.egresosMes},{mes:"Nov",ingresos:1.2*i.ingresosMes,egresos:1*i.egresosMes,utilidad:1.2*i.ingresosMes-1*i.egresosMes},{mes:"Dic",ingresos:i.ingresosMes,egresos:i.egresosMes,utilidad:i.utilidadMes}],title:"Tendencias Financieras Mensuales",height:400})})]})},XR=({title:e,actions:t})=>{const r=u()||{},{isSidebarCollapsed:a,setIsSidebarCollapsed:n}=r,s="function"==typeof n;return It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center gap-2",children:[s&&It.jsx("button",{className:"hidden lg:flex p-2 text-gray-500 hover:text-blue-600 transition-colors rounded-md hover:bg-blue-50",onClick:()=>n(!a),title:a?"Expandir menu":"Colapsar menu",children:a?It.jsx(Se,{className:"w-5 h-5"}):It.jsx(ke,{className:"w-5 h-5"})}),It.jsx("h1",{className:"text-4xl font-bold text-gray-700",children:e})]}),t&&It.jsx("div",{className:"flex items-center gap-2",children:t})]})},JR=()=>It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Panel Principal"}),It.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-sm text-gray-500",children:"Bienvenido. Desde aqu podrs acceder a reportes."})]}),ZR=({icon:e,title:t,loadingMessage:r,addButtonText:a,filterCount:n=3})=>It.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[It.jsx("div",{className:"p-4 lg:p-6",children:It.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[It.jsxs("div",{className:"flex items-center gap-2",children:[e&&It.jsx(e,{className:"w-6 h-6 text-blue-600"}),It.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900",children:t}),It.jsxs("span",{className:"bg-gray-100 text-gray-600 text-sm px-2 py-1 rounded-full",children:[It.jsx(E,{className:"w-3 h-3 animate-spin inline mr-1"}),"..."]})]}),It.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[It.jsxs("button",{disabled:!0,className:"flex items-center gap-2 px-3 py-2 text-sm border-gray-300 rounded-md bg-gray-50 text-gray-400 cursor-not-allowed",children:[It.jsx(_e,{className:"w-4 h-4"}),"Importar"]}),It.jsxs("button",{disabled:!0,className:"flex items-center gap-2 px-3 py-2 text-sm border-gray-300 rounded-md bg-gray-50 text-gray-400 cursor-not-allowed",children:[It.jsx(Te,{className:"w-4 h-4"}),"Exportar"]}),It.jsxs("button",{disabled:!0,className:"flex items-center gap-2 px-4 py-2 bg-gray-400 text-white rounded-md cursor-not-allowed",children:[It.jsx(Oe,{className:"w-4 h-4"}),a]})]})]})}),It.jsx("div",{className:"p-4 lg:p-6 bg-gray-50",children:It.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[It.jsxs("div",{className:"flex-1 relative",children:[It.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),It.jsx("input",{type:"text",placeholder:"Cargando...",disabled:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-400 cursor-not-allowed"})]}),Array.from({length:n},(e,t)=>It.jsx("div",{className:"relative min-w-[140px]",children:It.jsx("select",{disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-400 cursor-not-allowed",children:It.jsx("option",{children:"Cargando..."})})},t))]})}),It.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:It.jsxs("div",{className:"text-center",children:[It.jsx(E,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r}),It.jsx("p",{className:"text-gray-500",children:"Por favor espera mientras obtenemos la informacin."}),It.jsx("div",{className:"mt-6 space-y-3",children:[1,2,3].map(e=>It.jsxs("div",{className:"flex items-center gap-3 bg-gray-100 p-3 rounded-lg animate-pulse",children:[It.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),It.jsxs("div",{className:"flex-1",children:[It.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),It.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},e))})]})})]}),eL=({data:e=[],columns:r=[],loading:a=!1,title:n="Tabla de Datos",icon:s=null,onAdd:i,onEdit:o,onDelete:l,onView:c,onImport:d,onExport:u,actions:m={add:!0,edit:!0,delete:!0,view:!0,import:!1,export:!1},filters:h={},customFiltersElement:f=null,itemsPerPage:p=10,enablePagination:g=!0,enableSearch:x=!0,enableSort:b=!0,searchPlaceholder:y,addButtonText:v="Agregar",loadingMessage:j="Cargando datos...",emptyMessage:w="No hay datos disponibles",className:E=""})=>{const[S,k]=t.useState(""),[C,A]=t.useState({key:null,direction:"asc"}),[_,T]=t.useState(1),[O,D]=t.useState({}),P=(e,t)=>t.split(".").reduce((e,t)=>e?.[t],e),M=t.useMemo(()=>{if(!e||0===e.length)return[];let t=[...e];return x&&S&&(t=t.filter(e=>r.some(t=>{const r=P(e,t.accessor);return r&&"object"==typeof r?Object.values(r).filter(e=>e&&"string"==typeof e).join(" ").toLowerCase().includes(S.toLowerCase()):r?.toString().toLowerCase().includes(S.toLowerCase())}))),Object.entries(O).forEach(([e,r])=>{r&&"all"!==r&&(t=t.filter(t=>{if("aula"===e){if(!r||""===r)return!0;const e=t.matriculas?.find(e=>"activo"===e.matriculaAula?.estado)||t.matriculas?.[0],a=e?.matriculaAula?.aula;return!!a&&`${a.idGrado?.grado||""} ${a.seccion||""}`.trim()===r}if("mes"===e)return P(t,"mes")===parseInt(r);if("montoPension"===e){const e=parseFloat(P(t,"montoPension"))||0;switch(r){case"300-349":return e>=300&&e<=349;case"350-399":return e>=350&&e<=399;case"400-449":return e>=400&&e<=449;case"450-499":return e>=450&&e<=499;case"500+":return e>=500;default:return!0}}if("estadoPension"===e)return P(t,"estadoPension")===r;if("anio"===e)return P(t,"anio")===parseInt(r);const a=P(t,e);return"true"===r||"false"===r?a===("true"===r):a===r}))}),b&&C.key&&t.sort((e,t)=>{let a=P(e,C.key),n=P(t,C.key);const s=r.find(e=>e.accessor===C.key);return"number"===s?.type&&(a=Number(a)||0,n=Number(n)||0),"date"===s?.type&&(a=new Date(a),n=new Date(n)),null==a&&null==n?0:null==a?"asc"===C.direction?-1:1:null==n?"asc"===C.direction?1:-1:a<n?"asc"===C.direction?-1:1:a>n?"asc"===C.direction?1:-1:0}),t},[e,S,O,C,r,x,b]),F=Math.ceil(M.length/p),I=(_-1)*p,R=I+p,L=g?M.slice(I,R):M,z=(e,t)=>{const r=P(e,t.accessor);return t.Cell?t.Cell({value:r,row:e}):"currency"===t.type?`$${Number(r||0).toLocaleString()}`:"percentage"===t.type?`${r}%`:"date"===t.type?new Date(r).toLocaleDateString("es-ES"):"status"===t.type?It.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${t.statusColors?.[r]||"bg-gray-100 text-gray-800"}`,children:t.statusLabels?.[r]||r}):r||"-"},$=e=>m&&(m.add||m.edit||m.delete||m.view)?It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:It.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[m.view&&c&&It.jsx("button",{onClick:()=>c(e),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50 transition-colors",title:"Ver detalles",children:It.jsx(N,{className:"w-4 h-4"})}),m.edit&&o&&It.jsx("button",{onClick:()=>o(e),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors",title:"Editar",children:It.jsx(Re,{className:"w-4 h-4"})}),m.delete&&l&&It.jsx("button",{onClick:()=>l(e),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors",title:"Eliminar",children:It.jsx(Le,{className:"w-4 h-4"})})]})}):null;return t.useEffect(()=>{T(1)},[S,O]),a?It.jsx(ZR,{icon:s,title:n,loadingMessage:j,addButtonText:v,filterCount:Object.keys(h).length}):It.jsxs("div",{className:`bg-white rounded-lg shadow-sm ${E}`,children:[It.jsx("div",{className:"p-4 lg:p-6",children:It.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[It.jsxs("div",{className:"flex items-center gap-2",children:[s&&It.jsx(s,{className:"w-6 h-6 text-blue-600"}),It.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-gray-900",children:n})]}),It.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[m.import&&d&&It.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[It.jsx(_e,{className:"w-4 h-4"}),"Importar"]}),m.export&&u&&It.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 py-2 text-sm border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[It.jsx(Te,{className:"w-4 h-4"}),"Exportar"]}),m.add&&i&&It.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[It.jsx(Oe,{className:"w-4 h-4"}),v]})]})]})}),(x||Object.keys(h).length>0||f)&&It.jsx("div",{className:"p-4 lg:p-6 bg-gray-50",children:It.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[x&&It.jsxs("div",{className:"relative flex-1",children:[It.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),It.jsx("input",{type:"text",placeholder:y,value:S,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-md focus:ring-2 focus:ring-blue-300 focus:border-blue-300"})]}),f&&It.jsx("div",{className:"relative min-w-[150px]",children:f}),Object.entries(h).map(([e,t])=>It.jsxs("div",{className:"relative min-w-[150px]",children:[It.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),It.jsxs("select",{value:O[e]||"all",onChange:t=>D(r=>({...r,[e]:t.target.value})),className:"w-full pl-10 pr-8 py-2 border border-gray-200 rounded-md focus:ring-2 focus:ring-blue-300 focus:border-blue-300 appearance-none bg-white",children:[It.jsx("option",{value:"all",children:t.placeholder||`Todos ${t.label||e}`}),t.options?.map(e=>It.jsx("option",{value:e.value,children:e.label},e.value))]})]},e))]})}),It.jsx("div",{className:"overflow-x-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:It.jsx("div",{className:"inline-block min-w-full align-middle",children:It.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[It.jsx("thead",{className:"bg-gray-50",children:It.jsxs("tr",{children:[r.map(e=>{return It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider "+(b&&!1!==e.sortable?"cursor-pointer hover:bg-gray-100":""),style:e.width?{minWidth:`${e.width}px`}:{},onClick:()=>!1!==e.sortable&&(e=>{if(!b)return;let t="asc";C.key===e&&"asc"===C.direction&&(t="desc"),A({key:e,direction:t})})(e.accessor),children:It.jsxs("div",{className:"flex items-center space-x-1",children:[It.jsx("span",{children:e.Header}),b&&!1!==e.sortable&&(t=e.accessor,b?C.key!==t?It.jsx(Me,{className:"w-4 h-4"}):"asc"===C.direction?It.jsx(Fe,{className:"w-4 h-4"}):It.jsx(Ie,{className:"w-4 h-4"}):null)]})},e.accessor);var t}),m&&(m.add||m.edit||m.delete||m.view)&&It.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),It.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===L.length?It.jsx("tr",{children:It.jsx("td",{colSpan:r.length+(m&&(m.add||m.edit||m.delete||m.view)?1:0),className:"px-6 py-12 text-center text-gray-500",children:w})}):L.map((e,t)=>It.jsxs("tr",{className:"hover:bg-gray-50",children:[r.map(t=>It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",style:t.width?{width:`${t.width}px`,minWidth:`${t.width}px`}:{},children:z(e,t)},t.accessor)),$(e)]},e.id||t))})]})})}),g&&F>1&&It.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",I+1," - ",Math.min(R,M.length)," de ",M.length," resultados"]}),It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx("button",{onClick:()=>T(e=>Math.max(e-1,1)),disabled:1===_,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),Array.from({length:Math.min(5,F)},(e,t)=>{let r;return r=F<=5||_<=3?t+1:_>=F-2?F-4+t:_-2+t,It.jsx("button",{onClick:()=>T(r),className:"px-3 py-1 text-sm border rounded-md "+(_===r?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"),children:r},r)}),It.jsx("button",{onClick:()=>T(e=>Math.min(e+1,F)),disabled:_===F,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]})]})})]})},tL=[{Header:"Grado",accessor:"grado",sortable:!0},{Header:"Descripcin",accessor:"descripcion",sortable:!1,Cell:({value:e})=>It.jsx("div",{className:"text-gray-600",children:e||It.jsx("span",{className:"text-gray-400 italic",children:"Sin descripcin"})})},{Header:"Monto",accessor:"idPension",sortable:!0,Cell:({value:e})=>e&&"object"==typeof e?It.jsxs("span",{className:"font-semibold text-green-600",children:["S/ ",e.monto?parseFloat(e.monto).toFixed(2):"0.00"]}):It.jsx("span",{className:"text-gray-400 italic",children:"Sin pensin"})}],rL=[{Header:"Pensin",accessor:"monto",sortable:!0,Cell:({value:e})=>It.jsx("div",{className:"flex items-center",children:It.jsxs("span",{className:"font-semibold text-green-600 text-lg",children:["S/ ",e?parseFloat(e).toFixed(2):"0.00"]})})}],aL=[{Header:"Trabajador",accessor:"nombre",sortable:!0,Cell:({value:e,row:t})=>It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:It.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[e?.charAt(0)?.toUpperCase(),t.apellido?.charAt(0)?.toUpperCase()]})}),It.jsxs("div",{children:[It.jsx("div",{className:"font-medium text-gray-900",children:`${e} ${t.apellido||""}`}),It.jsx("div",{className:"text-sm text-gray-500",children:t.correo||"Sin correo"})]})]})},{Header:"Documento",accessor:"nroDocumento",sortable:!0,Cell:({value:e,row:t})=>It.jsxs("div",{children:[It.jsx("div",{className:"text-sm text-gray-900",children:t.tipoDocumento||"DNI"}),It.jsx("div",{className:"text-sm text-gray-500",children:e||"Sin documento"})]})},{Header:"Rol",accessor:"idRol",sortable:!0,Cell:({value:e})=>It.jsxs("div",{children:[It.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${(e=>{switch(e?.toUpperCase()){case"ADMINISTRADOR":return"bg-purple-100 text-purple-800";case"DOCENTE":return"bg-blue-100 text-blue-800";case"SECRETARIA":return"bg-green-100 text-green-800";case"ESPECIALISTA":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(e?.nombre)}`,children:e?.nombre||"Sin rol"}),e?.descripcion&&It.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.descripcion})]})},{Header:"Curso Asignado",accessor:"asignacionCursos",sortable:!1,Cell:({value:e})=>{const t=(e||[]).filter(e=>e.estaActivo);return 0===t.length?It.jsx("span",{className:"text-sm text-gray-400",children:"Sin curso"}):It.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(e=>It.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-indigo-100 text-indigo-800",children:e.idCurso?.nombreCurso||""},e.idAsignacionCurso))})}},{Header:"Contacto",accessor:"telefono",sortable:!1,Cell:({value:e,row:t})=>It.jsxs("div",{children:[It.jsx("div",{className:"text-sm text-gray-900",children:e||"Sin telfono"}),It.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:t.direccion||"Sin direccin"})]})},{Header:"Estado",accessor:"estaActivo",sortable:!0,Cell:({value:e})=>It.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+(e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e?"Activo":"Inactivo"})}],nL=[{Header:"Estudiante",accessor:"idEstudiante",sortable:!0,Cell:({value:e})=>It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:It.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[e?.nombre?.charAt(0)?.toUpperCase(),e?.apellido?.charAt(0)?.toUpperCase()]})}),It.jsxs("div",{children:[It.jsx("div",{className:"font-medium text-gray-900",children:`${e?.nombre||""} ${e?.apellido||""}`}),It.jsx("div",{className:"text-sm text-gray-500",children:e?.nroDocumento||"Sin documento"})]})]})},{Header:"Apoderado",accessor:"idApoderado",sortable:!0,Cell:({value:e})=>It.jsxs("div",{children:[It.jsx("div",{className:"font-medium text-gray-900",children:`${e?.nombre||""} ${e?.apellido||""}`}),It.jsx("div",{className:"text-sm text-gray-500",children:e?.correo||"Sin correo"}),It.jsx("div",{className:"text-sm text-gray-500",children:e?.numero||"Sin telfono"})]})},{Header:"Grado",accessor:"idGrado",sortable:!0,Cell:({value:e})=>It.jsxs("div",{children:[It.jsx("div",{className:"font-medium text-gray-900",children:e?.grado||"Sin grado"}),It.jsx("div",{className:"text-sm text-gray-500",children:e?.descripcion||""})]})},{Header:"Matrcula",accessor:"costoMatricula",sortable:!0,Cell:({value:e,row:t})=>It.jsxs("div",{children:[It.jsxs("div",{className:"font-medium text-gray-900",children:["S/ ",e||"0.00"]}),It.jsx("div",{className:"text-sm text-gray-500",children:t.metodoPago||"Sin mtodo"})]})},{Header:"Fecha Ingreso",accessor:"fechaIngreso",type:"date",sortable:!0,Cell:({value:e})=>It.jsx("div",{className:"text-sm text-gray-900",children:e?new Date(e).toLocaleDateString("es-PE"):"Sin fecha"})},{Header:"Voucher",accessor:"voucherImg",sortable:!1,Cell:({value:e})=>It.jsx("div",{children:e?It.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Con voucher"}):It.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:"Sin voucher"})})}],sL=[{Header:"Curso",accessor:"nombreCurso",Cell:({value:e,row:t})=>It.jsxs("div",{children:[It.jsx("div",{className:"text-sm font-medium text-gray-900",children:e}),It.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:t.descripcion||"Sin descripcin"})]})},{Header:"Estado",accessor:"estaActivo",Cell:({value:e})=>{return It.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+(t=e,t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e?"Activo":"Inactivo"});var t}}],iL=[{Header:"Docente",accessor:"idTrabajador",Cell:({value:e})=>It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"flex-shrink-0",children:It.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:It.jsx("span",{className:"text-blue-600 text-lg",children:""})})}),It.jsxs("div",{className:"ml-4",children:[It.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[e?.nombre," ",e?.apellido]}),It.jsx("div",{className:"text-sm text-gray-500",children:e?.idRol?.nombre||"Docente"})]})]})},{Header:"Motivo",accessor:"motivo",Cell:({value:e})=>It.jsx("div",{className:"text-sm text-gray-900 font-medium",children:e})},{Header:"Descripcin",accessor:"descripcion",Cell:({value:e})=>It.jsx("div",{className:"text-sm text-gray-900 max-w-xs",children:It.jsxs("div",{className:"flex items-start gap-2",children:[It.jsx("span",{className:"text-gray-400",children:""}),It.jsx("span",{className:"truncate",title:e,children:e&&e.length>60?e.substring(0,60)+"...":e})]})})},{Header:"Fecha",accessor:"fechaCreacion",Cell:({value:e})=>{return It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx("span",{className:"text-gray-400",children:""}),It.jsx("span",{className:"text-sm text-gray-900",children:(t=e,t?new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"N/A")})]});var t}},{Header:"Archivo",accessor:"archivoUrl",Cell:({value:e})=>e?It.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full hover:bg-green-200 transition-colors",children:[It.jsx("span",{children:""}),"Ver archivo"]}):It.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:[It.jsx("span",{children:""}),"Sin archivo"]})}],oL={motivo:{label:"Motivo",placeholder:"Buscar por motivo",type:"text"},"idTrabajador.nombre":{label:"Docente",placeholder:"Buscar por docente",type:"text"}},lL=({estudiantes:e=[],loading:t=!1,onAdd:a,onEdit:n,onDelete:s,onView:i})=>{const o=r.useMemo(()=>[{Header:"Estudiante",accessor:"nombre",sortable:!0,Cell:({value:e,row:t})=>It.jsxs("div",{className:"min-w-0",children:[It.jsx("div",{className:"font-medium text-gray-900 truncate",children:`${e||""} ${t.apellido||""}`.trim()}),It.jsx("div",{className:"text-sm text-gray-500 truncate",children:t.nroDocumento?`${t.tipoDocumento||"DNI"}: ${t.nroDocumento}`:"Sin documento"})]})},{Header:"Aula",accessor:"matriculas",sortable:!0,Cell:({value:e})=>{const t=e?.find(e=>"activo"===e.matriculaAula?.estado)||e?.[0],r=t?.matriculaAula?.aula;return r?It.jsxs("div",{className:"text-sm",children:[It.jsx("div",{className:"font-medium text-gray-900",children:r.seccion||"N/A"}),It.jsx("div",{className:"text-xs text-gray-500",children:r.idGrado?.grado||""})]}):It.jsx("div",{className:"text-sm text-gray-400 italic",children:"Sin aula"})}},{Header:"Estado",accessor:"idUsuario.estaActivo",sortable:!0,Cell:({value:e,row:t})=>{const r=void 0!==e?e:t.idUsuario?.estaActivo;return It.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full "+(r?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:r?"Activo":"Inactivo"})}}],[]);return It.jsx(eL,{data:e,columns:o,loading:t,title:"Tabla de Estudiantes",icon:oe,searchPlaceholder:"Buscar estudiantes...",onAdd:a,onEdit:n,onDelete:s,onView:i,actions:{add:!1,edit:!0,delete:!1,view:!0,import:!1},addButtonText:"Agregar Estudiante",loadingMessage:"Cargando estudiantes...",emptyMessage:"No hay estudiantes registrados",itemsPerPage:10,enablePagination:!0,enableSearch:!0,enableSort:!0})};var cL=e=>"checkbox"===e.type,dL=e=>e instanceof Date,uL=e=>null==e;const mL=e=>"object"==typeof e;var hL=e=>!uL(e)&&!Array.isArray(e)&&mL(e)&&!dL(e),fL="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function pL(e){let t;const r=Array.isArray(e),a="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(fL&&(e instanceof Blob||a)||!r&&!hL(e))return e;if(t=r?[]:Object.create(Object.getPrototypeOf(e)),r||(e=>{const t=e.constructor&&e.constructor.prototype;return hL(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=pL(e[r]));else t=e}return t}var gL=e=>/^\w*$/.test(e),xL=e=>void 0===e,bL=e=>Array.isArray(e)?e.filter(Boolean):[],yL=e=>bL(e.replace(/["|']|\]/g,"").split(/\.|\[/)),vL=(e,t,r)=>{if(!t||!hL(e))return r;const a=(gL(t)?[t]:yL(t)).reduce((e,t)=>uL(e)?e:e[t],e);return xL(a)||a===e?xL(e[t])?r:e[t]:a},jL=e=>"boolean"==typeof e,wL=(e,t,r)=>{let a=-1;const n=gL(t)?[t]:yL(t),s=n.length,i=s-1;for(;++a<s;){const t=n[a];let s=r;if(a!==i){const r=e[t];s=hL(r)||Array.isArray(r)?r:isNaN(+n[a+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const NL="blur",EL="focusout",SL="onBlur",kL="onChange",CL="onSubmit",AL="onTouched",_L="all",TL="max",OL="min",DL="maxLength",PL="minLength",ML="pattern",FL="required",IL="validate",RL=r.createContext(null);RL.displayName="HookFormContext";const LL="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;var zL=e=>"string"==typeof e,$L=e=>uL(e)||!mL(e);function qL(e,t,r=new WeakSet){if($L(e)||$L(t))return e===t;if(dL(e)&&dL(t))return e.getTime()===t.getTime();const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of a){const a=e[s];if(!n.includes(s))return!1;if("ref"!==s){const e=t[s];if(dL(a)&&dL(e)||hL(a)&&hL(e)||Array.isArray(a)&&Array.isArray(e)?!qL(a,e,r):a!==e)return!1}}return!0}var UL=(e,t,r,a,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:n||!0}}:{},BL=e=>Array.isArray(e)?e:[e],YL=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},VL=e=>hL(e)&&!Object.keys(e).length,HL=e=>"file"===e.type,WL=e=>"function"==typeof e,GL=e=>{if(!fL)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},KL=e=>"select-multiple"===e.type,QL=e=>"radio"===e.type,XL=e=>GL(e)&&e.isConnected;function JL(e,t){const r=Array.isArray(t)?t:gL(t)?[t]:yL(t),a=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=xL(e)?a++:e[t[a++]];return e}(e,r),n=r.length-1,s=r[n];return a&&delete a[s],0!==n&&(hL(a)&&VL(a)||Array.isArray(a)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!xL(e[t]))return!1;return!0}(a))&&JL(e,r.slice(0,-1)),e}var ZL=e=>{for(const t in e)if(WL(e[t]))return!0;return!1};function ez(e,t={}){const r=Array.isArray(e);if(hL(e)||r)for(const a in e)Array.isArray(e[a])||hL(e[a])&&!ZL(e[a])?(t[a]=Array.isArray(e[a])?[]:{},ez(e[a],t[a])):uL(e[a])||(t[a]=!0);return t}function tz(e,t,r){const a=Array.isArray(e);if(hL(e)||a)for(const n in e)Array.isArray(e[n])||hL(e[n])&&!ZL(e[n])?xL(t)||$L(r[n])?r[n]=Array.isArray(e[n])?ez(e[n],[]):{...ez(e[n])}:tz(e[n],uL(t)?{}:t[n],r[n]):r[n]=!qL(e[n],t[n]);return r}var rz=(e,t)=>tz(e,t,ez(t));const az={value:!1,isValid:!1},nz={value:!0,isValid:!0};var sz=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!xL(e[0].attributes.value)?xL(e[0].value)||""===e[0].value?nz:{value:e[0].value,isValid:!0}:nz:az}return az},iz=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>xL(e)?e:t?""===e?NaN:e?+e:e:r&&zL(e)?new Date(e):a?a(e):e;const oz={isValid:!1,value:null};var lz=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,oz):oz;function cz(e){const t=e.ref;return HL(t)?t.files:QL(t)?lz(e.refs).value:KL(t)?[...t.selectedOptions].map(({value:e})=>e):cL(t)?sz(e.refs).value:iz(xL(t.value)?e.ref.value:t.value,e)}var dz=e=>e instanceof RegExp,uz=e=>xL(e)?e:dz(e)?e.source:hL(e)?dz(e.value)?e.value.source:e.value:e,mz=e=>({isOnSubmit:!e||e===CL,isOnBlur:e===SL,isOnChange:e===kL,isOnAll:e===_L,isOnTouch:e===AL});const hz="AsyncFunction";var fz=e=>!!e&&!!e.validate&&!!(WL(e.validate)&&e.validate.constructor.name===hz||hL(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===hz)),pz=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const gz=(e,t,r,a)=>{for(const n of r||Object.keys(e)){const r=vL(e,n);if(r){const{_f:e,...s}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],n)&&!a)return!0;if(e.ref&&t(e.ref,e.name)&&!a)return!0;if(gz(s,t))break}else if(hL(s)&&gz(s,t))break}}};function xz(e,t,r){const a=vL(e,r);if(a||gL(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),s=vL(t,a),i=vL(e,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(i&&i.type)return{name:a,error:i};if(i&&i.root&&i.root.type)return{name:`${a}.root`,error:i.root};n.pop()}return{name:r}}var bz=(e,t,r)=>{const a=BL(vL(e,r));return wL(a,"root",t[r]),wL(e,r,a),e},yz=e=>zL(e);function vz(e,t,r="validate"){if(yz(e)||Array.isArray(e)&&e.every(yz)||jL(e)&&!e)return{type:r,message:yz(e)?e:"",ref:t}}var jz=e=>hL(e)&&!dz(e)?e:{value:e,message:""},wz=async(e,t,r,a,n,s)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:u,max:m,pattern:h,validate:f,name:p,valueAsNumber:g,mount:x}=e._f,b=vL(r,p);if(!x||t.has(p))return{};const y=o?o[0]:i,v=e=>{n&&y.reportValidity&&(y.setCustomValidity(jL(e)?"":e||""),y.reportValidity())},j={},w=QL(i),N=cL(i),E=w||N,S=(g||HL(i))&&xL(i.value)&&xL(b)||GL(i)&&""===i.value||""===b||Array.isArray(b)&&!b.length,k=UL.bind(null,p,a,j),C=(e,t,r,a=DL,n=PL)=>{const s=e?t:r;j[p]={type:e?a:n,message:s,ref:i,...k(e?a:n,s)}};if(s?!Array.isArray(b)||!b.length:l&&(!E&&(S||uL(b))||jL(b)&&!b||N&&!sz(o).isValid||w&&!lz(o).isValid)){const{value:e,message:t}=yz(l)?{value:!!l,message:l}:jz(l);if(e&&(j[p]={type:FL,message:t,ref:y,...k(FL,t)},!a))return v(t),j}if(!(S||uL(u)&&uL(m))){let e,t;const r=jz(m),n=jz(u);if(uL(b)||isNaN(b)){const a=i.valueAsDate||new Date(b),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==i.type,l="week"==i.type;zL(r.value)&&b&&(e=o?s(b)>s(r.value):l?b>r.value:a>new Date(r.value)),zL(n.value)&&b&&(t=o?s(b)<s(n.value):l?b<n.value:a<new Date(n.value))}else{const a=i.valueAsNumber||(b?+b:b);uL(r.value)||(e=a>r.value),uL(n.value)||(t=a<n.value)}if((e||t)&&(C(!!e,r.message,n.message,TL,OL),!a))return v(j[p].message),j}if((c||d)&&!S&&(zL(b)||s&&Array.isArray(b))){const e=jz(c),t=jz(d),r=!uL(e.value)&&b.length>+e.value,n=!uL(t.value)&&b.length<+t.value;if((r||n)&&(C(r,e.message,t.message),!a))return v(j[p].message),j}if(h&&!S&&zL(b)){const{value:e,message:t}=jz(h);if(dz(e)&&!b.match(e)&&(j[p]={type:ML,message:t,ref:i,...k(ML,t)},!a))return v(t),j}if(f)if(WL(f)){const e=vz(await f(b,r),y);if(e&&(j[p]={...e,...k(IL,e.message)},!a))return v(e.message),j}else if(hL(f)){let e={};for(const t in f){if(!VL(e)&&!a)break;const n=vz(await f[t](b,r),y,t);n&&(e={...n,...k(t,n.message)},v(n.message),a&&(j[p]=e))}if(!VL(e)&&(j[p]={ref:y,...e},!a))return j}return v(!0),j};const Nz={mode:CL,reValidateMode:kL,shouldFocusError:!0};function Ez(e={}){let t,r={...Nz,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:WL(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},s=(hL(r.defaultValues)||hL(r.values))&&pL(r.defaultValues||r.values)||{},i=r.shouldUnregister?{}:pL(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...d};const m={array:YL(),state:YL()},h=r.criteriaMode===_L,f=async e=>{if(!r.disabled&&(d.isValid||u.isValid||e)){const e=r.resolver?VL((await y()).errors):await v(n,!0);e!==a.isValid&&m.state.next({isValid:e})}},p=(e,t)=>{!r.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?wL(a.validatingFields,e,t):JL(a.validatingFields,e))}),m.state.next({validatingFields:a.validatingFields,isValidating:!VL(a.validatingFields)}))},g=(e,t,r,a)=>{const l=vL(n,e);if(l){const n=vL(i,e,xL(r)?vL(s,e):r);xL(n)||a&&a.defaultChecked||t?wL(i,e,t?n:cz(l._f)):N(e,n),o.mount&&f()}},x=(e,t,n,i,o)=>{let l=!1,c=!1;const h={name:e};if(!r.disabled){if(!n||i){(d.isDirty||u.isDirty)&&(c=a.isDirty,a.isDirty=h.isDirty=j(),l=c!==h.isDirty);const r=qL(vL(s,e),t);c=!!vL(a.dirtyFields,e),r?JL(a.dirtyFields,e):wL(a.dirtyFields,e,!0),h.dirtyFields=a.dirtyFields,l=l||(d.dirtyFields||u.dirtyFields)&&c!==!r}if(n){const t=vL(a.touchedFields,e);t||(wL(a.touchedFields,e,n),h.touchedFields=a.touchedFields,l=l||(d.touchedFields||u.touchedFields)&&t!==n)}l&&o&&m.state.next(h)}return l?h:{}},b=(e,n,s,i)=>{const o=vL(a.errors,e),l=(d.isValid||u.isValid)&&jL(n)&&a.isValid!==n;var h;if(r.delayError&&s?(h=()=>((e,t)=>{wL(a.errors,e,t),m.state.next({errors:a.errors})})(e,s),t=e=>{clearTimeout(c),c=setTimeout(h,e)},t(r.delayError)):(clearTimeout(c),t=null,s?wL(a.errors,e,s):JL(a.errors,e)),(s?!qL(o,s):o)||!VL(i)||l){const t={...i,...l&&jL(n)?{isValid:n}:{},errors:a.errors,name:e};a={...a,...t},m.state.next(t)}},y=async e=>{p(e,!0);const t=await r.resolver(i,r.context,((e,t,r,a)=>{const n={};for(const s of e){const e=vL(t,s);e&&wL(n,s,e._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:a}})(e||l.mount,n,r.criteriaMode,r.shouldUseNativeValidation));return p(e),t},v=async(e,t,n={valid:!0})=>{for(const s in e){const o=e[s];if(o){const{_f:e,...c}=o;if(e){const c=l.array.has(e.name),u=o._f&&fz(o._f);u&&d.validatingFields&&p([s],!0);const m=await wz(o,l.disabled,i,h,r.shouldUseNativeValidation&&!t,c);if(u&&d.validatingFields&&p([s]),m[e.name]&&(n.valid=!1,t))break;!t&&(vL(m,e.name)?c?bz(a.errors,m,e.name):wL(a.errors,e.name,m[e.name]):JL(a.errors,e.name))}!VL(c)&&await v(c,t,n)}}return n.valid},j=(e,t)=>!r.disabled&&(e&&t&&wL(i,e,t),!qL(_(),s)),w=(e,t,r)=>((e,t,r,a,n)=>zL(e)?(a&&t.watch.add(e),vL(r,e,n)):Array.isArray(e)?e.map(e=>(a&&t.watch.add(e),vL(r,e))):(a&&(t.watchAll=!0),r))(e,l,{...o.mount?i:xL(t)?s:zL(e)?{[e]:t}:t},r,t),N=(e,t,r={})=>{const a=vL(n,e);let s=t;if(a){const r=a._f;r&&(!r.disabled&&wL(i,e,iz(t,r)),s=GL(r.ref)&&uL(t)?"":t,KL(r.ref)?[...r.ref.options].forEach(e=>e.selected=s.includes(e.value)):r.refs?cL(r.ref)?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(s)?e.checked=!!s.find(t=>t===e.value):e.checked=s===e.value||!!s)}):r.refs.forEach(e=>e.checked=e.value===s):HL(r.ref)?r.ref.value="":(r.ref.value=s,r.ref.type||m.state.next({name:e,values:pL(i)})))}(r.shouldDirty||r.shouldTouch)&&x(e,s,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&A(e)},E=(e,t,r)=>{for(const a in t){if(!t.hasOwnProperty(a))return;const s=t[a],i=e+"."+a,o=vL(n,i);(l.array.has(e)||hL(s)||o&&!o._f)&&!dL(s)?E(i,s,r):N(i,s,r)}},S=(e,t,r={})=>{const c=vL(n,e),h=l.array.has(e),f=pL(t);wL(i,e,f),h?(m.array.next({name:e,values:pL(i)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&r.shouldDirty&&m.state.next({name:e,dirtyFields:rz(s,i),isDirty:j(e,f)})):!c||c._f||uL(f)?N(e,f,r):E(e,f,r),pz(e,l)&&m.state.next({...a,name:e}),m.state.next({name:o.mount?e:void 0,values:pL(i)})},k=async e=>{o.mount=!0;const s=e.target;let c=s.name,g=!0;const j=vL(n,c),w=e=>{g=Number.isNaN(e)||dL(e)&&isNaN(e.getTime())||qL(e,vL(i,c,e))},N=mz(r.mode),E=mz(r.reValidateMode);if(j){let o,k;const C=s.type?cz(j._f):(e=>hL(e)&&e.target?cL(e.target)?e.target.checked:e.target.value:e)(e),_=e.type===NL||e.type===EL,T=!((S=j._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate)||r.resolver||vL(a.errors,c)||j._f.deps)||((e,t,r,a,n)=>!n.isOnAll&&(!r&&n.isOnTouch?!(t||e):(r?a.isOnBlur:n.isOnBlur)?!e:!(r?a.isOnChange:n.isOnChange)||e))(_,vL(a.touchedFields,c),a.isSubmitted,E,N),O=pz(c,l,_);wL(i,c,C),_?s&&s.readOnly||(j._f.onBlur&&j._f.onBlur(e),t&&t(0)):j._f.onChange&&j._f.onChange(e);const D=x(c,C,_),P=!VL(D)||O;if(!_&&m.state.next({name:c,type:e.type,values:pL(i)}),T)return(d.isValid||u.isValid)&&("onBlur"===r.mode?_&&f():_||f()),P&&m.state.next({name:c,...O?{}:D});if(!_&&O&&m.state.next({...a}),r.resolver){const{errors:e}=await y([c]);if(w(C),g){const t=xz(a.errors,n,c),r=xz(e,n,t.name||c);o=r.error,c=r.name,k=VL(e)}}else p([c],!0),o=(await wz(j,l.disabled,i,h,r.shouldUseNativeValidation))[c],p([c]),w(C),g&&(o?k=!1:(d.isValid||u.isValid)&&(k=await v(n,!0)));g&&(j._f.deps&&A(j._f.deps),b(c,k,o,D))}var S},C=(e,t)=>{if(vL(a.errors,t)&&e.focus)return e.focus(),1},A=async(e,t={})=>{let s,i;const o=BL(e);if(r.resolver){const t=await(async e=>{const{errors:t}=await y(e);if(e)for(const r of e){const e=vL(t,r);e?wL(a.errors,r,e):JL(a.errors,r)}else a.errors=t;return t})(xL(e)?e:o);s=VL(t),i=e?!o.some(e=>vL(t,e)):s}else e?(i=(await Promise.all(o.map(async e=>{const t=vL(n,e);return await v(t&&t._f?{[e]:t}:t)}))).every(Boolean),(i||a.isValid)&&f()):i=s=await v(n);return m.state.next({...!zL(e)||(d.isValid||u.isValid)&&s!==a.isValid?{}:{name:e},...r.resolver||!e?{isValid:s}:{},errors:a.errors}),t.shouldFocus&&!i&&gz(n,C,e?o:l.mount),i},_=e=>{const t={...o.mount?i:s};return xL(e)?t:zL(e)?vL(t,e):e.map(e=>vL(t,e))},T=(e,t)=>({invalid:!!vL((t||a).errors,e),isDirty:!!vL((t||a).dirtyFields,e),error:vL((t||a).errors,e),isValidating:!!vL(a.validatingFields,e),isTouched:!!vL((t||a).touchedFields,e)}),O=(e,t,r)=>{const s=(vL(n,e,{_f:{}})._f||{}).ref,i=vL(a.errors,e)||{},{ref:o,message:l,type:c,...d}=i;wL(a.errors,e,{...d,...t,ref:s}),m.state.next({name:e,errors:a.errors,isValid:!1}),r&&r.shouldFocus&&s&&s.focus&&s.focus()},D=e=>m.state.subscribe({next:t=>{var r,n,o;r=e.name,n=t.name,o=e.exact,r&&n&&r!==n&&!BL(r).some(e=>e&&(o?e===n:e.startsWith(n)||n.startsWith(e)))||!((e,t,r,a)=>{r(e);const{name:n,...s}=e;return VL(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!a||_L))})(t,e.formState||d,$,e.reRenderRoot)||e.callback({values:{...i},...a,...t,defaultValues:s})}}).unsubscribe,P=(e,t={})=>{for(const o of e?BL(e):l.mount)l.mount.delete(o),l.array.delete(o),t.keepValue||(JL(n,o),JL(i,o)),!t.keepError&&JL(a.errors,o),!t.keepDirty&&JL(a.dirtyFields,o),!t.keepTouched&&JL(a.touchedFields,o),!t.keepIsValidating&&JL(a.validatingFields,o),!r.shouldUnregister&&!t.keepDefaultValue&&JL(s,o);m.state.next({values:pL(i)}),m.state.next({...a,...t.keepDirty?{isDirty:j()}:{}}),!t.keepIsValid&&f()},M=({disabled:e,name:t})=>{(jL(e)&&o.mount||e||l.disabled.has(t))&&(e?l.disabled.add(t):l.disabled.delete(t))},F=(e,t={})=>{let a=vL(n,e);const i=jL(t.disabled)||jL(r.disabled);return wL(n,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),a?M({disabled:jL(t.disabled)?t.disabled:r.disabled,name:e}):g(e,!0,t.value),{...i?{disabled:t.disabled||r.disabled}:{},...r.progressive?{required:!!t.required,min:uz(t.min),max:uz(t.max),minLength:uz(t.minLength),maxLength:uz(t.maxLength),pattern:uz(t.pattern)}:{},name:e,onChange:k,onBlur:k,ref:i=>{if(i){F(e,t),a=vL(n,e);const r=xL(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,o=(e=>QL(e)||cL(e))(r),l=a._f.refs||[];if(o?l.find(e=>e===r):r===a._f.ref)return;wL(n,e,{_f:{...a._f,...o?{refs:[...l.filter(XL),r,...Array.isArray(vL(s,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),g(e,!1,void 0,r)}else a=vL(n,e,{}),a._f&&(a._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!((e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)))(l.array,e)||!o.action)&&l.unMount.add(e)}}},I=()=>r.shouldFocusError&&gz(n,C,l.mount),R=(e,t)=>async s=>{let o;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let c=pL(i);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await y();a.errors=e,c=pL(t)}else await v(n);if(l.disabled.size)for(const e of l.disabled)JL(c,e);if(JL(a.errors,"root"),VL(a.errors)){m.state.next({errors:{}});try{await e(c,s)}catch(d){o=d}}else t&&await t({...a.errors},s),I(),setTimeout(I);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:VL(a.errors)&&!o,submitCount:a.submitCount+1,errors:a.errors}),o)throw o},L=(e,t={})=>{const c=e?pL(e):s,u=pL(c),h=VL(e),f=h?s:u;if(t.keepDefaultValues||(s=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(rz(s,i))]);for(const t of Array.from(e))vL(a.dirtyFields,t)?wL(f,t,vL(i,t)):S(t,vL(f,t))}else{if(fL&&xL(e))for(const e of l.mount){const t=vL(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(GL(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)S(e,vL(f,e));else n={}}i=r.shouldUnregister?t.keepDefaultValues?pL(s):{}:pL(f),m.array.next({values:{...f}}),m.state.next({values:{...f}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!t.keepIsValid||!!t.keepDirtyValues,o.watch=!!r.shouldUnregister,m.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:!h&&(t.keepDirty?a.isDirty:!(!t.keepDefaultValues||qL(e,s))),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:h?{}:t.keepDirtyValues?t.keepDefaultValues&&i?rz(s,i):a.dirtyFields:t.keepDefaultValues&&e?rz(s,e):t.keepDirty?a.dirtyFields:{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&a.isSubmitSuccessful,isSubmitting:!1,defaultValues:s})},z=(e,t)=>L(WL(e)?e(i):e,t),$=e=>{a={...a,...e}},q={control:{register:F,unregister:P,getFieldState:T,handleSubmit:R,setError:O,_subscribe:D,_runSchema:y,_focusError:I,_getWatch:w,_getDirty:j,_setValid:f,_setFieldArray:(e,t=[],l,c,h=!0,f=!0)=>{if(c&&l&&!r.disabled){if(o.action=!0,f&&Array.isArray(vL(n,e))){const t=l(vL(n,e),c.argA,c.argB);h&&wL(n,e,t)}if(f&&Array.isArray(vL(a.errors,e))){const t=l(vL(a.errors,e),c.argA,c.argB);h&&wL(a.errors,e,t),((e,t)=>{!bL(vL(e,t)).length&&JL(e,t)})(a.errors,e)}if((d.touchedFields||u.touchedFields)&&f&&Array.isArray(vL(a.touchedFields,e))){const t=l(vL(a.touchedFields,e),c.argA,c.argB);h&&wL(a.touchedFields,e,t)}(d.dirtyFields||u.dirtyFields)&&(a.dirtyFields=rz(s,i)),m.state.next({name:e,isDirty:j(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else wL(i,e,t)},_setDisabledField:M,_setErrors:e=>{a.errors=e,m.state.next({errors:a.errors,isValid:!1})},_getFieldArray:e=>bL(vL(o.mount?i:s,e,r.shouldUnregister?vL(s,e,[]):[])),_reset:L,_resetDefaultValues:()=>WL(r.defaultValues)&&r.defaultValues().then(e=>{z(e,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=vL(n,e);t&&(t._f.refs?t._f.refs.every(e=>!XL(e)):!XL(t._f.ref))&&P(e)}l.unMount=new Set},_disableForm:e=>{jL(e)&&(m.state.next({disabled:e}),gz(n,(t,r)=>{const a=vL(n,r);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(t=>{t.disabled=a._f.disabled||e}))},0,!1))},_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(e){o=e},get _defaultValues(){return s},get _names(){return l},set _names(e){l=e},get _formState(){return a},get _options(){return r},set _options(e){r={...r,...e}}},subscribe:e=>(o.mount=!0,u={...u,...e.formState},D({...e,formState:u})),trigger:A,register:F,handleSubmit:R,watch:(e,t)=>WL(e)?m.state.subscribe({next:r=>"values"in r&&e(w(void 0,t),r)}):w(e,t,!0),setValue:S,getValues:_,reset:z,resetField:(e,t={})=>{vL(n,e)&&(xL(t.defaultValue)?S(e,pL(vL(s,e))):(S(e,t.defaultValue),wL(s,e,pL(t.defaultValue))),t.keepTouched||JL(a.touchedFields,e),t.keepDirty||(JL(a.dirtyFields,e),a.isDirty=t.defaultValue?j(e,pL(vL(s,e))):j()),t.keepError||(JL(a.errors,e),d.isValid&&f()),m.state.next({...a}))},clearErrors:e=>{e&&BL(e).forEach(e=>JL(a.errors,e)),m.state.next({errors:e?a.errors:{}})},unregister:P,setError:O,setFocus:(e,t={})=>{const r=vL(n,e),a=r&&r._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&WL(e.select)&&e.select())}},getFieldState:T};return{...q,formControl:q}}var Sz=()=>{if("undefined"!=typeof crypto&&crypto.randomUUID)return crypto.randomUUID();const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)})},kz=(e,t,r={})=>r.shouldFocus||xL(r.shouldFocus)?r.focusName||`${e}.${xL(r.focusIndex)?t:r.focusIndex}.`:"",Cz=(e,t)=>[...e,...BL(t)],Az=e=>Array.isArray(e)?e.map(()=>{}):void 0;function _z(e,t,r){return[...e.slice(0,t),...BL(r),...e.slice(t)]}var Tz=(e,t,r)=>Array.isArray(e)?(xL(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Oz=(e,t)=>[...BL(t),...BL(e)],Dz=(e,t)=>xL(t)?[]:function(e,t){let r=0;const a=[...e];for(const n of t)a.splice(n-r,1),r++;return bL(a).length?a:[]}(e,BL(t).sort((e,t)=>e-t)),Pz=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},Mz=(e,t,r)=>(e[t]=r,e);function Fz(e){const t=r.useContext(RL),{control:a=t.control,name:n,keyName:s="id",shouldUnregister:i,rules:o}=e,[l,c]=r.useState(a._getFieldArray(n)),d=r.useRef(a._getFieldArray(n).map(Sz)),u=r.useRef(l),m=r.useRef(!1);u.current=l,a._names.array.add(n),r.useMemo(()=>o&&a.register(n,o),[a,o,n]),LL(()=>a._subjects.array.subscribe({next:({values:e,name:t})=>{if(t===n||!t){const t=vL(e,n);Array.isArray(t)&&(c(t),d.current=t.map(Sz))}}}).unsubscribe,[a,n]);const h=r.useCallback(e=>{m.current=!0,a._setFieldArray(n,e)},[a,n]);return r.useEffect(()=>{if(a._state.action=!1,pz(n,a._names)&&a._subjects.state.next({...a._formState}),m.current&&(!mz(a._options.mode).isOnSubmit||a._formState.isSubmitted)&&!mz(a._options.reValidateMode).isOnSubmit)if(a._options.resolver)a._runSchema([n]).then(e=>{const t=vL(e.errors,n),r=vL(a._formState.errors,n);(r?!t&&r.type||t&&(r.type!==t.type||r.message!==t.message):t&&t.type)&&(t?wL(a._formState.errors,n,t):JL(a._formState.errors,n),a._subjects.state.next({errors:a._formState.errors}))});else{const e=vL(a._fields,n);!e||!e._f||mz(a._options.reValidateMode).isOnSubmit&&mz(a._options.mode).isOnSubmit||wz(e,a._names.disabled,a._formValues,a._options.criteriaMode===_L,a._options.shouldUseNativeValidation,!0).then(e=>!VL(e)&&a._subjects.state.next({errors:bz(a._formState.errors,e,n)}))}a._subjects.state.next({name:n,values:pL(a._formValues)}),a._names.focus&&gz(a._fields,(e,t)=>{if(a._names.focus&&t.startsWith(a._names.focus)&&e.focus)return e.focus(),1}),a._names.focus="",a._setValid(),m.current=!1},[l,n,a]),r.useEffect(()=>(!vL(a._formValues,n)&&a._setFieldArray(n),()=>{a._options.shouldUnregister||i?a.unregister(n):((e,t)=>{const r=vL(a._fields,e);r&&r._f&&(r._f.mount=t)})(n,!1)}),[n,a,s,i]),{swap:r.useCallback((e,t)=>{const r=a._getFieldArray(n);Pz(r,e,t),Pz(d.current,e,t),h(r),c(r),a._setFieldArray(n,r,Pz,{argA:e,argB:t},!1)},[h,n,a]),move:r.useCallback((e,t)=>{const r=a._getFieldArray(n);Tz(r,e,t),Tz(d.current,e,t),h(r),c(r),a._setFieldArray(n,r,Tz,{argA:e,argB:t},!1)},[h,n,a]),prepend:r.useCallback((e,t)=>{const r=BL(pL(e)),s=Oz(a._getFieldArray(n),r);a._names.focus=kz(n,0,t),d.current=Oz(d.current,r.map(Sz)),h(s),c(s),a._setFieldArray(n,s,Oz,{argA:Az(e)})},[h,n,a]),append:r.useCallback((e,t)=>{const r=BL(pL(e)),s=Cz(a._getFieldArray(n),r);a._names.focus=kz(n,s.length-1,t),d.current=Cz(d.current,r.map(Sz)),h(s),c(s),a._setFieldArray(n,s,Cz,{argA:Az(e)})},[h,n,a]),remove:r.useCallback(e=>{const t=Dz(a._getFieldArray(n),e);d.current=Dz(d.current,e),h(t),c(t),!Array.isArray(vL(a._fields,n))&&wL(a._fields,n,void 0),a._setFieldArray(n,t,Dz,{argA:e})},[h,n,a]),insert:r.useCallback((e,t,r)=>{const s=BL(pL(t)),i=_z(a._getFieldArray(n),e,s);a._names.focus=kz(n,e,r),d.current=_z(d.current,e,s.map(Sz)),h(i),c(i),a._setFieldArray(n,i,_z,{argA:e,argB:Az(t)})},[h,n,a]),update:r.useCallback((e,t)=>{const r=pL(t),s=Mz(a._getFieldArray(n),e,r);d.current=[...s].map((t,r)=>t&&r!==e?d.current[r]:Sz()),h(s),c([...s]),a._setFieldArray(n,s,Mz,{argA:e,argB:r},!0,!1)},[h,n,a]),replace:r.useCallback(e=>{const t=BL(pL(e));d.current=t.map(Sz),h([...t]),c([...t]),a._setFieldArray(n,[...t],e=>e,{},!0,!1)},[h,n,a]),fields:r.useMemo(()=>l.map((e,t)=>({...e,[s]:d.current[t]||Sz()})),[l,s])}}function Iz(e={}){const t=r.useRef(void 0),a=r.useRef(void 0),[n,s]=r.useState({isDirty:!1,isValidating:!1,isLoading:WL(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:WL(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!WL(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:r,...a}=Ez(e);t.current={...a,formState:n}}const i=t.current.control;return i._options=e,LL(()=>{const e=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(e=>({...e,isReady:!0})),i._formState.isReady=!0,e},[i]),r.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),r.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),r.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),r.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),r.useEffect(()=>{if(i._proxyFormState.isDirty){const e=i._getDirty();e!==n.isDirty&&i._subjects.state.next({isDirty:e})}},[i,n.isDirty]),r.useEffect(()=>{e.values&&!qL(e.values,a.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),a.current=e.values,s(e=>({...e}))):i._resetDefaultValues()},[i,e.values]),r.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=((e,t,r,a=!0)=>{const n={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(n,s,{get:()=>{const r=s;return t._proxyFormState[r]!==_L&&(t._proxyFormState[r]=!a||_L),e[r]}});return n})(n,i),t.current}const Rz=(e,t,r)=>{if(e&&"reportValidity"in e){const a=vL(r,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},Lz=(e,t)=>{for(const r in t.fields){const a=t.fields[r];a&&a.ref&&"reportValidity"in a.ref?Rz(a.ref,r,e):a&&a.refs&&a.refs.forEach(t=>Rz(t,r,e))}},zz=(e,t)=>{t.shouldUseNativeValidation&&Lz(e,t);const r={};for(const a in e){const n=vL(t.fields,a),s=Object.assign(e[a]||{},{ref:n&&n.ref});if($z(t.names||Object.keys(e),a)){const e=Object.assign({},vL(r,a));wL(e,"root",s),wL(r,a,e)}else wL(r,a,s)}return r},$z=(e,t)=>{const r=qz(t);return e.some(e=>qz(e).match(`^${r}\\.\\d+`))};function qz(e){return e.replace(/\]|\[/g,"")}function Uz(e,t,r){return void 0===r&&(r={}),function(a,n,s){try{return Promise.resolve(function(i,o){try{var l=(null!=t&&t.context,Promise.resolve(e["sync"===r.mode?"validateSync":"validate"](a,Object.assign({abortEarly:!1},t,{context:n}))).then(function(e){return s.shouldUseNativeValidation&&Lz({},s),{values:r.raw?Object.assign({},a):e,errors:{}}}))}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(e){if(!e.inner)throw e;return{values:{},errors:zz((t=e,r=!s.shouldUseNativeValidation&&"all"===s.criteriaMode,(t.inner||[]).reduce(function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),r){var a=e[t.path].types,n=a&&a[t.type];e[t.path]=UL(t.path,r,e,t.type,n?[].concat(n,t.message):t.message)}return e},{})),s)};var t,r}))}catch(i){return Promise.reject(i)}}}var Bz,Yz,Vz,Hz,Wz,Gz=function(){if(Yz)return Bz;function e(e){this._maxSize=e,this.clear()}Yz=1,e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(e){return this._values[e]},e.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,a=/^\d/,n=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,i=new e(512),o=new e(512),l=new e(512);function c(e){return i.get(e)||i.set(e,d(e).map(function(e){return e.replace(s,"$2")}))}function d(e){return e.match(t)||[""]}function u(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function m(e){return!u(e)&&(function(e){return e.match(a)&&!e.match(r)}(e)||function(e){return n.test(e)}(e))}return Bz={Cache:e,split:d,normalizePath:c,setter:function(e){var t=c(e);return o.get(e)||o.set(e,function(e,r){for(var a=0,n=t.length,s=e;a<n-1;){var i=t[a];if("__proto__"===i||"constructor"===i||"prototype"===i)return e;s=s[t[a++]]}s[t[a]]=r})},getter:function(e,t){var r=c(e);return l.get(e)||l.set(e,function(e){for(var a=0,n=r.length;a<n;){if(null==e&&t)return;e=e[r[a++]]}return e})},join:function(e){return e.reduce(function(e,t){return e+(u(t)||r.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(e,t,r){!function(e,t,r){var a,n,s,i,o=e.length;for(n=0;n<o;n++)(a=e[n])&&(m(a)&&(a='"'+a+'"'),s=!(i=u(a))&&/^\d+$/.test(a),t.call(r,a,i,s,n,e))}(Array.isArray(e)?e:d(e),t,r)}}}(),Kz=function(){if(Hz)return Vz;Hz=1;const e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=t=>t.match(e)||[],r=e=>e[0].toUpperCase()+e.slice(1),a=(e,r)=>t(e).join(r).toLowerCase(),n=e=>t(e).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,"");return Vz={words:t,upperFirst:r,camelCase:n,pascalCase:e=>r(n(e)),snakeCase:e=>a(e,"_"),kebabCase:e=>a(e,"-"),sentenceCase:e=>r(a(e," ")),titleCase:e=>t(e).map(r).join(" ")}}(),Qz={exports:{}},Xz=function(){if(Wz)return Qz.exports;function e(e,t){var r=e.length,a=new Array(r),n={},s=r,i=function(e){for(var t=new Map,r=0,a=e.length;r<a;r++){var n=e[r];t.has(n[0])||t.set(n[0],new Set),t.has(n[1])||t.set(n[1],new Set),t.get(n[0]).add(n[1])}return t}(t),o=function(e){for(var t=new Map,r=0,a=e.length;r<a;r++)t.set(e[r],r);return t}(e);for(t.forEach(function(e){if(!o.has(e[0])||!o.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)n[s]||l(e[s],s,new Set);return a;function l(e,t,s){if(s.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(Ba){c=""}throw new Error("Cyclic dependency"+c)}if(!o.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!n[t]){n[t]=!0;var d=i.get(e)||new Set;if(t=(d=Array.from(d)).length){s.add(e);do{var u=d[--t];l(u,o.get(u),s)}while(t);s.delete(e)}a[--r]=e}}}return Wz=1,Qz.exports=function(t){return e(function(e){for(var t=new Set,r=0,a=e.length;r<a;r++){var n=e[r];t.add(n[0]),t.add(n[1])}return Array.from(t)}(t),t)},Qz.exports.array=e,Qz.exports}();const Jz=b(Xz),Zz=Object.prototype.toString,e$=Error.prototype.toString,t$=RegExp.prototype.toString,r$="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",a$=/^Symbol\((.*)\)(.*)$/;function n$(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const r=typeof e;if("number"===r)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===r)return t?`"${e}"`:e;if("function"===r)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===r)return r$.call(e).replace(a$,"Symbol($1)");const a=Zz.call(e).slice(8,-1);return"Date"===a?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===a||e instanceof Error?"["+e$.call(e)+"]":"RegExp"===a?t$.call(e):null}function s$(e,t){let r=n$(e,t);return null!==r?r:JSON.stringify(e,function(e,r){let a=n$(this[e],t);return null!==a?a:r},2)}function i$(e){return null==e?[]:[].concat(e)}let o$,l$,c$,d$=/\$\{\s*(\w+)\s*\}/g;o$=Symbol.toStringTag;class u${constructor(e,t,r,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[o$]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=a,this.errors=[],this.inner=[],i$(e).forEach(e=>{if(m$.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}l$=Symbol.hasInstance,c$=Symbol.toStringTag;class m$ extends Error{static formatError(e,t){const r=t.label||t.path||"this";return t=Object.assign({},t,{path:r,originalPath:t.path}),"string"==typeof e?e.replace(d$,(e,r)=>s$(t[r])):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,r,a,n){const s=new u$(e,t,r,a);if(n)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[c$]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,m$)}static[l$](e){return u$[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let h$={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:a})=>{const n=null!=a&&a!==r?` (cast from the value \`${s$(a,!0)}\`).`:".";return"mixed"!==t?`${e} must be a \`${t}\` type, but the final value was: \`${s$(r,!0)}\``+n:`${e} must match the configured type. The validated value was: \`${s$(r,!0)}\``+n}},f$={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},p$={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},g$={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},x$={isValue:"${path} field must be ${value}"},b$={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},y$={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},v$={notType:e=>{const{path:t,value:r,spec:a}=e,n=a.types.length;if(Array.isArray(r)){if(r.length<n)return`${t} tuple value has too few items, expected a length of ${n} but got ${r.length} for value: \`${s$(r,!0)}\``;if(r.length>n)return`${t} tuple value has too many items, expected a length of ${n} but got ${r.length} for value: \`${s$(r,!0)}\``}return m$.formatError(h$.notType,e)}};Object.assign(Object.create(null),{mixed:h$,string:f$,number:p$,date:g$,object:b$,array:y$,boolean:x$,tuple:v$});const j$=e=>e&&e.__isYupSchema__;class w${static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:a,otherwise:n}=t,s="function"==typeof r?r:(...e)=>e.every(e=>e===r);return new w$(e,(e,t)=>{var r;let i=s(...e)?a:n;return null!=(r=null==i?void 0:i(t))?r:t})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)),a=this.fn(r,e,t);if(void 0===a||a===e)return e;if(!j$(a))throw new TypeError("conditions must return a schema object");return a.resolve(t)}}const N$="$",E$=".";class S${constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===N$,this.isValue=this.key[0]===E$,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?N$:this.isValue?E$:"";this.path=this.key.slice(r.length),this.getter=this.path&&Gz.getter(this.path,!0),this.map=t.map}getValue(e,t,r){let a=this.isContext?r:this.isValue?e:t;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}S$.prototype.__isYupRef=!0;const k$=e=>null==e;function C$(e){function t({value:t,path:r="",options:a,originalValue:n,schema:s},i,o){const{name:l,test:c,params:d,message:u,skipAbsent:m}=e;let{parent:h,context:f,abortEarly:p=s.spec.abortEarly,disableStackTrace:g=s.spec.disableStackTrace}=a;const x={value:t,parent:h,context:f};function b(e={}){const a=A$(Object.assign({value:t,originalValue:n,label:s.spec.label,path:e.path||r,spec:s.spec,disableStackTrace:e.disableStackTrace||g},d,e.params),x),i=new m$(m$.formatError(e.message||u,a),t,a.path,e.type||l,a.disableStackTrace);return i.params=a,i}const y=p?i:o;let v={path:r,parent:h,type:l,from:a.from,createError:b,resolve:e=>_$(e,x),options:a,originalValue:n,schema:s};const j=e=>{m$.isError(e)?y(e):e?o(null):y(b())},w=e=>{m$.isError(e)?y(e):i(e)};if(m&&k$(t))return j(!0);let N;try{var E;if(N=c.call(v,t,v),"function"==typeof(null==(E=N)?void 0:E.then)){if(a.sync)throw new Error(`Validation test of type: "${v.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(N).then(j,w)}}catch(S){return void w(S)}j(N)}return t.OPTIONS=e,t}function A$(e,t){if(!e)return e;for(const r of Object.keys(e))e[r]=_$(e[r],t);return e}function _$(e,t){return S$.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function T$(e,t,r,a=r){let n,s,i;return t?(Gz.forEach(t,(o,l,c)=>{let d=l?o.slice(1,o.length-1):o,u="tuple"===(e=e.resolve({context:a,parent:n,value:r})).type,m=c?parseInt(d,10):0;if(e.innerType||u){if(u&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${t}. because there is no value at that index. `);n=r,r=r&&r[m],e=u?e.spec.types[m]:e.innerType}if(!c){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${i} which is a type: "${e.type}")`);n=r,r=r&&r[d],e=e.fields[d]}s=d,i=l?"["+o+"]":"."+o}),{schema:e,parent:n,parentPath:s}):{parent:n,parentPath:t,schema:e}}class O$ extends Set{describe(){const e=[];for(const t of this.values())e.push(S$.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new O$(this.values())}merge(e,t){const r=this.clone();return e.forEach(e=>r.add(e)),t.forEach(e=>r.delete(e)),r}}function D$(e,t=new Map){if(j$(e)||!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let r;if(e instanceof Date)r=new Date(e.getTime()),t.set(e,r);else if(e instanceof RegExp)r=new RegExp(e),t.set(e,r);else if(Array.isArray(e)){r=new Array(e.length),t.set(e,r);for(let a=0;a<e.length;a++)r[a]=D$(e[a],t)}else if(e instanceof Map){r=new Map,t.set(e,r);for(const[a,n]of e.entries())r.set(a,D$(n,t))}else if(e instanceof Set){r=new Set,t.set(e,r);for(const a of e)r.add(D$(a,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);r={},t.set(e,r);for(const[a,n]of Object.entries(e))r[a]=D$(n,t)}return r}function P$(e){if(null==e||!e.length)return;const t=[];let r="",a=!1,n=!1;for(let s=0;s<e.length;s++){const i=e[s];"["!==i||n?"]"!==i||n?'"'!==i?"."!==i||a||n?r+=i:r&&(t.push(r),r=""):n=!n:(r&&(/^\d+$/.test(r)?t.push(r):t.push(r.replace(/^"|"$/g,"")),r=""),a=!1):(r&&(t.push(...r.split(".").filter(Boolean)),r=""),a=!0)}return r&&t.push(...r.split(".").filter(Boolean)),t}function M$(e,t){var r;if((null==(r=e.inner)||!r.length)&&e.errors.length)return function(e,t){const r=t?`${t}.${e.path}`:e.path;return e.errors.map(e=>({message:e,path:P$(r)}))}(e,t);const a=t?`${t}.${e.path}`:e.path;return e.inner.flatMap(e=>M$(e,a))}class F${constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new O$,this._blacklist=new O$,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(h$.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=D$(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const a=Object.assign({},t.spec,r.spec);return r.spec=a,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(t=>{e.tests.forEach(e=>{t.test(e.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((t,r)=>r.resolve(t,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,a,n;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(r=e.abortEarly)?r:this.spec.abortEarly,recursive:null!=(a=e.recursive)?a:this.spec.recursive,disableStackTrace:null!=(n=e.disableStackTrace)?n:this.spec.disableStackTrace})}cast(e,t={}){let r=this.resolve(Object.assign({value:e},t)),a="ignore-optionality"===t.assert,n=r._cast(e,t);if(!1!==t.assert&&!r.isType(n)){if(a&&k$(n))return n;let s=s$(e),i=s$(n);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". \n\nattempted value: ${s} \n`+(i!==s?`result of cast: ${i}`:""))}return n}_cast(e,t){let r=void 0===e?e:this.transforms.reduce((t,r)=>r.call(this,t,e,this),e);return void 0===r&&(r=this.getDefault(t)),r}_validate(e,t={},r,a){let{path:n,originalValue:s=e,strict:i=this.spec.strict}=t,o=e;i||(o=this._cast(o,Object.assign({assert:!1},t)));let l=[];for(let c of Object.values(this.internalTests))c&&l.push(c);this.runTests({path:n,value:o,originalValue:s,options:t,tests:l},r,e=>{if(e.length)return a(e,o);this.runTests({path:n,value:o,originalValue:s,options:t,tests:this.tests},r,a)})}runTests(e,t,r){let a=!1,{tests:n,value:s,originalValue:i,path:o,options:l}=e,c=e=>{a||(a=!0,t(e,s))},d=e=>{a||(a=!0,r(e,s))},u=n.length,m=[];if(!u)return d([]);let h={value:s,originalValue:i,path:o,options:l,schema:this};for(let f=0;f<n.length;f++)(0,n[f])(h,c,function(e){e&&(Array.isArray(e)?m.push(...e):m.push(e)),--u<=0&&d(m)})}asNestedTest({key:e,index:t,parent:r,parentPath:a,originalParent:n,options:s}){const i=null!=e?e:t;if(null==i)throw TypeError("Must include `key` or `index` for nested validations");const o="number"==typeof i;let l=r[i];const c=Object.assign({},s,{strict:!0,parent:r,value:l,originalValue:n[i],key:void 0,[o?"index":"key"]:i,path:o||i.includes(".")?`${a||""}[${o?i:`"${i}"`}]`:(a?`${a}.`:"")+e});return(e,t,r)=>this.resolve(c)._validate(l,c,t,r)}validate(e,t){var r;let a=this.resolve(Object.assign({},t,{value:e})),n=null!=(r=null==t?void 0:t.disableStackTrace)?r:a.spec.disableStackTrace;return new Promise((r,s)=>a._validate(e,t,(e,t)=>{m$.isError(e)&&(e.value=t),s(e)},(e,t)=>{e.length?s(new m$(e,t,void 0,void 0,n)):r(t)}))}validateSync(e,t){var r;let a,n=this.resolve(Object.assign({},t,{value:e})),s=null!=(r=null==t?void 0:t.disableStackTrace)?r:n.spec.disableStackTrace;return n._validate(e,Object.assign({},t,{sync:!0}),(e,t)=>{throw m$.isError(e)&&(e.value=t),e},(t,r)=>{if(t.length)throw new m$(t,e,void 0,void 0,s);a=r}),a}isValid(e,t){return this.validate(e,t).then(()=>!0,e=>{if(m$.isError(e))return!1;throw e})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(m$.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"==typeof t?t.call(this,e):D$(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return 0===arguments.length?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=C$({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=C$({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),r}optional(){return this.optionality(!0)}defined(e=h$.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=h$.notNull){return this.nullability(!1,e)}required(e=h$.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=h$.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let r=this.clone(),a=C$(t),n=t.exclusive||t.name&&!0===r.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter(e=>{if(e.OPTIONS.name===t.name){if(n)return!1;if(e.OPTIONS.test===a.OPTIONS.test)return!1}return!0}),r.tests.push(a),r}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let r=this.clone(),a=i$(e).map(e=>new S$(e));return a.forEach(e=>{e.isSibling&&r.deps.push(e.key)}),r.conditions.push("function"==typeof t?new w$(a,t):w$.fromOptions(a,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=C$({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=h$.oneOf){let r=this.clone();return e.forEach(e=>{r._whitelist.add(e),r._blacklist.delete(e)}),r.internalTests.whiteList=C$({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,r=t.resolveAll(this.resolve);return!!r.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:r}})}}),r}notOneOf(e,t=h$.notOneOf){let r=this.clone();return e.forEach(e=>{r._blacklist.add(e),r._whitelist.delete(e)}),r.internalTests.blacklist=C$({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,r=t.resolveAll(this.resolve);return!r.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:r}})}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:a,optional:n,nullable:s}=t.spec,i={meta:a,label:r,optional:n,nullable:s,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((e,t,r)=>r.findIndex(t=>t.OPTIONS.name===e.OPTIONS.name)===t).map(t=>{const r=t.OPTIONS.params&&e?A$(Object.assign({},t.OPTIONS.params),e):t.OPTIONS.params;return{name:t.OPTIONS.name,params:r}})};return i}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(t){try{return{value:await e.validate(t,{abortEarly:!1})}}catch(r){if(r instanceof m$)return{issues:M$(r)};throw r}}}}}F$.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])F$.prototype[`${t}At`]=function(e,r,a={}){const{parent:n,parentPath:s,schema:i}=T$(this,e,r,a.context);return i[t](n&&n[s],Object.assign({},a,{parent:n,path:e}))};for(const t of["equals","is"])F$.prototype[t]=F$.prototype.oneOf;for(const t of["not","nope"])F$.prototype[t]=F$.prototype.notOneOf;const I$=()=>!0;function R$(e){return new L$(e)}class L$ extends F${constructor(e){super("function"==typeof e?{type:"mixed",check:e}:Object.assign({type:"mixed",check:I$},e))}}function z$(){return new $$}R$.prototype=L$.prototype;class $$ extends F${constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"==typeof e)}),this.withMutation(()=>{this.transform((e,t,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=x$.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>k$(e)||!0===e})}isFalse(e=x$.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>k$(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}z$.prototype=$$.prototype;const q$=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function U$(e){var t,r;const a=q$.exec(e);return a?{year:B$(a[1]),month:B$(a[2],1)-1,day:B$(a[3],1),hour:B$(a[4]),minute:B$(a[5]),second:B$(a[6]),millisecond:a[7]?B$(a[7].substring(0,3)):0,precision:null!=(t=null==(r=a[7])?void 0:r.length)?t:void 0,z:a[8]||void 0,plusMinus:a[9]||void 0,hourOffset:B$(a[10]),minuteOffset:B$(a[11])}:null}function B$(e,t=0){return Number(e)||t}let Y$=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,V$=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,H$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,W$=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),G$=e=>k$(e)||e===e.trim(),K$={}.toString();function Q$(){return new X$}class X$ extends F${constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"==typeof e)}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce||r.isType(e))return e;if(Array.isArray(e))return e;const a=null!=e&&e.toString?e.toString():e;return a===K$?e:a})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||h$.required,name:"required",skipAbsent:!0,test:e=>!!e.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(e=>"required"!==e.OPTIONS.name),e))}length(e,t=f$.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t=f$.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t=f$.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let r,a,n=!1;return t&&("object"==typeof t?({excludeEmptyString:n=!1,message:r,name:a}=t):r=t),this.test({name:a||"matches",message:r||f$.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&n||-1!==t.search(e)})}email(e=f$.email){return this.matches(Y$,{name:"email",message:e,excludeEmptyString:!0})}url(e=f$.url){return this.matches(V$,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=f$.uuid){return this.matches(H$,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,r,a="";return e&&("object"==typeof e?({message:a="",allowOffset:t=!1,precision:r}=e):a=e),this.matches(W$,{name:"datetime",message:a||f$.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:a||f$.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const r=U$(e);return!!r&&!!r.z}}).test({name:"datetime_precision",message:a||f$.datetime_precision,params:{precision:r},skipAbsent:!0,test:e=>{if(!e||null==r)return!0;const t=U$(e);return!!t&&t.precision===r}})}ensure(){return this.default("").transform(e=>null===e?"":e)}trim(e=f$.trim){return this.transform(e=>null!=e?e.trim():e).test({message:e,name:"trim",test:G$})}lowercase(e=f$.lowercase){return this.transform(e=>k$(e)?e:e.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>k$(e)||e===e.toLowerCase()})}uppercase(e=f$.uppercase){return this.transform(e=>k$(e)?e:e.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>k$(e)||e===e.toUpperCase()})}}function J$(){return new Z$}Q$.prototype=X$.prototype;class Z$ extends F${constructor(){super({type:"number",check:e=>(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&!(e=>e!=+e)(e))}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce)return e;let a=e;if("string"==typeof a){if(a=a.replace(/\s/g,""),""===a)return NaN;a=+a}return r.isType(a)||null===a?a:parseFloat(a)})})}min(e,t=p$.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t>=this.resolve(e)}})}max(e,t=p$.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t<=this.resolve(e)}})}lessThan(e,t=p$.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(t){return t<this.resolve(e)}})}moreThan(e,t=p$.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(t){return t>this.resolve(e)}})}positive(e=p$.positive){return this.moreThan(0,e)}negative(e=p$.negative){return this.lessThan(0,e)}integer(e=p$.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:e=>Number.isInteger(e)})}truncate(){return this.transform(e=>k$(e)?e:0|e)}round(e){var t;let r=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===r.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(t=>k$(t)?t:Math[e](t))}}J$.prototype=Z$.prototype;let eq=new Date("");class tq extends F${constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation(()=>{this.transform((e,t,r)=>!r.spec.coerce||r.isType(e)||null===e?e:(e=function(e){const t=U$(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let r=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(r=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(r=0-r)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+r,t.second,t.millisecond)}(e),isNaN(e)?tq.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if(S$.isRef(e))r=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=a}return r}min(e,t=g$.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(r)}})}max(e,t=g$.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(r)}})}}function rq(e,t){let r=1/0;return e.some((e,a)=>{var n;if(null!=(n=t.path)&&n.includes(e))return r=a,!0}),r}function aq(e){return(t,r)=>rq(e,t)-rq(e,r)}tq.INVALID_DATE=eq;const nq=(e,t,r)=>{if("string"!=typeof e)return e;let a=e;try{a=JSON.parse(e)}catch(n){}return r.isType(a)?a:e};function sq(e){if("fields"in e){const t={};for(const[r,a]of Object.entries(e.fields))t[r]=sq(a);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=sq(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(sq)}):"optional"in e?e.optional():e}let iq=e=>"[object Object]"===Object.prototype.toString.call(e);function oq(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(e=>-1===r.indexOf(e))}const lq=aq([]);function cq(e){return new dq(e)}class dq extends F${constructor(e){super({type:"object",check:e=>iq(e)||"function"==typeof e}),this.fields=Object.create(null),this._sortErrors=lq,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var r;let a=super._cast(e,t);if(void 0===a)return this.getDefault(t);if(!this._typeCheck(a))return a;let n=this.fields,s=null!=(r=t.stripUnknown)?r:this.spec.noUnknown,i=[].concat(this._nodes,Object.keys(a).filter(e=>!this._nodes.includes(e))),o={},l=Object.assign({},t,{parent:o,__validating:t.__validating||!1}),c=!1;for(const d of i){let e=n[d],r=d in a;if(e){let r,n=a[d];l.path=(t.path?`${t.path}.`:"")+d,e=e.resolve({value:n,context:t.context,parent:o});let s=e instanceof F$?e.spec:void 0,i=null==s?void 0:s.strict;if(null!=s&&s.strip){c=c||d in a;continue}r=t.__validating&&i?a[d]:e.cast(a[d],l),void 0!==r&&(o[d]=r)}else r&&!s&&(o[d]=a[d]);r===d in o&&o[d]===a[d]||(c=!0)}return c?o:a}_validate(e,t={},r,a){let{from:n=[],originalValue:s=e,recursive:i=this.spec.recursive}=t;t.from=[{schema:this,value:s},...n],t.__validating=!0,t.originalValue=s,super._validate(e,t,r,(e,n)=>{if(!i||!iq(n))return void a(e,n);s=s||n;let o=[];for(let r of this._nodes){let e=this.fields[r];e&&!S$.isRef(e)&&o.push(e.asNestedTest({options:t,key:r,parent:n,parentPath:t.path,originalParent:s}))}this.runTests({tests:o,value:n,originalValue:s,options:t},r,t=>{a(t.sort(this._sortErrors).concat(e),n)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[a,n]of Object.entries(this.fields)){const e=r[a];r[a]=void 0===e?n:e}return t.withMutation(t=>t.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var a;const n=this.fields[r];let s=e;null!=(a=s)&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[r]})),t[r]=n&&"getDefault"in n?n.getDefault(s):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=function(e,t=[]){let r=[],a=new Set,n=new Set(t.map(([e,t])=>`${e}-${t}`));function s(e,t){let s=Gz.split(e)[0];a.add(s),n.has(`${t}-${s}`)||r.push([t,s])}for(const i of Object.keys(e)){let t=e[i];a.add(i),S$.isRef(t)&&t.isSibling?s(t.path,i):j$(t)&&"deps"in t&&t.deps.forEach(e=>s(e,i))}return Jz.array(Array.from(a),r).reverse()}(e,t),r._sortErrors=aq(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e,t=[]){return this.clone().withMutation(r=>{let a=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),a=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),a)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return sq(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(([t,r])=>e.includes(t)&&e.includes(r)))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let a=Gz.getter(e,!0);return this.transform(n=>{if(!n)return n;let s=n;return((e,t)=>{const r=[...Gz.normalizePath(t)];if(1===r.length)return r[0]in e;let a=r.pop(),n=Gz.getter(Gz.join(r),!0)(e);return!(!n||!(a in n))})(n,e)&&(s=Object.assign({},n),r||delete s[e],s[t]=a(n)),s})}json(){return this.transform(nq)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||b$.exact,test(e){if(null==e)return!0;const t=oq(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=b$.noUnknown){"boolean"!=typeof e&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const r=oq(this.schema,t);return!e||0===r.length||this.createError({params:{unknown:r.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=b$.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const a of Object.keys(t))r[e(a)]=t[a];return r})}camelCase(){return this.transformKeys(Kz.camelCase)}snakeCase(){return this.transformKeys(Kz.snakeCase)}constantCase(){return this.transformKeys(e=>Kz.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[n,s]of Object.entries(t.fields)){var a;let t=e;null!=(a=t)&&a.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[n]})),r.fields[n]=s.describe(t)}return r}}function uq(e){return new mq(e)}cq.prototype=dq.prototype;class mq extends F${constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const r=super._cast(e,t);if(!this._typeCheck(r)||!this.innerType)return r;let a=!1;const n=r.map((e,r)=>{const n=this.innerType.cast(e,Object.assign({},t,{path:`${t.path||""}[${r}]`}));return n!==e&&(a=!0),n});return a?n:r}_validate(e,t={},r,a){var n;let s=this.innerType,i=null!=(n=t.recursive)?n:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,r,(n,o)=>{var l;if(!i||!s||!this._typeCheck(o))return void a(n,o);let c=new Array(o.length);for(let r=0;r<o.length;r++){var d;c[r]=s.asNestedTest({options:t,index:r,parent:o,parentPath:t.path,originalParent:null!=(d=t.originalValue)?d:e})}this.runTests({value:o,tests:c,originalValue:null!=(l=t.originalValue)?l:e,options:t},r,e=>a(e.concat(n),o))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(nq)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!j$(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+s$(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=y$.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||y$.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||y$.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t))}compact(e){let t=e?(t,r,a)=>!e(t,r,a):e=>!!e;return this.transform(e=>null!=e?e.filter(t):e)}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);if(t.innerType){var a;let n=e;null!=(a=n)&&a.value&&(n=Object.assign({},n,{parent:n.value,value:n.value[0]})),r.innerType=t.innerType.describe(n)}return r}}uq.prototype=mq.prototype;const hq=({onUpload:e,onImageUpload:r,currentImage:a=null,className:n="",disabled:s=!1,required:i=!1,uploading:o=!1,accept:l="image/*",maxSize:c=5})=>{const[d,u]=t.useState(""),[m,h]=t.useState(a),[f,p]=t.useState(!1),[g,x]=t.useState(o),b=t.useRef(null);t.useEffect(()=>{h(a)},[a]);const y=async t=>{u(""),p(!1);const a=e;if(a&&"function"==typeof a)if(t&&t.type.startsWith("image/"))if(t.size>5242880)u("Archivo muy grande. Mximo 5MB permitido");else{x(!0);try{const e=URL.createObjectURL(t);h(e);const n=await a(t);if(n&&!1!==n.success){p(!0),r&&"function"==typeof r&&r(n);const e=n.thumbnailUrl||n.url;e&&h(e),setTimeout(()=>p(!1),3e3)}}catch(n){u(n.message||"Error al subir la imagen"),h(null)}finally{x(!1),b.current&&(b.current.value="")}}else u("Archivo no vlido. Solo se permiten imgenes");else u("Error: funcin de upload no configurada")},v=()=>{!s&&b.current&&b.current.click()};return It.jsx("div",{className:`image-uploader ${n}`,children:It.jsxs("div",{className:"space-y-3",children:[It.jsx("div",{className:`\n            relative border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all\n            ${m?"border-gray-300":"border-gray-400 hover:border-blue-500"}\n            ${s?"opacity-50 cursor-not-allowed":""}\n            ${d?"border-red-400":""}\n            ${f?"border-green-400":""}\n          `,onClick:m?void 0:v,children:m?It.jsxs("div",{className:"relative",children:[It.jsx("img",{src:m,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg mx-auto border-2 border-white shadow-lg"}),It.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:It.jsxs("div",{className:"flex space-x-2",children:[It.jsx("button",{type:"button",onClick:v,disabled:s||g,className:"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-full transition-colors",title:"Cambiar imagen",children:It.jsx(ze,{size:16})}),It.jsx("button",{type:"button",onClick:()=>{h(null),u(""),p(!1)},disabled:s||g,className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-full transition-colors",title:"Eliminar imagen",children:It.jsx(ne,{size:16})})]})}),g&&It.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 rounded-lg flex items-center justify-center",children:It.jsx($e,{className:"animate-spin text-blue-500",size:24})}),f&&It.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white rounded-full p-1",children:It.jsx(S,{size:16})})]}):It.jsx("div",{className:"py-8",children:g?It.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[It.jsx($e,{className:"animate-spin text-blue-500",size:32}),It.jsx("p",{className:"text-gray-600",children:"Subiendo imagen..."})]}):It.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[It.jsx("div",{className:"bg-gray-100 rounded-full p-4",children:It.jsx(qe,{className:"text-gray-400",size:32})}),It.jsxs("div",{className:"space-y-1",children:[It.jsxs("p",{className:"text-gray-700 font-medium",children:["Subir foto del estudiante ",i&&It.jsx("span",{className:"text-red-500",children:"*"})]}),It.jsx("p",{className:"text-gray-500 text-sm",children:"Haz clic o arrastra una imagen aqu"}),It.jsx("p",{className:"text-gray-400 text-xs",children:"PNG, JPG hasta 5MB"})]}),It.jsxs("button",{type:"button",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2",disabled:s,children:[It.jsx(_e,{size:16}),It.jsx("span",{children:"Seleccionar archivo"})]})]})})}),It.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&y(t)},className:"hidden",disabled:s}),d&&It.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg border border-red-200",children:[It.jsx(j,{size:16}),It.jsx("span",{className:"text-sm",children:d})]}),f&&It.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 p-3 rounded-lg border border-green-200",children:[It.jsx(S,{size:16}),It.jsx("span",{className:"text-sm",children:"Imagen subida exitosamente!"})]})]})})},fq=cq({name:Q$().required("El nombre es requerido").trim(),age:J$().required("La edad es requerida").min(5,"La edad mnima es 5 aos").max(18,"La edad mxima es 18 aos"),grade:Q$().required("El grado es requerido"),parent:Q$().required("El nombre del padre/madre es requerido").trim(),phone:Q$().required("El telfono es requerido").trim(),email:Q$().email("El email no es vlido").required("El email es requerido"),address:Q$().required("La direccin es requerida").trim(),photo:cq().nullable().required("La foto del estudiante es requerida"),birthDate:Q$(),dni:Q$(),emergencyContact:Q$(),emergencyPhone:Q$(),allergies:Q$(),medicalNotes:Q$()}),pq=({label:e,error:t,required:r,children:a,className:n=""})=>It.jsxs("div",{className:n,children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",r&&It.jsx("span",{className:"text-red-500",children:"*"})]}),a,t&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:t})]}),gq=({title:e,icon:t,iconColor:r,children:a})=>It.jsxs("div",{children:[It.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[It.jsx(t,{className:`w-5 h-5 ${r}`}),e]}),a]}),xq=["1ro Grado","2do Grado","3ro Grado","4to Grado","5to Grado","6to Grado"],bq=({isOpen:e,onClose:r})=>{const{createStudent:a,creating:n,uploading:s}=xc(),{register:i,handleSubmit:o,formState:{errors:l},setValue:c,watch:d,reset:u}=Iz({resolver:Uz(fq),defaultValues:{name:"",age:"",grade:"",parent:"",phone:"",email:"",address:"",birthDate:"",dni:"",emergencyContact:"",emergencyPhone:"",allergies:"",medicalNotes:"",photo:null,photoFile:null}}),m=d("photo");d("photoFile");const h=async e=>{try{await a(e),f()}catch(t){}},f=()=>{u(),r()},p=e=>"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(e?"border-red-500":"border-gray-300"),g=n||s;return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:f,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-lg bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx(Ue,{className:"w-6 h-6 text-blue-600"}),It.jsx(ki.Title,{className:"text-xl font-semibold text-gray-900",children:"Agregar Nuevo Estudiante"})]}),It.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:g,children:It.jsx(ne,{className:"w-6 h-6"})})]}),It.jsxs("form",{onSubmit:o(h),className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[It.jsxs(gq,{title:"Informacin Personal",icon:ee,iconColor:"text-blue-600",children:[It.jsx(pq,{label:"Foto del Estudiante",required:!0,error:l.photo?.message,className:"mb-6",children:It.jsx(hq,{onUpload:async e=>({file:e}),onImageUpload:e=>{if(e&&e.file){c("photoFile",e.file);const t=URL.createObjectURL(e.file);c("photo",{url:t})}else c("photoFile",null),c("photo",null)},currentImage:m?.url,required:!0,disabled:g})}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(pq,{label:"Nombre Completo",required:!0,error:l.name?.message,children:It.jsx("input",{...i("name"),className:p(l.name),placeholder:"Ej: Ana Garca Rodrguez",disabled:g})}),It.jsx(pq,{label:"DNI",error:l.dni?.message,children:It.jsx("input",{...i("dni"),className:p(l.dni),placeholder:"Ej: 12345678",maxLength:"8",disabled:g})}),It.jsx(pq,{label:"Edad",required:!0,error:l.age?.message,children:It.jsx("input",{type:"number",...i("age"),className:p(l.age),placeholder:"Ej: 10",min:"5",max:"18",disabled:g})}),It.jsx(pq,{label:"Fecha de Nacimiento",error:l.birthDate?.message,children:It.jsx("input",{type:"date",...i("birthDate"),className:p(l.birthDate),disabled:g})})]})]}),It.jsx(gq,{title:"Informacin Acadmica",icon:Z,iconColor:"text-green-600",children:It.jsx(pq,{label:"Grado",required:!0,error:l.grade?.message,children:It.jsxs("select",{...i("grade"),className:p(l.grade),disabled:g,children:[It.jsx("option",{value:"",children:"Seleccionar grado"}),xq.map(e=>It.jsx("option",{value:e,children:e},e))]})})}),It.jsx(gq,{title:"Informacin del Padre/Madre",icon:ee,iconColor:"text-purple-600",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(pq,{label:"Nombre del Padre/Madre",required:!0,error:l.parent?.message,children:It.jsx("input",{...i("parent"),className:p(l.parent),placeholder:"Ej: Mara Rodrguez",disabled:g})}),It.jsx(pq,{label:"Telfono",required:!0,error:l.phone?.message,children:It.jsx("input",{type:"tel",...i("phone"),className:p(l.phone),placeholder:"Ej: +51 987 654 321",disabled:g})}),It.jsx(pq,{label:"Email",required:!0,error:l.email?.message,children:It.jsx("input",{type:"email",...i("email"),className:p(l.email),placeholder:"Ej: maria.rodriguez@email.com",disabled:g})}),It.jsx(pq,{label:"Direccin",required:!0,error:l.address?.message,children:It.jsx("input",{...i("address"),className:p(l.address),placeholder:"Ej: Av. Universitaria 123, Lima",disabled:g})})]})}),It.jsx(gq,{title:"Contacto de Emergencia",icon:Be,iconColor:"text-red-600",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(pq,{label:"Nombre del Contacto",error:l.emergencyContact?.message,children:It.jsx("input",{...i("emergencyContact"),className:p(l.emergencyContact),placeholder:"Ej: Carlos Garca",disabled:g})}),It.jsx(pq,{label:"Telfono de Emergencia",error:l.emergencyPhone?.message,children:It.jsx("input",{type:"tel",...i("emergencyPhone"),className:p(l.emergencyPhone),placeholder:"Ej: +51 987 654 322",disabled:g})})]})}),It.jsx(gq,{title:"Informacin Mdica (Opcional)",icon:ue,iconColor:"text-yellow-600",children:It.jsxs("div",{className:"space-y-4",children:[It.jsx(pq,{label:"Alergias",error:l.allergies?.message,children:It.jsx("textarea",{...i("allergies"),className:p(l.allergies),rows:"2",placeholder:"Ej: Alrgico a los mariscos, polen...",disabled:g})}),It.jsx(pq,{label:"Notas Mdicas",error:l.medicalNotes?.message,children:It.jsx("textarea",{...i("medicalNotes"),className:p(l.medicalNotes),rows:"2",placeholder:"Medicamentos, condiciones especiales, etc.",disabled:g})})]})})]}),It.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:[It.jsx("button",{type:"button",onClick:f,disabled:g,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),It.jsx("button",{onClick:o(h),disabled:g,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-w-[140px]",children:g?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),s?"Subiendo...":"Guardando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),"Guardar"]})})]})]})})})})]})})},yq=({label:e,value:t,icon:r,className:a=""})=>It.jsxs("div",{className:`bg-gray-50 p-3 rounded-lg ${a}`,children:[It.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[It.jsx(r,{className:"w-4 h-4 text-gray-600"}),It.jsx("span",{className:"text-sm font-medium text-gray-700",children:e})]}),It.jsx("div",{className:"text-gray-900 ml-6",children:t||"No especificado"})]}),vq=({isOpen:e,onClose:r,estudiante:a})=>{if(!a)return null;const n=()=>{r()},s=e=>{if(!e)return null;const t=new Date,r=new Date(e);let a=t.getFullYear()-r.getFullYear();const n=t.getMonth()-r.getMonth();return(n<0||0===n&&t.getDate()<r.getDate())&&a--,a};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:n,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(N,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Informacin del Estudiante"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Detalles completos del estudiante"})]})]}),It.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg",children:[It.jsx("div",{className:"flex-shrink-0"}),It.jsxs("div",{className:"flex-1 text-center md:text-left",children:[It.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:a.nombre&&a.apellido?`${a.nombre} ${a.apellido}`:a.nombre||a.apellido||"Sin nombre"}),(a.grado||a.grade)&&It.jsxs("p",{className:"text-lg text-blue-600 font-medium mb-2 flex items-center justify-center md:justify-start",children:[It.jsx(Z,{className:"w-5 h-5 mr-2"}),a.grado||a.grade]}),It.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 text-sm text-gray-600",children:[(a.correo||a.email)&&It.jsxs("span",{className:"flex items-center",children:[It.jsx(Ve,{className:"w-4 h-4 mr-1"}),a.correo||a.email]}),(a.telefono||a.phone)&&It.jsxs("span",{className:"flex items-center",children:[It.jsx(Be,{className:"w-4 h-4 mr-1"}),a.telefono||a.phone]}),(a.edad||s(a.fechaNacimiento))&&It.jsxs("span",{className:"flex items-center",children:[It.jsx(ue,{className:"w-4 h-4 mr-1"}),a.edad||s(a.fechaNacimiento)," aos"]})]})]})]}),It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(ee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Informacin Personal"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(a.nombre||a.apellido)&&It.jsx(yq,{label:"Nombre Completo",value:`${a.nombre||""} ${a.apellido||""}`.trim(),icon:ee}),(a.tipoDocumento||a.nroDocumento)&&It.jsx(yq,{label:"Documento",value:`${a.tipoDocumento||"DNI"}: ${a.nroDocumento||"No especificado"}`,icon:He}),a.fechaNacimiento&&It.jsx(yq,{label:"Fecha de Nacimiento",value:new Date(a.fechaNacimiento).toLocaleDateString("es-ES"),icon:ue}),(a.edad||s(a.fechaNacimiento))&&It.jsx(yq,{label:"Edad",value:`${a.edad||s(a.fechaNacimiento)} aos`,icon:L}),a.genero&&It.jsx(yq,{label:"Gnero",value:a.genero,icon:ee}),(a.correo||a.email)&&It.jsx(yq,{label:"Email",value:a.correo||a.email,icon:Ve}),(a.telefono||a.phone)&&It.jsx(yq,{label:"Telfono",value:a.telefono||a.phone,icon:Be}),void 0!==a.estaActivo&&It.jsx(yq,{label:"Estado",value:a.estaActivo?"Activo":"Inactivo",icon:ie}),(a.direccion||a.address)&&It.jsx(yq,{label:"Direccin",value:a.direccion||a.address,icon:We,className:"md:col-span-2"})]})]}),a.idUsuario&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(Ge,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Informacin de Usuario del Sistema"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.idUsuario.usuario&&It.jsx(yq,{label:"Nombre de Usuario",value:a.idUsuario.usuario,icon:ae}),void 0!==a.idUsuario.estaActivo&&It.jsx(yq,{label:"Estado de Usuario",value:It.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full "+(a.idUsuario.estaActivo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:a.idUsuario.estaActivo?"Activo":"Inactivo"}),icon:ie}),a.idUsuario.creado&&It.jsx(yq,{label:"Fecha de Registro",value:new Date(a.idUsuario.creado).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),icon:ue}),a.idUsuario.ultimaConexion&&It.jsx(yq,{label:"ltima Conexin",value:new Date(a.idUsuario.ultimaConexion).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),icon:de})]})]}),(()=>{const e=a.matriculas?.find(e=>"activo"===e.matriculaAula?.estado)||a.matriculas?.[0],t=e?.matriculaAula?.aula,r=t?.idGrado;return t||r||a.grado||a.seccion?It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(Z,{className:"w-5 h-5 mr-2 text-green-600"}),"Informacin Acadmica"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r?.grado&&It.jsx(yq,{label:"Grado",value:r.grado,icon:Z}),t?.seccion&&It.jsx(yq,{label:"Aula",value:t.seccion,icon:ce}),e?.anioEscolar&&It.jsx(yq,{label:"Ao Escolar",value:e.anioEscolar,icon:ue}),e?.matriculaAula?.estado&&It.jsx(yq,{label:"Estado Matrcula",value:"activo"===e.matriculaAula.estado?"Activa":"Inactiva",icon:ie}),e?.fechaIngreso&&It.jsx(yq,{label:"Fecha de Ingreso",value:new Date(e.fechaIngreso).toLocaleDateString("es-ES"),icon:ue}),e?.costoMatricula&&It.jsx(yq,{label:"Costo Matrcula",value:`S/ ${parseFloat(e.costoMatricula).toFixed(2)}`,icon:He})]})]}):null})(),(a.apoderados||a.padres)&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(oe,{className:"w-5 h-5 mr-2 text-purple-600"}),"Apoderados"]}),It.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(a.apoderados||a.padres)?.map((e,t)=>It.jsxs("div",{className:"flex items-center p-3 bg-white rounded-lg border",children:[It.jsx(T,{className:"w-4 h-4 text-purple-600 mr-2"}),It.jsxs("div",{className:"flex-1",children:[It.jsx("p",{className:"font-medium text-gray-900",children:"string"==typeof e?e:`${e.nombre||""} ${e.apellido||""}`.trim()||"Sin nombre"}),"object"==typeof e&&e.parentesco&&It.jsx("p",{className:"text-sm text-gray-600",children:e.parentesco}),"object"==typeof e&&e.telefono&&It.jsx("p",{className:"text-sm text-gray-600",children:e.telefono})]})]},t))})})]}),(a.tipoSangre||a.alergias||a.medicamentos||a.condicionesMedicas)&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(j,{className:"w-5 h-5 mr-2 text-red-600"}),"Informacin Mdica"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.tipoSangre&&It.jsx(yq,{label:"Tipo de Sangre",value:a.tipoSangre,icon:T}),a.alergias&&It.jsx(yq,{label:"Alergias",value:a.alergias,icon:j}),a.medicamentos&&It.jsx(yq,{label:"Medicamentos",value:a.medicamentos,icon:he,className:"md:col-span-2"}),a.condicionesMedicas&&It.jsx(yq,{label:"Condiciones Mdicas",value:a.condicionesMedicas,icon:j,className:"md:col-span-2"})]})]}),a.contactosEmergencia&&Array.isArray(a.contactosEmergencia)&&a.contactosEmergencia.length>0&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(Ke,{className:"w-5 h-5 mr-2 text-red-600"}),"Contactos de Emergencia"]}),It.jsx("div",{className:"space-y-3",children:a.contactosEmergencia.map((e,t)=>It.jsxs("div",{className:"p-4 rounded-lg border-2 "+(e.esPrincipal?"border-red-200 bg-red-50":"border-gray-200 bg-gray-50"),children:[e.esPrincipal&&It.jsxs("div",{className:"flex items-center mb-2",children:[It.jsx(j,{className:"w-4 h-4 text-red-600 mr-1"}),It.jsx("span",{className:"text-sm font-medium text-red-700",children:"Contacto Principal"})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[It.jsx(yq,{label:"Nombre Completo",value:`${e.nombre||""} ${e.apellido||""}`.trim()||"Sin nombre",icon:ee}),It.jsx(yq,{label:"Relacin/Parentesco",value:e.tipoContacto||e.relacionEstudiante||"No especificado",icon:T}),e.telefono&&It.jsx(yq,{label:"Telfono",value:e.telefono,icon:Be}),e.email&&It.jsx(yq,{label:"Email",value:e.email,icon:Qe}),e.direccion&&It.jsx(yq,{label:"Direccin",value:e.direccion,icon:We,className:"md:col-span-2"})]})]},t))})]}),(a.contactoEmergencia||a.telefonoEmergencia)&&!a.contactosEmergencia&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(j,{className:"w-5 h-5 mr-2 text-red-600"}),"Contacto de Emergencia"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.contactoEmergencia&&It.jsx(yq,{label:"Nombre del Contacto",value:a.contactoEmergencia,icon:ee}),a.telefonoEmergencia&&It.jsx(yq,{label:"Telfono de Emergencia",value:a.telefonoEmergencia,icon:Be})]})]}),(a.notas||a.observaciones)&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(he,{className:"w-5 h-5 mr-2 text-gray-600"}),"Notas y Observaciones"]}),It.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:It.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:a.notas||a.observaciones})})]})]}),It.jsx("div",{className:"flex justify-end pt-6 border-t mt-6",children:It.jsx("button",{onClick:n,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Cerrar"})})]})})})})]})})},jq=cq({nombre:Q$().required("El nombre es requerido").trim(),apellido:Q$().required("El apellido es requerido").trim(),observaciones:Q$().max(500,"Las observaciones no pueden exceder 500 caracteres")}),wq=({label:e,error:t,required:r,children:a,className:n=""})=>It.jsxs("div",{className:n,children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",r&&It.jsx("span",{className:"text-red-500",children:"*"})]}),a,t&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:t})]}),Nq=({title:e,icon:t,iconColor:r,children:a})=>It.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[It.jsx(t,{className:`w-6 h-6 mr-3 ${r}`}),e]}),It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a})]}),Eq=["DNI","Carnet de Extranjera","Pasaporte"],Sq=({isOpen:e,onClose:r,estudiante:a})=>{const{updateStudent:n,updating:s}=xc(),{register:i,handleSubmit:o,formState:{errors:l},setValue:c,watch:d,reset:u}=Iz({resolver:Uz(jq),defaultValues:{nombre:"",apellido:"",nroDocumento:"",tipoDocumento:"DNI",fechaNacimiento:"",idRol:"",observaciones:""}}),m=s,h=e=>`w-full px-3 py-2 border rounded-md transition-colors ${e?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"} focus:outline-none focus:ring-1`;t.useEffect(()=>{a&&e&&u({nombre:a.nombre||"",apellido:a.apellido||"",nroDocumento:a.nroDocumento||"",tipoDocumento:a.tipoDocumento||"DNI",fechaNacimiento:a.fechaNacimiento||"",idRol:a.idRol||"",observaciones:a.observaciones||""})},[a,e,u]);const f=async e=>{try{const t=a.id||a.idEstudiante;if(!t)throw new Error("No se pudo identificar al estudiante para actualizar");const r={};if(e.nombre!==a.nombre&&(r.nombre=e.nombre),e.apellido!==a.apellido&&(r.apellido=e.apellido),e.observaciones!==a.observaciones&&(r.observaciones=e.observaciones),0===Object.keys(r).length)return void ca.info("No se detectaron cambios para actualizar");await n(t,r),p()}catch(t){}},p=()=>{u({nombre:"",apellido:"",nroDocumento:"",tipoDocumento:"DNI",fechaNacimiento:"",idRol:"",observaciones:""}),r()};return a?It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:p,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-blue-50",children:[It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(L,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-xl font-semibold text-gray-900",children:"Editar Estudiante"}),It.jsxs("p",{className:"text-sm text-gray-600",children:[a.nombre," ",a.apellido]})]})]}),It.jsx("button",{onClick:p,disabled:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto bg-gray-50",children:It.jsxs("form",{onSubmit:o(f),className:"space-y-6",children:[It.jsxs(Nq,{title:"Informacin Personal",icon:ee,iconColor:"text-blue-600",children:[It.jsx(wq,{label:"Nombre",required:!0,error:l.nombre?.message,children:It.jsx("input",{...i("nombre"),className:h(l.nombre),placeholder:"Ej: Mara",disabled:m})}),It.jsx(wq,{label:"Apellido",required:!0,error:l.apellido?.message,children:It.jsx("input",{...i("apellido"),className:h(l.apellido),placeholder:"Ej: Garca",disabled:m})})]}),It.jsxs(Nq,{title:"Informacin de Documentos",icon:Z,iconColor:"text-purple-600",children:[It.jsxs(wq,{label:"Tipo de Documento",required:!0,children:[It.jsx("select",{...i("tipoDocumento"),className:`${h()} bg-gray-100 cursor-not-allowed`,disabled:!0,children:Eq.map(e=>It.jsx("option",{value:e,children:e},e))}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" El tipo de documento no se puede modificar una vez creado"})]}),It.jsxs(wq,{label:"Nmero de Documento",required:!0,children:[It.jsx("input",{...i("nroDocumento"),className:`${h()} bg-gray-100 cursor-not-allowed`,placeholder:"Ej: 87654321",disabled:!0,readOnly:!0}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" El nmero de documento no se puede modificar (es nico e inmutable)"})]})]}),It.jsx(Nq,{title:"Observaciones",icon:T,iconColor:"text-purple-600",children:It.jsxs(wq,{label:"Observaciones",error:l.observaciones?.message,className:"md:col-span-2",children:[It.jsx("textarea",{...i("observaciones"),rows:3,className:h(l.observaciones),placeholder:"Observaciones adicionales sobre el estudiante...",disabled:m}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Mximo 500 caracteres"})]})})]})}),It.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:[It.jsx("button",{type:"button",onClick:p,disabled:m,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),It.jsx("button",{onClick:o(f),disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:m?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),"Actualizando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),"Actualizar Estudiante"]})})]})]})})})})]})}):null},kq=({isOpen:e,onClose:r,estudiante:a})=>{const{deleteStudent:n,deleting:s}=xc(),[i,o]=t.useState("");if(!a)return null;const l=`${a.nombre} ${a.apellido}`,c=i.trim().toLowerCase()!==l.toLowerCase(),d=()=>{o(""),r()};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:d,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-lg bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:It.jsx(Xe,{className:"w-6 h-6 text-red-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-xl font-semibold text-gray-900",children:"Confirmar Eliminacin"}),It.jsx("p",{className:"text-sm text-gray-600",children:"Esta accin no se puede deshacer"})]})]}),It.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:s,children:It.jsx(ne,{className:"w-6 h-6"})})]}),It.jsxs("div",{className:"p-6",children:[It.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:It.jsx("div",{className:"flex items-center gap-3",children:It.jsxs("div",{children:[It.jsx("h3",{className:"font-semibold text-gray-900",children:`${a.nombre} ${a.apellido}`}),It.jsx("p",{className:"text-sm text-gray-600",children:a.grado}),It.jsxs("p",{className:"text-sm text-gray-500",children:["Padre/Madre: ",a.nombrePadre||"No registrado"]})]})})}),It.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:It.jsxs("div",{className:"flex gap-3",children:[It.jsx(Xe,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),It.jsxs("div",{children:[It.jsxs("h4",{className:"font-medium text-red-800 mb-2",children:['Ests seguro de eliminar a "',`${a.nombre} ${a.apellido}`,'"?']}),It.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[It.jsx("li",{children:" Se eliminar toda la informacin del estudiante"}),It.jsx("li",{children:" Se perdern todos los registros acadmicos"}),It.jsx("li",{children:" Se eliminar el historial de asistencia"}),It.jsx("li",{children:" Esta accin no se puede deshacer"})]})]})]})}),It.jsxs("div",{className:"mb-6",children:[It.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:["Para confirmar la eliminacin, escribe ",It.jsxs("strong",{children:['"',`${a.nombre} ${a.apellido}`,'"']})," en el campo de abajo:"]}),It.jsx("input",{type:"text",id:"confirmName",value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:`Escribe "${a.nombre} ${a.apellido}" para confirmar`,disabled:s})]}),It.jsxs("div",{className:"flex justify-end gap-3",children:[It.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:s,children:"Cancelar"}),It.jsx("button",{onClick:async()=>{if(!c)try{const e=a.idEstudiante||a.id;if(!e)throw new Error("ID del estudiante no encontrado");await n(e),d()}catch(e){}},disabled:s||c,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 min-w-[160px]",children:s?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),"Eliminando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Le,{className:"w-4 h-4"}),"Eliminar Estudiante"]})})]})]})]})})})})]})})},Cq=()=>{const{students:e,loading:r}=xc(),[a,n]=t.useState(!1),[s,i]=t.useState(!1),[o,l]=t.useState(!1),[c,d]=t.useState(!1),[u,m]=t.useState(null);return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Estudiantes"}),It.jsx(lL,{estudiantes:e,loading:r,onAdd:()=>{n(!0)},onEdit:e=>{m(e),l(!0)},onDelete:e=>{m(e),d(!0)},onView:e=>{m(e),i(!0)}}),It.jsx(bq,{isOpen:a,onClose:()=>n(!1)}),It.jsx(vq,{isOpen:s,onClose:()=>{i(!1),m(null)},estudiante:u}),It.jsx(Sq,{isOpen:o,onClose:()=>{l(!1),m(null)},estudiante:u}),It.jsx(kq,{isOpen:c,onClose:()=>{d(!1),m(null)},estudiante:u})]})},Aq=({matriculas:e=[],loading:t=!1,onAdd:r,onEdit:a,onDelete:n,onView:s})=>It.jsx(eL,{data:e,columns:nL,loading:t,title:"Tabla de Matrcula",searchPlaceholder:"Buscar por nombre de estudiante...",actions:{add:!0,edit:!0,delete:!1,view:!0,import:!1,export:!1},onAdd:r,onEdit:a,onDelete:n,onView:s,addButtonText:"Nueva Matrcula",loadingMessage:"Cargando matrculas...",emptyMessage:"No hay matrculas registradas",itemsPerPage:10,enablePagination:!0,enableSearch:!0,enableSort:!0}),_q=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});_q.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),_q.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const Tq={async getMatriculas(e={}){try{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.search&&t.append("search",e.search),e.grade&&t.append("grade",e.grade),e.status&&t.append("status",e.status);const r=t.toString(),a=r?`/matricula/estudiantes-con-apoderados?${r}`:"/matricula/estudiantes-con-apoderados",n=await _q.get(a);if(n.data){let e=[];return Array.isArray(n.data)?e=n.data:n.data.data&&Array.isArray(n.data.data)?e=n.data.data:n.data.info&&Array.isArray(n.data.info)?e=n.data.info:n.data.info&&n.data.info.data&&Array.isArray(n.data.info.data)?e=n.data.info.data:n.data.matriculas&&Array.isArray(n.data.matriculas)&&(e=n.data.matriculas),{data:e,total:e.length,success:!0}}return n.data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener matrculas")}},async getStudentById(e){try{return(await _q.get(`/estudiante/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener estudiante")}},async getMatriculaByEstudianteId(e){try{const r=await _q.get("/matricula/estudiantes-con-apoderados"),a=(r.data?.info?.data||r.data?.data||r.data||[]).find(t=>t.idEstudiante?.idEstudiante===e||t.idEstudiante?.id===e);if(!a)throw new Error("Matrcula no encontrada para este estudiante");if(!a.idEstudiante?.contactosEmergencia||0===a.idEstudiante.contactosEmergencia.length)try{const t=await this.getStudentById(e);t.estudiante?.contactosEmergencia&&(a.idEstudiante.contactosEmergencia=t.estudiante.contactosEmergencia)}catch(t){}return a}catch(r){throw new Error(r.response?.data?.message||"Error al obtener matrcula completa")}},async getMatriculaById(e){try{return(await _q.get(`/matricula/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener matrcula")}},async createMatricula(e){try{if(!e.estudianteData)throw new Error("Faltan datos del estudiante");if(!e.apoderadoData)throw new Error("Faltan datos del apoderado");if(!e.estudianteData.contactosEmergencia||!Array.isArray(e.estudianteData.contactosEmergencia))throw new Error("Los contactos de emergencia son requeridos y deben ser un array");if(0===e.estudianteData.contactosEmergencia.length)throw new Error("Debe proporcionar al menos un contacto de emergencia");e.estudianteData.contactosEmergencia.forEach((e,t)=>{if(!(e.nombre&&e.apellido&&e.telefono&&e.email))throw new Error(`El contacto ${t+1} debe tener nombre, apellido, telfono y email`)});const t={fechaIngreso:e.fechaIngreso,idGrado:e.idGrado,costoMatricula:e.costoMatricula,apoderadoData:e.apoderadoData,estudianteData:e.estudianteData};return(await _q.post("/matricula",t)).data}catch(t){if(t.response){const e=t.response.status,r=t.response.data;let a="Error al crear matrcula";throw 400===e?a=r?.message||"Datos invlidos":401===e?a="No autorizado. Por favor, inicie sesin nuevamente":403===e?a="No tiene permisos para realizar esta operacin":404===e?a="Recurso no encontrado":409===e?a=r?.message||"Conflicto al crear matrcula":e>=500&&(a="Error del servidor"),new Error(a)}throw t.request?new Error("Error de conexin. Verifique su conexin a internet"):new Error(t.message||"Error inesperado al crear la matrcula")}},async updateMatricula(e,t){try{const r={...t,fechaActualizacion:(new Date).toISOString()};return(await _q.patch(`/matricula/${e}`,r)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar matrcula")}},async updateEstudiante(e,t){try{const r={nombre:t.nombre?.trim(),apellido:t.apellido?.trim(),nroDocumento:t.nroDocumento?.trim(),tipoDocumento:t.tipoDocumento,contactoEmergencia:t.contactoEmergencia?.trim(),nroEmergencia:t.nroEmergencia?.trim(),observaciones:t.observaciones?.trim()||null};return Object.keys(r).forEach(e=>{void 0===r[e]&&delete r[e]}),(await _q.patch(`/estudiante/${e}`,r)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar estudiante")}},async updateApoderado(e,t){try{const r={nombre:t.nombre?.trim(),apellido:t.apellido?.trim(),documentoIdentidad:t.documentoIdentidad?.trim(),tipoDocumentoIdentidad:t.tipoDocumentoIdentidad,numero:t.numero?.trim(),correo:t.correo?.trim(),direccion:t.direccion?.trim()};return Object.keys(r).forEach(e=>{void 0===r[e]&&delete r[e]}),(await _q.patch(`/apoderado/${e}`,r)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar apoderado")}},async getApoderados(){try{const e=await _q.get("/apoderado");let t=[];return Array.isArray(e.data)?t=e.data:e.data?.data&&Array.isArray(e.data.data)?t=e.data.data:e.data?.info&&Array.isArray(e.data.info)?t=e.data.info:e.data?.info?.data&&Array.isArray(e.data.info.data)?t=e.data.info.data:e.data?.apoderados&&Array.isArray(e.data.apoderados)&&(t=e.data.apoderados),t}catch(e){throw new Error(e.response?.data?.message||"Error al obtener apoderados")}},async getApoderadoById(e){try{return(await _q.get(`/apoderado/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener apoderado")}},async searchApoderados(e){try{if(!e||e.trim().length<2)return[];const t=await this.getApoderados();return t.filter(t=>{const r=e.toLowerCase().trim(),a=(t.nombre||"").toLowerCase(),n=(t.apellido||"").toLowerCase(),s=(t.documentoIdentidad||"").toLowerCase(),i=`${a} ${n}`.toLowerCase();return a.includes(r)||n.includes(r)||s.includes(r)||i.includes(r)})}catch(t){throw new Error(t.response?.data?.message||"Error al buscar apoderados")}},async deleteMatricula(e){try{return(await _q.delete(`/matricula/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar matrcula")}},async toggleMatriculaStatus(e){try{return(await _q.patch(`/matricula/${e}/toggle-status`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al cambiar estado de matrcula")}},async getMatriculaStats(){try{return(await _q.get("/matricula/stats")).data}catch(e){throw new Error(e.response?.data?.message||"Error al obtener estadsticas")}},async actualizarContactosMatricula(e,t){try{return(await _q.patch(`/matricula/actualizar-contactos/${e}`,t)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar contactos de matrcula")}},async asignarAula(e,t){try{return(await _q.post(`/matricula/${e}/asignar-aula`,{idAula:t})).data}catch(r){throw new Error(r.response?.data?.message||"Error al asignar aula a la matrcula")}},async registrarPagoEnCaja(e,t){try{return(await _q.post(`/matricula/${e}/registrar-en-caja`,t)).data}catch(r){throw new Error(r.response?.data?.message||"Error al registrar pago en caja")}}},Oq={all:["matriculas"],lists:()=>[...Oq.all,"list"],list:e=>[...Oq.lists(),{filters:e}],details:()=>[...Oq.all,"detail"],detail:e=>[...Oq.details(),e]},Dq=()=>{const[e,r]=t.useState({}),{data:a=[],isLoading:n,error:s,refetch:i}=((e={})=>{const t=Object.keys(e).reduce((t,r)=>(e[r]&&""!==e[r]&&"all"!==e[r]&&(t[r]=e[r]),t),{});return Qr({queryKey:Oq.list(t),queryFn:()=>Tq.getMatriculas(t),staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!1,retry:2,select:e=>e?.data&&Array.isArray(e.data)?e.data:Array.isArray(e)?e:[]})})(e),o=(()=>{const e=Yr();return Xr({mutationFn:async e=>{let t=null;if(e.voucherFile)try{t=(await uc(e.voucherFile)).url}catch(a){t=""}const r={...e,voucherImg:t||e.voucherImg||""};return delete r.voucherFile,Tq.createMatricula(r)},onSuccess:t=>{e.invalidateQueries({queryKey:Oq.lists()}),ca.success("Matrcula creada exitosamente!",{description:"La matrcula ha sido registrada en el sistema"})},onError:e=>{ca.error("Error al crear matrcula",{description:e.message||"Ocurri un error inesperado"})}})})(),l=(()=>{const e=Yr();return Xr({mutationFn:async({id:e,...t})=>{let r=t.voucherImg;if(t.voucherFile)try{r=(await uc(t.voucherFile)).url}catch(n){throw new Error("Error al subir el nuevo voucher")}const a={...t,voucherImg:r};return delete a.voucherFile,Tq.updateMatricula(e,a)},onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Oq.lists()}),e.invalidateQueries({queryKey:Oq.detail(r)}),ca.success("Matrcula actualizada exitosamente",{description:"Los datos de la matrcula han sido actualizados"})},onError:e=>{ca.error("Error al actualizar matrcula",{description:e.message||"Ocurri un error inesperado"})}})})(),c=(()=>{const e=Yr();return Xr({mutationFn:Tq.deleteMatricula,onSuccess:t=>{e.invalidateQueries({queryKey:Oq.lists()}),ca.success("Matrcula eliminada exitosamente",{description:"El registro ha sido eliminado del sistema"})},onError:e=>{ca.error("Error al eliminar matrcula",{description:e.message||"Ocurri un error inesperado"})}})})(),d=(()=>{const e=Yr();return Xr({mutationFn:Tq.toggleMatriculaStatus,onSuccess:t=>{e.invalidateQueries({queryKey:Oq.lists()}),e.invalidateQueries({queryKey:Oq.detail(t.idMatricula)});const r=t.estaActivo?"activada":"desactivada";ca.success(`Matrcula ${r} exitosamente!`,{description:`La matrcula ha sido ${r}`})},onError:e=>{ca.error("Error al cambiar estado de la matrcula",{description:e.message||"Ocurri un error inesperado"})}})})(),u=(()=>{const e=Yr();return Xr({mutationFn:({file:e,format:t})=>Tq.importMatriculas(e,t),onSuccess:t=>{e.invalidateQueries({queryKey:Oq.all}),ca.success("Datos importados exitosamente",{description:`Se importaron ${t.imported||t.success||"varios"} registros correctamente`})},onError:e=>{ca.error("Error al importar datos",{description:e.message||"Ocurri un error durante la importacin"})}})})(),m=Xr({mutationFn:({format:e,filters:t})=>Tq.exportMatriculas(t,e),onSuccess:(e,{format:t})=>{const r=window.URL.createObjectURL(e),a=document.createElement("a");a.href=r,a.download=`matriculas.${t}`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r),ca.success("Datos exportados exitosamente",{description:`El archivo ha sido descargado en formato ${t.toUpperCase()}`})},onError:e=>{ca.error("Error al exportar datos",{description:e.message||"Ocurri un error durante la exportacin"})}}),h=o.isPending,f=l.isPending,p=c.isPending,g=t.useCallback(()=>{i()},[i]),x=t.useCallback(async e=>o.mutateAsync(e),[o]),b=t.useCallback(async(e,t)=>l.mutateAsync({id:e,...t}),[l]),y=t.useCallback(async e=>c.mutateAsync(e),[c]),v=t.useCallback(async e=>d.mutateAsync(e),[d]),j=t.useCallback(e=>{r(t=>({...t,search:e}))},[]),w=t.useCallback(async(e,t="excel")=>u.mutateAsync({file:e,format:t}),[u]),N=t.useCallback(async(t="excel",r={})=>{const a={...e,...r};return m.mutateAsync({format:t,filters:a})},[e,m]),E=t.useMemo(()=>{if(!a||0===a.length)return{total:0,active:0,inactive:0,byGrade:{},recentEnrollments:0,averageAge:0};const e=a.length,t=a.filter(e=>e.estaActivo).length,r=e-t,n=a.reduce((e,t)=>{const r=t.idGrado?.grado||"Sin grado";return e[r]=(e[r]||0)+1,e},{}),s=new Date;return s.setMonth(s.getMonth()-1),{total:e,active:t,inactive:r,byGrade:n,recentEnrollments:a.filter(e=>new Date(e.fechaIngreso)>s).length,averageAge:0}},[a]),S=t.useCallback(e=>{r(t=>({...t,...e}))},[]),k=t.useCallback(()=>{r({grade:"",status:"",academicYear:"",search:""})},[]);return{students:a,filters:e,statistics:E,loading:n,creating:h,updating:f,deleting:p,uploading:!1,error:s,loadMatriculas:g,createStudent:x,matricularEstudiante:x,updateStudent:b,deleteStudent:y,toggleStudentStatus:v,searchStudents:j,updateFilters:S,clearFilters:k,importData:w,exportData:N}},Pq=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});Pq.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),Pq.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const Mq={async getAllAulas(e={}){try{const t=new URLSearchParams;e.seccion&&t.append("seccion",e.seccion),e.estado&&t.append("estado",e.estado),e.capacidad&&t.append("capacidad",e.capacidad),e.search&&t.append("search",e.search);const r=await Pq.get(`/aula?${t.toString()}`);return r.data?.info?.data||r.data?.info||r.data||[]}catch(t){throw t}},async getAulaById(e){try{return(await Pq.get(`/aula/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener aula")}},async getAulaDetalle(e){try{const t=await Pq.get(`/aula/${e}/detalle`);return t.data?.info?.data||t.data?.data||t.data||{}}catch(t){throw new Error(t.response?.data?.message||"Error al obtener detalle del aula")}},async createAula(e){try{const t=["seccion","cantidadEstudiantes"].filter(t=>!e[t]);if(t.length>0)throw new Error(`Campos requeridos faltantes: ${t.join(", ")}`);const r={seccion:e.seccion.trim(),cantidadEstudiantes:parseInt(e.cantidadEstudiantes),descripcion:e.descripcion||null,capacidadMaxima:e.capacidadMaxima?parseInt(e.capacidadMaxima):null,equipamiento:e.equipamiento||null,ubicacion:e.ubicacion||null,estado:e.estado||"activa"};return(await Pq.post("/aula",r)).data}catch(t){throw new Error(t.response?.data?.message||"Error al crear aula")}},async updateAula(e,t){try{const r={seccion:t.seccion?.trim(),cantidadEstudiantes:t.cantidadEstudiantes?parseInt(t.cantidadEstudiantes):void 0,idTutor:t.idTutor||void 0,descripcion:t.descripcion,capacidadMaxima:t.capacidadMaxima?parseInt(t.capacidadMaxima):void 0,equipamiento:t.equipamiento,ubicacion:t.ubicacion,estado:t.estado};return Object.keys(r).forEach(e=>{void 0===r[e]&&delete r[e]}),(await Pq.patch(`/aula/${e}`,r)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar aula")}},async deleteAula(e){try{await Pq.delete(`/aula/${e}`)}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar aula")}},async changeAulaStatus(e,t){try{return(await Pq.patch(`/aula/${e}/status`,{estado:t})).data}catch(r){throw new Error(r.response?.data?.message||"Error al cambiar estado del aula")}},async getAulasBySeccion(e){try{return(await Pq.get(`/aula/seccion/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener aulas por seccin")}},async searchAulas(e){try{return(await Pq.get(`/aula/search?q=${encodeURIComponent(e)}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al buscar aulas")}},async getAulaStats(){try{return(await Pq.get("/aula/stats")).data}catch(e){throw new Error(e.response?.data?.message||"Error al obtener estadsticas")}},async getAulasByTrabajador(e){try{const t=await Pq.get(`/trabajador/aulas/${e}`);return t.data?.success&&t.data?.aulas?t.data:t.data?.info?.data?t.data.info.data:t.data?.data?t.data.data:Array.isArray(t.data)?t.data:{success:!1,aulas:[]}}catch(t){throw new Error(t.response?.data?.message||"Error al obtener aulas del trabajador")}},async obtenerEstudiantesPorAula(e){try{const t=await Pq.get(`/estudiante/aula/${e}`);return t.data?.success&&t.data?.estudiantes?t.data:t.data?.info?.data?{success:!0,estudiantes:t.data.info.data}:t.data?.data?{success:!0,estudiantes:t.data.data}:Array.isArray(t.data)?{success:!0,estudiantes:t.data}:{success:!1,estudiantes:[]}}catch(t){throw new Error(t.response?.data?.message||"Error al obtener estudiantes del aula")}},async getAulasDisponiblesPorGrado(e){try{if(!e)return[];const t=await Pq.get(`/aula/disponibles-por-grado/${e}`);return t.data?.info?.data?t.data.info.data:t.data?.data?t.data.data:Array.isArray(t.data)?t.data:[]}catch(t){if(404===t.response?.status)return[];throw new Error(t.response?.data?.message||"Error al obtener aulas disponibles por grado")}},async getAulaByGradoAndSeccion(e,t){try{const r=await this.getAllAulas({grado:e,seccion:t});return r&&r.length>0?r[0]:null}catch(r){throw new Error(r.response?.data?.message||"Error al buscar aula")}},async getAulasSinAsignacion(){try{const e=await Pq.get("/aula");return e.data?.info?.data||e.data?.aulas||e.data||[]}catch(e){throw new Error(e.response?.data?.message||"Error al obtener aulas sin asignacin")}}},Fq=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});Fq.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),Fq.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const Iq=async e=>{try{const t=["idAula","idTrabajador"].filter(t=>void 0===e[t]||null===e[t]);if(t.length>0)throw new Error(`Faltan campos requeridos: ${t.join(", ")}`);return(await Fq.post("/asignacion-docente-curso-aula",e)).data}catch(t){throw new Error(t.response?.data?.message||"Error al asignar aula al docente")}},Rq=async()=>{try{return(await Fq.get("/asignacion-docente-curso-aula")).data}catch(e){throw new Error(e.response?.data?.message||"Error al obtener asignaciones de aula")}},Lq=async e=>{try{return(await Fq.get(`/asignacion-aula/trabajador/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener asignaciones de aula")}},zq=async(e,t)=>{try{return(await Fq.put(`/asignacion-aula/${e}`,t)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar asignacin de aula")}},$q=async e=>{try{return(await Fq.delete(`/asignacion-aula/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar asignacin de aula")}},qq=(e=!1,r=!0)=>{const a=Yr(),[n,s]=t.useState([]),[i,o]=t.useState(!1),{data:l=[],isLoading:c,error:d,refetch:u}=Qr({queryKey:["aulas",e?"sin-asignacion":"todas"],queryFn:()=>e?Mq.getAulasSinAsignacion():Mq.getAllAulas(),staleTime:3e5,cacheTime:6e5,refetchOnMount:!0,refetchOnWindowFocus:!1,enabled:r,onSuccess:e=>{},onError:e=>{ca.error("Error al cargar las aulas disponibles")}}),{data:m=[],isLoading:h,error:f,refetch:p}=Qr({queryKey:["asignaciones-aula"],queryFn:()=>Rq(),staleTime:3e5,cacheTime:6e5,onSuccess:e=>{},onError:e=>{ca.error("Error al cargar las asignaciones de aula")}}),g=Xr({mutationFn:e=>Iq(e),onSuccess:e=>{ca.success("Aula asignada correctamente al docente"),a.invalidateQueries(["asignaciones-aula"]),a.invalidateQueries(["asignaciones"]),a.invalidateQueries(["trabajadores"])},onError:e=>{ca.error(e.message||"Error al asignar aula al docente")}}),x=Xr({mutationFn:({idAsignacion:e,updateData:t})=>zq(e,t),onSuccess:()=>{ca.success("Asignacin actualizada correctamente"),a.invalidateQueries(["asignaciones-aula"]),a.invalidateQueries(["asignaciones"]),a.invalidateQueries(["trabajadores"])},onError:e=>{ca.error(e.message||"Error al actualizar asignacin")}}),b=Xr({mutationFn:e=>$q(e),onSuccess:()=>{ca.success("Asignacin eliminada correctamente"),a.invalidateQueries(["asignaciones-aula"]),a.invalidateQueries(["asignaciones"]),a.invalidateQueries(["trabajadores"])},onError:e=>{ca.error(e.message||"Error al eliminar asignacin")}}),y=t.useCallback(async e=>{try{if(!e)return s([]),void o(!1);if(i)return;o(!0);const t=await Mq.getAulasDisponiblesPorGrado(e);s(t||[])}catch(t){ca.error("Error al cargar aulas disponibles para el grado seleccionado"),s([])}finally{o(!1)}},[i]);return{aulas:l,aulasDisponiblesPorGrado:n,asignaciones:m?.data||m?.asignacionesAula||m?.info?.data||m||[],aulasDisponibles:l,loadingAulas:c,loadingAulasPorGrado:i,loadingAsignaciones:h,loadingAsignacion:g.isLoading,loadingUpdate:x.isLoading,loadingDelete:b.isLoading,errorAulas:d,errorAsignaciones:f,errorAsignacion:g.error,refetchAulas:u,refetchAsignaciones:p,fetchAulasPorGrado:y,asignarAulaADocente:async(e,t)=>{try{const r={fechaAsignacion:(new Date).toISOString().split("T")[0],estadoActivo:!0,idAula:t,idTrabajador:e},a=await g.mutateAsync(r);return ca.success("Aula asignada al docente exitosamente"),a}catch(r){throw ca.error("Error al asignar aula al docente"),r}},getAsignacionesByTrabajador:e=>Qr({queryKey:["asignaciones",e],queryFn:()=>Lq(e),enabled:!!e,staleTime:3e5,onError:e=>{ca.error("Error al cargar asignaciones del trabajador")}}),createAsignacion:g.mutateAsync,updateAsignacion:x.mutateAsync,deleteAsignacion:b.mutateAsync,isCreatingAsignacion:g.isLoading,isUpdatingAsignacion:x.isLoading,isDeletingAsignacion:b.isLoading}},Uq=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});Uq.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),Uq.interceptors.response.use(e=>e,e=>Promise.reject(e));const Bq={async getApoderados(e={}){try{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.search&&t.append("search",e.search),e.status&&t.append("status",e.status);const r=t.toString(),a=r?`/apoderado?${r}`:"/apoderado";return(await Uq.get(a)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener apoderados")}},async getApoderadoById(e){try{return(await Uq.get(`/apoderado/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener apoderado")}},async createApoderado(e){try{return(await Uq.post("/apoderado",e)).data}catch(t){throw new Error(t.response?.data?.message||"Error al crear apoderado")}},async updateApoderado(e,t){throw new Error("Error: Cannot PATCH /api/v1/apoderado/"+e+" - Endpoint no existe en backend")},async deleteApoderado(e){try{return(await Uq.delete(`/apoderado/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar apoderado")}},async toggleApoderadoStatus(e){try{return(await Uq.patch(`/apoderado/${e}/toggle-status`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al cambiar estado del apoderado")}},async getApoderadoStats(){try{return(await Uq.get("/apoderado/stats")).data}catch(e){throw new Error(e.response?.data?.message||"Error al obtener estadsticas")}}},Yq=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});Yq.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),Yq.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const Vq={async getAllGrados(){try{const e=await Yq.get("/grado");let t=[];return e.data?.info?.data&&Array.isArray(e.data.info.data)?t=e.data.info.data:e.data?.grados&&Array.isArray(e.data.grados)?t=e.data.grados:e.data?.data&&Array.isArray(e.data.data)?t=e.data.data:Array.isArray(e.data)&&(t=e.data),t.map(e=>({...e,nombre:e.grado||e.nombre,id:e.idGrado||e.id}))}catch(e){return[]}},async getGradoById(e){try{return(await Yq.get(`/grado/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener grado")}},async createGrado(e){try{return(await Yq.post("/grado",e)).data}catch(t){throw new Error(t.response?.data?.message||"Error al crear grado")}},async updateGrado(e,t){try{return(await Yq.patch(`/grado/${e}`,t)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar grado")}},async deleteGrado(e){try{return(await Yq.delete(`/grado/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar grado")}}};Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});const Hq={all:["grados"],lists:()=>[...Hq.all,"list"],list:e=>[...Hq.lists(),{filters:e}],details:()=>[...Hq.all,"detail"],detail:e=>[...Hq.details(),e]},Wq=()=>{const e=Yr(),t=Qr({queryKey:Hq.lists(),queryFn:()=>Vq.getAllGrados(),staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),onError:e=>{ca.error("Error al cargar los grados disponibles")}}),r=Xr({mutationFn:e=>Vq.createGrado(e),onSuccess:t=>{e.invalidateQueries(Hq.lists())},onError:e=>{}}),a=Xr({mutationFn:({id:e,data:t})=>Vq.updateGrado(e,t),onSuccess:(t,r)=>{e.invalidateQueries(Hq.detail(r.id)),e.invalidateQueries(Hq.lists())},onError:e=>{}}),n=Xr({mutationFn:e=>Vq.deleteGrado(e),onSuccess:(t,r)=>{e.removeQueries(Hq.detail(r)),e.invalidateQueries(Hq.lists())},onError:e=>{}});return{grados:t.data||[],isLoading:t.isLoading,isError:t.isError,error:t.error,isSuccess:t.isSuccess,createGrado:r.mutate,updateGrado:a.mutate,deleteGrado:n.mutate,isCreating:r.isLoading,isUpdating:a.isLoading,isDeleting:n.isLoading,createError:r.error,updateError:a.error,deleteError:n.error,refetchGrados:()=>e.invalidateQueries(Hq.lists()),prefetchGrado:t=>e.prefetchQuery({queryKey:Hq.detail(t),queryFn:()=>Vq.getGradoById(t),staleTime:3e5}),findGradoById:e=>(t.data||[]).find(t=>t.idGrado===e||t.id===e),findGradoByNombre:e=>(t.data||[]).find(t=>t.nombre?.toLowerCase()===e?.toLowerCase()),getGradosOptions:()=>(t.data||[]).map(e=>({value:e.idGrado||e.id,label:e.nombre,data:e})),gradosQuery:t,loadingGrados:t.isLoading,errorGrados:t.error}},Gq=()=>{const e=Yr();return{crearGrado:async t=>{try{const r=await Vq.createGrado(t);return e.invalidateQueries(Hq.lists()),r}catch(r){throw r}},editarGrado:async(t,r)=>{try{const a=await Vq.updateGrado(t,r);return e.invalidateQueries(Hq.lists()),a}catch(a){throw a}}}},Kq=({label:e,children:t,error:r,required:a=!1,className:n=""})=>It.jsxs("div",{className:`space-y-1 ${n}`,children:[e&&It.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,a&&It.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t,r&&It.jsx("p",{className:"text-sm text-red-600 mt-1",children:r})]}),Qq=cq({costoMatricula:J$().required("El costo de matrcula es requerido").positive("El costo debe ser mayor a 0"),fechaIngreso:Q$().required("La fecha de ingreso es requerida"),idGrado:Q$().required("El grado es requerido"),metodoPago:Q$().required("El mtodo de pago es requerido"),voucherFile:R$().when("metodoPago",{is:e=>e&&"Efectivo"!==e,then:e=>e.required("El voucher es requerido para este mtodo de pago"),otherwise:e=>e.nullable()}),estudianteNombre:Q$().required("El nombre del estudiante es requerido").min(2,"El nombre debe tener al menos 2 caracteres").matches(/^[a-zA-Z\s]+$/,"El nombre solo puede contener letras y espacios"),estudianteApellido:Q$().required("El apellido del estudiante es requerido").min(2,"El apellido debe tener al menos 2 caracteres").matches(/^[a-zA-Z\s]+$/,"El apellido solo puede contener letras y espacios"),estudianteTipoDoc:Q$().required("El tipo de documento es requerido"),estudianteDocumento:Q$().required("El nmero de documento es requerido").when("estudianteTipoDoc",{is:"Carnet de Extranjera",then:e=>e.min(20,"El Carnet de Extranjera debe tener al menos 20 caracteres"),otherwise:e=>e.min(8,"El documento debe tener al menos 8 caracteres")}),contactosEmergencia:uq().of(cq({nombre:Q$().required("Nombre de contacto requerido").min(2,"El nombre debe tener al menos 2 caracteres").max(50,"El nombre no puede superar los 50 caracteres").matches(/^[a-zA-Z\s]+$/,"El nombre solo puede contener letras y espacios"),apellido:Q$().required("Apellido de contacto requerido").min(2,"El apellido debe tener al menos 2 caracteres").max(50,"El apellido no puede superar los 50 caracteres").matches(/^[a-zA-Z\s]+$/,"El apellido solo puede contener letras y espacios"),telefono:Q$().required("Telfono requerido").min(9,"El telfono debe tener al menos 9 dgitos").max(15,"El telfono no puede superar los 15 dgitos"),email:Q$().email("Email invlido").required("Email requerido").max(100,"El email no puede superar los 100 caracteres"),tipoContacto:Q$().required("Tipo de contacto requerido").min(2,"El tipo de contacto debe tener al menos 2 caracteres").max(30,"El tipo de contacto no puede superar los 30 caracteres"),esPrincipal:z$(),prioridad:J$().min(1,"La prioridad debe ser al menos 1").max(10,"La prioridad no puede superar 10").required("Prioridad requerida")})).min(1,"Debe agregar al menos un contacto de emergencia").required("Los contactos de emergencia son requeridos"),apoderadoNombre:Q$().required("El nombre del apoderado es requerido").min(2,"El nombre debe tener al menos 2 caracteres").matches(/^[a-zA-Z\s]+$/,"El nombre solo puede contener letras y espacios"),apoderadoApellido:Q$().required("El apellido del apoderado es requerido").min(2,"El apellido debe tener al menos 2 caracteres").matches(/^[a-zA-Z\s]+$/,"El apellido solo puede contener letras y espacios"),apoderadoTipoDoc:Q$().required("El tipo de documento es requerido"),apoderadoDocumento:Q$().required("El nmero de documento es requerido").when("apoderadoTipoDoc",{is:"Carnet de Extranjera",then:e=>e.min(20,"El Carnet de Extranjera debe tener al menos 20 caracteres"),otherwise:e=>e.min(8,"El documento debe tener al menos 8 caracteres")}),apoderadoTelefono:Q$().required("El telfono es requerido"),apoderadoCorreo:Q$().required("El correo es requerido").email("Debe ser un correo vlido"),apoderadoDireccion:Q$().required("La direccin es requerida"),observaciones:Q$(),motivoPreferencia:Q$()}),Xq=({isOpen:e,onClose:r,refetch:a})=>{const{matricularEstudiante:n,creating:s}=Dq(),i=(()=>{const e=Yr();return Xr({mutationFn:({idMatricula:e,idAula:t})=>Tq.asignarAula(e,t),onSuccess:(t,{idMatricula:r})=>{e.invalidateQueries({queryKey:Oq.lists()}),e.invalidateQueries({queryKey:Oq.detail(r)}),ca.success("Aula asignada exitosamente!",{description:"El estudiante ha sido asignado al aula seleccionada"})},onError:e=>{ca.error("Error al asignar aula",{description:e.message||"Ocurri un error al asignar el aula"})}})})();let o;try{o=qq()}catch(de){o={aulas:[],loadingAulas:!1,fetchAulasPorGrado:()=>Promise.resolve(),aulasDisponiblesPorGrado:[],loadingAulasPorGrado:!1}}const{aulas:l,aulasDisponiblesPorGrado:c,loadingAulas:d,loadingAulasPorGrado:u,fetchAulasPorGrado:m}=o,{apoderados:h,loadingApoderados:f,searchApoderados:p}=(()=>{const[e,r]=t.useState([]),[a,n]=t.useState(!1),[s,i]=t.useState(!1),[o,l]=t.useState(!1),[c,d]=t.useState(!1),[u,m]=t.useState({search:"",status:"all",page:1,limit:10}),[h,f]=t.useState({total:0,active:0,inactive:0}),p=t.useCallback((e,t)=>{const r=e.response?.data?.message||e.message||`Error al ${t}`;ca.error(r)},[]),g=t.useCallback(async()=>{n(!0);try{const e=await Bq.getApoderados(u),t=e.info?.data||[];r(Array.isArray(t)?t:[]),setTimeout(()=>{},100),e.data?.stats&&f(e.data.stats)}catch(de){p(de,"cargar apoderados"),r([])}finally{n(!1)}},[u,p]),x=t.useCallback(async e=>{i(!0);const t=ca.loading("Creando apoderado...",{description:"Guardando informacin del apoderado..."});try{const a=await Bq.createApoderado(e);r(e=>{const t=Array.isArray(e)?e:[];return[a.data||a,...t]});const n=a.data||a;return ca.success("Apoderado creado exitosamente!",{id:t,description:`${n.nombre} ${n.apellido} ha sido registrado`}),a}catch(de){throw ca.error("Error al crear apoderado",{id:t,description:de.message}),de}finally{i(!1)}},[]),b=t.useCallback(async(e,t)=>{throw new Error("La funcionalidad de actualizacin no est disponible - no existe endpoint en backend")},[]),y=t.useCallback(async e=>{d(!0);const t=ca.loading("Eliminando apoderado...",{description:"Procesando eliminacin..."});try{await Bq.deleteApoderado(e),r(t=>t.filter(t=>t.idApoderado!==e)),ca.success("Apoderado eliminado exitosamente!",{id:t,description:"El apoderado ha sido eliminado del sistema"})}catch(de){throw ca.error("Error al eliminar apoderado",{id:t,description:de.message}),de}finally{d(!1)}},[]),v=t.useCallback(async e=>{const t=ca.loading("Cambiando estado...",{description:"Actualizando estado del apoderado..."});try{const a=await Bq.toggleApoderadoStatus(e);r(t=>t.map(t=>t.idApoderado===e?a.data||a:t));const n=a.data||a,s=n.estaActivo?"activado":"desactivado";return ca.success(`Apoderado ${s} exitosamente!`,{id:t,description:`${n.nombre} ${n.apellido} ha sido ${s}`}),a}catch(de){throw ca.error("Error al cambiar estado",{id:t,description:de.message}),de}},[]),j=t.useCallback(e=>{m(t=>({...t,...e,page:1}))},[]),w=t.useCallback(()=>{m({search:"",status:"all",page:1,limit:10})},[]),N=t.useCallback(()=>{g()},[g]);t.useEffect(()=>{g()},[g]);const E=t.useCallback(()=>e.length,[e]),S=t.useCallback(()=>0,[e]),k=t.useCallback(()=>e.length,[e]),C=t.useCallback(e=>{j({search:e})},[j]),A=t.useCallback(e=>{j({status:e})},[j]);return{apoderados:e,loading:a,creating:s,updating:o,deleting:c,filters:u,stats:{total:k(),active:E(),inactive:S()},createApoderado:x,updateApoderado:b,deleteApoderado:y,toggleApoderadoStatus:v,fetchApoderados:g,refresh:N,updateFilters:j,clearFilters:w,searchApoderados:C,filterByStatus:A,getActiveApoderados:E,getInactiveApoderados:S,getTotalApoderados:k}})(),{grados:g,isLoading:x,isError:b}=Wq();t.useEffect(()=>{},[g,x,b]);const[y,v]=t.useState(null),[j,w]=t.useState(null),[N,S]=t.useState(!1),[k,C]=t.useState(""),[A,_]=t.useState(!1),[T,O]=t.useState(null),[D,P]=t.useState(""),[M,F]=t.useState(null),[I,R]=t.useState(0),[L,z]=t.useState("forward"),{register:$,handleSubmit:q,formState:{errors:U},reset:B,watch:Y,setValue:V,setError:H,clearErrors:W,trigger:G,control:K}=Iz({resolver:Uz(Qq),defaultValues:{metodoPago:"Transferencia bancaria",estudianteTipoDoc:"DNI",apoderadoTipoDoc:"DNI",fechaIngreso:(new Date).toISOString().split("T")[0],contactosEmergencia:[{nombre:"",apellido:"",telefono:"",email:"",tipoContacto:"",esPrincipal:!0,prioridad:1}],voucherFile:null,idAulaEspecifica:""}}),{fields:Q,append:X,remove:J}=Fz({control:K,name:"contactosEmergencia"}),Z=Y("idGrado"),te=["DNI","Carnet de Extranjera","Pasaporte"],re=["Matrcula","Estudiante","Apoderado","Aula"],ae=I===re.length-1;t.useEffect(()=>{e&&(F(null),P(""),R(0))},[e]),t.useEffect(()=>{(async()=>{if(Z&&M!==Z&&!u&&m)try{await m(Z),F(Z),P(""),V("idAulaEspecifica","")}catch(de){ca.error("Error al cargar aulas disponibles para el grado seleccionado")}})()},[Z,m]),t.useEffect(()=>{(async()=>{if(k.length>=2&&p)try{await p(k)}catch(de){ca.error("Error al buscar apoderados")}})()},[k,p]);const se=()=>{B(),P(""),v(null),w(null),C(""),O(null),_(!1),F(null),R(0),r()},le=async e=>{try{let s=(t=e.contactosEmergencia||[],Array.isArray(t)?t.map((e,t)=>{const r={nombre:e.nombre?.trim()||"",apellido:e.apellido?.trim()||"",telefono:e.telefono?.trim()||"",email:e.email?.trim()||"",tipoContacto:e.tipoContacto?.trim()||"",esPrincipal:Boolean(e.esPrincipal),prioridad:parseInt(e.prioridad)||t+1};return["nombre","apellido","telefono","email"].filter(e=>!r[e]).length>0?null:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)&&/^[\+]?[0-9\s\-\(\)]{9,15}$/.test(r.telefono)?r:null}).filter(e=>null!==e):[]);if(s=(e=>Array.isArray(e)&&0!==e.length?(e.some(e=>e.esPrincipal)||(e[0].esPrincipal=!0),e):e)(s),0===s.length)return void ca.error("Error de validacin",{description:"Debe agregar al menos un contacto de emergencia vlido"});const o={costoMatricula:e.costoMatricula.toString(),fechaIngreso:e.fechaIngreso,idGrado:e.idGrado,apoderadoData:{nombre:T?T.nombre:e.apoderadoNombre,apellido:T?T.apellido:e.apoderadoApellido,tipoDocumentoIdentidad:T?T.tipoDocumento||"DNI":e.apoderadoTipoDoc||"DNI",documentoIdentidad:T?T.documentoIdentidad:e.apoderadoDocumento,numero:T?T.numero:e.apoderadoTelefono,correo:T?T.correo:e.apoderadoCorreo,direccion:T?T.direccion:e.apoderadoDireccion},estudianteData:{nombre:e.estudianteNombre?.trim()||"",apellido:e.estudianteApellido?.trim()||"",tipoDocumento:e.estudianteTipoDoc||"DNI",nroDocumento:e.estudianteDocumento?.trim()||"",contactosEmergencia:s,observaciones:e.observaciones?.trim()||""}};if(!o.estudianteData.contactosEmergencia||0===o.estudianteData.contactosEmergencia.length)return void ca.error("Error de validacin",{description:"Debe agregar al menos un contacto de emergencia vlido"});for(let e=0;e<o.estudianteData.contactosEmergencia.length;e++){const t=o.estudianteData.contactosEmergencia[e];if(!(t.nombre&&t.apellido&&t.telefono&&t.email))return void ca.error("Error de validacin",{description:`El contacto ${e+1} debe tener nombre, apellido, telfono y email`})}const l=JSON.parse(JSON.stringify(o,(e,t)=>void 0===t?null:t)),c=await n(l),d=c?.info?.data?.idMatricula||c?.data?.idMatricula||c?.idMatricula;if(d){const t=e.idAulaEspecifica||Y("idAulaEspecifica");if(t)try{await i.mutateAsync({idMatricula:d,idAula:t}),ca.success(" Matrcula completa (Pasos 1 y 2)",{description:"Estudiante matriculado y aula asignada correctamente"})}catch(r){ca.warning("Matrcula creada, pero no se pudo asignar el aula",{description:"Por favor, asigne el aula manualmente desde la tabla"})}else ca.success(" Matrcula creada exitosamente (Paso 1/3)",{description:"Ahora puede asignar un aula desde la tabla"})}else ca.success(" Matrcula creada exitosamente (Paso 1/3)",{description:"Ahora puede asignar un aula manualmente"});se(),a&&a()}catch(de){let t="Error al matricular estudiante",r="Ha ocurrido un error inesperado. Por favor, intntelo nuevamente.";de.message?t=de.message:de.response?.data?.message?(t=de.response.data.message,r=de.response.data.details||de.response.data.error||"Error del servidor"):de.response?.data?.error?(t=de.response.data.error,r=de.response.data.details||"Error del servidor"):500===de.response?.status?(t="Error interno del servidor",r="El servidor encontr un error interno. Por favor, contacte al administrador del sistema."):400===de.response?.status?(t="Datos invlidos",r="Los datos enviados no son vlidos. Por favor, revise la informacin e intntelo nuevamente."):401===de.response?.status?(t="Sesin expirada",r="Su sesin ha expirado. Por favor, inicie sesin nuevamente."):403===de.response?.status&&(t="Permisos insuficientes",r="No tiene permisos para realizar esta operacin."),ca.error(t,{description:r,duration:6e3})}var t};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:se,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-2 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-3xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(Ue,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Matricular Nuevo Estudiante"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Complete la informacin del estudiante para registrar su matrcula"})]})]}),It.jsx("button",{onClick:se,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("form",{onSubmit:e=>{e.preventDefault()},className:"space-y-6",children:[It.jsxs("div",{className:"flex flex-col gap-2",children:[It.jsx("div",{className:"flex flex-wrap gap-2",children:re.map((e,t)=>It.jsxs("div",{className:"px-3 py-1 rounded-full text-xs font-semibold "+(t===I?"bg-blue-600 text-white":t<I?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"),children:[t+1,". ",e]},e))}),It.jsxs("p",{className:"text-sm text-gray-500",children:["Paso ",I+1," de ",re.length]})]}),It.jsx(hi,{show:0===I,as:t.Fragment,enter:"transition ease-out duration-200",enterFrom:"forward"===L?"opacity-0 translate-x-4":"opacity-0 -translate-x-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"forward"===L?"opacity-0 -translate-x-4":"opacity-0 translate-x-4",children:It.jsxs("div",{className:"bg-gray-50 border border-gray-300 p-6 rounded-lg",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[It.jsx(ve,{className:"w-6 h-6 mr-3 text-blue-600"}),"Informacin de Matrcula"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(Kq,{label:"Costo de Matrcula (S/.)",error:U.costoMatricula?.message,required:!0,children:It.jsx("input",{...$("costoMatricula"),type:"number",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: 150.00"})}),It.jsx(Kq,{label:"Fecha de Ingreso",error:U.fechaIngreso?.message,required:!0,children:It.jsx("input",{...$("fechaIngreso"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),It.jsx(Kq,{label:"Grado",error:U.idGrado?.message,required:!0,children:It.jsxs("select",{...$("idGrado"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:x,children:[It.jsx("option",{value:"",children:x?"Cargando grados...":"Seleccionar grado"}),g.map(e=>It.jsx("option",{value:e.idGrado||e.id,children:e.nombre||e.grado},e.idGrado||e.id))]})}),It.jsx(Kq,{label:"Mtodo de Pago",error:U.metodoPago?.message,required:!0,children:It.jsx("select",{...$("metodoPago"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Efectivo","Transferencia bancaria","Depsito bancario","Tarjeta de crdito","Tarjeta de dbito","Pago mvil"].map(e=>It.jsx("option",{value:e,children:e},e))})})]}),It.jsx("div",{className:"mt-6",children:It.jsx(Kq,{label:"Voucher de Pago"+("Efectivo"!==Y("metodoPago")?" *":""),error:U.voucherFile?.message,children:It.jsx("div",{className:"relative w-full",children:It.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors hover:cursor-pointer h-84 flex flex-col items-center justify-center",children:y?It.jsxs("div",{className:"relative",children:[It.jsx("img",{src:y,alt:"Voucher",className:"max-h-32 mx-auto rounded-lg object-contain"}),It.jsx("button",{type:"button",onClick:()=>{v(null),w(null)},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:It.jsx(ne,{className:"w-4 h-4"})})]}):It.jsxs(It.Fragment,{children:[It.jsx(_e,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),It.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Subir voucher de pago"}),It.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){w(t),V("voucherFile",t);const e=new FileReader;e.onload=e=>v(e.target.result),e.readAsDataURL(t)}else w(null),V("voucherFile",null),v(null)},className:"hidden",id:"voucher-upload"}),It.jsx("label",{htmlFor:"voucher-upload",className:"cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors w-50",children:"Seleccionar archivo"})]})})})})})]})}),It.jsx(hi,{show:1===I,as:t.Fragment,enter:"transition ease-out duration-200",enterFrom:"forward"===L?"opacity-0 translate-x-4":"opacity-0 -translate-x-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"forward"===L?"opacity-0 -translate-x-4":"opacity-0 translate-x-4",children:It.jsxs("div",{className:"bg-gray-50 border border-gray-300 p-6 rounded-lg",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[It.jsx(ee,{className:"w-6 h-6 mr-3 text-green-600"}),"Informacin del Estudiante"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(Kq,{label:"Nombre",error:U.estudianteNombre?.message,required:!0,children:It.jsx("input",{...$("estudianteNombre"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Mara"})}),It.jsx(Kq,{label:"Apellido",error:U.estudianteApellido?.message,required:!0,children:It.jsx("input",{...$("estudianteApellido"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Garca"})}),It.jsx(Kq,{label:"Tipo de Documento",error:U.estudianteTipoDoc?.message,required:!0,children:It.jsx("select",{...$("estudianteTipoDoc"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:te.map(e=>It.jsx("option",{value:e,children:e},e))})}),It.jsx(Kq,{label:"Nmero de Documento",error:U.estudianteDocumento?.message,required:!0,children:It.jsx("input",{...$("estudianteDocumento"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: 87654321"})})]}),It.jsxs("div",{className:"mt-6",children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Contactos de Emergencia *"}),Q.map((e,t)=>It.jsxs("div",{className:"rounded-lg p-4 mb-3 bg-gray-50",children:[It.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[It.jsx(Kq,{label:"Nombre",error:U.contactosEmergencia?.[t]?.nombre?.message,required:!0,children:It.jsx("input",{type:"text",placeholder:"Nombre",...$(`contactosEmergencia.${t}.nombre`),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),It.jsx(Kq,{label:"Apellido",error:U.contactosEmergencia?.[t]?.apellido?.message,required:!0,children:It.jsx("input",{type:"text",placeholder:"Apellido",...$(`contactosEmergencia.${t}.apellido`),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),It.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[It.jsx(Kq,{label:"Telfono",error:U.contactosEmergencia?.[t]?.telefono?.message,required:!0,children:It.jsx("input",{type:"text",placeholder:"Telfono",...$(`contactosEmergencia.${t}.telefono`),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),It.jsx(Kq,{label:"Email",error:U.contactosEmergencia?.[t]?.email?.message,required:!0,children:It.jsx("input",{type:"email",placeholder:"Email",...$(`contactosEmergencia.${t}.email`),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),It.jsx("div",{className:"grid grid-cols-1 gap-3 mb-3",children:It.jsx(Kq,{label:"Tipo de contacto",error:U.contactosEmergencia?.[t]?.tipoContacto?.message,required:!0,children:It.jsx("input",{type:"text",placeholder:"Ej: Madre, Padre, To",...$(`contactosEmergencia.${t}.tipoContacto`),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})}),It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center gap-4",children:[It.jsxs("label",{className:"flex items-center gap-2",children:[It.jsx("input",{type:"checkbox",...$(`contactosEmergencia.${t}.esPrincipal`),className:"rounded"}),It.jsx("span",{className:"text-sm",children:"Contacto principal"})]}),It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx("label",{className:"text-sm",children:"Prioridad:"}),It.jsx("input",{type:"number",min:1,...$(`contactosEmergencia.${t}.prioridad`),className:"w-16 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),Q.length>1&&It.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 text-sm px-3 py-1 border border-red-500 rounded hover:bg-red-50 transition-colors",onClick:()=>J(t),children:"Eliminar"})]})]},e.id)),It.jsxs("button",{type:"button",className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",onClick:()=>X({nombre:"",apellido:"",telefono:"",email:"",tipoContacto:"",esPrincipal:!1,prioridad:Q.length+1}),children:[It.jsx(Ue,{className:"w-4 h-4"}),"Agregar contacto"]}),U.contactosEmergencia&&It.jsx("p",{className:"text-red-500 text-sm mt-2",children:U.contactosEmergencia.message})]}),It.jsx("div",{className:"mt-6",children:It.jsx(Kq,{label:"Observaciones",error:U.observaciones?.message,children:It.jsx("textarea",{...$("observaciones"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observaciones adicionales sobre el estudiante (opcional)"})})})]})}),It.jsx(hi,{show:2===I,as:t.Fragment,enter:"transition ease-out duration-200",enterFrom:"forward"===L?"opacity-0 translate-x-4":"opacity-0 -translate-x-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"forward"===L?"opacity-0 -translate-x-4":"opacity-0 translate-x-4",children:It.jsxs("div",{className:"bg-gray-50 border border-gray-300 p-6 rounded-lg",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[It.jsx(oe,{className:"w-6 h-6 mr-3 text-green-600"}),"Informacin del Apoderado"]}),!T&&It.jsxs("button",{type:"button",onClick:()=>_(!A),className:"flex items-center space-x-2 text-sm bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[It.jsx(De,{className:"w-4 h-4"}),It.jsx("span",{children:"Buscar Existente"})]}),T&&It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 text-green-700 px-3 py-2 rounded-lg",children:[It.jsx(ie,{className:"w-4 h-4"}),It.jsxs("span",{className:"text-sm font-medium",children:[T.nombre," ",T.apellido]})]}),It.jsx("button",{type:"button",onClick:()=>{O(null),V("apoderadoNombre",""),V("apoderadoApellido",""),V("apoderadoTipoDoc","DNI"),V("apoderadoDocumento",""),V("apoderadoTelefono",""),V("apoderadoCorreo",""),V("apoderadoDireccion","")},className:"text-gray-500 hover:text-red-500 transition-colors",title:"Limpiar seleccin",children:It.jsx(ne,{className:"w-4 h-4"})})]})]}),A&&!T&&It.jsxs("div",{className:"mb-6 relative",children:[It.jsxs("div",{className:"relative",children:[It.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),It.jsx("input",{type:"text",placeholder:"Buscar por nombre o apellido del apoderado...",value:k,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),k.length>=2&&It.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:f?It.jsxs("div",{className:"p-4 text-center text-gray-500",children:[It.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),It.jsx("p",{className:"mt-2",children:"Buscando..."})]}):h.length>0?h.map(e=>It.jsx("button",{type:"button",onClick:()=>(e=>{O(e),V("apoderadoNombre",e.nombre),V("apoderadoApellido",e.apellido),V("apoderadoTipoDoc",e.tipoDocumento||"DNI"),V("apoderadoDocumento",e.documentoIdentidad||""),V("apoderadoTelefono",e.numero||""),V("apoderadoCorreo",e.correo||""),V("apoderadoDireccion",e.direccion||""),_(!1),C("")})(e),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:It.jsx(oe,{className:"w-4 h-4 text-green-600"})}),It.jsxs("div",{children:[It.jsxs("p",{className:"font-medium text-gray-900",children:[e.nombre," ",e.apellido]}),It.jsxs("p",{className:"text-sm text-gray-500",children:["DNI: ",e.documentoIdentidad||"No registrado"," ",e.numero&&`  Tel: ${e.numero}`]})]})]})},e.id)):It.jsxs("div",{className:"p-4 text-center text-gray-500",children:[It.jsx(oe,{className:"w-8 h-8 mx-auto text-gray-300 mb-2"}),It.jsx("p",{children:"No se encontraron apoderados"}),It.jsxs("p",{className:"text-xs mt-1",children:['Bsqueda: "',k,'"']})]})})]}),It.jsxs("div",{className:"space-y-4",children:[It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(Kq,{label:"Nombre",error:U.apoderadoNombre?.message,required:!0,children:It.jsx("input",{...$("apoderadoNombre"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Juan"})}),It.jsx(Kq,{label:"Apellido",error:U.apoderadoApellido?.message,required:!0,children:It.jsx("input",{...$("apoderadoApellido"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Prez"})})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(Kq,{label:"Tipo de Documento",error:U.apoderadoTipoDoc?.message,required:!0,children:It.jsx("select",{...$("apoderadoTipoDoc"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:te.map(e=>It.jsx("option",{value:e,children:e},e))})}),It.jsx(Kq,{label:"Nmero de Documento",error:U.apoderadoDocumento?.message,required:!0,children:It.jsx("input",{...$("apoderadoDocumento"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: 12345678"})})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(Kq,{label:"Telfono",error:U.apoderadoTelefono?.message,required:!0,children:It.jsx("input",{...$("apoderadoTelefono"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: 987654321"})}),It.jsx(Kq,{label:"Correo",error:U.apoderadoCorreo?.message,required:!0,children:It.jsx("input",{...$("apoderadoCorreo"),type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: apoderado@correo.com"})})]}),It.jsx("div",{className:"grid grid-cols-1 gap-4",children:It.jsx(Kq,{label:"Direccin",error:U.apoderadoDireccion?.message,required:!0,children:It.jsx("input",{...$("apoderadoDireccion"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Jr. Los Olivos 123"})})})]})]})}),It.jsx(hi,{show:3===I,as:t.Fragment,enter:"transition ease-out duration-200",enterFrom:"forward"===L?"opacity-0 translate-x-4":"opacity-0 -translate-x-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"forward"===L?"opacity-0 -translate-x-4":"opacity-0 translate-x-4",children:It.jsxs("div",{className:"bg-gray-50 border border-gray-300 p-6 rounded-lg",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[It.jsx(ce,{className:"w-6 h-6 mr-3 text-blue-600"}),"Asignacin de Aula"]}),It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:It.jsx(Kq,{label:"Aula Especfica",error:U.idAulaEspecifica?.message,required:!0,children:It.jsxs("select",{value:D,onChange:e=>{const t=e.target.value;P(t),V("idAulaEspecifica",t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:u,children:[It.jsx("option",{value:"",children:u?"Cargando aulas disponibles...":"Seleccione un aula disponible"}),Array.isArray(c)&&c.length>0?c.map(e=>It.jsxs("option",{value:e.idAula,children:["Seccin ",e.seccion," - ",e.cuposDisponibles," cupos disponibles (",e.estudiantesAsignados,"/",e.cantidadEstudiantes," estudiantes)"]},e.idAula)):!u&&Z&&It.jsx("option",{value:"",disabled:!0,children:"No hay aulas disponibles para este grado"})]})})}),It.jsx("div",{className:"mt-4",children:It.jsx(Kq,{label:"Motivo de Preferencia (Opcional)",error:U.motivoPreferencia?.message,children:It.jsx("textarea",{...$("motivoPreferencia"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Hermano en la misma seccin, cercana al hogar, etc."})})})]})}),It.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[It.jsx("button",{type:"button",onClick:se,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),It.jsxs("div",{className:"flex items-center gap-3",children:[I>0&&It.jsx("button",{type:"button",onClick:()=>{z("backward"),R(e=>Math.max(e-1,0))},className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors",children:"Atrs"}),ae?It.jsx("button",{type:"button",onClick:async()=>{Y("idAulaEspecifica")?(W("idAulaEspecifica"),q(le)()):H("idAulaEspecifica",{type:"manual",message:"Seleccione un aula disponible"})},disabled:s||N,className:"px-8 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:N?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),"Subiendo voucher..."]}):s?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),"Matriculando estudiante..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),"Matricular Estudiante"]})}):It.jsx("button",{type:"button",onClick:async()=>{z("forward");let e=[];if(0===I&&(e=["costoMatricula","fechaIngreso","idGrado","metodoPago","voucherFile"]),1===I&&(e=["estudianteNombre","estudianteApellido","estudianteTipoDoc","estudianteDocumento","contactosEmergencia"]),2===I&&(e=["apoderadoNombre","apoderadoApellido","apoderadoTipoDoc","apoderadoDocumento","apoderadoTelefono","apoderadoCorreo","apoderadoDireccion"]),3===I){if(!Y("idAulaEspecifica"))return void H("idAulaEspecifica",{type:"manual",message:"Seleccione un aula disponible"});W("idAulaEspecifica")}e.length>0&&!(await G(e))||R(e=>Math.min(e+1,re.length-1))},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Siguiente"})]})]})]})]})})})})]})})},Jq=({name:e="Estudiante",size:t=40,className:r=""})=>{const a=e.split(" ").map(e=>e.charAt(0)).join("").substring(0,2).toUpperCase(),n=(e=>{const t=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500"];return t[e.charCodeAt(0)%t.length]})(e);return It.jsx("div",{className:`\n        flex items-center justify-center rounded-full text-white font-semibold\n        ${n} ${r}\n      `,style:{width:t,height:t,fontSize:.4*t},title:e,children:a||It.jsx(ee,{className:"w-1/2 h-1/2"})})},Zq=({label:e,value:t,icon:r,className:a=""})=>It.jsxs("div",{className:`bg-gray-50 p-3 rounded-lg ${a}`,children:[It.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[It.jsx(r,{className:"w-4 h-4 text-gray-600"}),It.jsx("span",{className:"text-sm font-medium text-gray-700",children:e})]}),It.jsx("p",{className:"text-gray-900 ml-6",children:t||"No especificado"})]}),eU=({isOpen:e,onClose:r,matricula:a})=>{const[n,s]=t.useState(!1),[i,o]=t.useState(!1),[l,c]=t.useState(!1);if(!a)return null;const d=a.idEstudiante||{},u=a.idApoderado||{},m=a.idGrado||{},h=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No especificado",f=()=>{s(!0)},p=()=>{if(a.voucherImg){const e=document.createElement("a");e.href=a.voucherImg,e.download=`voucher-${d.nombre}-${d.apellido}.jpg`,document.body.appendChild(e),e.click(),document.body.removeChild(e)}},g=()=>{o(!1),c(!0)},x=e=>{try{return new URL(e),!0}catch(t){return!1}};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-2 lg:p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-7xl transform overflow-hidden rounded-2xl bg-white p-4 lg:p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(N,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Informacin del Estudiante"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Detalles completos de la matrcula"})]})]}),It.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg mb-6",children:[It.jsx("div",{className:"flex-shrink-0"}),It.jsxs("div",{className:"flex-1 text-center md:text-left",children:[It.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:[d.nombre," ",d.apellido]}),It.jsx("p",{className:"text-lg text-blue-600 font-medium mb-2",children:m.grado||m.nombre||`ID: ${a.idGrado}`}),It.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 text-sm text-gray-600",children:[It.jsxs("span",{className:"flex items-center",children:[It.jsx(ue,{className:"w-4 h-4 mr-1"}),(e=>{if(!e)return"No especificado";const t=new Date,r=new Date(e);let a=t.getFullYear()-r.getFullYear();const n=t.getMonth()-r.getMonth();return(n<0||0===n&&t.getDate()<r.getDate())&&a--,`${a} aos`})(d.fechaNacimiento)]}),It.jsxs("span",{className:"flex items-center",children:[It.jsx(Ve,{className:"w-4 h-4 mr-1"}),d.correo||u.correo||"No especificado"]}),It.jsxs("span",{className:"flex items-center",children:[It.jsx(Be,{className:"w-4 h-4 mr-1"}),d.telefono||u.numero||"No especificado"]})]})]})]}),It.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(ee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Informacin Personal del Estudiante"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(Zq,{label:"Nombre Completo",value:`${d.nombre||""} ${d.apellido||""}`,icon:ee}),It.jsx(Zq,{label:"Nmero de Documento",value:d.nroDocumento||"No especificado",icon:he}),It.jsx(Zq,{label:"Usuario del Sistema",value:d.idUsuario?.usuario||"No asignado",icon:ee}),It.jsx(Zq,{label:"Estado de Usuario",value:d.idUsuario?.estaActivo?"Activo":"Inactivo",icon:ee}),It.jsx(Zq,{label:"Grado Asignado",value:`${m.grado||"No especificado"} - ${m.descripcion||""}`,icon:Z}),It.jsx(Zq,{label:"Monto de Pensin",value:m.idPension?.monto?`S/ ${m.idPension.monto}`:"No especificado",icon:ve}),It.jsx(Zq,{label:"Observaciones",value:d.observaciones||"Sin observaciones",icon:he,className:"md:col-span-2"})]})]}),It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(oe,{className:"w-5 h-5 mr-2 text-green-600"}),"Informacin del Apoderado Principal"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(Zq,{label:"Nombre Completo",value:`${u.nombre||""} ${u.apellido||""}`,icon:ee}),It.jsx(Zq,{label:"Documento de Identidad",value:u.documentoIdentidad||"No especificado",icon:he}),It.jsx(Zq,{label:"Telfono",value:u.numero||"No especificado",icon:Be}),It.jsx(Zq,{label:"Email",value:u.correo||"No especificado",icon:Ve}),It.jsx(Zq,{label:"Tipo de Apoderado",value:u.tipoApoderado||"No especificado",icon:oe}),It.jsx(Zq,{label:"Es Principal",value:u.esPrincipal?"S":"No",icon:ee}),It.jsx(Zq,{label:"Direccin",value:u.direccion||"No especificado",icon:We,className:"md:col-span-2"})]})]}),It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(Z,{className:"w-5 h-5 mr-2 text-purple-600"}),"Informacin de Matrcula"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(Zq,{label:"Fecha de Ingreso",value:h(a.fechaIngreso),icon:ue}),It.jsx(Zq,{label:"Costo de Matrcula",value:a.costoMatricula?`S/ ${a.costoMatricula}`:"No especificado",icon:ve}),It.jsx(Zq,{label:"Mtodo de Pago",value:a.metodoPago||"No especificado",icon:he}),It.jsx(Zq,{label:"Estado del Voucher",value:(()=>{const e=a.voucherImg;return e&&""!==e.trim()&&x(e.trim())?"Voucher cargado":e&&""!==e.trim()?"URL invlida":"Sin voucher"})(),icon:he})]}),a.voucherImg&&""!==a.voucherImg.trim()&&x(a.voucherImg.trim())&&It.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(qe,{className:"w-5 h-5 mr-2 text-green-600"}),"Comprobante de Pago"]}),It.jsxs("div",{className:"space-y-4",children:[It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(he,{className:"w-4 h-4 text-gray-500"}),It.jsx("span",{className:"text-gray-600",children:"Estado:"}),It.jsx("span",{className:"text-green-600 font-medium",children:"Cargado correctamente"})]}),It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(ue,{className:"w-4 h-4 text-gray-500"}),It.jsx("span",{className:"text-gray-600",children:"Fecha de carga:"}),It.jsx("span",{className:"text-gray-900",children:h(a.fechaIngreso)})]})]}),It.jsxs("div",{className:"relative group",children:[It.jsxs("div",{className:"relative overflow-hidden rounded-lg border-2 border-gray-200 bg-gray-50",children:[i&&It.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:It.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),l?It.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[It.jsx(qe,{className:"w-12 h-12 text-gray-400 mb-2"}),It.jsx("p",{className:"text-gray-500 text-sm",children:"Error al cargar la imagen"}),It.jsx("button",{onClick:()=>window.open(a.voucherImg,"_blank"),className:"mt-2 text-blue-600 hover:text-blue-800 text-sm underline",children:"Ver en nueva pestaa"})]}):It.jsx("img",{src:a.voucherImg,alt:"Voucher de pago",className:"w-full h-48 object-contain cursor-pointer transition-transform duration-200 hover:scale-105",onClick:f,onLoad:()=>{o(!1),c(!1)},onError:g,onLoadStart:()=>o(!0)}),!l&&It.jsx("div",{className:"absolute inset-0 bg-black/20 bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center opacity-0 group-hover:opacity-100",children:It.jsxs("div",{className:"flex space-x-2",children:[It.jsx("button",{onClick:f,className:"p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-all duration-200",title:"Ver imagen completa",children:It.jsx(Je,{className:"w-5 h-5 text-gray-700"})}),It.jsx("button",{onClick:p,className:"p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-all duration-200",title:"Descargar imagen",children:It.jsx(Te,{className:"w-5 h-5 text-gray-700"})}),It.jsx("button",{onClick:()=>window.open(a.voucherImg,"_blank"),className:"p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-all duration-200",title:"Abrir en nueva pestaa",children:It.jsx(Ze,{className:"w-5 h-5 text-gray-700"})})]})})]}),It.jsx("div",{className:"mt-2 text-center",children:It.jsxs("p",{className:"text-xs text-gray-500 flex items-center justify-center",children:[It.jsx(N,{className:"w-3 h-3 mr-1"}),"Haz clic en la imagen para verla en tamao completo"]})})]})]})]}),(!a.voucherImg||""===a.voucherImg.trim()||!x(a.voucherImg?.trim()||""))&&It.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:It.jsx(he,{className:"w-5 h-5 text-gray-400"})}),It.jsxs("div",{children:[It.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Sin comprobante de pago"}),It.jsx("p",{className:"text-xs text-gray-500",children:"No se ha cargado ningn voucher para esta matrcula"})]})]})})]})]}),It.jsxs("div",{className:"space-y-6",children:[d.contactosEmergencia&&d.contactosEmergencia.length>0&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(Be,{className:"w-5 h-5 mr-2 text-red-600"}),"Contactos de Emergencia"]}),It.jsx("div",{className:"space-y-4",children:d.contactosEmergencia.map((e,t)=>It.jsx("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-200",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[It.jsx(Zq,{label:"Nombre Completo",value:`${e.nombre||""} ${e.apellido||""}`,icon:ee}),It.jsx(Zq,{label:"Tipo de Contacto",value:e.tipoContacto||"No especificado",icon:oe}),It.jsx(Zq,{label:"Telfono",value:e.telefono||"No especificado",icon:Be}),It.jsx(Zq,{label:"Email",value:e.email||"No especificado",icon:Ve}),It.jsx(Zq,{label:"Prioridad",value:`Prioridad ${e.prioridad||"No especificada"}`,icon:_}),It.jsx(Zq,{label:"Es Principal",value:e.esPrincipal?"S":"No",icon:ee})]})},e.idContactoEmergencia||t))})]}),It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(Z,{className:"w-5 h-5 mr-2 text-purple-600"}),"Informacin del Grado"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(Zq,{label:"Nombre del Grado",value:m.nombre||"No especificado",icon:C}),It.jsx(Zq,{label:"Descripcin",value:m.descripcion||"No especificado",icon:he,className:"md:col-span-2"})]})]}),a.matriculaAula&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(et,{className:"w-5 h-5 mr-2 text-orange-600"}),"Informacin del Aula"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(Zq,{label:"Nombre del Aula",value:a.matriculaAula.aula?.nombre||"No especificado",icon:et}),It.jsx(Zq,{label:"Seccin",value:a.matriculaAula.aula?.seccion||"No especificado",icon:tt}),It.jsx(Zq,{label:"Cantidad de Estudiantes",value:a.matriculaAula.aula?.cantidadEstudiantes||"No especificado",icon:oe}),It.jsx(Zq,{label:"Fecha de Asignacin",value:h(a.matriculaAula.fechaAsignacion),icon:ue}),It.jsx(Zq,{label:"Estado de Asignacin",value:a.matriculaAula.estado||"No especificado",icon:S})]})]}),a.pension&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(ve,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Informacin de Pensin"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(Zq,{label:"Monto de Pensin",value:`S/ ${a.pension.monto||"0.00"}`,icon:ve}),It.jsx(Zq,{label:"Descuento",value:`S/ ${a.pension.descuento||"0.00"}`,icon:rt}),It.jsx(Zq,{label:"Estado de Pensin",value:a.pension.estado||"No especificado",icon:S}),It.jsx(Zq,{label:"Fecha de Vencimiento",value:h(a.pension.fechaVencimiento),icon:ue}),It.jsx(Zq,{label:"Observaciones",value:a.pension.observacion||"Ninguna",icon:he,className:"md:col-span-2"})]})]}),d.imagen_estudiante&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(ee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Imagen del Estudiante"]}),It.jsx("div",{className:"flex justify-center",children:It.jsx("img",{src:d.imagen_estudiante,alt:`Foto de ${d.nombre} ${d.apellido}`,className:"w-32 h-32 object-cover rounded-full border-4 border-blue-200 shadow-lg"})})]})]})]}),It.jsx("div",{className:"flex justify-end pt-6 border-t mt-6",children:It.jsx("button",{onClick:r,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Cerrar"})})]})})})}),It.jsx(hi,{appear:!0,show:n,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-[60]",onClose:()=>s(!1),children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/80 bg-opacity-90"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-90",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-90",children:It.jsxs(ki.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-2xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:It.jsx(qe,{className:"w-6 h-6 text-green-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Comprobante de Pago"}),It.jsxs("p",{className:"text-sm text-gray-500",children:[d.nombre," ",d.apellido," - ",h(a.fechaIngreso)]})]})]}),It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx("button",{onClick:p,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Descargar imagen",children:It.jsx(Te,{className:"w-5 h-5"})}),It.jsx("button",{onClick:()=>window.open(a.voucherImg,"_blank"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Abrir en nueva pestaa",children:It.jsx(Ze,{className:"w-5 h-5"})}),It.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]})]}),It.jsx("div",{className:"flex justify-center",children:It.jsx("div",{className:"relative max-w-full max-h-[70vh] overflow-hidden rounded-lg border border-gray-200",children:l?It.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-10 text-center bg-gray-50",children:[It.jsx(qe,{className:"w-16 h-16 text-gray-400 mb-4"}),It.jsx("p",{className:"text-gray-500 mb-2",children:"Error al cargar la imagen del voucher"}),It.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"La imagen puede no estar disponible o haber sido eliminada"}),It.jsx("button",{onClick:()=>window.open(a.voucherImg,"_blank"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Intentar abrir en nueva pestaa"})]}):It.jsx("img",{src:a.voucherImg,alt:"Voucher de pago completo",className:"max-w-full max-h-[70vh] object-contain",onError:g})})}),It.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[It.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[It.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[It.jsx(ee,{className:"w-4 h-4 text-gray-600"}),It.jsx("span",{className:"font-medium text-gray-700",children:"Estudiante"})]}),It.jsxs("p",{className:"text-gray-900",children:[d.nombre," ",d.apellido]})]}),It.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[It.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[It.jsx(ve,{className:"w-4 h-4 text-gray-600"}),It.jsx("span",{className:"font-medium text-gray-700",children:"Monto"})]}),It.jsxs("p",{className:"text-gray-900",children:["S/ ",a.costoMatricula||"0.00"]})]}),It.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[It.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[It.jsx(ue,{className:"w-4 h-4 text-gray-600"}),It.jsx("span",{className:"font-medium text-gray-700",children:"Fecha"})]}),It.jsx("p",{className:"text-gray-900",children:h(a.fechaIngreso)})]})]})]})})})})]})})]})})},tU=cq({nombreEstudiante:Q$().required("El nombre del estudiante es requerido").trim().matches(/^[a-zA-Z\s]+$/,"El nombre solo puede contener letras y espacios"),apellidoEstudiante:Q$().required("El apellido del estudiante es requerido").trim().matches(/^[a-zA-Z\s]+$/,"El apellido solo puede contener letras y espacios"),observacionesEstudiante:Q$().trim(),nombreApoderado:Q$().required("El nombre del apoderado es requerido").trim().matches(/^[a-zA-Z\s]+$/,"El nombre solo puede contener letras y espacios"),apellidoApoderado:Q$().required("El apellido del apoderado es requerido").trim().matches(/^[a-zA-Z\s]+$/,"El apellido solo puede contener letras y espacios"),numeroApoderado:Q$().required("El telfono del apoderado es requerido").trim(),correoApoderado:Q$().email("El email del apoderado no es vlido").required("El email del apoderado es requerido"),direccionApoderado:Q$().trim(),nombreContacto:Q$().required("El nombre del contacto de emergencia es requerido").trim().matches(/^[a-zA-Z\s]+$/,"El nombre solo puede contener letras y espacios"),apellidoContacto:Q$().required("El apellido del contacto de emergencia es requerido").trim().matches(/^[a-zA-Z\s]+$/,"El apellido solo puede contener letras y espacios"),telefonoContacto:Q$().required("El telfono de emergencia es requerido").trim(),emailContacto:Q$().email("El email del contacto no es vlido").trim(),tipoContacto:Q$().required("El tipo de contacto es requerido")}),rU=({label:e,error:t,required:r,children:a,className:n=""})=>It.jsxs("div",{className:n,children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",r&&It.jsx("span",{className:"text-red-500",children:"*"})]}),a,t&&It.jsx("p",{className:"text-red-500 text-xs mt-1",children:t})]}),aU=({isOpen:e,onClose:r,matricula:a,onSave:n})=>{if(!a)return null;const s=Yr(),[i,o]=t.useState(null),[l,c]=t.useState(!1),[d,u]=t.useState(!1),{register:m,handleSubmit:h,formState:{errors:f},reset:p,setValue:g}=Iz({resolver:Uz(tU)});t.useEffect(()=>{(async()=>{if(a&&e&&a.idEstudiante?.idEstudiante){c(!0);try{const e=await Tq.getMatriculaByEstudianteId(a.idEstudiante.idEstudiante);o(e)}catch(t){o(a)}finally{c(!1)}}else o(a),c(!1)})()},[a,e]),t.useEffect(()=>{if(i&&e){const e=i.idEstudiante||{},t=i.idApoderado||{},r=e.contactosEmergencia||[],a=r.find(e=>e.esPrincipal)||r[0]||{};r.length,i.fechaIngreso&&new Date(i.fechaIngreso).toISOString().split("T")[0];const n={nombreEstudiante:e.nombre||"",apellidoEstudiante:e.apellido||"",observacionesEstudiante:e.observaciones||"",nombreApoderado:t.nombre||"",apellidoApoderado:t.apellido||"",numeroApoderado:t.numero||"",correoApoderado:t.correo||"",direccionApoderado:t.direccion||"",nombreContacto:a.nombre||"",apellidoContacto:a.apellido||"",telefonoContacto:a.telefono||"",emailContacto:a.email||"",tipoContacto:a.tipoContacto||""};p(n)}},[i,e,p]);const x=()=>{p(),r()};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:x,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-7xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:It.jsx(Re,{className:"w-6 h-6 text-yellow-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Editar Informacin del Estudiante"}),It.jsxs("p",{className:"text-sm text-gray-500",children:["Modifique la informacin de matrcula de ",a?.idEstudiante?.nombre||""," ",a?.idEstudiante?.apellido||""]})]})]}),It.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("form",{onSubmit:h(async e=>{try{u(!0);const t=i||a,r={numero:e.numeroApoderado,direccion:e.direccionApoderado,correo:e.correoApoderado},o={nombre:e.nombreEstudiante,apellido:e.apellidoEstudiante},l=[],c=t.idEstudiante?.contactosEmergencia||[],d=c.find(e=>e.esPrincipal)||c[0];d&&l.push({idContactoEmergencia:d.idContactoEmergencia||d.id,nombre:e.nombreContacto,apellido:e.apellidoContacto,telefono:e.telefonoContacto,email:e.emailContacto,tipoContacto:e.tipoContacto,relacionEstudiante:e.tipoContacto,prioridad:1});const m=t.idMatricula||t.id;if(!m)throw new Error("No se pudo obtener el ID de la matrcula");const h={apoderadoData:r,estudianteData:o,contactosEmergencia:l,nuevosContactos:[]};await Tq.actualizarContactosMatricula(m,h),s.invalidateQueries({queryKey:Oq.lists()}),ca.success("Informacin actualizada exitosamente!",{description:"Los datos del apoderado y contactos han sido actualizados"}),n()}catch(t){ca.error("Error al actualizar la informacin",{description:t.message||"Ocurri un error inesperado"})}finally{u(!1)}}),className:"space-y-6",children:[It.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[It.jsxs("h3",{className:"text-md font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(ee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Informacin Personal del Estudiante"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(rU,{label:"Nombre",error:f.nombreEstudiante?.message,required:!0,children:It.jsx("input",{...m("nombreEstudiante"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ingrese el nombre"})}),It.jsx(rU,{label:"Apellido",error:f.apellidoEstudiante?.message,required:!0,children:It.jsx("input",{...m("apellidoEstudiante"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ingrese el apellido"})}),It.jsx(rU,{label:"Observaciones del Estudiante",error:f.observacionesEstudiante?.message,className:"md:col-span-2",children:It.jsx("textarea",{...m("observacionesEstudiante"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observaciones sobre el estudiante"})})]})]}),It.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[It.jsxs("h3",{className:"text-md font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(oe,{className:"w-5 h-5 mr-2 text-green-600"}),"Informacin del Apoderado"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(rU,{label:"Nombre",error:f.nombreApoderado?.message,required:!0,children:It.jsx("input",{...m("nombreApoderado"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre del apoderado"})}),It.jsx(rU,{label:"Apellido",error:f.apellidoApoderado?.message,required:!0,children:It.jsx("input",{...m("apellidoApoderado"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Apellido del apoderado"})}),It.jsx(rU,{label:"Telfono",error:f.numeroApoderado?.message,required:!0,children:It.jsx("input",{...m("numeroApoderado"),type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Telfono del apoderado"})}),It.jsx(rU,{label:"Email",error:f.correoApoderado?.message,required:!0,children:It.jsx("input",{...m("correoApoderado"),type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"apoderado@ejemplo.com"})}),It.jsx(rU,{label:"Direccin",error:f.direccionApoderado?.message,className:"md:col-span-2",children:It.jsx("input",{...m("direccionApoderado"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Direccin del apoderado"})})]})]})]}),It.jsx("div",{className:"space-y-6",children:It.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[It.jsxs("h3",{className:"text-md font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(Be,{className:"w-5 h-5 mr-2 text-red-600"}),"Contacto de Emergencia Principal",l&&It.jsx(E,{className:"w-4 h-4 ml-2 animate-spin text-blue-500"})]}),l?It.jsxs("div",{className:"text-center py-8",children:[It.jsx(E,{className:"w-8 h-8 animate-spin text-blue-500 mx-auto"}),It.jsx("p",{className:"text-gray-500 mt-2",children:"Cargando contactos de emergencia..."})]}):It.jsxs("div",{children:[(!i?.idEstudiante?.contactosEmergencia||0===i.idEstudiante.contactosEmergencia.length)&&It.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:It.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",It.jsx("strong",{children:"No hay contactos de emergencia registrados."}),"Puedes agregar la informacin aqu y se guardar cuando actualices la matrcula."]})}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(rU,{label:"Nombre",error:f.nombreContacto?.message,required:!0,children:It.jsx("input",{...m("nombreContacto"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre del contacto"})}),It.jsx(rU,{label:"Apellido",error:f.apellidoContacto?.message,required:!0,children:It.jsx("input",{...m("apellidoContacto"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Apellido del contacto"})}),It.jsx(rU,{label:"Telfono",error:f.telefonoContacto?.message,required:!0,children:It.jsx("input",{...m("telefonoContacto"),type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Telfono de emergencia"})}),It.jsx(rU,{label:"Email",error:f.emailContacto?.message,children:It.jsx("input",{...m("emailContacto"),type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@ejemplo.com"})}),It.jsx(rU,{label:"Tipo de Contacto",error:f.tipoContacto?.message,required:!0,className:"md:col-span-2",children:It.jsxs("select",{...m("tipoContacto"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[It.jsx("option",{value:"",children:"Seleccione tipo"}),It.jsx("option",{value:"Madre",children:"Madre"}),It.jsx("option",{value:"Padre",children:"Padre"}),It.jsx("option",{value:"Abuelo",children:"Abuelo"}),It.jsx("option",{value:"Abuela",children:"Abuela"}),It.jsx("option",{value:"To",children:"To"}),It.jsx("option",{value:"Ta",children:"Ta"}),It.jsx("option",{value:"Hermano",children:"Hermano"}),It.jsx("option",{value:"Hermana",children:"Hermana"}),It.jsx("option",{value:"Otro familiar",children:"Otro familiar"})]})})]})]})]})})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[It.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),It.jsxs("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[d?It.jsx(E,{className:"w-4 h-4 animate-spin"}):It.jsx(Ye,{className:"w-4 h-4"}),It.jsx("span",{children:d?"Guardando...":"Guardar Cambios"})]})]})]})]})})})})]})})},nU=({isOpen:e,onClose:r,matricula:a,onDelete:n})=>{const{deleteStudent:s,loading:i}=Dq();return a?It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:It.jsx(Le,{className:"w-6 h-6 text-red-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Eliminar Matrcula"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Esta accin no se puede deshacer"})]})]}),It.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("div",{className:"space-y-4",children:[It.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-start space-x-3",children:[It.jsx(Xe,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),It.jsxs("div",{children:[It.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"Atencin! Esta accin es irreversible"}),It.jsx("p",{className:"text-sm text-red-700",children:"Al eliminar esta matrcula se perdern todos los datos asociados al estudiante, incluyendo calificaciones, asistencia y reportes."})]})]})}),It.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center space-x-4",children:[It.jsx("div",{className:"flex-shrink-0",children:a.photo?It.jsx("img",{src:a.photo,alt:`${a.name} ${a.lastName}`,className:"w-12 h-12 rounded-full object-cover"}):It.jsx(Jq,{name:`${a.name} ${a.lastName}`,size:"w-12 h-12",textSize:"text-sm"})}),It.jsxs("div",{className:"flex-1",children:[It.jsxs("h4",{className:"font-medium text-gray-900 flex items-center",children:[It.jsx(ee,{className:"w-4 h-4 mr-1 text-gray-600"}),a.name," ",a.lastName]}),It.jsxs("p",{className:"text-sm text-gray-600 flex items-center mt-1",children:[It.jsx(Z,{className:"w-4 h-4 mr-1"}),a.grade]}),It.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a.email})]})]})}),It.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[It.jsxs("p",{className:"text-sm text-yellow-800",children:[It.jsx("strong",{children:"Para confirmar la eliminacin, escriba:"})," ELIMINAR"]}),It.jsx("input",{type:"text",placeholder:"Escriba ELIMINAR para confirmar",className:"w-full mt-2 px-3 py-2 border border-yellow-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-sm",onChange:e=>{const t=document.getElementById("delete-button");t&&(t.disabled="ELIMINAR"!==e.target.value)}})]}),It.jsxs("div",{className:"text-sm text-gray-600",children:[It.jsx("p",{className:"font-medium mb-2",children:"Se eliminarn los siguientes datos:"}),It.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[It.jsx("li",{children:"Informacin personal del estudiante"}),It.jsx("li",{children:"Datos de contacto y acudientes"}),It.jsx("li",{children:"Historial acadmico y calificaciones"}),It.jsx("li",{children:"Registro de asistencia"}),It.jsx("li",{children:"Reportes y observaciones"}),It.jsx("li",{children:"Fotografas y documentos adjuntos"})]})]})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[It.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),It.jsxs("button",{id:"delete-button",onClick:async()=>{try{await s(a.id),n()}catch(e){}},disabled:!0,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[i?It.jsx(E,{className:"w-4 h-4 animate-spin"}):It.jsx(Le,{className:"w-4 h-4"}),It.jsx("span",{children:i?"Eliminando...":"Eliminar Matrcula"})]})]})]})})})})]})}):null};class sU extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,showDetails:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,showDetails:!1})};toggleDetails=()=>{this.setState({showDetails:!this.state.showDetails})};render(){return this.state.hasError?It.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:It.jsxs("div",{className:"max-w-lg w-full mx-4 bg-white rounded-lg shadow-xl p-6",children:[It.jsx("div",{className:"flex justify-center mb-4",children:It.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:It.jsx(Xe,{className:"w-8 h-8 text-red-600"})})}),It.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:"Error en Modal de Matrcula"}),It.jsx("p",{className:"text-gray-600 mb-4 text-center",children:"Se produjo un error al cargar el modal de matrcula. Esto puede deberse a:"}),It.jsxs("ul",{className:"text-sm text-gray-600 mb-6 space-y-1",children:[It.jsx("li",{children:" Problemas de conexin con el servidor"}),It.jsx("li",{children:" Error al cargar aulas por grado"}),It.jsx("li",{children:" Problemas con la validacin de formulario"}),It.jsx("li",{children:" Error en el hook useAulasAsignacion"})]}),It.jsxs("div",{className:"space-y-3",children:[It.jsxs("button",{onClick:this.handleRetry,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[It.jsx(Ce,{className:"w-4 h-4 mr-2"}),"Intentar nuevamente"]}),It.jsx("button",{onClick:()=>{this.handleRetry(),this.props.onClose&&this.props.onClose()},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Cerrar modal"}),It.jsxs("button",{onClick:this.toggleDetails,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-50 text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:[It.jsx(at,{className:"w-4 h-4 mr-2"}),this.state.showDetails?"Ocultar":"Ver"," detalles tcnicos"]})]}),this.state.showDetails&&this.state.error&&It.jsxs("div",{className:"mt-4 p-3 bg-red-50 rounded-lg border border-red-200",children:[It.jsx("p",{className:"font-semibold text-sm text-red-800 mb-2",children:"Detalles del error:"}),It.jsx("p",{className:"text-xs text-red-700 mb-2 font-mono break-all",children:this.state.error.toString()}),this.state.errorInfo&&It.jsxs(It.Fragment,{children:[It.jsx("p",{className:"font-semibold text-sm text-red-800 mb-2",children:"Stack trace:"}),It.jsx("pre",{className:"text-xs text-red-700 whitespace-pre-wrap font-mono max-h-32 overflow-auto",children:this.state.errorInfo.componentStack})]})]}),It.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:It.jsxs("p",{className:"text-xs text-blue-700",children:[It.jsx("strong",{children:"Consejo:"})," Si el problema persiste, revisa la consola del navegador (F12) para obtener ms informacin o contacta al soporte tcnico."]})})]})}):this.props.children}}const iU=()=>{const{students:e,loading:r}=Dq(),[a,n]=t.useState(null),[s,i]=t.useState(!1),[o,l]=t.useState(!1),[c,d]=t.useState(!1),[u,m]=t.useState(!1);t.useEffect(()=>{},[e,r]);const h=()=>{i(!1),l(!1),d(!1),m(!1),n(null)},f=()=>{h()};return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Matrcula"}),It.jsx(Aq,{matriculas:e,loading:r,onAdd:()=>i(!0),onView:e=>{n(e),l(!0)},onEdit:e=>{n(e),d(!0)},onDelete:e=>{n(e),m(!0)}}),It.jsx(sU,{onClose:h,children:It.jsx(Xq,{isOpen:s,onClose:h,onSave:f})}),It.jsx(eU,{isOpen:o,onClose:h,matricula:a}),It.jsx(aU,{isOpen:c,onClose:h,onSave:f,matricula:a}),It.jsx(nU,{isOpen:u,onClose:h,onDelete:()=>{h()},matricula:a})]})},oU=({trabajadores:e=[],loading:t=!1,onAdd:r,onView:a,onEdit:n,onDelete:s})=>It.jsx(eL,{data:e,columns:aL,loading:t,title:"Tabla de Trabajadores",searchPlaceholder:"Buscar trabajadores...",actions:{add:!0,edit:!0,delete:!0,view:!1,import:!1,export:!1},onAdd:r,onEdit:n,onDelete:s,onView:a,emptyStateConfig:{title:"No hay trabajadores registrados",description:"Comienza agregando tu primer trabajador"},addButtonText:"Crear Trabajador"}),lU=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});lU.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),lU.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/auth/login"),Promise.reject(e)));const cU={async getAll(){try{return(await lU.get("/curso")).data}catch(e){throw new Error(e.response?.data?.message||"Error al obtener los cursos")}},async getById(e){try{return(await lU.get(`/curso/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener el curso")}},async create(e){try{return(await lU.post("/curso",e)).data}catch(t){throw new Error(t.response?.data?.message||"Error al crear el curso")}},async update(e,t){try{return(await lU.patch(`/curso/${e}`,t)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar el curso")}},async delete(e){try{return(await lU.delete(`/curso/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar el curso")}},async getByGrado(e){try{return(await lU.get(`/curso/grado/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener cursos por grado")}},async getActivos(){try{return(await lU.get("/curso/activos")).data}catch(e){throw new Error(e.response?.data?.message||"Error al obtener cursos activos")}},async search(e){try{return(await lU.get("/curso/search",{params:{q:e}})).data}catch(t){throw new Error(t.response?.data?.message||"Error en bsqueda de cursos")}},async getEstadisticas(){try{return(await lU.get("/curso/estadisticas")).data}catch(e){throw new Error(e.response?.data?.message||"Error al obtener estadsticas")}},async getConMatriculas(){try{return(await lU.get("/curso/matriculas")).data}catch(e){throw new Error(e.response?.data?.message||"Error al obtener cursos con matrculas")}},async matricularEstudiante(e,t){try{return(await lU.post(`/curso/${e}/matricular`,{estudianteId:t})).data}catch(r){throw new Error(r.response?.data?.message||"Error al matricular estudiante")}},async desmatricularEstudiante(e,t){try{return(await lU.delete(`/curso/${e}/matricular/${t}`)).data}catch(r){throw new Error(r.response?.data?.message||"Error al desmatricular estudiante")}},async getEstudiantes(e){try{return(await lU.get(`/curso/${e}/estudiantes`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener estudiantes")}},async asignarProfesor(e,t){try{return(await lU.post(`/curso/${e}/profesor`,{profesorId:t})).data}catch(r){throw new Error(r.response?.data?.message||"Error al asignar profesor")}},async removerProfesor(e,t){try{return(await lU.delete(`/curso/${e}/profesor/${t}`)).data}catch(r){throw new Error(r.response?.data?.message||"Error al remover profesor")}},async getProfesores(e){try{return(await lU.get(`/curso/${e}/profesores`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener profesores")}}},dU=()=>Qr({queryKey:["cursos"],queryFn:async()=>{const e=await cU.getAll();return e.info?.data||[]},staleTime:3e5,cacheTime:6e5,select:e=>e.filter(e=>e.estaActivo)}),uU={all:["asignacion-cursos"]},mU={createAsignacionCurso:async e=>{const t=localStorage.getItem("token");return(await Pl.post("http://localhost:3000/api/v1/asignacion-curso",e,{headers:{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""}})).data}},hU={all:["roles"],lists:()=>[...hU.all,"list"],list:e=>[...hU.lists(),{filters:e}],details:()=>[...hU.all,"detail"],detail:e=>[...hU.details(),e]},fU={getRoles:async(e={})=>{const t=localStorage.getItem("token"),r=(await Pl.get("http://localhost:3000/api/v1/rol",{headers:{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""},params:e})).data||{};return r.info?.data||r.roles||r.data||[]},getRolById:async e=>{const t=localStorage.getItem("token"),r=await Pl.get(`http://localhost:3000/api/v1/rol/${e}`,{headers:{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""}});return r.data.rol||r.data.role},createRol:async e=>{const t=localStorage.getItem("token"),r=await Pl.post("http://localhost:3000/api/v1/rol",e,{headers:{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""}});return r.data.rol||r.data.role},updateRol:async({id:e,...t})=>{const r=localStorage.getItem("token"),a=await Pl.patch(`http://localhost:3000/api/v1/rol/${e}`,t,{headers:{"Content-Type":"application/json",Authorization:r?`Bearer ${r}`:""}});return a.data.rol||a.data.role},deleteRol:async e=>{const t=localStorage.getItem("token");return await Pl.delete(`http://localhost:3000/api/v1/rol/${e}`,{headers:{Authorization:t?`Bearer ${t}`:""}}),e},toggleRolStatus:async e=>{const t=localStorage.getItem("token"),r=await Pl.patch(`http://localhost:3000/api/v1/rol/${e}/toggle-status`,{},{headers:{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""}});return r.data.rol||r.data.role}},pU=()=>{const[e,r]=t.useState({search:"",status:"",page:1,limit:10}),{data:a=[],isLoading:n,refetch:s}=((e={})=>Qr({queryKey:hU.list(e),queryFn:async()=>{try{const t=await fU.getRoles(e);return t.success&&t.info?.data?t.info.data:t.data?t.data:Array.isArray(t)?t:[]}catch(t){throw t}},staleTime:3e5,gcTime:6e5,retry:2,refetchOnWindowFocus:!1}))(e),i=(()=>{const e=Yr();return Xr({mutationFn:fU.createRol,onSuccess:t=>{e.invalidateQueries({queryKey:hU.lists()}),ca.success("Rol creado exitosamente",{description:`El rol "${t.nombre}" ha sido creado`})},onError:e=>{ca.error("Error al crear rol",{description:e.message||"Ocurri un error inesperado"})}})})(),o=(()=>{const e=Yr();return Xr({mutationFn:fU.updateRol,onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:hU.lists()}),e.invalidateQueries({queryKey:hU.detail(r)});const a=t?.nombre||"Rol";ca.success("Rol actualizado exitosamente",{description:`Los datos del rol "${a}" han sido actualizados`})},onError:e=>{ca.error("Error al actualizar rol",{description:e.message||"Ocurri un error inesperado"})}})})(),l=(()=>{const e=Yr();return Xr({mutationFn:fU.deleteRol,onSuccess:t=>{e.invalidateQueries({queryKey:hU.lists()}),ca.success("Rol eliminado exitosamente")},onError:e=>{ca.error("Error al eliminar rol",{description:e.message||"Ocurri un error inesperado"})}})})(),c=(()=>{const e=Yr();return Xr({mutationFn:fU.toggleRolStatus,onSuccess:t=>{e.invalidateQueries({queryKey:hU.lists()});const r=t.estaActivo?"activado":"desactivado";ca.success(`Rol ${r} exitosamente`,{description:`El rol "${t.nombre}" ha sido ${r}`})},onError:e=>{ca.error("Error al cambiar estado del rol",{description:e.message||"Ocurri un error inesperado"})}})})(),d=i.isPending,u=o.isPending,m=l.isPending,h=d||u,f=t.useMemo(()=>{if(!a||0===a.length)return{total:0,active:0,inactive:0};const e=a.length,t=a.filter(e=>e.estaActivo).length;return{total:e,active:t,inactive:e-t}},[a]),p=t.useCallback(async e=>i.mutateAsync(e),[i]),g=t.useCallback(async(e,t)=>o.mutateAsync({id:e,...t}),[o]),x=t.useCallback(async e=>l.mutateAsync(e),[l]),b=t.useCallback(async e=>c.mutateAsync(e),[c]),y=t.useCallback(e=>{r(t=>({...t,...e}))},[]),v=t.useCallback(async()=>{await s()},[s]);return{roles:a,loading:n,statistics:f,creating:d,updating:u,deleting:m,uploading:h,filters:e,updateFilters:y,createRol:p,updateRol:g,deleteRol:x,toggleRolStatus:b,refreshRoles:v}},gU=["ADMINISTRADOR","SECRETARIA","DOCENTE","ESPECIALISTA"],xU=cq({nombre:Q$().required("El nombre es requerido").trim(),apellido:Q$().required("El apellido es requerido").trim(),tipoDocumento:Q$().required("El tipo de documento es requerido"),nroDocumento:Q$().required("El nmero de documento es requerido").trim(),idRol:Q$().required("El rol es requerido"),idCurso:Q$().nullable(),correo:Q$().email("El correo no es vlido").nullable(),telefono:Q$().nullable(),direccion:Q$().nullable()}),bU=({isOpen:e,onClose:r,onSuccess:a})=>{const n=Yr(),{data:s=[],isLoading:i}=dU(),o=(()=>{const e=Yr();return Xr({mutationFn:mU.createAsignacionCurso,onSuccess:t=>{ca.success("Asignacin de curso creada exitosamente"),e.invalidateQueries({queryKey:uU.all})},onError:e=>{ca.error(e.response?.data?.message||"Error al crear asignacin de curso")}})})(),{roles:l=[],loading:c}=pU(),d=l.filter(e=>gU.includes(e.nombre?.toUpperCase())),u=l.find(e=>"docente"===e.nombre?.toLowerCase())?.idRol,m=Xr({mutationFn:e=>jc.createTrabajadorSimple(e)}),{register:h,handleSubmit:f,formState:{errors:p},reset:g,setError:x,watch:b}=Iz({resolver:Uz(xU),defaultValues:{nombre:"",apellido:"",tipoDocumento:"DNI",nroDocumento:"",correo:"",telefono:"",direccion:"",idRol:"",idCurso:""}}),y=()=>{m.isPending||(g(),r())},v=m.isPending,j=b("idRol"),w=e=>`block w-full px-3 py-2 border ${e?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50`;return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:y,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:"Crear Nuevo Trabajador"}),It.jsx("button",{onClick:y,disabled:v,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5"})})]}),It.jsxs("form",{onSubmit:f(async e=>{try{const{idCurso:t,...r}=e;if(u&&e.idRol===u&&!t)return void x("idCurso",{type:"manual",message:"Seleccione un curso para docentes"});r.estaActivo=!0;const s=await m.mutateAsync(r),i=s?.trabajador?.idTrabajador||s?.trabajador?.id||s?.data?.idTrabajador||s?.data?.id||s?.info?.data?.idTrabajador;if(u&&e.idRol===u&&t){if(!i)throw new Error("No se pudo obtener el ID del trabajador creado");await o.mutateAsync({idCurso:t,idTrabajador:i})}n.invalidateQueries({queryKey:["trabajadores"]}),ca.success("Trabajador creado exitosamente!"),y(),a&&a()}catch(t){ca.error("Error al crear trabajador",{description:t.message})}}),className:"space-y-4",children:[It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),It.jsx("input",{...h("nombre"),className:w(p.nombre),placeholder:"Ej: Walter Eduardo",disabled:v}),p.nombre&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.nombre.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido *"}),It.jsx("input",{...h("apellido"),className:w(p.apellido),placeholder:"Ej: Martinez Gonzales",disabled:v}),p.apellido&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.apellido.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Documento *"}),It.jsxs("select",{...h("tipoDocumento"),className:w(p.tipoDocumento),disabled:v,children:[It.jsx("option",{value:"DNI",children:"DNI"}),It.jsx("option",{value:"CE",children:"Carnet de Extranjera"}),It.jsx("option",{value:"PASAPORTE",children:"Pasaporte"})]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero de Documento *"}),It.jsx("input",{...h("nroDocumento"),className:w(p.nroDocumento),placeholder:"Ej: 24323234",disabled:v}),p.nroDocumento&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.nroDocumento.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol *"}),It.jsxs("select",{...h("idRol"),className:w(p.idRol),disabled:v||c,children:[It.jsx("option",{value:"",children:c?"Cargando roles...":d.length?"Seleccione un rol":"No hay roles disponibles"}),d.map(e=>It.jsx("option",{value:e.idRol||e.id,children:e.nombre},e.idRol||e.id))]}),p.idRol&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.idRol.message})]}),j===u&&It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Curso *"}),It.jsxs("select",{...h("idCurso"),className:w(p.idCurso),disabled:v||i,children:[It.jsx("option",{value:"",children:"Seleccione un curso"}),s.map(e=>It.jsx("option",{value:e.idCurso||e.id,children:e.nombreCurso||e.nombre},e.idCurso||e.id))]}),p.idCurso&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.idCurso.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo Electrnico"}),It.jsx("input",{type:"email",...h("correo"),className:w(p.correo),placeholder:"Ej: ejemplo@correo.com",disabled:v}),p.correo&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.correo.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono"}),It.jsx("input",{...h("telefono"),className:w(p.telefono),placeholder:"Ej: 925757151",disabled:v})]}),It.jsxs("div",{className:"md:col-span-2",children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Direccin"}),It.jsx("input",{...h("direccion"),className:w(p.direccion),placeholder:"Ej: AV. MICHAEL FARADAY NRO. 1060",disabled:v})]})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[It.jsx("button",{type:"button",onClick:y,disabled:v,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:v,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center",children:v?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Creando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(S,{className:"w-4 h-4 mr-2"}),"Crear Trabajador"]})})]})]})]})})})})]})})},yU=({label:e,value:t,icon:r,className:a=""})=>It.jsxs("div",{className:`bg-gray-50 p-3 rounded-lg ${a}`,children:[It.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[It.jsx(r,{className:"w-4 h-4 text-gray-600"}),It.jsx("span",{className:"text-sm font-medium text-gray-700",children:e})]}),It.jsx("p",{className:"text-gray-900 ml-6",children:t||"No especificado"})]}),vU=({isOpen:e,onClose:r,trabajador:a})=>{if(!a)return null;const n=()=>{r()};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:n,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(N,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Informacin del Trabajador"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Detalles completos del trabajador"})]})]}),It.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg",children:[It.jsx("div",{className:"flex-shrink-0"}),It.jsxs("div",{className:"flex-1 text-center md:text-left",children:[It.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:a.nombre&&a.apellido?`${a.nombre} ${a.apellido}`:a.nombre||a.apellido||"Sin nombre"}),a.idRol?.nombre&&It.jsx("p",{className:"text-lg text-blue-600 font-medium mb-2",children:a.idRol.nombre}),It.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 text-sm text-gray-600",children:[a.idUsuario?.usuario&&It.jsxs("span",{className:"flex items-center",children:[It.jsx(ee,{className:"w-4 h-4 mr-1"}),"Usuario: ",a.idUsuario.usuario]}),a.correo&&It.jsxs("span",{className:"flex items-center",children:[It.jsx(Ve,{className:"w-4 h-4 mr-1"}),a.correo]}),a.telefono&&It.jsxs("span",{className:"flex items-center",children:[It.jsx(Be,{className:"w-4 h-4 mr-1"}),a.telefono]})]})]})]}),It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(ee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Informacin Personal"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(a.nombre||a.apellido)&&It.jsx(yU,{label:"Nombre Completo",value:`${a.nombre||""} ${a.apellido||""}`.trim(),icon:ee}),(a.tipoDocumento||a.nroDocumento)&&It.jsx(yU,{label:"Documento",value:`${a.tipoDocumento||"DNI"}: ${a.nroDocumento||"No especificado"}`,icon:he}),a.correo&&It.jsx(yU,{label:"Email",value:a.correo,icon:Ve}),a.telefono&&It.jsx(yU,{label:"Telfono",value:a.telefono,icon:Be}),void 0!==a.estaActivo&&It.jsx(yU,{label:"Estado",value:a.estaActivo?"Activo":"Inactivo",icon:ie}),a.direccion&&It.jsx(yU,{label:"Direccin",value:a.direccion,icon:We,className:"md:col-span-2"})]})]}),a.idRol&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(nt,{className:"w-5 h-5 mr-2 text-green-600"}),"Informacin del Rol"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.idRol?.nombre&&It.jsx(yU,{label:"Rol",value:a.idRol.nombre,icon:nt}),a.idRol?.descripcion&&It.jsx(yU,{label:"Descripcin del Rol",value:a.idRol.descripcion,icon:he}),a.idRol?.idRol&&It.jsx(yU,{label:"ID del Rol",value:a.idRol.idRol,icon:he}),void 0!==a.idRol?.estaActivo&&It.jsx(yU,{label:"Estado del Rol",value:a.idRol.estaActivo?"Activo":"Inactivo",icon:ie})]})]}),a.idUsuario&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(ee,{className:"w-5 h-5 mr-2 text-purple-600"}),"Informacin de Usuario"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.idUsuario?.usuario&&It.jsx(yU,{label:"Nombre de Usuario",value:a.idUsuario.usuario,icon:ee}),a.idUsuario?.creado&&It.jsx(yU,{label:"Fecha de Creacin",value:new Date(a.idUsuario.creado).toLocaleDateString("es-ES"),icon:ue}),a.idUsuario?.actualizado&&It.jsx(yU,{label:"ltima Actualizacin",value:new Date(a.idUsuario.actualizado).toLocaleDateString("es-ES"),icon:ue}),void 0!==a.idUsuario?.estaActivo&&It.jsx(yU,{label:"Estado del Usuario",value:a.idUsuario.estaActivo?"Activo":"Inactivo",icon:ie}),a.idUsuario?.idUsuario&&It.jsx(yU,{label:"ID de Usuario",value:a.idUsuario.idUsuario,icon:he})]})]}),a.contratoTrabajadors3&&a.contratoTrabajadors3.length>0&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(he,{className:"w-5 h-5 mr-2 text-orange-600"}),"Informacin de Contratos"]}),It.jsx("div",{className:"space-y-4",children:a.contratoTrabajadors3.map((e,t)=>It.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.numeroContrato&&It.jsx(yU,{label:"Nmero de Contrato",value:e.numeroContrato,icon:he}),e.idTipoContrato?.nombreTipo&&It.jsx(yU,{label:"Tipo de Contrato",value:"CONTRATO_PLANILLA"===e.idTipoContrato.nombreTipo?"Planilla":"RECIBO_POR_HONORARIOS"===e.idTipoContrato.nombreTipo?"Recibo por Honorarios":e.idTipoContrato.nombreTipo,icon:nt}),e.cargoContrato&&It.jsx(yU,{label:"Cargo",value:e.cargoContrato,icon:ie}),e.sueldoContratado&&It.jsx(yU,{label:"Sueldo Contratado",value:`S/ ${parseFloat(e.sueldoContratado).toLocaleString("es-PE",{minimumFractionDigits:2})}`,icon:ve}),e.jornadaLaboral&&It.jsx(yU,{label:"Jornada Laboral",value:e.jornadaLaboral,icon:de}),e.horasSemanales&&It.jsx(yU,{label:"Horas Semanales",value:`${e.horasSemanales} horas`,icon:de}),e.lugarTrabajo&&It.jsx(yU,{label:"Lugar de Trabajo",value:e.lugarTrabajo,icon:We}),e.estadoContrato&&It.jsx(yU,{label:"Estado del Contrato",value:e.estadoContrato,icon:ie}),e.fechaInicio&&It.jsx(yU,{label:"Fecha de Inicio",value:new Date(e.fechaInicio).toLocaleDateString("es-ES"),icon:ue}),e.fechaFin&&It.jsx(yU,{label:"Fecha de Fin",value:new Date(e.fechaFin).toLocaleDateString("es-ES"),icon:ue}),e.descripcionFunciones&&It.jsx(yU,{label:"Funciones",value:e.descripcionFunciones,icon:he,className:"md:col-span-2 lg:col-span-3"}),e.observacionesContrato&&It.jsx(yU,{label:"Observaciones",value:e.observacionesContrato,icon:he,className:"md:col-span-2 lg:col-span-3"})]})},e.idContrato||t))})]}),It.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(he,{className:"w-5 h-5 mr-2 text-gray-600"}),"IDs de Referencia del Sistema"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.idTrabajador&&It.jsx(yU,{label:"ID del Trabajador",value:a.idTrabajador,icon:he}),a.id_Usuario_Tabla&&It.jsx(yU,{label:"ID Usuario Tabla",value:a.id_Usuario_Tabla,icon:he})]})]}),a.especializaciones&&a.especializaciones.length>0&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(nt,{className:"w-5 h-5 mr-2 text-orange-600"}),"Especializaciones"]}),It.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:It.jsx("div",{className:"flex flex-wrap gap-2",children:a.especializaciones.map((e,t)=>It.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:e},t))})})]}),a.clases&&a.clases.length>0&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(oe,{className:"w-5 h-5 mr-2 text-green-600"}),"Clases Asignadas"]}),It.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:It.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:a.clases.map((e,t)=>It.jsxs("div",{className:"text-sm text-gray-900 font-medium",children:[" ",e]},t))})})]}),a.notas&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(he,{className:"w-5 h-5 mr-2 text-gray-600"}),"Notas Adicionales"]}),It.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:It.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:a.notas})})]})]}),It.jsx("div",{className:"flex justify-end pt-6 border-t mt-6",children:It.jsx("button",{onClick:n,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Cerrar"})})]})})})})]})})},jU=cq({nombre:Q$().required("El nombre es requerido").trim(),apellido:Q$().required("El apellido es requerido").trim(),correo:Q$().email("El email no es vlido").required("El email es requerido"),telefono:Q$().required("El telfono es requerido").trim(),direccion:Q$().required("La direccin es requerida").trim()}),wU=({label:e,error:t,required:r,children:a,className:n=""})=>It.jsxs("div",{className:n,children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",r&&It.jsx("span",{className:"text-red-500",children:"*"})]}),a,t&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:t})]}),NU=({title:e,icon:t,iconColor:r,children:a})=>It.jsxs("div",{children:[It.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[It.jsx(t,{className:`w-5 h-5 ${r}`}),e]}),a]}),EU=["DNI","Carnet de Extranjera","Pasaporte"],SU=({isOpen:e,onClose:r,trabajador:a})=>{const{uploading:n}=Nc(),s=Ec(),{roles:i,isLoading:o}=pU(),{register:l,handleSubmit:c,formState:{errors:d},setValue:u,watch:m,reset:h}=Iz({resolver:Uz(jU),defaultValues:{nombre:"",apellido:"",correo:"",telefono:"",direccion:"",tipoDocumento:"DNI",nroDocumento:"",idRol:""}});m("foto"),t.useEffect(()=>{a&&e&&h({nombre:a.nombre||"",apellido:a.apellido||"",correo:a.correo||"",telefono:a.telefono||"",direccion:a.direccion||"",tipoDocumento:a.tipoDocumento||"DNI",nroDocumento:a.nroDocumento||"",idRol:a.idRol||""})},[a,e,h]);const f=async e=>{try{const{idRol:t,tipoDocumento:r,nroDocumento:n,...i}=e;await s.mutateAsync({id:a.idTrabajador,data:i}),p()}catch(t){}},p=()=>{h(),r()},g=e=>"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(e?"border-red-500":"border-gray-300"),x=s.isLoading||n;return a?It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:p,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-lg bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 bg-blue-50",children:[It.jsx("div",{className:"flex items-center gap-3",children:It.jsxs("div",{children:[It.jsxs(ki.Title,{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[It.jsx(st,{className:"w-6 h-6 text-blue-600"}),"Editar Trabajador"]}),It.jsx("p",{className:"text-blue-600 font-medium",children:`${a.nombre} ${a.apellido}`})]})}),It.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:x,children:It.jsx(ne,{className:"w-6 h-6"})})]}),It.jsxs("form",{onSubmit:c(f),className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[It.jsx(NU,{title:"Informacin Personal",icon:ee,iconColor:"text-blue-600",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(wU,{label:"Nombre",required:!0,error:d.nombre?.message,children:It.jsx("input",{...l("nombre"),className:g(d.nombre),placeholder:"Ej: Mara Elena",disabled:x})}),It.jsx(wU,{label:"Apellido",required:!0,error:d.apellido?.message,children:It.jsx("input",{...l("apellido"),className:g(d.apellido),placeholder:"Ej: Vsquez Garca",disabled:x})}),It.jsxs(wU,{label:"Tipo de Documento",required:!0,error:d.tipoDocumento?.message,children:[It.jsx("select",{...l("tipoDocumento"),className:`${g(d.tipoDocumento)} bg-gray-100 cursor-not-allowed`,disabled:!0,children:EU.map(e=>It.jsx("option",{value:e,children:e},e))}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" El tipo de documento no se puede modificar una vez creado el trabajador"})]}),It.jsxs(wU,{label:"Nmero de Documento",required:!0,error:d.nroDocumento?.message,children:[It.jsx("input",{...l("nroDocumento"),className:`${g(d.nroDocumento)} bg-gray-100 cursor-not-allowed`,placeholder:"Ej: 12345678",disabled:!0,readOnly:!0}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" El nmero de documento no se puede modificar (es nico e inmutable)"})]}),It.jsx(wU,{label:"Email",required:!0,error:d.correo?.message,children:It.jsx("input",{type:"email",...l("correo"),className:g(d.correo),placeholder:"Ej: maria.vasquez@colegio.edu",disabled:x})}),It.jsx(wU,{label:"Telfono",required:!0,error:d.telefono?.message,children:It.jsx("input",{type:"tel",...l("telefono"),className:g(d.telefono),placeholder:"Ej: +51 987 123 456",disabled:x})}),It.jsx(wU,{label:"Direccin",required:!0,error:d.direccion?.message,className:"md:col-span-2",children:It.jsx("input",{...l("direccion"),className:g(d.direccion),placeholder:"Ej: Jr. San Isidro 2403, Lima",disabled:x})})]})}),It.jsx(NU,{title:"Informacin del Rol",icon:nt,iconColor:"text-purple-600",children:It.jsx("div",{className:"grid grid-cols-1 gap-4",children:It.jsxs(wU,{label:"Rol",required:!0,error:d.idRol?.message,children:[It.jsxs("select",{...l("idRol"),className:`${g(d.idRol)} bg-gray-100 cursor-not-allowed`,disabled:!0,children:[It.jsx("option",{value:"",children:o?"Cargando roles...":"Seleccione un rol"}),Array.isArray(i)&&i.filter(e=>"secretaria"!==e.nombre?.toLowerCase()&&"estudiante"!==e.nombre?.toLowerCase()).map(e=>It.jsx("option",{value:e.idRol,children:e.nombre},e.idRol))]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" El rol no se puede modificar una vez creado el trabajador"})]})})})]}),It.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:[It.jsx("button",{type:"button",onClick:p,disabled:x,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),It.jsx("button",{onClick:c(f),disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-w-[140px]",children:x?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),n?"Subiendo...":"Guardando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),"Guardar Cambios"]})})]})]})})})})]})}):null},kU=({isOpen:e,onClose:r,onSuccess:a,trabajador:n})=>{const s=Sc(),[i,o]=t.useState("");if(!n)return null;const l=`${n.nombre} ${n.apellido}`,c=i.trim().toLowerCase()!==l.toLowerCase(),d=n.estaActivo?"desactivar":"activar",u=n.estaActivo?"Desactivar":"Activar",m=()=>{o(""),r()};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:m,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-lg transform overflow-hidden rounded-lg bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 bg-orange-50",children:[It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:It.jsx(Xe,{className:"w-6 h-6 text-orange-600"})}),It.jsxs("div",{children:[It.jsxs(ki.Title,{className:"text-xl font-semibold text-gray-900",children:[u," Trabajador"]}),It.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Ests seguro de continuar?"})]})]}),It.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:s.isLoading,children:It.jsx(ne,{className:"w-6 h-6"})})]}),It.jsxs("div",{className:"p-6",children:[It.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[It.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[It.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center border-2 border-gray-200",children:It.jsxs("span",{className:"text-lg font-medium text-blue-600",children:[n.nombre?.charAt(0),n.apellido?.charAt(0)]})}),It.jsxs("div",{className:"flex-1",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l}),It.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[It.jsx(oe,{className:"w-4 h-4"}),It.jsx("span",{className:"font-medium",children:n.email}),It.jsx("span",{children:""}),It.jsx("span",{children:n.telefono})]}),It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(n.estaActivo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:n.estaActivo?"Activo":"Inactivo"}),It.jsx("div",{className:"flex items-center gap-1",children:It.jsx("span",{className:"text-sm font-medium",children:n.idRol?.nombre||"Sin rol"})})]})]})]}),It.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"flex items-center justify-center gap-1 mb-1",children:It.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Documento"})}),It.jsxs("p",{className:"text-xs text-gray-600",children:[n.tipoDocumento," ",n.nroDocumento]})]}),It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"flex items-center justify-center gap-1 mb-1",children:It.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Direccin"})}),It.jsx("p",{className:"text-xs text-gray-600 truncate",title:n.direccion,children:n.direccion})]})]})]}),It.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:It.jsxs("div",{className:"flex gap-3",children:[It.jsx(Xe,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),It.jsxs("div",{children:[It.jsxs("h4",{className:"font-medium text-orange-800 mb-3",children:["Ests seguro de ",d,' al trabajador "',l,'"?']}),It.jsxs("div",{className:"text-sm text-orange-700 space-y-2",children:[It.jsxs("div",{className:"flex items-start gap-2",children:[It.jsx("div",{className:"w-1.5 h-1.5 bg-orange-600 rounded-full mt-2 flex-shrink-0"}),It.jsx("span",{children:n.estaActivo?"El trabajador ser desactivado y no podr acceder al sistema":"El trabajador ser reactivado y podr acceder al sistema nuevamente"})]}),It.jsxs("div",{className:"flex items-start gap-2",children:[It.jsx("div",{className:"w-1.5 h-1.5 bg-orange-600 rounded-full mt-2 flex-shrink-0"}),It.jsx("span",{children:n.estaActivo?"Se suspendern temporalmente sus permisos y responsabilidades":"Se restaurarn sus permisos y responsabilidades segn su rol"})]}),It.jsxs("div",{className:"flex items-start gap-2",children:[It.jsx("div",{className:"w-1.5 h-1.5 bg-orange-600 rounded-full mt-2 flex-shrink-0"}),It.jsx("span",{className:"font-medium",children:n.estaActivo?"Esta accin se puede revertir posteriormente":"El trabajador volver a estar operativo"})]})]})]})]})}),It.jsxs("div",{className:"mb-6",children:[It.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:["Para confirmar la accin, escribe exactamente"," ",It.jsxs("span",{className:"font-bold text-orange-600",children:['"',l,'"']})," ","en el campo de abajo:"]}),It.jsx("input",{type:"text",id:"confirmName",value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 transition-colors "+(i&&c?"border-red-300 focus:ring-red-500 focus:border-red-500 bg-red-50":i&&!c?"border-green-300 focus:ring-green-500 focus:border-green-500 bg-green-50":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"),placeholder:`Escribe "${l}" para confirmar`,disabled:s.isLoading,autoComplete:"off"}),i&&c&&It.jsx("p",{className:"text-red-600 text-xs mt-1",children:"El nombre no coincide exactamente. Verifica las maysculas y espacios."}),i&&!c&&It.jsx("p",{className:"text-green-600 text-xs mt-1",children:" Confirmacin correcta"})]}),It.jsxs("div",{className:"flex justify-end gap-3",children:[It.jsx("button",{onClick:m,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:s.isLoading,children:"Cancelar"}),It.jsx("button",{onClick:async()=>{if(!c)try{s.mutate({trabajador:n}),m(),a&&a()}catch(e){}},disabled:s.isLoading||c,className:"px-4 py-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 min-w-[160px] "+(c?"bg-gray-400 text-white cursor-not-allowed":n.estaActivo?"bg-orange-600 text-white hover:bg-orange-700":"bg-green-600 text-white hover:bg-green-700"),children:s.isLoading?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),n.estaActivo?"Desactivando...":"Activando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Xe,{className:"w-4 h-4"}),u," Trabajador"]})})]})]})]})})})})]})})},CU=()=>{const{data:e,isLoading:r,error:a,refetch:n}=Nc(),s=Array.isArray(e)?e:e?.trabajadores?e.trabajadores:e?.data?e.data:[],[i,o]=t.useState(!1),[l,c]=t.useState(!1),[d,u]=t.useState(!1),[m,h]=t.useState(!1),[f,p]=t.useState(null);return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Trabajadores"}),It.jsx(oU,{trabajadores:s,loading:r,onAdd:()=>{o(!0)},onEdit:e=>{p(e),u(!0)},onDelete:e=>{p(e),h(!0)},onView:e=>{p(e),c(!0)}}),It.jsx(bU,{isOpen:i,onClose:()=>o(!1),onSuccess:()=>{o(!1),n()}}),It.jsx(vU,{isOpen:l,onClose:()=>{c(!1),p(null)},trabajador:f}),It.jsx(SU,{isOpen:d,onClose:()=>{u(!1),p(null)},trabajador:f}),It.jsx(kU,{isOpen:m,onClose:()=>{h(!1),p(null)},onSuccess:()=>{h(!1),p(null),n()},trabajador:f})]})},AU={all:["padres"],lists:()=>[...AU.all,"list"],list:e=>[...AU.lists(),{filters:e}],details:()=>[...AU.all,"detail"],detail:e=>[...AU.details(),e]},_U={getPadres:async(e={})=>{const t=localStorage.getItem("token"),r=(await Pl.get("http://localhost:3000/api/v1/apoderado/estudiantes",{headers:{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""},params:e})).data||{};return r.info?.data||r.apoderados||r.padres||[]},getPadreById:async e=>{const t=localStorage.getItem("token"),r=await Pl.get(`http://localhost:3000/api/v1/apoderado/${e}`,{headers:{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""}});return r.data.apoderado||r.data.padre},createPadre:async e=>{const t=localStorage.getItem("token"),r=await Pl.post("http://localhost:3000/api/v1/apoderado",e,{headers:{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""}});return r.data.apoderado||r.data.padre},updatePadre:async({id:e,...t})=>{const r=localStorage.getItem("token"),a=await Pl.patch(`http://localhost:3000/api/v1/apoderado/${e}`,t,{headers:{"Content-Type":"application/json",Authorization:r?`Bearer ${r}`:""}});return a.data.apoderado||a.data.padre},deletePadre:async e=>{const t=localStorage.getItem("token");return await Pl.delete(`http://localhost:3000/api/v1/apoderado/${e}`,{headers:{Authorization:t?`Bearer ${t}`:""}}),e},togglePadreStatus:async e=>{const t=localStorage.getItem("token"),r=await Pl.patch(`http://localhost:3000/api/v1/apoderado/${e}/toggle-status`,{},{headers:{Authorization:t?`Bearer ${t}`:""}});return r.data.apoderado||r.data.padre}},TU=()=>{const[e,r]=t.useState({relation:"",status:"",participationLevel:"",search:""}),{data:a=[],isLoading:n,refetch:s}=((e={})=>Qr({queryKey:AU.list(e),queryFn:()=>_U.getPadres(e),staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:2}))(e),i=(()=>{const e=Yr();return Xr({mutationFn:async e=>{let t=null;if(e.photoFile)try{const r=await dc(e.photoFile);t={url:r.url,publicId:r.publicId,thumbnailUrl:r.thumbnailUrl,detailUrl:r.detailUrl}}catch(a){t=null}const r={...e,photo:t||e.photo||null};return delete r.photoFile,_U.createPadre(r)},onSuccess:t=>{e.invalidateQueries({queryKey:AU.lists()}),ca.success("Padre/apoderado creado exitosamente!",{description:`${t.nombre} ${t.apellido} ha sido agregado al sistema`})},onError:e=>{ca.error("Error al crear padre/apoderado",{description:e.message||"Ocurri un error inesperado"})}})})(),o=(()=>{const e=Yr();return Xr({mutationFn:async({id:e,...t})=>{let r=t.photo;if(t.photoFile)try{const e=await dc(t.photoFile);r={url:e.url,publicId:e.publicId,thumbnailUrl:e.thumbnailUrl,detailUrl:e.detailUrl}}catch(n){throw new Error("Error al subir la nueva imagen")}const a={...t,photo:r};return delete a.photoFile,_U.updatePadre({id:e,...a})},onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:AU.lists()}),e.invalidateQueries({queryKey:AU.detail(r)});const a=t?.nombre||"Padre/Apoderado",n=t?.apellido||"",s=n?`${a} ${n}`:a;ca.success("Padre/apoderado actualizado exitosamente",{description:`Los datos de ${s} han sido actualizados`})},onError:e=>{ca.error("Error al actualizar padre/apoderado",{description:e.message||"Ocurri un error inesperado"})}})})(),l=(()=>{const e=Yr();return Xr({mutationFn:_U.deletePadre,onSuccess:t=>{e.invalidateQueries({queryKey:AU.lists()}),ca.success("Padre/apoderado eliminado exitosamente",{description:"El registro ha sido eliminado del sistema"})},onError:e=>{ca.error("Error al eliminar padre/apoderado",{description:e.message||"Ocurri un error inesperado"})}})})(),c=(()=>{const e=Yr();return Xr({mutationFn:_U.togglePadreStatus,onSuccess:t=>{e.invalidateQueries({queryKey:AU.lists()}),e.invalidateQueries({queryKey:AU.detail(t.idApoderado||t.id)});const r=t.estaActivo?"activado":"desactivado";ca.success(`Padre/apoderado ${r} exitosamente!`,{description:`${t.nombre} ${t.apellido} ha sido ${r}`})},onError:e=>{ca.error("Error al cambiar estado del padre/apoderado",{description:e.message||"Ocurri un error inesperado"})}})})(),d=i.isPending,u=o.isPending,m=l.isPending,h=d||u,f=t.useMemo(()=>{if(!a||0===a.length)return{total:0,active:0,inactive:0,byType:{},withChildren:0,totalChildren:0,averageChildren:0};const e=a.length,t=e,r=a.reduce((e,t)=>{const r=t.tipoApoderado||"Sin tipo";return e[r]=(e[r]||0)+1,e},{}),n=a.filter(e=>e.matriculas&&e.matriculas.length>0).length,s=a.reduce((e,t)=>e+(t.matriculas?.length||0),0);return{total:e,active:t,inactive:0,byType:r,withChildren:n,totalChildren:s,averageChildren:n>0?Math.round(s/n*10)/10:0}},[a]),p=t.useCallback(async e=>i.mutateAsync(e),[i]),g=t.useCallback(async(e,t)=>o.mutateAsync({id:e,...t}),[o]),x=t.useCallback(async e=>l.mutateAsync(e),[l]),b=t.useCallback(async e=>c.mutateAsync(e),[c]),y=t.useCallback(async e=>{r(t=>({...t,search:e}))},[]),v=t.useCallback(async e=>{r(t=>({...t,relation:e}))},[]),j=t.useCallback(async e=>{r(t=>({...t,participationLevel:e}))},[]),w=t.useCallback(async e=>{const t=a.find(t=>t.id===e||t.idApoderado===e);return t?.hijos||[]},[a]),N=t.useCallback(async(e,t)=>({parentId:e,studentId:t}),[]),E=t.useCallback(e=>{r(t=>({...t,...e}))},[]),S=t.useCallback(()=>{r({relation:"",status:"",participationLevel:"",search:""})},[]),k=t.useCallback(()=>{s()},[s]),C=t.useCallback(async e=>a.find(t=>t.id===e||t.idApoderado===e),[a]);return{parents:a,loading:n,creating:d,updating:u,deleting:m,uploading:h,filters:e,statistics:f,createParent:p,updateParent:g,deleteParent:x,changeParentStatus:b,fetchParents:s,updateFilters:E,resetFilters:S,searchParents:y,filterByRelation:v,filterByParticipation:j,refreshParents:k,getParentById:C,getParentChildren:w,assignChildToParent:N,hasParents:a.length>0,isOperating:d||u||m||h,isCached:!0}},OU=({padres:e=[],loading:t=!1,onAdd:a,onEdit:n,onDelete:s,onView:i})=>{const o=r.useMemo(()=>[{Header:"Apoderado",accessor:"nombre",sortable:!0,Cell:({value:e,row:t})=>It.jsxs("div",{className:"min-w-0",children:[It.jsx("div",{className:"font-medium text-gray-900 truncate",children:`${e||""} ${t.apellido||""}`.trim()}),It.jsx("div",{className:"text-sm text-gray-500 truncate",children:t.correo||"Sin correo"}),It.jsx("div",{className:"text-sm text-gray-500 truncate",children:t.numero||"Sin telfono"})]})},{Header:"Documento",accessor:"documentoIdentidad",sortable:!0,Cell:({value:e,row:t})=>It.jsxs("div",{children:[It.jsx("div",{className:"font-mono text-sm text-gray-900",children:e||"Sin documento"}),It.jsx("div",{className:"text-xs text-gray-500",children:t.tipoDocumentoIdentidad||"DNI"})]})},{Header:"Total Hijos",accessor:"matriculas",sortable:!0,Cell:({value:e})=>It.jsx("div",{className:"text-center",children:It.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold "+((e?.length||0)>0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:e?.length||0})})}],[]);return It.jsx("div",{children:It.jsx(eL,{data:e,columns:o,loading:t,title:"Gestin de Apoderados y Estudiantes",searchPlaceholder:"Buscar padres...",icon:ie,onAdd:a,onEdit:n,onDelete:s,onView:i,actions:{add:!1,edit:!0,delete:!1,view:!0,import:!1},loadingMessage:"Cargando padres...",emptyMessage:"No hay padres registrados",itemsPerPage:10,enablePagination:!0,enableSearch:!0,enableSort:!0})})},DU=cq({name:Q$().required("El nombre es requerido").trim(),email:Q$().email("El email no es vlido").required("El email es requerido"),phone:Q$().required("El telfono es requerido").trim(),relation:Q$().required("La relacin es requerida"),address:Q$().required("La direccin es requerida").trim(),occupation:Q$(),participationLevel:Q$().oneOf(["high","medium","low"]),notes:Q$(),photo:cq().nullable(),emergencyContact:cq({name:Q$(),phone:Q$(),relation:Q$()})}),PU=({label:e,error:t,required:r,children:a,className:n=""})=>It.jsxs("div",{className:n,children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",r&&It.jsx("span",{className:"text-red-500",children:"*"})]}),a,t&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:t})]}),MU=({title:e,icon:t,iconColor:r,children:a})=>It.jsxs("div",{children:[It.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[It.jsx(t,{className:`w-5 h-5 ${r}`}),e]}),a]}),FU=["Madre","Padre","Abuelo","Abuela","Tutor","Ta","To","Otro"],IU=[{value:"high",label:"Alta"},{value:"medium",label:"Media"},{value:"low",label:"Baja"}],RU=({isOpen:e,onClose:r,onSuccess:a})=>{const{createParent:n,creating:s,uploading:i}=TU(),{register:o,handleSubmit:l,formState:{errors:c},setValue:d,watch:u,reset:m}=Iz({resolver:Uz(DU),defaultValues:{name:"",email:"",phone:"",relation:"",address:"",occupation:"",participationLevel:"medium",notes:"",photo:null,photoFile:null,emergencyContact:{name:"",phone:"",relation:""}}}),h=u("photo"),f=async e=>{try{await n(e),a?(m(),a()):p()}catch(t){}},p=()=>{m(),r()},g=e=>"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(e?"border-red-500":"border-gray-300"),x=s||i;return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:p,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-lg bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx(Ue,{className:"w-6 h-6 text-blue-600"}),It.jsx(ki.Title,{className:"text-xl font-semibold text-gray-900",children:"Agregar Nuevo Padre/Madre"})]}),It.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:x,children:It.jsx(ne,{className:"w-6 h-6"})})]}),It.jsxs("form",{onSubmit:l(f),className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[It.jsxs(MU,{title:"Informacin Personal",icon:ee,iconColor:"text-blue-600",children:[It.jsx(PU,{label:"Foto del Padre/Madre",error:c.photo?.message,className:"mb-6",children:It.jsx(hq,{onUpload:async e=>({file:e}),onImageUpload:e=>{if(e&&e.file){d("photoFile",e.file);const t=URL.createObjectURL(e.file);d("photo",{url:t})}else d("photoFile",null),d("photo",null)},currentImage:h?.url,required:!1,disabled:x})}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(PU,{label:"Nombre Completo",required:!0,error:c.name?.message,children:It.jsx("input",{...o("name"),className:g(c.name),placeholder:"Ej: Mara Rodrguez Garca",disabled:x})}),It.jsx(PU,{label:"Relacin/Parentesco",required:!0,error:c.relation?.message,children:It.jsxs("select",{...o("relation"),className:g(c.relation),disabled:x,children:[It.jsx("option",{value:"",children:"Seleccionar relacin"}),FU.map(e=>It.jsx("option",{value:e,children:e},e))]})}),It.jsx(PU,{label:"Email",required:!0,error:c.email?.message,children:It.jsx("input",{type:"email",...o("email"),className:g(c.email),placeholder:"Ej: maria.rodriguez@email.com",disabled:x})}),It.jsx(PU,{label:"Telfono",required:!0,error:c.phone?.message,children:It.jsx("input",{type:"tel",...o("phone"),className:g(c.phone),placeholder:"Ej: +51 987 654 321",disabled:x})}),It.jsx(PU,{label:"Ocupacin",error:c.occupation?.message,children:It.jsx("input",{...o("occupation"),className:g(c.occupation),placeholder:"Ej: Enfermera, Ingeniero, etc.",disabled:x})}),It.jsx(PU,{label:"Nivel de Participacin",error:c.participationLevel?.message,children:It.jsx("select",{...o("participationLevel"),className:g(c.participationLevel),disabled:x,children:IU.map(e=>It.jsx("option",{value:e.value,children:e.label},e.value))})})]}),It.jsx(PU,{label:"Direccin",required:!0,error:c.address?.message,children:It.jsx("input",{...o("address"),className:g(c.address),placeholder:"Ej: Av. Universitaria 123, San Miguel, Lima",disabled:x})})]}),It.jsx(MU,{title:"Contacto de Emergencia (Opcional)",icon:j,iconColor:"text-red-600",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(PU,{label:"Nombre del Contacto",error:c.emergencyContact?.name?.message,children:It.jsx("input",{...o("emergencyContact.name"),className:g(c.emergencyContact?.name),placeholder:"Ej: Carlos Garca",disabled:x})}),It.jsx(PU,{label:"Telfono de Emergencia",error:c.emergencyContact?.phone?.message,children:It.jsx("input",{type:"tel",...o("emergencyContact.phone"),className:g(c.emergencyContact?.phone),placeholder:"Ej: +51 987 654 322",disabled:x})}),It.jsx(PU,{label:"Relacin",error:c.emergencyContact?.relation?.message,children:It.jsx("input",{...o("emergencyContact.relation"),className:g(c.emergencyContact?.relation),placeholder:"Ej: Abuelo, Ta, etc.",disabled:x})})]})}),It.jsx(MU,{title:"Informacin Adicional (Opcional)",icon:nt,iconColor:"text-purple-600",children:It.jsx(PU,{label:"Notas",error:c.notes?.message,children:It.jsx("textarea",{...o("notes"),className:g(c.notes),rows:"3",placeholder:"Notas adicionales sobre el padre/madre, informacin relevante, etc.",disabled:x})})})]}),It.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:[It.jsx("button",{type:"button",onClick:p,disabled:x,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),It.jsx("button",{onClick:l(f),disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-w-[140px]",children:x?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),i?"Subiendo...":"Guardando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),"Guardar Padre"]})})]})]})})})})]})})},LU=({label:e,value:t,icon:r,className:a=""})=>It.jsxs("div",{className:`bg-gray-50 p-3 rounded-lg ${a}`,children:[It.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[It.jsx(r,{className:"w-4 h-4 text-gray-600"}),It.jsx("span",{className:"text-sm font-medium text-gray-700",children:e})]}),It.jsx("p",{className:"text-gray-900 ml-6",children:t||"No especificado"})]}),zU=({isOpen:e,onClose:r,padre:a})=>{if(!a)return null;const n=()=>{r()};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:n,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-pink-100 rounded-lg",children:It.jsx(N,{className:"w-6 h-6 text-pink-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Informacin del Padre"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Detalles completos del apoderado"})]})]}),It.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6 bg-gradient-to-r from-pink-50 to-rose-50 p-6 rounded-lg",children:[It.jsx("div",{className:"flex-shrink-0"}),It.jsxs("div",{className:"flex-1 text-center md:text-left",children:[It.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:a.nombre&&a.apellido?`${a.nombre} ${a.apellido}`:a.nombre||a.apellido||a.name||"Sin nombre"}),(a.parentesco||a.relation)&&It.jsxs("p",{className:"text-lg text-pink-600 font-medium mb-2 flex items-center justify-center md:justify-start",children:[It.jsx(T,{className:"w-5 h-5 mr-2"}),a.parentesco||a.relation]}),It.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 text-sm text-gray-600",children:[(a.correo||a.email)&&It.jsxs("span",{className:"flex items-center",children:[It.jsx(Ve,{className:"w-4 h-4 mr-1"}),a.correo||a.email]}),(a.telefono||a.phone)&&It.jsxs("span",{className:"flex items-center",children:[It.jsx(Be,{className:"w-4 h-4 mr-1"}),a.telefono||a.phone]}),(a.profesion||a.occupation)&&It.jsxs("span",{className:"flex items-center",children:[It.jsx(nt,{className:"w-4 h-4 mr-1"}),a.profesion||a.occupation]})]})]})]}),It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(ee,{className:"w-5 h-5 mr-2 text-pink-600"}),"Informacin Personal"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(a.nombre||a.apellido||a.name)&&It.jsx(LU,{label:"Nombre Completo",value:a.nombre&&a.apellido?`${a.nombre} ${a.apellido}`:a.name||`${a.nombre||""} ${a.apellido||""}`.trim(),icon:ee}),(a.tipoDocumento||a.nroDocumento)&&It.jsx(LU,{label:"Documento",value:`${a.tipoDocumento||"DNI"}: ${a.nroDocumento||"No especificado"}`,icon:He}),(a.correo||a.email)&&It.jsx(LU,{label:"Email",value:a.correo||a.email,icon:Ve}),(a.telefono||a.phone)&&It.jsx(LU,{label:"Telfono",value:a.telefono||a.phone,icon:Be}),(a.parentesco||a.relation)&&It.jsx(LU,{label:"Parentesco",value:a.parentesco||a.relation,icon:T}),(a.profesion||a.occupation)&&It.jsx(LU,{label:"Profesin",value:a.profesion||a.occupation,icon:nt}),void 0!==a.estaActivo&&It.jsx(LU,{label:"Estado",value:a.estaActivo?"Activo":"Inactivo",icon:ie}),(a.direccion||a.address)&&It.jsx(LU,{label:"Direccin",value:a.direccion||a.address,icon:We,className:"md:col-span-2"})]})]}),(a.fechaNacimiento||a.lugarNacimiento||a.estadoCivil)&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(ue,{className:"w-5 h-5 mr-2 text-blue-600"}),"Informacin Adicional"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.fechaNacimiento&&It.jsx(LU,{label:"Fecha de Nacimiento",value:new Date(a.fechaNacimiento).toLocaleDateString("es-ES"),icon:ue}),a.lugarNacimiento&&It.jsx(LU,{label:"Lugar de Nacimiento",value:a.lugarNacimiento,icon:We}),a.estadoCivil&&It.jsx(LU,{label:"Estado Civil",value:a.estadoCivil,icon:T})]})]}),(a.contactoEmergencia||a.telefonoEmergencia||a.emergencyContact)&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(j,{className:"w-5 h-5 mr-2 text-red-600"}),"Contacto de Emergencia"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(a.contactoEmergencia||a.emergencyContact?.name)&&It.jsx(LU,{label:"Nombre del Contacto",value:a.contactoEmergencia||a.emergencyContact?.name,icon:ee}),(a.telefonoEmergencia||a.emergencyContact?.phone)&&It.jsx(LU,{label:"Telfono de Emergencia",value:a.telefonoEmergencia||a.emergencyContact?.phone,icon:Be}),a.emergencyContact?.relation&&It.jsx(LU,{label:"Relacin",value:a.emergencyContact.relation,icon:T})]})]}),(a.hijos&&a.hijos.length>0||a.children&&a.children.length>0)&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(L,{className:"w-5 h-5 mr-2 text-green-600"}),"Hijos Asociados (",(a.hijos||a.children)?.length,")"]}),It.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(a.hijos||a.children)?.map((e,t)=>It.jsxs("div",{className:"flex items-center p-3 bg-white rounded-lg border",children:[It.jsx(L,{className:"w-4 h-4 text-green-600 mr-2"}),It.jsxs("div",{className:"flex-1",children:[It.jsx("p",{className:"font-medium text-gray-900",children:"string"==typeof e?e:e.name||`${e.nombre||""} ${e.apellido||""}`.trim()||"Sin nombre"}),"object"==typeof e&&(e.grado||e.grade)&&It.jsx("p",{className:"text-sm text-gray-600",children:e.grado||e.grade}),"object"==typeof e&&e.age&&It.jsxs("p",{className:"text-sm text-gray-600",children:[e.age," aos"]})]})]},t))})})]}),It.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(he,{className:"w-5 h-5 mr-2 text-gray-600"}),"IDs de Referencia del Sistema"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.idApoderado&&It.jsx(LU,{label:"ID del Apoderado",value:a.idApoderado,icon:he}),a.id&&It.jsx(LU,{label:"ID General",value:a.id,icon:he}),a.registrationDate&&It.jsx(LU,{label:"Fecha de Registro",value:new Date(a.registrationDate).toLocaleDateString("es-ES"),icon:ue}),a.lastVisit&&It.jsx(LU,{label:"ltima Visita",value:new Date(a.lastVisit).toLocaleDateString("es-ES"),icon:ue})]})]}),(a.notas||a.notes)&&It.jsxs("div",{className:"bg-white rounded-lg p-4",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(he,{className:"w-5 h-5 mr-2 text-gray-600"}),"Notas Adicionales"]}),It.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:It.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:a.notas||a.notes})})]})]}),It.jsx("div",{className:"flex justify-end pt-6 border-t mt-6",children:It.jsx("button",{onClick:n,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Cerrar"})})]})})})})]})})},$U=cq({nombre:Q$().required("El nombre es requerido").matches(/^[a-zA-Z\s]+$/,"El nombre solo puede contener letras y espacios").trim(),apellido:Q$().required("El apellido es requerido").matches(/^[a-zA-Z\s]+$/,"El apellido solo puede contener letras y espacios").trim(),numero:Q$().required("El telfono es requerido").matches(/^\d{9}$/,"El telfono debe tener exactamente 9 dgitos").trim(),correo:Q$().email("El email no es vlido").required("El email es requerido"),direccion:Q$().required("La direccin es requerida").trim(),documentoIdentidad:Q$().required("El documento de identidad es requerido").trim(),tipoDocumentoIdentidad:Q$().required("El tipo de documento es requerido")}),qU=({label:e,error:t,required:r,children:a,className:n=""})=>It.jsxs("div",{className:n,children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",r&&It.jsx("span",{className:"text-red-500",children:"*"})]}),a,t&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:t})]}),UU=({title:e,icon:t,iconColor:r,children:a})=>It.jsxs("div",{children:[It.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[It.jsx(t,{className:`w-5 h-5 ${r}`}),e]}),a]}),BU=["DNI","Carnet de Extranjera","Pasaporte"],YU=({isOpen:e,onClose:r,padre:a,onSuccess:n})=>{const{updateParent:s,updating:i,uploading:o}=TU(),{register:l,handleSubmit:c,formState:{errors:d},setValue:u,watch:m,reset:h}=Iz({resolver:Uz($U),defaultValues:{nombre:"",apellido:"",numero:"",correo:"",direccion:"",documentoIdentidad:"",tipoDocumentoIdentidad:""}}),f=i||o;t.useEffect(()=>{a&&e&&h({nombre:a.nombre||"",apellido:a.apellido||"",numero:a.numero||"",correo:a.correo||"",direccion:a.direccion||"",documentoIdentidad:a.documentoIdentidad||"",tipoDocumentoIdentidad:a.tipoDocumentoIdentidad||""})},[a,e,h]);const p=e=>`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${e?"border-red-500 focus:ring-red-500":"border-gray-300"} disabled:bg-gray-100 disabled:cursor-not-allowed`,g=()=>{f||(h(),r())},x=async e=>{try{const t={nombre:e.nombre,apellido:e.apellido,numero:e.numero,correo:e.correo,direccion:e.direccion,documentoIdentidad:e.documentoIdentidad,tipoDocumentoIdentidad:e.tipoDocumentoIdentidad};await s(a.idApoderado||a.id,t),n&&n(),g()}catch(t){}};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:g,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-md bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[It.jsxs(ki.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 flex items-center gap-2",children:[It.jsx(Re,{className:"w-5 h-5 text-blue-600"}),"Editar Padre/Madre"]}),It.jsx("button",{type:"button",onClick:g,disabled:f,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:It.jsx(ne,{className:"w-6 h-6"})})]}),It.jsxs("form",{onSubmit:c(x),className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[It.jsx(UU,{title:"Informacin Personal",icon:ee,iconColor:"text-blue-600",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(qU,{label:"Nombre",error:d.nombre?.message,required:!0,children:It.jsx("input",{...l("nombre"),className:p(d.nombre),placeholder:"Ej: Carlos",disabled:f})}),It.jsx(qU,{label:"Apellido",error:d.apellido?.message,required:!0,children:It.jsx("input",{...l("apellido"),className:p(d.apellido),placeholder:"Ej: Uriel",disabled:f})}),It.jsx(qU,{label:"Tipo de Documento",error:d.tipoDocumentoIdentidad?.message,required:!0,children:It.jsxs("select",{...l("tipoDocumentoIdentidad"),className:p(d.tipoDocumentoIdentidad),disabled:f,children:[It.jsx("option",{value:"",children:"Seleccionar tipo"}),BU.map(e=>It.jsx("option",{value:e,children:e},e))]})}),It.jsx(qU,{label:"Nmero de Documento",error:d.documentoIdentidad?.message,required:!0,children:It.jsx("input",{...l("documentoIdentidad"),className:p(d.documentoIdentidad),placeholder:"Ej: 09429090",disabled:f})})]})}),It.jsx(UU,{title:"Informacin de Contacto",icon:Be,iconColor:"text-green-600",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(qU,{label:"Telfono",error:d.numero?.message,required:!0,children:It.jsx("input",{type:"tel",...l("numero"),className:p(d.numero),placeholder:"Ej: 940898438",disabled:f})}),It.jsx(qU,{label:"Email",error:d.correo?.message,required:!0,children:It.jsx("input",{type:"email",...l("correo"),className:p(d.correo),placeholder:"Ej: carlosuriel@gmail.com",disabled:f})})]})}),It.jsx(UU,{title:"Informacin de Residencia",icon:We,iconColor:"text-orange-600",children:It.jsx("div",{className:"grid grid-cols-1 gap-4",children:It.jsx(qU,{label:"Direccin",error:d.direccion?.message,required:!0,children:It.jsx("input",{...l("direccion"),className:p(d.direccion),placeholder:"Ej: Av San Tomas 124 Calle 1",disabled:f})})})})]}),It.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:[It.jsx("button",{type:"button",onClick:g,disabled:f,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),It.jsx("button",{onClick:c(x),disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-w-[140px]",children:f?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),i?"Actualizando...":"Guardando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),"Actualizar Padre"]})})]})]})})})})]})})},VU=({isOpen:e,onClose:r,onSuccess:a,padre:n})=>{const{deleteParent:s,deleting:i}=TU(),[o,l]=t.useState("");if(!n)return null;const c=o.trim().toLowerCase()!==(n.name?.toLowerCase()||""),d=()=>{l(""),r()};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:d,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-lg bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:It.jsx(Xe,{className:"w-6 h-6 text-red-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-xl font-semibold text-gray-900",children:"Confirmar Eliminacin"}),It.jsx("p",{className:"text-sm text-gray-600",children:"Esta accin no se puede deshacer"})]})]}),It.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:i,children:It.jsx(ne,{className:"w-6 h-6"})})]}),It.jsxs("div",{className:"p-6",children:[It.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsx("img",{src:n.photo?"object"==typeof n.photo&&n.photo.url?n.photo.thumbnailUrl||n.photo.url:n.photo:"/default-avatar.png",alt:n.name||"Padre/Madre",className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}),It.jsxs("div",{className:"flex-1",children:[It.jsx("h3",{className:"font-semibold text-gray-900",children:n.name||"Sin nombre"}),It.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[It.jsx(T,{className:"w-3 h-3 text-pink-500"}),It.jsx("span",{children:n.relation}),n.occupation&&It.jsxs(It.Fragment,{children:[It.jsx("span",{children:""}),It.jsx("span",{children:n.occupation})]})]}),It.jsxs("div",{className:"mt-2 space-y-1",children:[It.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[It.jsx(Ve,{className:"w-3 h-3"}),It.jsx("span",{children:n.email})]}),It.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[It.jsx(Be,{className:"w-3 h-3"}),It.jsx("span",{children:n.phone})]})]}),n.children&&n.children.length>0&&It.jsxs("div",{className:"mt-2",children:[It.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 mb-1",children:[It.jsx(oe,{className:"w-3 h-3 text-blue-500"}),It.jsx("span",{className:"font-medium",children:"Hijos registrados:"})]}),n.children.map((e,t)=>It.jsxs("div",{className:"text-xs text-gray-500 ml-4",children:[" ",e.name," - ",e.grade]},t))]})]})]})}),It.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:It.jsxs("div",{className:"flex gap-3",children:[It.jsx(Xe,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),It.jsxs("div",{children:[It.jsxs("h4",{className:"font-medium text-red-800 mb-2",children:['Ests seguro de eliminar a "',n.name||"Sin nombre",'"?']}),It.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[It.jsx("li",{children:" Se eliminar toda la informacin del padre/madre"}),It.jsx("li",{children:" Se perdern todos los datos de contacto"}),It.jsx("li",{children:" Se eliminar el historial de participacin"}),n.children&&n.children.length>0&&It.jsxs("li",{children:[" Sus ",n.children.length," hijo(s) quedarn sin apoderado asignado"]}),It.jsx("li",{children:" Esta accin no se puede deshacer"})]})]})]})}),It.jsxs("div",{className:"mb-6",children:[It.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:["Para confirmar la eliminacin, escribe ",It.jsxs("strong",{children:['"',n.name||"Sin nombre",'"']})," en el campo de abajo:"]}),It.jsx("input",{type:"text",id:"confirmName",value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:`Escribe "${n.name||"Sin nombre"}" para confirmar`,disabled:i})]}),It.jsxs("div",{className:"flex justify-end gap-3",children:[It.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:i,children:"Cancelar"}),It.jsx("button",{onClick:async()=>{if(!c)try{await s(n.id),a?(l(""),a()):d()}catch(e){}},disabled:i||c,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 min-w-[160px]",children:i?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),"Eliminando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Le,{className:"w-4 h-4"}),"Eliminar Padre"]})})]})]})]})})})})]})})},HU=()=>{const{parents:e,loading:r,refreshParents:a}=TU(),[n,s]=t.useState(!1),[i,o]=t.useState(!1),[l,c]=t.useState(!1),[d,u]=t.useState(!1),[m,h]=t.useState(null);return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Apoderados"}),It.jsx(OU,{padres:e,loading:r,onAdd:()=>{s(!0)},onEdit:e=>{h(e),c(!0)},onDelete:e=>{h(e),u(!0)},onView:e=>{h(e),o(!0)}}),It.jsx(RU,{isOpen:n,onClose:()=>s(!1),onSuccess:()=>{s(!1),a()}}),It.jsx(zU,{isOpen:i,onClose:()=>{o(!1),h(null)},padre:m}),It.jsx(YU,{isOpen:l,onClose:()=>{c(!1),h(null)},onSuccess:()=>{c(!1),h(null),a()},padre:m}),It.jsx(VU,{isOpen:d,onClose:()=>{u(!1),h(null)},onSuccess:()=>{u(!1),h(null),a()},padre:m})]})},WU=({isOpen:e,onClose:r})=>{const[a,n]=t.useState({idAula:"",idTrabajador:"",idCurso:""}),[s,i]=t.useState({}),{aulas:o=[],createAsignacion:l,isCreatingAsignacion:c,refetchAsignaciones:d}=qq(!0),{trabajadores:u=[],isLoading:m}=kc(),h=u.filter(e=>{const t=e.cargo?.toLowerCase()||"",r=e.idRol?.nombre?.toLowerCase()||"",a=e.idRol?.nombreRol?.toLowerCase()||"";return t.includes("docente")||t.includes("profesor")||t.includes("auxiliar")||r.includes("docente")||r.includes("profesor")||r.includes("auxiliar")||a.includes("docente")||a.includes("profesor")||a.includes("auxiliar")});o.length,t.useEffect(()=>{e&&(n({idAula:"",idTrabajador:"",idCurso:""}),i({}))},[e]);const f=t.useMemo(()=>h.find(e=>(e.idTrabajador||e.id)===a.idTrabajador),[h,a.idTrabajador]),p=t.useMemo(()=>(f?.asignacionCursos||[]).map(e=>e.idCurso||e.curso).filter(Boolean).map(e=>({id:e.idCurso||e.id,nombre:e.nombreCurso||e.nombre||"Curso"})).filter(e=>e.id),[f]);t.useEffect(()=>{a.idTrabajador?1===p.length?n(e=>({...e,idCurso:p[0].id})):0===p.length&&n(e=>({...e,idCurso:""})):n(e=>({...e,idCurso:""}))},[a.idTrabajador,p]);const g=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r})),s[t]&&i(e=>({...e,[t]:""}))};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-md bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Asignar Docente a Aula"}),It.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5"})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return a.idAula||(e.idAula="Debe seleccionar un aula"),a.idTrabajador||(e.idTrabajador="Debe seleccionar un docente"),p.length>1&&!a.idCurso&&(e.idCurso="Debe seleccionar un curso"),i(e),0===Object.keys(e).length})())try{const e={idAula:a.idAula,idTrabajador:a.idTrabajador,idCurso:a.idCurso||void 0};await l(e),d&&await d(),r()}catch(t){}},className:"space-y-4",children:[It.jsxs("div",{children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[It.jsx(ce,{className:"w-4 h-4 inline mr-2"}),"Aula *"]}),It.jsxs("select",{name:"idAula",value:a.idAula,onChange:g,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 "+(s.idAula?"border-red-500":"border-gray-300"),children:[It.jsx("option",{value:"",children:"Seleccionar aula"}),o.map(e=>{const t=e.idGrado?.grado||e.idGrado?.nombreGrado||e.grado||"Sin grado";return It.jsxs("option",{value:e.idAula||e.id,children:[t," - Seccin ",e.seccion," (",e.cantidadEstudiantes||0," estudiantes)"]},e.idAula||e.id)})]}),s.idAula&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.idAula}),0===o.length&&It.jsx("p",{className:"mt-1 text-sm text-amber-600",children:"No hay aulas disponibles sin asignacin. Primero debe crear aulas."})]}),It.jsxs("div",{children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[It.jsx(ie,{className:"w-4 h-4 inline mr-2"}),"Docente *"]}),It.jsxs("select",{name:"idTrabajador",value:a.idTrabajador,onChange:g,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 "+(s.idTrabajador?"border-red-500":"border-gray-300"),disabled:m,children:[It.jsx("option",{value:"",children:"Seleccionar docente"}),h.map(e=>It.jsxs("option",{value:e.idTrabajador||e.id,children:[e.nombre," ",e.apellido," - ",e.idRol?.nombre||e.idRol?.nombreRol||e.cargo||"Sin rol"]},e.idTrabajador||e.id))]}),s.idTrabajador&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.idTrabajador}),0===h.length&&!m&&It.jsx("p",{className:"mt-1 text-sm text-amber-600",children:"No hay docentes registrados. Primero debe registrar trabajadores con rol docente."})]}),It.jsxs("div",{children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[It.jsx(me,{className:"w-4 h-4 inline mr-2"}),"Curso"]}),p.length>1?It.jsxs("select",{name:"idCurso",value:a.idCurso,onChange:g,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 "+(s.idCurso?"border-red-500":"border-gray-300"),disabled:!a.idTrabajador,children:[It.jsx("option",{value:"",children:"Seleccionar curso"}),p.map(e=>It.jsx("option",{value:e.id,children:e.nombre},e.id))]}):It.jsx("div",{className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-sm text-gray-700",children:1===p.length?p[0].nombre:"El docente no tiene cursos asignados"}),s.idCurso&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.idCurso})]}),It.jsxs("div",{className:"flex gap-3 pt-4",children:[It.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Asignando...":"Asignar Docente"})]})]})]})})})})]})})},GU=[{accessor:"aula",Header:"Aula",sortable:!0,Cell:({row:e})=>It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:It.jsx(ce,{className:"w-5 h-5 text-blue-600"})}),It.jsxs("div",{className:"ml-3",children:[It.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Seccin ",e.idAula?.seccion||"N/A"]}),It.jsxs("div",{className:"text-sm text-gray-500",children:[e.idAula?.cantidadEstudiantes||0," estudiantes"]})]})]})},{accessor:"idTrabajador.nombre",Header:"Docente Asignado",sortable:!0,Cell:({row:e})=>It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:It.jsx(ee,{className:"w-4 h-4 text-gray-600"})}),It.jsxs("div",{className:"ml-3",children:[It.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[e.idTrabajador?.nombre," ",e.idTrabajador?.apellido]}),It.jsx("div",{className:"text-sm text-gray-500",children:e.idTrabajador?.correo})]})]})},{accessor:"idCurso.nombreCurso",Header:"Curso",sortable:!0,Cell:({row:e})=>It.jsx("div",{className:"text-sm text-gray-900",children:e.idCurso?.nombreCurso||e.idCurso?.nombre||"Sin curso"})},{accessor:"idAula.seccion",Header:"Aula",sortable:!0,Cell:({row:e})=>It.jsxs("div",{className:"text-sm text-gray-900",children:["Seccin ",e.idAula?.seccion||"N/A"]})},{accessor:"fechaAsignacion",Header:"Fecha",sortable:!0,Cell:({row:e})=>It.jsxs("div",{className:"flex items-center",children:[It.jsx(ue,{className:"w-4 h-4 text-gray-400 mr-2"}),It.jsx("span",{className:"text-sm text-gray-900",children:e.fechaAsignacion?new Date(e.fechaAsignacion).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"Sin fecha"})]})},{accessor:"estaActivo",Header:"Estado",sortable:!0,Cell:({row:e})=>It.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(e.estaActivo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.estaActivo?"Activo":"Inactivo"})}],KU=({asignaciones:e=[],loading:r=!1})=>{const[a,n]=t.useState(!1);return It.jsxs(It.Fragment,{children:[It.jsx(eL,{data:e,columns:GU,loading:r,title:"Asignacin docente Aula",searchPlaceholder:"Buscar por aula o docente...",actions:{add:!0,edit:!1,delete:!1,view:!1,import:!1,export:!1},onAdd:()=>{n(!0)},addButtonText:"Asignar Docente",loadingMessage:"Cargando asignaciones...",emptyMessage:"No hay asignaciones registradas",itemsPerPage:10,enablePagination:!0,enableSearch:!0,enableSort:!0}),It.jsx(WU,{isOpen:a,onClose:()=>n(!1)})]})},QU=()=>{const{asignaciones:e=[],loadingAsignaciones:t,refetchAsignaciones:r}=qq();return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Asignacin docente Aula"}),It.jsx(KU,{asignaciones:e,loading:t,onRefresh:r})]})},XU=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});XU.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),XU.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const JU={getEstudiantesPorAula:async e=>{try{return(await XU.get(`/estudiante/aula/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener estudiantes del aula")}},obtenerEstudiantePorId:async e=>{try{const t=await XU.get(`/estudiante/${e}`,{params:{include:"matriculas,aula,matriculaAula"}});return t.data?t.data:null}catch(t){throw new Error(t.response?.data?.message||"Error al obtener datos del estudiante")}},obtenerCronogramaPorAula:async e=>{try{if(!e||"undefined"===e||"null"===e)throw new Error("ID de aula no vlido");const t=await XU.get(`/cronograma/aula/${e}`);return t.data?.success&&t.data?.cronogramas?t.data.cronogramas:t.data?.success&&t.data?.cronograma?t.data.cronograma:t.data?.data?t.data.data:Array.isArray(t.data)?t.data:[]}catch(t){throw new Error(t.response?.data?.message||"Error al obtener cronograma del aula")}}},ZU={getEstudiantesPorAula:JU.getEstudiantesPorAula,obtenerEstudiantePorId:JU.obtenerEstudiantePorId,obtenerCronogramaPorAula:JU.obtenerCronogramaPorAula},eB={all:["aulas"],lists:()=>[...eB.all,"list"],list:e=>[...eB.lists(),{filters:e}],details:()=>[...eB.all,"detail"],detail:e=>[...eB.details(),e],detailView:e=>[...eB.details(),"view",e],stats:()=>[...eB.all,"stats"],byTrabajador:e=>[...eB.all,"trabajador",e]},tB=(e={})=>Qr({queryKey:eB.list(e),queryFn:async()=>{try{const t=await Mq.getAllAulas(e);return t.success&&t.info?.data?t.info.data:t.data?t.data:Array.isArray(t)?t:[]}catch(t){throw t}},staleTime:3e5,gcTime:6e5,retry:2,refetchOnWindowFocus:!1}),rB=(e={})=>tB({}),aB=()=>{const e=Yr();return Xr({mutationFn:({id:e,...t})=>Mq.updateAula(e,t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:eB.all}),e.invalidateQueries({queryKey:eB.detail(r.id)}),ca.success("Aula actualizada exitosamente",{description:"Los datos del aula han sido actualizados"})},onError:e=>{ca.error("Error al actualizar aula",{description:e.message||"Ocurri un error inesperado"})}})},nB=(e,t={})=>Qr({queryKey:eB.byTrabajador(e),queryFn:async()=>{try{return await Mq.getAulasByTrabajador(e)}catch(t){throw t}},enabled:!!e,staleTime:3e5,...t}),sB=(e,t={})=>{const{data:r,isLoading:a,error:n}=nB(e,{enabled:!!e}),s=Array.isArray(r?.aulas)?r.aulas.map(e=>e.id_aula||e.idAula||e.id).filter(Boolean):[],i=Qr({queryKey:["estudiantes-trabajador-aulas",e,s.sort().join(",")],queryFn:async()=>{if(0===s.length)return{estudiantes:[],aulas:[],totalEstudiantes:0,totalAulas:0};const e=s.map(e=>JU.getEstudiantesPorAula(e)),t=(await Promise.all(e)).filter(e=>e?.estudiantes).flatMap(e=>e.estudiantes).filter((e,t,r)=>t===r.findIndex(t=>t.idEstudiante===e.idEstudiante));return{estudiantes:t,aulas:r?.aulas||[],totalEstudiantes:t.length,totalAulas:r?.aulas?.length||0}},enabled:!!e&&s.length>0&&!a,staleTime:3e5,cacheTime:6e5,retry:2,...t});return{data:i.data||{estudiantes:[],aulas:[],totalEstudiantes:0,totalAulas:0},isLoading:a||i.isLoading,error:n||i.error,refetch:i.refetch}},iB=()=>{const[e,r]=t.useState({seccion:"",estado:"",search:""}),{data:a=[],isLoading:n,refetch:s}=tB(e),i=(()=>{const e=Yr();return Xr({mutationFn:Mq.createAula,onSuccess:t=>{e.invalidateQueries({queryKey:eB.all}),ca.success("Aula creada exitosamente",{description:`Aula seccin ${t.seccion||t.info?.seccion} creada correctamente`})},onError:e=>{ca.error("Error al crear aula",{description:e.message||"Ocurri un error inesperado"})}})})(),o=aB(),l=(()=>{const e=Yr();return Xr({mutationFn:Mq.deleteAula,onSuccess:()=>{e.invalidateQueries({queryKey:eB.all}),ca.success("Aula eliminada exitosamente",{description:"El aula ha sido eliminada del sistema"})},onError:e=>{ca.error("Error al eliminar aula",{description:e.message||"Ocurri un error inesperado"})}})})(),c=(()=>{const e=Yr();return Xr({mutationFn:({id:e,estado:t})=>Mq.changeAulaStatus(e,t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:eB.all}),e.invalidateQueries({queryKey:eB.detail(r.id)}),ca.success("Estado del aula actualizado",{description:`El aula ahora est ${r.estado}`})},onError:e=>{ca.error("Error al cambiar estado",{description:e.message||"Ocurri un error inesperado"})}})})(),d=i.isPending,u=o.isPending,m=l.isPending,h=d||u,f=t.useCallback(async e=>i.mutateAsync(e),[i]),p=t.useCallback(async(e,t)=>o.mutateAsync({id:e,...t}),[o]),g=t.useCallback(async e=>l.mutateAsync(e),[l]),x=t.useCallback(async(e,t)=>c.mutateAsync({id:e,estado:t}),[c]),b=t.useCallback(async e=>{r(t=>({...t,search:e}))},[]),y=t.useCallback(async e=>{r(t=>({...t,seccion:e}))},[]),v=t.useCallback(e=>{r(t=>({...t,...e}))},[]),j=t.useCallback(()=>{r({seccion:"",estado:"",search:""})},[]),w=t.useCallback(()=>{s()},[s]),N=t.useCallback(async e=>{const t=a.find(t=>t.id===e||t.idAula===e);return t},[a]);return{aulas:a,loading:n,creating:d,updating:u,deleting:m,uploading:h,filters:e,createAula:f,updateAula:p,deleteAula:g,changeAulaStatus:x,searchAulas:b,filterBySeccion:y,updateFilters:v,resetFilters:j,fetchAulas:s,refreshAulas:w,getAulaById:N,getActiveAulas:()=>a.filter(e=>"activa"===e.estado),getInactiveAulas:()=>a.filter(e=>"inactiva"===e.estado),getAulasBySeccion:e=>a.filter(t=>t.seccion===e),getTotalAulas:()=>a.length,getTotalStudentsInAulas:()=>a.reduce((e,t)=>e+(t.cantidadEstudiantes||0),0),getAverageStudentsPerAula:()=>{const e=a.reduce((e,t)=>e+(t.cantidadEstudiantes||0),0);return a.length>0?Math.round(e/a.length):0},hasAulas:a.length>0,isOperating:d||u||m||h,isCached:!0}},oB=({isOpen:e,onClose:r})=>{const[a,n]=t.useState({idGrado:"",seccion:"",cantidadEstudiantes:"",idTutor:""}),[s,i]=t.useState(!1),{crearAula:o}=(()=>{const e=Yr();return{crearAula:async t=>{try{const r=localStorage.getItem("token"),a="http://localhost:3000/api/v1",n=await fetch(`${a}/aula`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)});if(!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.message||"Error al crear aula")}const s=await n.json();return e.invalidateQueries(["aulas"]),ca.success("Aula creada exitosamente"),s}catch(r){throw ca.error(r.message||"Error al crear aula"),r}}}})(),{options:l,isLoading:c,hasGrados:d}=(()=>{const{grados:e,isLoading:t,isError:r}=Wq();return{options:e.map(e=>({value:e.idGrado||e.id,label:e.grado||e.nombre,grado:e})),isLoading:t,isError:r,hasGrados:e.length>0}})(),[u,m]=t.useState([]),[h,f]=t.useState(!1),[p,g]=t.useState(""),[x,b]=t.useState(!1),[y,v]=t.useState(null),j=t.useRef(null);t.useEffect(()=>{e&&(async()=>{f(!0);try{const e=await jc.getDocentes();m(e)}catch(e){}finally{f(!1)}})()},[e]),t.useEffect(()=>{const e=e=>{j.current&&!j.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const w=u.filter(e=>`${e.nombre||""} ${e.apellido||""}`.toLowerCase().includes(p.toLowerCase())),N=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))},k=()=>{n(e=>({...e,idTutor:""})),v(null),g("")},C=()=>{s||(n({idGrado:"",seccion:"",cantidadEstudiantes:"",idTutor:""}),g(""),v(null),b(!1),r())};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:C,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:"Crear Nueva Aula"}),It.jsx("button",{onClick:C,disabled:s,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5"})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a.idGrado)if(a.seccion.trim())if(!a.cantidadEstudiantes||Number(a.cantidadEstudiantes)<0)ca.error("La cantidad de estudiantes debe ser un nmero vlido");else if(a.idTutor){i(!0);try{await o({idGrado:a.idGrado,seccion:a.seccion.trim(),cantidadEstudiantes:Number(a.cantidadEstudiantes),idTutor:a.idTutor}),C()}catch(t){}finally{i(!1)}}else ca.error("Debe seleccionar un tutor");else ca.error("La seccin es requerida");else ca.error("Debe seleccionar un grado")},className:"space-y-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grado *"}),It.jsxs("div",{className:"relative",children:[It.jsxs("select",{name:"idGrado",value:a.idGrado,onChange:N,required:!0,disabled:s||c,className:"block w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 appearance-none bg-white",children:[It.jsx("option",{value:"",children:c?"Cargando grados...":"Seleccione un grado"}),l.map(e=>It.jsx("option",{value:e.value,children:e.label},e.value))]}),It.jsx(Ie,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),!d&&!c&&It.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"No hay grados disponibles. Primero debe crear grados."})]}),It.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seccin *"}),It.jsx("input",{type:"text",name:"seccion",value:a.seccion,onChange:N,placeholder:"Ej: A, B, C",required:!0,disabled:s,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad de Estudiantes *"}),It.jsx("input",{type:"number",name:"cantidadEstudiantes",value:a.cantidadEstudiantes,onChange:N,min:"0",placeholder:"0",required:!0,disabled:s,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]})]}),It.jsxs("div",{ref:j,children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tutor *"}),It.jsxs("div",{className:"relative",children:[It.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),It.jsx("input",{type:"text",value:p,onChange:e=>{g(e.target.value),b(!0),y&&k()},onFocus:()=>b(!0),placeholder:h?"Cargando docentes...":"Buscar tutor por nombre...",disabled:s||h,className:"block w-full pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),y&&It.jsx("button",{type:"button",onClick:k,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:It.jsx(ne,{className:"w-4 h-4"})})]}),x&&!y&&It.jsx("div",{className:"mt-1 max-h-48 overflow-y-auto bg-white border border-gray-200 rounded-lg shadow-lg",children:0===w.length?It.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No se encontraron docentes"}):w.map(e=>It.jsxs("button",{type:"button",onClick:()=>(e=>{n(t=>({...t,idTutor:e.idTrabajador})),v(e),g(`${e.nombre} ${e.apellido}`),b(!1)})(e),className:"w-full text-left px-4 py-2 text-sm hover:bg-blue-50 transition-colors border-b border-gray-100 last:border-b-0",children:[It.jsxs("div",{className:"font-medium text-gray-900",children:[e.nombre," ",e.apellido]}),e.correo&&It.jsx("div",{className:"text-xs text-gray-500",children:e.correo})]},e.idTrabajador))})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[It.jsx("button",{type:"button",onClick:C,disabled:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:s||!a.idGrado||!a.seccion||!a.cantidadEstudiantes||!a.idTutor,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center",children:s?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Creando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(S,{className:"w-4 h-4 mr-2"}),"Crear Aula"]})})]})]})]})})})})]})})},lB=({isOpen:e,onClose:r,aula:a})=>{const[n,s]=t.useState({seccion:"",cantidadEstudiantes:"",idTutor:""}),i=aB(),[o,l]=t.useState([]),[c,d]=t.useState(!1),[u,m]=t.useState(""),[h,f]=t.useState(!1),[p,g]=t.useState(null),x=t.useRef(null);t.useEffect(()=>{if(e&&a){s({seccion:a.seccion||"",cantidadEstudiantes:a.cantidadEstudiantes||"",idTutor:""});const e=a.asignacionAulas?.find(e=>e.estadoActivo);if(e?.idTrabajador){const t=e.idTrabajador;s(e=>({...e,idTutor:t.idTrabajador})),g(t),m(`${t.nombre} ${t.apellido}`)}else g(null),m("");(async()=>{d(!0);try{const e=await jc.getDocentes();l(e)}catch(e){}finally{d(!1)}})()}},[e,a]),t.useEffect(()=>{const e=e=>{x.current&&!x.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const b=o.filter(e=>`${e.nombre||""} ${e.apellido||""}`.toLowerCase().includes(u.toLowerCase())),y=e=>{const{name:t,value:r}=e.target;s(e=>({...e,[t]:r}))},v=()=>{s(e=>({...e,idTutor:""})),g(null),m("")},j=()=>{i.isPending||(s({seccion:"",cantidadEstudiantes:"",idTutor:""}),m(""),g(null),f(!1),r())};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:j,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:"Editar Aula"}),It.jsx("button",{onClick:j,disabled:i.isPending,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5"})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!a?.idAula)return;const t={};n.seccion.trim()&&(t.seccion=n.seccion.trim()),""!==n.cantidadEstudiantes&&(t.cantidadEstudiantes=Number(n.cantidadEstudiantes)),n.idTutor&&(t.idTutor=n.idTutor),await i.mutateAsync({id:a.idAula,...t}),j()},className:"space-y-4",children:[It.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seccin"}),It.jsx("input",{type:"text",name:"seccion",value:n.seccion,onChange:y,placeholder:"Ej: A, B, C",disabled:i.isPending,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad de Estudiantes"}),It.jsx("input",{type:"number",name:"cantidadEstudiantes",value:n.cantidadEstudiantes,onChange:y,min:"0",placeholder:"0",disabled:i.isPending,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]})]}),It.jsxs("div",{ref:x,children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tutor"}),It.jsxs("div",{className:"relative",children:[It.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),It.jsx("input",{type:"text",value:u,onChange:e=>{m(e.target.value),f(!0),p&&v()},onFocus:()=>f(!0),placeholder:c?"Cargando docentes...":"Buscar tutor por nombre...",disabled:i.isPending||c,className:"block w-full pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),p&&It.jsx("button",{type:"button",onClick:v,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:It.jsx(ne,{className:"w-4 h-4"})})]}),h&&!p&&It.jsx("div",{className:"mt-1 max-h-48 overflow-y-auto bg-white border border-gray-200 rounded-lg shadow-lg",children:0===b.length?It.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No se encontraron docentes"}):b.map(e=>It.jsxs("button",{type:"button",onClick:()=>(e=>{s(t=>({...t,idTutor:e.idTrabajador})),g(e),m(`${e.nombre} ${e.apellido}`),f(!1)})(e),className:"w-full text-left px-4 py-2 text-sm hover:bg-blue-50 transition-colors border-b border-gray-100 last:border-b-0",children:[It.jsxs("div",{className:"font-medium text-gray-900",children:[e.nombre," ",e.apellido]}),e.correo&&It.jsx("div",{className:"text-xs text-gray-500",children:e.correo})]},e.idTrabajador))})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[It.jsx("button",{type:"button",onClick:j,disabled:i.isPending,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:i.isPending,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center",children:i.isPending?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(S,{className:"w-4 h-4 mr-2"}),"Guardar Cambios"]})})]})]})]})})})})]})})},cB=()=>{const[e,r]=t.useState(!1),[a,n]=t.useState(!1),[s,i]=t.useState(null),o=l(),{data:c=[],isLoading:d}=rB(),u=e=>{const t=e?.idAula||e?.id;t&&o(`/admin/aulas/${t}`)},m=t.useMemo(()=>[...c].sort((e,t)=>`${e.idGrado?.grado||""} ${e.seccion||""}`.localeCompare(`${t.idGrado?.grado||""} ${t.seccion||""}`)),[c]);return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Aulas",actions:It.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[It.jsx(Oe,{className:"w-4 h-4"}),"Crear Aula"]})}),d&&It.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center text-gray-500",children:"Cargando aulas..."}),!d&&0===m.length&&It.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center text-gray-500",children:"No hay aulas registradas"}),!d&&m.length>0&&It.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>It.jsxs("div",{role:"button",tabIndex:0,onClick:()=>u(e),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),u(e))},className:"text-left bg-white rounded-xl border border-gray-200 shadow-sm p-5 hover:shadow-md transition-shadow cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500",children:[It.jsxs("div",{className:"flex items-start justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm text-gray-500",children:"Aula"}),It.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[e.idGrado?.grado||"Sin grado"," - Seccin ",e.seccion||"N/A"]})]}),It.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("inactiva"===e.estado?"bg-gray-100 text-gray-700":"bg-green-100 text-green-700"),children:"inactiva"===e.estado?"Inactiva":"Activa"})]}),It.jsxs("div",{className:"mt-4 space-y-1 text-sm text-gray-600",children:[It.jsxs("p",{children:["Estudiantes: ",It.jsx("span",{className:"font-medium text-gray-900",children:e.cantidadEstudiantes||0})]}),e.capacidadMaxima&&It.jsxs("p",{children:["Capacidad: ",It.jsx("span",{className:"font-medium text-gray-900",children:e.capacidadMaxima})]}),e.ubicacion&&It.jsxs("p",{children:["Ubicacin: ",It.jsx("span",{className:"font-medium text-gray-900",children:e.ubicacion})]})]}),It.jsx("div",{className:"mt-4 flex justify-end",children:It.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),(e=>{i(e),n(!0)})(e)},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Editar"})})]},e.idAula||e.id))}),It.jsx(oB,{isOpen:e,onClose:()=>r(!1)}),It.jsx(lB,{isOpen:a,onClose:()=>{n(!1),i(null)},aula:s})]})},dB=e=>e&&(`${e.nombre||e.nombres||""} ${e.apellido||e.apellidos||""}`.trim()||e.usuario||e.email)||"Sin asignar",uB=()=>{const e=l(),{id:t}=m(),{data:r,isLoading:a,error:n}=((e,t={})=>Qr({queryKey:eB.detailView(e),queryFn:()=>Mq.getAulaDetalle(e),enabled:!!e&&(t.enabled??!0),staleTime:12e4,gcTime:6e5,...t}))(t,{enabled:!!t}),s=r||{},i=s.aula||s,o=s.asignacionAulas||[],c=o[0]?.idTrabajador||i?.idTutor||s.tutor||s.tutorAsignado,d=(e=>e?Array.isArray(e.asignacionDocenteCursoAulas)?e.asignacionDocenteCursoAulas:Array.isArray(e.docentes)?e.docentes:Array.isArray(e.docentesCursos)?e.docentesCursos:Array.isArray(e.docentesAsignados)?e.docentesAsignados:[]:[])(s),u=(e=>{if(!e)return[];const t=e.matriculaAula||e.matriculas||e.estudiantes||[];return Array.isArray(t)?t.map(e=>e?.matricula?.idEstudiante||e?.estudiante||e).filter(Boolean):[]})(s);return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Detalle del Aula",actions:It.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:[It.jsx(it,{className:"w-4 h-4"}),"Volver"]})}),a&&It.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center text-gray-500",children:[It.jsx(E,{className:"w-6 h-6 animate-spin inline-block mr-2"}),"Cargando detalle del aula..."]}),n&&It.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 rounded-lg p-4",children:["Error al cargar detalle: ",n.message]}),!a&&!n&&It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[It.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[i?.idGrado?.grado||i?.grado||"Sin grado"," - Seccin ",i?.seccion||"N/A"]}),It.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Estudiantes: ",i?.cantidadEstudiantes||0]})]}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsx(ae,{className:"w-6 h-6 text-blue-600"}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm text-gray-500",children:"Tutor asignado"}),It.jsx("p",{className:"text-base font-semibold text-gray-900",children:dB(c)})]})]})}),It.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[It.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[It.jsx(oe,{className:"w-5 h-5 text-blue-600"}),It.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Docentes y cursos asignados"})]}),0===d.length?It.jsx("p",{className:"text-sm text-gray-500",children:"No hay docentes asignados."}):It.jsx("div",{className:"space-y-4",children:d.map((e,t)=>{const r=e.idTrabajador||e.docente||e.trabajador||e,a=(e=>{if(!e)return[];const t=e.cursos||e.cursosAsignados||e.asignacionDocenteCursoAulas||e.idCursos||e.curso||e.idCurso;return t?Array.isArray(t)?t:[t]:[]})(e);return It.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[It.jsx("p",{className:"text-sm font-semibold text-gray-900",children:dB(r)}),It.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:0===a.length?It.jsx("span",{className:"text-xs text-gray-500",children:"Sin cursos asignados"}):a.map((e,t)=>{const r=e?.nombreCurso||e?.nombre||e?.descripcion||"Curso";return It.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-50 px-3 py-1 text-xs font-medium text-blue-700",children:[It.jsx(me,{className:"h-3 w-3"}),r]},`${r}-${t}`)})})]},`${r?.idTrabajador||r?.id||t}`)})})]}),It.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[It.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[It.jsx(oe,{className:"w-5 h-5 text-blue-600"}),It.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Estudiantes"})]}),0===u.length?It.jsx("p",{className:"text-sm text-gray-500",children:"No hay estudiantes asignados."}):It.jsx("div",{className:"overflow-x-auto",children:It.jsxs("table",{className:"min-w-full text-sm text-left",children:[It.jsx("thead",{className:"bg-gray-50 text-gray-700",children:It.jsxs("tr",{children:[It.jsx("th",{className:"px-3 py-2 border",children:"N"}),It.jsx("th",{className:"px-3 py-2 border",children:"Estudiante"}),It.jsx("th",{className:"px-3 py-2 border",children:"Documento"})]})}),It.jsx("tbody",{children:u.map((e,t)=>It.jsxs("tr",{className:"odd:bg-white even:bg-gray-50",children:[It.jsx("td",{className:"px-3 py-2 border text-center",children:t+1}),It.jsx("td",{className:"px-3 py-2 border",children:It.jsxs("div",{className:"font-medium text-gray-900",children:[e.apellido||""," ",e.nombre||""]})}),It.jsxs("td",{className:"px-3 py-2 border",children:[e.tipoDocumento||"DNI",": ",e.nroDocumento||""]})]},e.idEstudiante||e.id||t))})]})})]})]})]})},mB=()=>{const[e,r]=t.useState({saldo:0,ingresos:0,egresos:0}),[a,n]=t.useState(!1);t.useEffect(()=>{s()},[]);const s=async()=>{n(!0);try{const e=await Tc.obtenerSaldo();e.success&&r({saldo:e.saldo,ingresos:e.ingresos,egresos:e.egresos})}catch(e){ca.error("Error al cargar el saldo de caja")}finally{n(!1)}},i=e=>`S/ ${parseFloat(e||0).toFixed(2)}`,o=[{id:"movimientos-caja",title:"Crear Nuevo Movimiento de Caja",description:"Registrar ingresos y egresos de caja",icon:ve,component:"MovimientosCaja",bgColor:"bg-blue-200",hoverBg:"hover:bg-blue-200"},{id:"pagos-pensiones",title:"Confirmar Pagos de Pensin",description:"Verificar y confirmar pagos de pensiones mensuales",icon:Z,component:"PagosPensiones",bgColor:"bg-green-200",hoverBg:"hover:bg-green-200"},{id:"pagos-planillas",title:"Aprobar Planillas Mensuales",description:"Revisar y aprobar planillas de pago de trabajadores",icon:oe,component:"PagosPlanillas",bgColor:"bg-orange-200",hoverBg:"hover:bg-orange-200"}];return It.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:It.jsxs("div",{className:"max-w-7xl mx-auto",children:[It.jsx("div",{className:"mb-8",children:It.jsxs("div",{className:"flex justify-between items-center",children:[It.jsxs("div",{children:[It.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestin Financiera"}),It.jsx("p",{className:"text-gray-600",children:"Administra todos los aspectos financieros de la institucin"})]}),It.jsxs("button",{onClick:s,disabled:a,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[a?It.jsx(E,{className:"w-4 h-4 animate-spin"}):It.jsx(Ce,{className:"w-4 h-4"}),It.jsx("span",{children:"Actualizar"})]})]})}),It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:o.map(e=>{const t=e.icon;return It.jsx("div",{onClick:()=>(e=>{window.dispatchEvent(new CustomEvent("changeFinanceView",{detail:{component:e.component}}))})(e),className:`\n                  ${e.bgColor} ${e.hoverBg}\n                  text-black rounded-lg shadow-lg cursor-pointer \n                  transform transition-all duration-300 \n                  hover:scale-105 hover:shadow-xl\n                  p-6 group\n                `,children:It.jsxs("div",{className:"flex flex-col items-center text-center",children:[It.jsx("div",{className:"mb-4 p-3 bg-white bg-opacity-20 rounded-full",children:It.jsx(t,{className:"h-8 w-8"})}),It.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-gray-900",children:e.title}),It.jsx("p",{className:"text-sm opacity-90 group-hover:opacity-900",children:e.description})]})},e.id)})}),It.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 gap-6",children:[It.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[It.jsxs("div",{className:"flex justify-between items-center mb-4",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resumen Total"}),a&&It.jsx(E,{className:"w-4 h-4 animate-spin text-gray-400"})]}),It.jsxs("div",{className:"space-y-2",children:[It.jsxs("div",{className:"flex justify-between",children:[It.jsx("span",{className:"text-gray-600",children:"Ingresos:"}),It.jsx("span",{className:"font-medium text-green-600",children:i(e.ingresos)})]}),It.jsxs("div",{className:"flex justify-between",children:[It.jsx("span",{className:"text-gray-600",children:"Egresos:"}),It.jsx("span",{className:"font-medium text-red-600",children:i(e.egresos)})]}),It.jsx("hr",{className:"my-2"}),It.jsxs("div",{className:"flex justify-between font-semibold",children:[It.jsx("span",{children:"Balance:"}),It.jsx("span",{className:e.saldo>=0?"text-green-600":"text-red-600",children:i(e.saldo)})]})]})]}),It.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[It.jsxs("div",{className:"flex justify-between items-center mb-2",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Saldo Actual"}),a&&It.jsx(E,{className:"w-4 h-4 animate-spin text-gray-400"})]}),It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"text-3xl font-bold mb-1 "+(e.saldo>=0?"text-blue-600":"text-red-600"),children:i(e.saldo)}),It.jsx("div",{className:"text-sm text-gray-600",children:"disponible en caja"})]})]})]})]})})},hB=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});hB.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),hB.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const fB={async getAllPensionesBase(){try{const e=await hB.get("/pension");return e.data?.info?.data&&Array.isArray(e.data.info.data)?e.data.info.data:Array.isArray(e.data)?e.data:[]}catch(e){throw new Error(e.response?.data?.message||"Error al obtener pensiones")}},async getAllPensiones(e={}){try{const t=new URLSearchParams;Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,r)});const r=await hB.get(`/pension-estudiante?${t.toString()}`);return Array.isArray(r.data)?r.data:r.data?.data&&Array.isArray(r.data.data)?r.data.data:r.data?.pensiones&&Array.isArray(r.data.pensiones)?r.data.pensiones:[]}catch(t){throw new Error(t.response?.data?.message||"Error al obtener pensiones")}},async getPensionesPorApoderado(e,t={}){try{const r=new URLSearchParams;Object.entries(t).forEach(([e,t])=>{null!=t&&""!==t&&r.append(e,t)});const a=r.toString()?`?${r.toString()}`:"",n=await hB.get(`/pension-estudiante/apoderado/${e}${a}`);return Array.isArray(n.data)?n.data:n.data?.data&&Array.isArray(n.data.data)?n.data.data:n.data?.pensiones&&Array.isArray(n.data.pensiones)?n.data.pensiones:[]}catch(r){throw new Error(r.response?.data?.message||"Error al obtener pensiones del apoderado")}},async getPensionById(e){try{return(await hB.get(`/pension/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener pensin")}},async createPension(e){try{const t=["idEstudiante","monto","mes","anio"].filter(t=>!e[t]);if(t.length>0)throw new Error(`Campos requeridos faltantes: ${t.join(", ")}`);const r={idEstudiante:e.idEstudiante,monto:Number(e.monto),mes:Number(e.mes),anio:Number(e.anio),fechaVencimiento:e.fechaVencimiento||(new Date).toISOString(),estadoPago:e.estadoPago||"pendiente",metodoPago:e.metodoPago||null,referenciaPago:e.referenciaPago||null,fechaPago:e.fechaPago||null,observaciones:e.observaciones||null},a=await hB.post("/pension",r);return a.data.pension?a.data.pension:a.data}catch(t){throw new Error(t.response?.data?.message||"Error al crear pensin")}},async updatePension(e,t){try{const r={monto:t.monto?Number(t.monto):void 0,mes:t.mes?Number(t.mes):void 0,anio:t.anio?Number(t.anio):void 0,fechaVencimiento:t.fechaVencimiento,estadoPago:t.estadoPago,metodoPago:t.metodoPago,referenciaPago:t.referenciaPago,fechaPago:t.fechaPago,observaciones:t.observaciones};return Object.keys(r).forEach(e=>{void 0===r[e]&&delete r[e]}),(await hB.patch(`/pension/${e}`,r)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar pensin")}},async deletePension(e){try{return(await hB.delete(`/pension/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar pensin")}},async getPensionesByStudent(e){try{return(await hB.get(`/pension/estudiante/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener pensiones por estudiante")}},async getPensionesByMonth(e,t){try{const r={mes:e,anio:t};return await this.getAllPensiones(r)}catch(r){throw new Error(r.response?.data?.message||"Error al obtener pensiones por mes")}},async markAsPaid(e,t={}){try{const r={estadoPago:"pagado",fechaPago:t.fechaPago||(new Date).toISOString(),metodoPago:t.metodoPago||"Efectivo",referenciaPago:t.referenciaPago||null,observaciones:t.observaciones||null};return(await hB.patch(`/pension/${e}`,r)).data}catch(r){throw new Error(r.response?.data?.message||"Error al procesar pago")}},async markAsOverdue(e){try{const t={estadoPago:"vencido"};return(await hB.patch(`/pension/${e}`,t)).data}catch(t){throw new Error(t.response?.data?.message||"Error al cambiar estado")}},async getPendingPensiones(){try{return await this.getAllPensiones({estadoPago:"pendiente"})}catch(e){throw new Error("Error al obtener pensiones pendientes")}},async getOverduePensiones(){try{return await this.getAllPensiones({estadoPago:"vencido"})}catch(e){throw new Error("Error al obtener pensiones vencidas")}},async getPaidPensiones(){try{return await this.getAllPensiones({estadoPago:"pagado"})}catch(e){throw new Error("Error al obtener pensiones pagadas")}},async searchPensiones(e){try{return await this.getAllPensiones({search:e})}catch(t){throw new Error("Error al buscar pensiones")}},async sendPaymentReminder(e){try{return(await hB.post(`/pension/${e}/reminder`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al enviar recordatorio")}},async getFinancialStats(e={}){try{const t=new URLSearchParams(e);return(await hB.get(`/pension/stats?${t.toString()}`)).data}catch(t){throw new Error("Error al obtener estadsticas")}},async generateFinancialReport(e={}){try{const t=new URLSearchParams(e);return(await hB.get(`/pension/report?${t.toString()}`)).data}catch(t){throw new Error("Error al generar reporte")}},async exportPensionesToCSV(e={}){try{const t=new URLSearchParams(e);return(await hB.get(`/pension/export/csv?${t.toString()}`,{responseType:"blob"})).data}catch(t){throw new Error("Error al exportar pensiones")}},async exportPensionesToPDF(e={}){try{const t=new URLSearchParams(e);return(await hB.get(`/pension/export/pdf?${t.toString()}`,{responseType:"blob"})).data}catch(t){throw new Error("Error al exportar pensiones")}},async importPensionsFromCSV(e){try{const t=new FormData;return t.append("file",e),(await hB.post("/pension/import/csv",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw new Error(t.response?.data?.message||"Error al importar pensiones")}},async processBulkPayment(e,t){try{const r={pensionIds:e,estadoPago:"pagado",fechaPago:t.fechaPago||(new Date).toISOString(),metodoPago:t.metodoPago||"Transferencia",observaciones:t.observaciones||"Pago masivo procesado"};return(await hB.post("/pension/bulk/payment",r)).data}catch(r){throw new Error(r.response?.data?.message||"Error al procesar pago masivo")}},async configureAutomaticReminders(e){try{return(await hB.post("/pension/reminders/config",e)).data}catch(t){throw new Error("Error al configurar recordatorios automticos")}},async obtenerPensionesEstudiantes(e={}){try{const t=new URLSearchParams;Object.keys(e).forEach(r=>{null!==e[r]&&void 0!==e[r]&&""!==e[r]&&t.append(r,e[r])});const r="/pension-estudiante"+(t.toString()?`?${t.toString()}`:""),a=await hB.get(r);return{success:!0,pensiones:Array.isArray(a.data)?a.data:[]}}catch(t){throw new Error(t.response?.data?.message||"Error al obtener pensiones")}},async verificarPagosMasivo(e){try{return{success:!0,resultado:(await hB.patch("/pension-estudiante/verify-masivo",e)).data}}catch(t){throw new Error(t.response?.data?.message||"Error al verificar pagos masivos")}}},pB=()=>{const e=Yr();return{crearPension:async t=>{try{const r={monto:Number(t.monto)},a=localStorage.getItem("token"),n="http://localhost:3000/api/v1",s=await fetch(`${n}/pension`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(r)});if(!s.ok){const e=await s.json().catch(()=>({}));throw new Error(e.message||"Error al crear pensin")}const i=await s.json();return e.invalidateQueries(["pensiones"]),ca.success("Pensin creada exitosamente"),i}catch(r){throw ca.error(r.message||"Error al crear pensin"),r}},editarPension:async(t,r)=>{try{const a={monto:Number(r.monto)},n=localStorage.getItem("token"),s="http://localhost:3000/api/v1",i=await fetch(`${s}/pension/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(a)});if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(e.message||"Error al editar pensin")}const o=await i.json();return e.invalidateQueries(["pensiones"]),ca.success("Pensin actualizada exitosamente"),o}catch(a){throw ca.error(a.message||"Error al editar pensin"),a}}}},gB=()=>{const{data:e=[],isLoading:t}=Qr({queryKey:["pensiones-base"],queryFn:()=>fB.getAllPensionesBase(),staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1,retry:3,onError:e=>{ca.error("Error al cargar las pensiones")}});return{options:e.map(e=>({value:e.idPension,label:`S/ ${parseFloat(e.monto).toFixed(2)}`,pension:e})),isLoading:t,hasPensiones:e.length>0}},xB=cq({monto:J$().min(.01,"El monto debe ser mayor a 0").required("Monto es requerido")}),bB=({isOpen:e,onClose:r})=>{const[a,n]=t.useState(!1),{crearPension:s}=pB(),{register:i,handleSubmit:o,formState:{errors:l},reset:c}=Iz({resolver:Uz(xB),defaultValues:{monto:""}}),d=()=>{a||(c(),r())};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:d,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:"Crear Nueva Pensin"}),It.jsx("button",{onClick:d,disabled:a,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5"})})]}),It.jsxs("form",{onSubmit:o(async e=>{n(!0);try{const t={monto:Number(e.monto)};await s(t),c(),r(),ca.success("Pensin creada exitosamente")}catch(t){ca.error(t.message||"Error al crear pensin")}finally{n(!1)}}),className:"space-y-4",children:[It.jsxs("div",{children:[It.jsx("label",{htmlFor:"monto",className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto de la Pensin (S/) *"}),It.jsx("input",{type:"number",step:"0.01",min:"0.01",...i("monto"),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50",placeholder:"150.50",disabled:a}),l.monto&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.monto.message})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[It.jsx("button",{type:"button",onClick:d,disabled:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center",children:a?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Creando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(S,{className:"w-4 h-4 mr-2"}),"Crear Pensin"]})})]})]})]})})})})]})})},yB=cq({monto:J$().min(.01,"El monto debe ser mayor a 0").required("Monto es requerido")}),vB=({isOpen:e,onClose:r,pension:a})=>{const[n,s]=t.useState(!1),{editarPension:i}=pB(),{register:o,handleSubmit:l,formState:{errors:c},reset:d}=Iz({resolver:Uz(yB),defaultValues:{monto:""}});t.useEffect(()=>{a&&e&&d({monto:parseFloat(a.monto)||""})},[a,e,d]);const u=()=>{n||(d(),r())};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:u,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs(ki.Title,{as:"h3",className:"text-xl font-semibold leading-6 text-gray-900 flex items-center",children:[It.jsx(ve,{className:"w-6 h-6 mr-2 text-blue-600"}),"Editar Pensin"]}),It.jsx("button",{onClick:u,disabled:n,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-6 h-6"})})]}),It.jsxs("form",{onSubmit:l(async e=>{s(!0);try{await i(a.idPension,{monto:Number(e.monto)}),d(),r()}catch(t){}finally{s(!1)}}),className:"space-y-6",children:[It.jsxs("div",{children:[It.jsxs("label",{htmlFor:"monto",className:"block text-sm font-medium text-gray-700 mb-2",children:[It.jsx(ve,{className:"w-4 h-4 inline mr-1"}),"Monto de la Pensin (S/) *"]}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(ve,{className:"h-5 w-5 text-gray-400"})}),It.jsx("input",{type:"number",step:"0.01",min:"0.01",...o("monto"),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"150.50",disabled:n})]}),c.monto&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.monto.message}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ingrese el nuevo monto mensual de la pensin"})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[It.jsx("button",{type:"button",onClick:u,disabled:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:n?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(S,{className:"w-4 h-4 mr-2"}),"Guardar Cambios"]})})]})]})]})})})})]})})},jB=({pensiones:e=[],loading:r=!1})=>{const[a,n]=t.useState(!1),[s,i]=t.useState(!1),[o,l]=t.useState(null);return It.jsxs(It.Fragment,{children:[It.jsx(eL,{data:e,columns:rL,loading:r,title:"Tabla de Pensiones",searchPlaceholder:"Buscar pensiones...",actions:{add:!0,edit:!0,delete:!1,view:!1,import:!1,export:!1},onAdd:()=>n(!0),onEdit:e=>{l(e),i(!0)},addButtonText:"Nueva Pensin",loadingMessage:"Cargando pensiones...",emptyMessage:"No hay pensiones registradas",itemsPerPage:10,enablePagination:!0,enableSearch:!0,enableSort:!0}),It.jsx(bB,{isOpen:a,onClose:()=>n(!1)}),It.jsx(vB,{isOpen:s,onClose:()=>{i(!1),l(null)},pension:o})]})},wB=()=>{const{data:e=[],isLoading:t}=Qr({queryKey:["pensiones"],queryFn:()=>fB.getAllPensionesBase(),staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1,retry:3,onError:e=>{ca.error("Error al cargar las pensiones")},select:e=>Array.isArray(e)?e:e?.info?.data&&Array.isArray(e.info.data)?e.info.data:e?.pensiones&&Array.isArray(e.pensiones)?e.pensiones:e?.data&&Array.isArray(e.data)?e.data:[]});return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Pensiones"}),It.jsx(jB,{pensiones:e,loading:t})]})},NB=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}}),EB={async getPlanificaciones(e={}){const t=localStorage.getItem("token"),r=new URLSearchParams;e.idTrabajador&&r.append("idTrabajador",e.idTrabajador);const a="/planificacion"+(r.toString()?`?${r.toString()}`:"");return(await NB.get(a,{headers:{Authorization:t?`Bearer ${t}`:"",accept:"*/*"}})).data},async getAulasTrabajador(e){const t=localStorage.getItem("token");try{return(await NB.get(`/trabajador/aulas/${e}`,{headers:{Authorization:t?`Bearer ${t}`:"",accept:"*/*"}})).data}catch(r){throw r}},async getPlanificacionesTrabajador(e){const t=localStorage.getItem("token");return(await NB.get(`/planificacion/trabajador/${e}`,{headers:{Authorization:t?`Bearer ${t}`:"",accept:"*/*"}})).data},async crearPlanificacion(e){const t=localStorage.getItem("token");try{return(await NB.post("/planificacion",e,{headers:{Authorization:t?`Bearer ${t}`:"","Content-Type":"application/json",accept:"*/*"}})).data}catch(r){throw r}}},SB=cq({tipoPlanificacion:Q$().required("El tipo de planificacin es requerido"),fechaPlanificacion:Q$().required("La fecha de planificacin es requerida"),archivo:R$().required("Debe seleccionar un archivo"),observaciones:Q$().required("Las observaciones son requeridas")}),kB=({label:e,error:t,required:r,children:a,className:n=""})=>It.jsxs("div",{className:n,children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",r&&It.jsx("span",{className:"text-red-500",children:"*"})]}),a,t&&It.jsx("p",{className:"text-red-500 text-xs mt-1",children:t})]}),CB=({open:e,onClose:r,onSuccess:a})=>{const{user:n}=Sa(),[s,i]=t.useState([]),[o,l]=t.useState(!1),[c,d]=t.useState(""),[u,m]=t.useState(null),[h,f]=t.useState(null),[p,g]=t.useState(!1),{register:x,handleSubmit:b,setValue:y,formState:{errors:v,isSubmitting:j},reset:w,watch:S}=Iz({resolver:Uz(SB),defaultValues:{tipoPlanificacion:"",fechaPlanificacion:"",archivo:null,observaciones:""}});t.useEffect(()=>{x("archivo")},[x]),t.useEffect(()=>{e||(m(null),f(null))},[e]),t.useEffect(()=>{e&&n?.entidadId&&k()},[e,n?.entidadId]);const k=async()=>{try{l(!0);const e=await EB.getAulasTrabajador(n.entidadId);e.success&&e.aulas.length>0?(i(e.aulas),1===e.aulas.length&&d(e.aulas[0].id_aula)):ca.error("No se encontraron aulas asignadas al trabajador")}catch(e){const t=e.response?.data?.message||e.message||"Error al cargar las aulas asignadas";ca.error(t)}finally{l(!1)}},C=()=>{w(),d(""),m(null),f(null),r()};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:C,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:It.jsx(he,{className:"w-6 h-6 text-green-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Agregar Planificacin"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Complete la informacin para registrar una planificacin docente"})]})]}),It.jsx("button",{onClick:C,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("form",{onSubmit:b(async e=>{if(c)if(u)if(n?.entidadId)try{g(!0),ca.loading("Subiendo archivo a Google Cloud...",{id:"upload"});const t=await yc.uploadFile(u,"planificaciones",n?.entidadId||"anonymous");ca.dismiss("upload"),ca.success("Archivo subido exitosamente");const s={tipoPlanificacion:"Anual"===e.tipoPlanificacion?"Planificacin Anual":"Mensual"===e.tipoPlanificacion?"Planificacin Mensual":"Semanal"===e.tipoPlanificacion?"Planificacin Semanal":"Planificacin Diaria",fechaPlanificacion:e.fechaPlanificacion+"T00:00:00.000Z",archivoUrl:t.url,observaciones:e.observaciones||"",idTrabajador:n.entidadId,idAula:c};if(!s.tipoPlanificacion||"string"!=typeof s.tipoPlanificacion)throw new Error("Tipo de planificacin invlido");if(!s.fechaPlanificacion||"string"!=typeof s.fechaPlanificacion)throw new Error("Fecha de planificacin invlida");if(!s.archivoUrl||"string"!=typeof s.archivoUrl)throw new Error("URL del archivo invlida");if(!s.idTrabajador||"string"!=typeof s.idTrabajador)throw new Error("ID del trabajador invlido");if(!s.idAula||"string"!=typeof s.idAula)throw new Error("ID del aula invlido");await EB.crearPlanificacion(s),ca.success("Planificacin registrada correctamente"),a&&a(),w(),d(""),m(null),f(null),r()}catch(t){ca.dismiss("upload");const e=t.response?.data?.message||t.message||"Error al registrar la planificacin";ca.error(e)}finally{g(!1)}else ca.error("No se pudo obtener la informacin del usuario");else ca.error("Debe seleccionar un archivo");else ca.error("Debe seleccionar un aula")}),className:"space-y-6",children:[It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(kB,{label:"Tipo de Planificacin",error:v.tipoPlanificacion?.message,required:!0,children:It.jsxs("select",{...x("tipoPlanificacion"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[It.jsx("option",{value:"",children:"Seleccionar tipo"}),It.jsx("option",{value:"Diaria",children:"Diaria"}),It.jsx("option",{value:"Semanal",children:"Semanal"}),It.jsx("option",{value:"Mensual",children:"Mensual"}),It.jsx("option",{value:"Anual",children:"Anual"})]})}),It.jsx(kB,{label:"Fecha de Planificacin",error:v.fechaPlanificacion?.message,required:!0,children:It.jsx("input",{...x("fechaPlanificacion"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),It.jsx(kB,{label:"Aula",error:c?void 0:"Debe seleccionar un aula",required:!0,children:It.jsxs("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:o,children:[It.jsx("option",{value:"",children:o?"Cargando aulas...":"Seleccionar aula"}),s.map(e=>It.jsxs("option",{value:e.id_aula,children:[e.nombre," - ",e.seccion," (",e.grado,")"]},e.id_aula))]})}),It.jsx(kB,{label:"Archivo",error:v.archivo?.message,required:!0,children:It.jsx("div",{className:"space-y-3",children:u?It.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(ot,{className:"w-5 h-5 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-900",children:h?.name}),It.jsx("p",{className:"text-xs text-gray-500",children:h?.sizeFormatted})]})]}),It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx("button",{type:"button",onClick:()=>window.open(URL.createObjectURL(u),"_blank"),className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Vista previa",children:It.jsx(N,{className:"w-4 h-4"})}),It.jsx("button",{type:"button",onClick:()=>{m(null),f(null),y("archivo",null);const e=document.getElementById("archivo-input");e&&(e.value="")},className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Remover archivo",children:It.jsx(Le,{className:"w-4 h-4"})})]})]})}):It.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[It.jsx(_e,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),It.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Arrastra un archivo aqu o haz clic para seleccionar"}),It.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"PDF, Word, Excel, imgenes (mx. 10MB)"}),It.jsx("input",{id:"archivo-input",type:"file",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!yc.validateFileType(t,["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","image/jpeg","image/png","image/gif"]))return void ca.error("Tipo de archivo no permitido. Use PDF, Word, Excel o imgenes.");if(!yc.validateFileSize(t,10))return void ca.error("El archivo es demasiado grande. Mximo 10MB.");m(t),y("archivo",t);const r=yc.getFileInfo(t);f(r)},accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif",className:"hidden"}),It.jsx("button",{type:"button",onClick:()=>document.getElementById("archivo-input").click(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Seleccionar Archivo"})]})})}),It.jsx(kB,{label:"Observaciones",error:v.observaciones?.message,required:!0,children:It.jsx("textarea",{...x("observaciones"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observaciones adicionales..."})}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[It.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:j||!c||o||p||!u,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j||p?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),p?"Subiendo archivo...":"Guardando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),"Guardar Planificacin"]})})]})]})]})})})})]})})},AB=()=>{const[e,r]=t.useState(!1),[a,n]=t.useState({tipoPlanificacion:"",docente:"",mes:""}),{user:s,rol:i}=Sa(),{trabajadores:o}=Nc(),l=t.useMemo(()=>{if(!s||!o)return null;const e=o.find(e=>e.id_Usuario_Tabla===s.id||e.idUsuario&&e.idUsuario.idUsuario===s.id);return e?e.idTrabajador:null},[s,o]),{planificaciones:c,isLoading:d,error:u}=((e,r)=>{const[a,n]=t.useState(),[s,i]=t.useState(!1),[o,l]=t.useState(null),c=async()=>{i(!0),l(null);try{let t;"PROFESOR"===e&&r?(t=await EB.getPlanificaciones({idTrabajador:r}),n(Array.isArray(t)?t.filter(e=>e.idTrabajador===r):[])):(t=await EB.getPlanificaciones(),n(Array.isArray(t)?t:[]))}catch(t){l(t.response?.data?.message||"Error al obtener planificaciones")}finally{i(!1)}};return t.useEffect(()=>{if("PROFESOR"===e&&!r)return n([]),i(!0),void l(null);("PROFESOR"===e&&r||"PROFESOR"!==e)&&c()},[e,r]),{planificaciones:a,isLoading:s,error:o,refetch:c,crearPlanificacion:async e=>{i(!0),l(null);try{const t=await EB.crearPlanificacion(e);return await c(),{success:!0,data:t}}catch(t){return l(t.response?.data?.message||"Error al registrar la planificacin"),{success:!1,error:t.response?.data?.message||t.message}}finally{i(!1)}}}})(i,l),m=t.useMemo(()=>c?[...new Set(c.map(e=>e.tipoPlanificacion))].filter(Boolean):[],[c]),h=t.useMemo(()=>{if(!c)return[];const e=c.map(e=>({id:e.idTrabajador,nombre:`${e.trabajador?.nombre||""} ${e.trabajador?.apellido||""}`.trim()}));return[...new Map(e.map(e=>[e.id,e])).values()]},[c]),f=t.useMemo(()=>c?[...new Set(c.map(e=>{const t=new Date(e.fechaPlanificacion);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`}))].sort().reverse():[],[c]),p=t.useMemo(()=>c?c.filter(e=>{if(a.tipoPlanificacion&&e.tipoPlanificacion!==a.tipoPlanificacion)return!1;if(a.docente&&e.idTrabajador!==a.docente)return!1;if(a.mes){const t=new Date(e.fechaPlanificacion);if(`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`!==a.mes)return!1}return!0}):[],[c,a]),g=(e,t)=>{n(r=>({...r,[e]:t}))},x=e=>{if(!e)return"";const[t,r]=e.split("-");return new Date(t,r-1).toLocaleDateString("es-ES",{year:"numeric",month:"long"})};return It.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[It.jsxs("div",{className:"flex justify-between items-center mb-6",children:[It.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Planificaciones"}),"DOCENTE"===s?.rol&&It.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold shadow",onClick:()=>{r(!0)},children:"+ Agregar Planificacin"})]}),It.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filtros"}),It.jsxs("button",{onClick:()=>{n({tipoPlanificacion:"",docente:"",mes:""})},className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[It.jsx(ne,{className:"w-4 h-4"}),"Limpiar filtros"]})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Planificacin"}),It.jsxs("select",{value:a.tipoPlanificacion,onChange:e=>g("tipoPlanificacion",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[It.jsx("option",{value:"",children:"Todos los tipos"}),m.map(e=>It.jsx("option",{value:e,children:e},e))]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Docente"}),It.jsxs("select",{value:a.docente,onChange:e=>g("docente",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[It.jsx("option",{value:"",children:"Todos los docentes"}),h.map(e=>It.jsx("option",{value:e.id,children:e.nombre},e.id))]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mes"}),It.jsxs("select",{value:a.mes,onChange:e=>g("mes",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[It.jsx("option",{value:"",children:"Todos los meses"}),f.map(e=>It.jsx("option",{value:e,children:x(e)},e))]})]})]}),(a.tipoPlanificacion||a.docente||a.mes)&&It.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:It.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.tipoPlanificacion&&It.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:["Tipo: ",a.tipoPlanificacion,It.jsx("button",{onClick:()=>g("tipoPlanificacion",""),className:"hover:text-blue-600",children:It.jsx(ne,{className:"w-3 h-3"})})]}),a.docente&&It.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:["Docente: ",h.find(e=>e.id===a.docente)?.nombre,It.jsx("button",{onClick:()=>g("docente",""),className:"hover:text-green-600",children:It.jsx(ne,{className:"w-3 h-3"})})]}),a.mes&&It.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:["Mes: ",x(a.mes),It.jsx("button",{onClick:()=>g("mes",""),className:"hover:text-purple-600",children:It.jsx(ne,{className:"w-3 h-3"})})]})]})})]}),d?It.jsx("div",{className:"text-gray-500 text-center py-10",children:"Cargando..."}):u?It.jsx("div",{className:"text-red-500 text-center py-10",children:"Error al cargar planificaciones"}):p&&p.length>0?It.jsxs(It.Fragment,{children:[It.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Mostrando ",p.length," de ",c?.length||0," planificaciones"]}),It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:p.map(e=>It.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-lg p-6 flex flex-col justify-between hover:shadow-2xl transition-shadow duration-200",children:[It.jsxs("div",{className:"flex items-center mb-4",children:[It.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:It.jsx("span",{className:"text-blue-600 text-2xl font-bold",children:e.tipoPlanificacion?.charAt(0)||"P"})}),It.jsxs("div",{className:"flex-1",children:[It.jsx("div",{className:"font-bold text-xl text-blue-800",children:e.tipoPlanificacion}),It.jsx("div",{className:"text-sm text-gray-500",children:new Date(e.fechaPlanificacion).toLocaleDateString()})]})]}),It.jsxs("div",{className:"mb-4",children:[It.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"Informacin del Aula:"}),It.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Seccin:"}),It.jsx("span",{className:"text-sm font-bold text-green-700",children:e.aula?.seccion})]}),It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Estudiantes:"}),It.jsx("span",{className:"text-sm font-bold text-blue-700",children:e.aula?.cantidadEstudiantes||"N/A"})]})]})]}),It.jsxs("div",{className:"mb-4",children:[It.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"Informacin del Docente:"}),It.jsx("div",{className:"flex flex-wrap gap-2",children:It.jsxs("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm font-medium",children:[e.trabajador?.nombre," ",e.trabajador?.apellido]})})]}),e.observaciones&&It.jsxs("div",{className:"mb-4",children:[It.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"Observaciones:"}),It.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-sm text-yellow-800 leading-relaxed",children:e.observaciones})]}),It.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-gray-100",children:[It.jsx("a",{href:e.archivoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline font-semibold hover:text-blue-800 transition-colors",children:"Ver archivo"}),It.jsx("span",{className:"text-xs px-3 py-1 rounded-full font-bold bg-green-100 text-green-700",children:"ACTIVO"})]})]},e.idPlanificacion))})]}):It.jsx("div",{className:"text-gray-500 text-center py-10",children:"No hay planificaciones registradas."})]})},_B=({isOpen:e,onClose:r})=>{const[a,n]=t.useState({grado:"",descripcion:"",estaActivo:!0,idPension:""}),[s,i]=t.useState(!1),{crearGrado:o}=Gq(),{options:l,isLoading:c,hasPensiones:d}=gB(),u=e=>{const{name:t,value:r,type:a,checked:s}=e.target;n(e=>({...e,[t]:"checkbox"===a?s:r}))};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-40 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900 mb-4",children:"Crear nuevo grado acadmico"}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a.grado.trim())if(a.idPension){i(!0);try{await o(a),ca.success("Grado creado correctamente"),n({grado:"",descripcion:"",estaActivo:!0,idPension:""}),r()}catch(t){ca.error(t.message||"Error al crear grado")}finally{i(!1)}}else ca.error("Debe seleccionar una pensin");else ca.error("El nombre del grado es requerido")},className:"space-y-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del grado *"}),It.jsx("input",{type:"text",name:"grado",value:a.grado,onChange:u,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),It.jsx("textarea",{name:"descripcion",value:a.descripcion,onChange:u,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pensin Asociada *"}),c?It.jsxs("div",{className:"w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-50 flex items-center",children:[It.jsx(E,{className:"w-4 h-4 animate-spin mr-2"}),It.jsx("span",{className:"text-gray-500",children:"Cargando pensiones..."})]}):d?It.jsxs("div",{className:"relative",children:[It.jsxs("select",{name:"idPension",value:a.idPension,onChange:u,className:"w-full border border-gray-300 rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white",required:!0,children:[It.jsx("option",{value:"",children:"Seleccione una pensin"}),l.map(e=>It.jsx("option",{value:e.value,children:e.label},e.value))]}),It.jsx(Ie,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}):It.jsx("div",{className:"w-full border border-red-300 rounded-md px-3 py-2 bg-red-50 text-red-700",children:"No hay pensiones disponibles. Cree una pensin primero."}),a.idPension&&It.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Pensin seleccionada: ",l.find(e=>e.value===a.idPension)?.label]})]}),It.jsxs("div",{className:"flex justify-end pt-2",children:[It.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 mr-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",disabled:s,children:"Cancelar"}),It.jsxs("button",{type:"submit",disabled:s||!d||c,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?It.jsx(E,{className:"w-4 h-4 animate-spin"}):It.jsx(S,{className:"w-4 h-4"}),It.jsx("span",{children:d?"Crear":"Sin pensiones"})]})]})]})]})})})})]})})},TB=({isOpen:e,onClose:r,grado:a})=>{const[n,s]=t.useState({grado:"",descripcion:"",idPension:""}),[i,o]=t.useState(!1),{editarGrado:l}=Gq(),{options:c,isLoading:d,hasPensiones:u}=gB();t.useEffect(()=>{a&&e&&s({grado:a.grado||"",descripcion:a.descripcion||"",idPension:a.idPension?.idPension||""})},[a,e]);const m=e=>{const{name:t,value:r}=e.target;s(e=>({...e,[t]:r}))};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-40 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900 mb-4",children:"Editar grado acadmico"}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),n.grado.trim())if(n.idPension){o(!0);try{await l(a.idGrado,n),ca.success("Grado actualizado correctamente"),r()}catch(t){ca.error(t.message||"Error al actualizar grado")}finally{o(!1)}}else ca.error("Debe seleccionar una pensin");else ca.error("El nombre del grado es requerido")},className:"space-y-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del grado *"}),It.jsx("input",{type:"text",name:"grado",value:n.grado,onChange:m,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),It.jsx("textarea",{name:"descripcion",value:n.descripcion,onChange:m,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pensin Asociada *"}),d?It.jsxs("div",{className:"w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-50 flex items-center",children:[It.jsx(E,{className:"w-4 h-4 animate-spin mr-2"}),It.jsx("span",{className:"text-gray-500",children:"Cargando pensiones..."})]}):u?It.jsxs("div",{className:"relative",children:[It.jsxs("select",{name:"idPension",value:n.idPension,onChange:m,className:"w-full border border-gray-300 rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white",required:!0,children:[It.jsx("option",{value:"",children:"Seleccione una pensin"}),c.map(e=>It.jsx("option",{value:e.value,children:e.label},e.value))]}),It.jsx(Ie,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}):It.jsx("div",{className:"w-full border border-red-300 rounded-md px-3 py-2 bg-red-50 text-red-700",children:"No hay pensiones disponibles. Cree una pensin primero."})]}),It.jsxs("div",{className:"flex justify-end pt-2",children:[It.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 mr-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",disabled:i,children:"Cancelar"}),It.jsxs("button",{type:"submit",disabled:i||!u||d,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i?It.jsx(E,{className:"w-4 h-4 animate-spin"}):It.jsx(S,{className:"w-4 h-4"}),It.jsx("span",{children:"Guardar"})]})]})]})]})})})})]})})},OB=({grados:e=[],loading:r=!1})=>{const[a,n]=t.useState(!1),[s,i]=t.useState(!1),[o,l]=t.useState(null);return It.jsxs(It.Fragment,{children:[It.jsx(eL,{data:e,columns:tL,loading:r,title:"Tabla de Grados",actions:{add:!0,edit:!0,delete:!1,view:!1,import:!1,export:!1},onAdd:()=>n(!0),onEdit:e=>{l(e),i(!0)},addButtonText:"Agregar Grado",loadingMessage:"Cargando grados...",emptyMessage:"No hay grados registrados",itemsPerPage:10,enablePagination:!0,enableSearch:!0,enableSort:!0}),It.jsx(_B,{isOpen:a,onClose:()=>n(!1)}),It.jsx(TB,{isOpen:s,onClose:()=>{i(!1),l(null)},grado:o})]})},DB=()=>{const{data:e=[],isLoading:t}=Qr({queryKey:Hq.lists(),queryFn:Vq.getAllGrados,staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1,retry:3,onError:e=>{ca.error("Error al cargar los grados")},select:e=>Array.isArray(e)?e:e?.info?.data&&Array.isArray(e.info.data)?e.info.data:e?.grados&&Array.isArray(e.grados)?e.grados:e?.data&&Array.isArray(e.data)?e.data:[]}),r=Array.isArray(e)?e:[];return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Grados"}),It.jsx(OB,{grados:r,loading:t})]})},PB=({isOpen:e,onClose:r,onSave:a})=>{const[n,s]=t.useState({nombreCurso:"",descripcion:""}),[i,o]=t.useState({}),[l,c]=t.useState(!1),d=e=>{const{name:t,value:r}=e.target;s(e=>({...e,[t]:r})),i[t]&&o(e=>({...e,[t]:""}))},u=()=>{s({nombreCurso:"",descripcion:""}),o({})},m=()=>{l||(u(),r())},h=e=>"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors "+(e?"border-red-300":"border-gray-300");return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:m,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-md"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-medium text-gray-900",children:"Crear Curso"}),It.jsx("button",{onClick:m,disabled:l,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.nombreCurso.trim()||(e.nombreCurso="El nombre del curso es obligatorio"),n.descripcion.trim()||(e.descripcion="La descripcin es obligatoria"),o(e),0===Object.keys(e).length})())try{c(!0),await a({...n,estaActivo:!0}),u()}catch(t){}finally{c(!1)}else ca.error("Por favor, corrige los errores en el formulario")},className:"space-y-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Curso *"}),It.jsx("input",{type:"text",name:"nombreCurso",value:n.nombreCurso,onChange:d,placeholder:"Ej: Matemticas",className:h(i.nombreCurso),disabled:l}),i.nombreCurso&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.nombreCurso})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin *"}),It.jsx("textarea",{name:"descripcion",value:n.descripcion,onChange:d,placeholder:"Describe el contenido del curso...",rows:3,className:h(i.descripcion),disabled:l}),i.descripcion&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.descripcion})]}),It.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-6",children:[It.jsx("button",{type:"button",onClick:m,disabled:l,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:l,className:"w-full sm:w-auto px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:l?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Creando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(S,{className:"w-4 h-4 mr-2"}),"Crear Curso"]})})]})]})]})})})})]})})},MB=({isOpen:e,onClose:r,onSave:a,curso:n})=>{const[s,i]=t.useState({nombre:"",descripcion:""}),[o,l]=t.useState({}),[c,d]=t.useState(!1);t.useEffect(()=>{n&&e?(i({nombreCurso:n.nombreCurso||n.nombre||"",descripcion:n.descripcion||""}),l({})):e||(i({nombreCurso:"",descripcion:""}),l({}))},[n,e]);const u=e=>{const{name:t,value:r}=e.target;i(e=>({...e,[t]:r})),o[t]&&l(e=>({...e,[t]:""}))},m=()=>{c||(i({nombre:"",descripcion:""}),l({}),r())},h=e=>"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(e?"border-red-300":"border-gray-300");return n?It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:m,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(me,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold text-gray-900",children:"Editar Curso"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Modifica la informacin del curso"})]})]}),It.jsx("button",{onClick:m,disabled:c,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return s.nombreCurso.trim()||(e.nombre="El nombre del curso es obligatorio"),s.descripcion.trim()||(e.descripcion="La descripcin es obligatoria"),l(e),0===Object.keys(e).length})())try{d(!0),await a(s)}catch(t){}finally{d(!1)}else ca.error("Por favor, corrige los errores en el formulario")},className:"space-y-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Curso *"}),It.jsx("input",{type:"text",name:"nombreCurso",value:s.nombreCurso,onChange:u,placeholder:"Ej: Matemticas Avanzadas",className:h(o.nombre),disabled:c}),o.nombre&&It.jsxs("div",{className:"mt-1 flex items-center text-sm text-red-600",children:[It.jsx(j,{className:"w-4 h-4 mr-1"}),o.nombre]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin *"}),It.jsx("textarea",{name:"descripcion",value:s.descripcion,onChange:u,placeholder:"Describe el contenido del curso...",rows:3,className:h(o.descripcion),disabled:c}),o.descripcion&&It.jsxs("div",{className:"mt-1 flex items-center text-sm text-red-600",children:[It.jsx(j,{className:"w-4 h-4 mr-1"}),o.descripcion]})]}),It.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-6 border-t",children:[It.jsx("button",{type:"button",onClick:m,disabled:c,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:c,className:"w-full sm:w-auto px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:c?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Actualizando..."]}):"Actualizar Curso"})]})]})]})})})})]})}):null},FB=({isOpen:e,onClose:r,onConfirm:a,curso:n})=>{const[s,i]=t.useState(!1),o=()=>{s||r()};return n?It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:o,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:It.jsx(Xe,{className:"w-6 h-6 text-red-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold text-gray-900",children:"Eliminar Curso"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Esta accin no se puede deshacer"})]})]}),It.jsx("button",{onClick:o,disabled:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("div",{className:"space-y-4",children:[It.jsxs("div",{className:"flex items-start space-x-3",children:[It.jsx("div",{className:"flex-shrink-0",children:It.jsx(Le,{className:"w-5 h-5 text-red-500"})}),It.jsxs("div",{className:"flex-1",children:[It.jsxs("p",{className:"text-sm text-gray-700",children:["Ests seguro de que deseas eliminar el curso"," ",It.jsxs("span",{className:"font-semibold text-gray-900",children:['"',n.nombre,'"']}),"?"]}),It.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Esta accin eliminar permanentemente el curso y toda su informacin asociada. Los estudiantes matriculados en este curso podran verse afectados."})]})]}),It.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[It.jsxs("div",{className:"flex justify-between text-sm",children:[It.jsx("span",{className:"text-gray-600",children:"Nombre:"}),It.jsx("span",{className:"font-medium text-gray-900",children:n.nombre})]}),It.jsxs("div",{className:"flex justify-between text-sm",children:[It.jsx("span",{className:"text-gray-600",children:"Grado:"}),It.jsxs("span",{className:"font-medium text-gray-900",children:[n.grado,""]})]}),It.jsxs("div",{className:"flex justify-between text-sm",children:[It.jsx("span",{className:"text-gray-600",children:"Capacidad:"}),It.jsxs("span",{className:"font-medium text-gray-900",children:[n.capacidadMaxima," estudiantes"]})]}),It.jsxs("div",{className:"flex justify-between text-sm",children:[It.jsx("span",{className:"text-gray-600",children:"Estado:"}),It.jsx("span",{className:"font-medium "+("activo"===n.estado?"text-green-600":"text-red-600"),children:"activo"===n.estado?"Activo":"Inactivo"})]})]})]}),It.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-6 border-t",children:[It.jsx("button",{type:"button",onClick:o,disabled:s,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancelar"}),It.jsx("button",{onClick:async()=>{if(n)try{i(!0),await a(n.id)}catch(e){}finally{i(!1)}},disabled:s,className:"w-full sm:w-auto px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:s?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Eliminando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Le,{className:"w-4 h-4 mr-2"}),"Eliminar Curso"]})})]})]})})})})]})}):null},IB=({isOpen:e,onClose:r,curso:a})=>a?It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-lg transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(N,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold text-gray-900",children:"Detalles del Curso"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Informacin completa del curso"})]})]}),It.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[It.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[It.jsx(me,{className:"w-5 h-5 text-gray-600"}),It.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:a.nombreCurso||a.nombre})]}),It.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm",children:[It.jsxs("div",{children:[It.jsx("span",{className:"text-gray-600",children:"ID del Curso:"}),It.jsxs("p",{className:"font-medium text-gray-900 font-mono text-xs",children:["#",a.idCurso||a.id]})]}),It.jsxs("div",{children:[It.jsx("span",{className:"text-gray-600",children:"Estado:"}),It.jsx("div",{className:"flex items-center mt-1",children:It.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(a.estaActivo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[a.estaActivo?It.jsx(S,{className:"w-4 h-4 mr-1"}):It.jsx(lt,{className:"w-4 h-4 mr-1"}),It.jsx("span",{children:a.estaActivo?"Activo":"Inactivo"})]})})]})]})]}),It.jsxs("div",{children:[It.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),It.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:It.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.descripcion||"Sin descripcin disponible"})})]})]}),It.jsx("div",{className:"flex justify-end pt-6 border-t mt-6",children:It.jsx("button",{onClick:r,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cerrar"})})]})})})})]})}):null,RB=({cursos:e=[],loading:t=!1,onAdd:r,onEdit:a,onDelete:n,onView:s})=>It.jsx(eL,{data:e,columns:sL,loading:t,title:"Tabla de Cursos",searchPlaceholder:"Buscar cursos...",actions:{add:!0,edit:!0,delete:!1,view:!1,import:!1,export:!1},onAdd:r,onEdit:a,emptyStateConfig:{title:"No hay cursos registrados",description:"Comienza agregando tu primer curso"},addButtonText:"Crear Curso"}),LB=()=>{const[e,r]=t.useState([]),[a,n]=t.useState(!0),[s,i]=t.useState(!1),[o,l]=t.useState(!1),[c,d]=t.useState(!1),[u,m]=t.useState(!1),[h,f]=t.useState(null);t.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0);const e=await cU.getAll();r(e?.info?.data||[])}catch(e){ca.error("Error al cargar los cursos"),r([])}finally{n(!1)}},g=()=>{i(!1),l(!1),d(!1),m(!1),f(null)},x=async e=>{try{h?(await cU.update(h.idCurso,e),ca.success("Curso actualizado exitosamente")):(await cU.create(e),ca.success("Curso creado exitosamente")),await p(),g()}catch(t){ca.error("Error al guardar el curso")}};return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Cursos"}),It.jsx(RB,{cursos:e,loading:a,onAdd:()=>{i(!0)},onEdit:e=>{f(e),l(!0)}}),It.jsx(PB,{isOpen:s,onClose:g,onSave:x}),It.jsx(MB,{isOpen:o,onClose:g,onSave:x,curso:h}),It.jsx(FB,{isOpen:c,onClose:g,onConfirm:async()=>{try{await cU.delete(h.idCurso),ca.success("Curso eliminado exitosamente"),await p(),g()}catch(e){ca.error("Error al eliminar el curso")}},curso:h}),It.jsx(IB,{isOpen:u,onClose:g,curso:h})]})},zB=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});zB.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),zB.interceptors.response.use(e=>"string"==typeof e.data&&e.data.includes("<html>")?{...e,data:[]}:e,e=>(401!==e.response?.status||window.location.pathname.includes("/login")||(localStorage.removeItem("token"),localStorage.removeItem("auth-storage"),window.location.replace("/login")),Promise.reject(e)));const $B={async getAllContratos(e={}){try{const t=new URLSearchParams;Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,r)});const r=await zB.get(`/contrato-trabajador?${t.toString()}`);return Array.isArray(r.data)?r.data:r.data&&Array.isArray(r.data.data)?r.data.data:r.data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener contratos")}},async getContratoById(e){try{return(await zB.get(`/contrato-trabajador/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener contrato")}},async createContrato(e){try{return(await zB.post("/contrato-trabajador",e)).data}catch(t){throw new Error(t.response?.data?.message||"Error al crear contrato")}},async updateContrato(e,t){try{return(await zB.patch(`/contrato-trabajador/${e}`,t)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar contrato")}},async deleteContrato(e){try{return(await zB.delete(`/contrato-trabajador/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar contrato")}},async finalizarContrato(e,t){try{return(await zB.patch(`/contrato-trabajador/${e}/finalizar`,t)).data}catch(r){throw new Error(r.response?.data?.message||"Error al finalizar contrato")}}},qB={all:["contratos"],lists:()=>[...qB.all,"list"],list:e=>[...qB.lists(),{filters:e}],details:()=>[...qB.all,"detail"],detail:e=>[...qB.details(),e]},UB=(e={})=>{const[r,a]=t.useState({estadoContrato:"",idTipoContrato:"",search:"",...e}),{data:n=[],isLoading:s,error:i,refetch:o}=((e={},t={})=>Qr({queryKey:qB.list(e),queryFn:()=>$B.getAllContratos(e),staleTime:3e5,gcTime:6e5,...t}))(r),l=(()=>{const e=Yr();return Xr({mutationFn:e=>$B.createContrato(e),onMutate:()=>({loadingToast:ca.loading("Creando contrato...",{description:"Guardando datos..."})}),onSuccess:(t,r,a)=>{e.invalidateQueries({queryKey:qB.lists()}),ca.success("Contrato creado exitosamente!",{id:a.loadingToast,description:`Contrato ${t.numeroContrato} ha sido agregado al sistema`})},onError:(e,t,r)=>{ca.error("Error al crear contrato",{id:r?.loadingToast,description:e.message||"Ha ocurrido un error inesperado"})}})})(),c=(()=>{const e=Yr();return Xr({mutationFn:({id:e,data:t})=>$B.updateContrato(e,t),onMutate:()=>({loadingToast:ca.loading("Actualizando contrato...",{description:"Guardando cambios..."})}),onSuccess:(t,r,a)=>{e.invalidateQueries({queryKey:qB.lists()}),e.invalidateQueries({queryKey:qB.detail(r.id)}),ca.success("Contrato actualizado exitosamente",{id:a.loadingToast,description:`El contrato ${t.numeroContrato} ha sido actualizado`})},onError:(e,t,r)=>{ca.error("Error al actualizar contrato",{id:r?.loadingToast,description:e.message||"Ha ocurrido un error inesperado"})}})})(),d=(()=>{const e=Yr();return Xr({mutationFn:e=>$B.deleteContrato(e),onMutate:()=>({loadingToast:ca.loading("Eliminando contrato...",{description:"Procesando eliminacin..."})}),onSuccess:(t,r,a)=>{e.invalidateQueries({queryKey:qB.lists()}),e.removeQueries({queryKey:qB.detail(r)}),ca.success("Contrato eliminado exitosamente",{id:a.loadingToast,description:"El registro ha sido eliminado del sistema"})},onError:(e,t,r)=>{ca.error("Error al eliminar contrato",{id:r?.loadingToast,description:e.message||"Ha ocurrido un error inesperado"})}})})(),u=(()=>{const e=Yr();return Xr({mutationFn:({id:e,data:t})=>$B.finalizarContrato(e,t),onMutate:()=>({loadingToast:ca.loading("Finalizando contrato...",{description:"Procesando finalizacin..."})}),onSuccess:(t,r,a)=>{e.invalidateQueries({queryKey:qB.lists()}),e.invalidateQueries({queryKey:qB.detail(r.id)}),ca.success("Contrato finalizado exitosamente",{id:a.loadingToast,description:`El contrato ${t.numeroContrato} ha sido finalizado`})},onError:(e,t,r)=>{ca.error("Error al finalizar contrato",{id:r?.loadingToast,description:e.message||"Ha ocurrido un error inesperado"})}})})(),{invalidateAll:m,invalidateLists:h}=(()=>{const e=Yr();return{invalidateAll:()=>{e.invalidateQueries({queryKey:qB.all})},invalidateLists:()=>{e.invalidateQueries({queryKey:qB.lists()})},invalidateDetail:t=>{e.invalidateQueries({queryKey:qB.detail(t)})}}})(),f=t.useMemo(()=>{if(!n||0===n.length)return{total:0,active:0,inactive:0,expired:0,expiringSoon:0,byType:{},recentContracts:0};const e=n.length,t=n.filter(e=>"ACTIVO"===e.estadoContrato).length,r=n.filter(e=>"INACTIVO"===e.estadoContrato).length,a=n.filter(e=>!!e.fechaFin&&new Date(e.fechaFin)<new Date).length,s=new Date;s.setDate(s.getDate()+30);const i=n.filter(e=>{if(!e.fechaFin||"ACTIVO"!==e.estadoContrato)return!1;const t=new Date(e.fechaFin);return t>=new Date&&t<=s}).length,o=n.reduce((e,t)=>{const r=t.idTipoContrato?.nombreTipo||"Sin tipo";return e[r]=(e[r]||0)+1,e},{}),l=new Date;return l.setMonth(l.getMonth()-1),{total:e,active:t,inactive:r,expired:a,expiringSoon:i,byType:o,recentContracts:n.filter(e=>new Date(e.creadoEn)>l).length}},[n]),p=t.useCallback(async e=>l.mutateAsync(e),[l]),g=t.useCallback(async(e,t)=>c.mutateAsync({id:e,data:t}),[c]),x=t.useCallback(async e=>d.mutateAsync(e),[d]),b=t.useCallback(async(e,t)=>u.mutateAsync({id:e,data:t}),[u]),y=t.useCallback(e=>{a(t=>({...t,...e}))},[]),v=t.useCallback(()=>{a({estadoContrato:"",idTipoContrato:"",search:""})},[]),j=t.useCallback(e=>{y({search:e})},[y]),w=t.useCallback(e=>{y({estadoContrato:e})},[y]),N=t.useCallback(e=>{y({idTipoContrato:e})},[y]),E=l.isPending,S=c.isPending,k=d.isPending,C=u.isPending,A=t.useCallback(async(e={})=>{if(!(Object.keys(e).length>0))return o();y(e)},[o,y]),_=t.useCallback(()=>o(),[o]);return{contratos:n,loading:s,creating:E,updating:S,deleting:k,finalizing:C,filters:r,error:i,statistics:f,createContrato:p,updateContrato:g,deleteContrato:x,finalizarContrato:b,searchContratos:j,filterByEstado:w,filterByTipo:N,updateFilters:y,resetFilters:v,fetchContratos:A,refreshContratos:_,invalidateCache:m,invalidateLists:h,getActiveContratos:()=>n.filter(e=>"ACTIVO"===e.estadoContrato),getInactiveContratos:()=>n.filter(e=>"INACTIVO"===e.estadoContrato),getExpiredContratos:()=>n.filter(e=>!!e.fechaFin&&new Date(e.fechaFin)<new Date),getExpiringSoonContratos:()=>{const e=new Date;return e.setDate(e.getDate()+30),n.filter(t=>{if(!t.fechaFin||"ACTIVO"!==t.estadoContrato)return!1;const r=new Date(t.fechaFin);return r>=new Date&&r<=e})},getTotalContratos:()=>n.length,hasContratos:n.length>0,isOperating:E||S||k||C,isCached:!0}},BB=({isOpen:e,onClose:r,contrato:a})=>{if(!a)return null;const n=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Indefinido";return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),"f",It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full",children:It.jsx(he,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Detalles del Contrato"}),It.jsx("p",{className:"text-sm text-gray-500",children:a.numeroContrato})]})]}),It.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:r,children:[It.jsx("span",{className:"sr-only",children:"Cerrar"}),It.jsx(ne,{className:"h-6 w-6","aria-hidden":"true"})]})]}),It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[It.jsxs("h4",{className:"text-md font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(he,{className:"w-5 h-5 mr-2 text-gray-600"}),"Informacin General"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500",children:"Nmero de Contrato"}),It.jsx("div",{className:"font-medium text-gray-900",children:a.numeroContrato})]}),It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500",children:"Tipo de Contrato"}),It.jsx("div",{className:"font-medium text-gray-900",children:a.idTipoContrato?.nombreTipo||"Sin tipo"})]}),It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500",children:"Estado"}),It.jsx("div",{className:"flex items-center",children:It.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+("ACTIVO"===a.estadoContrato?"bg-green-100 text-green-800":"INACTIVO"===a.estadoContrato?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:a.estadoContrato})})]}),It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500",children:"Fecha de Inicio"}),It.jsxs("div",{className:"font-medium text-gray-900 flex items-center",children:[It.jsx(ue,{className:"w-4 h-4 mr-1 text-gray-400"}),n(a.fechaInicio)]})]}),It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500",children:"Fecha de Fin"}),It.jsxs("div",{className:"font-medium text-gray-900 flex items-center",children:[It.jsx(ue,{className:"w-4 h-4 mr-1 text-gray-400"}),n(a.fechaFin)]})]}),a.fechaFinPeriodoPrueba&&It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500",children:"Fin Perodo de Prueba"}),It.jsxs("div",{className:"font-medium text-gray-900 flex items-center",children:[It.jsx(ue,{className:"w-4 h-4 mr-1 text-gray-400"}),n(a.fechaFinPeriodoPrueba)]})]})]})]}),It.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[It.jsxs("h4",{className:"text-md font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(ee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Informacin del Empleado"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500",children:"Nombre Completo"}),It.jsxs("div",{className:"font-medium text-gray-900",children:[a.idTrabajador2?.nombre," ",a.idTrabajador2?.apellido]})]}),It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500",children:"Cargo"}),It.jsx("div",{className:"font-medium text-gray-900",children:a.cargoContrato})]}),It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500",children:"Sueldo Contratado"}),It.jsxs("div",{className:"font-medium text-gray-900 flex items-center",children:[It.jsx(ve,{className:"w-4 h-4 mr-1 text-green-600"}),(s=a.sueldoContratado,new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(s))]})]}),It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500",children:"Jornada Laboral"}),It.jsx("div",{className:"font-medium text-gray-900",children:a.jornadaLaboral})]}),It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500",children:"Horas Semanales"}),It.jsxs("div",{className:"font-medium text-gray-900 flex items-center",children:[It.jsx(de,{className:"w-4 h-4 mr-1 text-gray-400"}),a.horasSemanales," horas"]})]}),It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500",children:"Lugar de Trabajo"}),It.jsxs("div",{className:"font-medium text-gray-900 flex items-center",children:[It.jsx(We,{className:"w-4 h-4 mr-1 text-gray-400"}),a.lugarTrabajo]})]})]})]}),It.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[It.jsxs("h4",{className:"text-md font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(he,{className:"w-5 h-5 mr-2 text-green-600"}),"Detalles Adicionales"]}),It.jsxs("div",{className:"space-y-3",children:[It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Descripcin de Funciones"}),It.jsx("div",{className:"text-gray-900",children:a.descripcionFunciones})]}),a.observacionesContrato&&It.jsxs("div",{className:"bg-white p-3 rounded-md border",children:[It.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Observaciones"}),It.jsx("div",{className:"text-gray-900",children:a.observacionesContrato})]})]})]}),(a.archivoContratoUrl||a.archivoFirmadoUrl)&&It.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[It.jsxs("h4",{className:"text-md font-semibold text-gray-900 mb-4 flex items-center",children:[It.jsx(Te,{className:"w-5 h-5 mr-2 text-purple-600"}),"Documentos"]}),It.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.archivoContratoUrl&&It.jsxs("a",{href:a.archivoContratoUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[It.jsx(Te,{className:"w-4 h-4 mr-2"}),"Ver Contrato Original"]}),a.archivoFirmadoUrl&&It.jsxs("a",{href:a.archivoFirmadoUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",children:[It.jsx(Te,{className:"w-4 h-4 mr-2"}),"Ver Contrato Firmado"]})]})]}),It.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[It.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Informacin de Auditora"}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[It.jsxs("div",{children:[It.jsx("span",{className:"text-gray-500",children:"Creado por:"}),It.jsxs("div",{className:"font-medium text-gray-900",children:[a.creadoPor?.nombre," ",a.creadoPor?.apellido]}),It.jsx("div",{className:"text-gray-500",children:new Date(a.creadoEn).toLocaleString("es-ES")})]}),It.jsxs("div",{children:[It.jsx("span",{className:"text-gray-500",children:"Aprobado por:"}),It.jsxs("div",{className:"font-medium text-gray-900",children:[a.aprobadoPor?.nombre," ",a.aprobadoPor?.apellido]}),It.jsx("div",{className:"text-gray-500",children:a.fechaAprobacion?new Date(a.fechaAprobacion).toLocaleString("es-ES"):"Pendiente"})]})]})]})]}),It.jsx("div",{className:"mt-6 flex justify-end",children:It.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-gray-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",onClick:r,children:"Cerrar"})})]})})})})]})});var s},YB=()=>{const[e,r]=t.useState(!1),[a,n]=t.useState(!1),[s,i]=t.useState(null),{contratos:o,loading:l,statistics:c}=UB();return It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[It.jsx("div",{className:"flex items-center justify-between mb-6",children:It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Contratos"}),It.jsx("p",{className:"text-gray-600 mt-1",children:"Administra los contratos de los empleados"})]})}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[It.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(he,{className:"w-8 h-8 text-blue-600"}),It.jsxs("div",{className:"ml-3",children:[It.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Contratos"}),It.jsx("p",{className:"text-2xl font-bold text-blue-900",children:c.total})]})]})}),It.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(he,{className:"w-8 h-8 text-green-600"}),It.jsxs("div",{className:"ml-3",children:[It.jsx("p",{className:"text-sm font-medium text-green-600",children:"Contratos Activos"}),It.jsx("p",{className:"text-2xl font-bold text-green-900",children:c.active})]})]})}),It.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(Xe,{className:"w-8 h-8 text-yellow-600"}),It.jsxs("div",{className:"ml-3",children:[It.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Por Vencer (30 das)"}),It.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:c.expiringSoon})]})]})}),It.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(he,{className:"w-8 h-8 text-red-600"}),It.jsxs("div",{className:"ml-3",children:[It.jsx("p",{className:"text-sm font-medium text-red-600",children:"Contratos Vencidos"}),It.jsx("p",{className:"text-2xl font-bold text-red-900",children:c.expired})]})]})})]}),It.jsx("div",{className:"overflow-x-auto",children:l?It.jsxs("div",{className:"flex items-center justify-center py-8",children:[It.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),It.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando contratos..."})]}):0===o.length?It.jsxs("div",{className:"text-center py-8",children:[It.jsx(he,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),It.jsx("p",{className:"text-gray-500",children:"No hay contratos registrados"})]}):It.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[It.jsx("thead",{className:"bg-gray-50",children:It.jsxs("tr",{children:[It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empleado"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cargo"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Inicio"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Fin"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),It.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(e=>It.jsxs("tr",{className:"hover:bg-gray-50",children:[It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.numeroContrato}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.idTipoContrato?.nombreTipo||"Sin tipo"}),It.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.idTrabajador2?.nombre," ",e.idTrabajador2?.apellido]}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.cargoContrato}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.fechaInicio).toLocaleDateString("es-ES")}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.fechaFin?new Date(e.fechaFin).toLocaleDateString("es-ES"):"Indefinido"}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("ACTIVO"===e.estadoContrato?"bg-green-100 text-green-800":"INACTIVO"===e.estadoContrato?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.estadoContrato})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:It.jsx("button",{onClick:()=>(e=>{i(e),n(!0)})(e),className:"text-blue-600 hover:text-blue-900",title:"Ver contrato",children:It.jsx(N,{className:"w-4 h-4"})})})]},e.idContrato))})]})})]}),e&&It.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:It.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[It.jsx("h2",{className:"text-xl font-bold mb-4",children:"Nuevo Contrato"}),It.jsx("p",{className:"text-gray-600 mb-4",children:"Funcionalidad en desarrollo..."}),It.jsx("button",{onClick:()=>r(!1),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Cerrar"})]})}),a&&s&&It.jsx(BB,{isOpen:a,onClose:()=>{n(!1),i(null)},contrato:s})]})},VB=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});VB.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),VB.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const HB=async(e={})=>{try{const t={};e.mes&&(t.mes=e.mes),e.anio&&(t.anio=e.anio);const r=await VB.get("/trabajador/tipo-contrato-planilla",{params:t});return Array.isArray(r.data)?r.data:r.data&&Array.isArray(r.data.data)?r.data.data:r.data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener trabajadores con contrato planilla")}},WB=async e=>{try{if(!e.trabajadores||0===e.trabajadores.length)throw new Error("Debe seleccionar al menos un trabajador");if(!e.generadoPor)throw new Error("ID del generador es requerido");if(!e.mes||!e.anio)throw new Error("Mes y ao son requeridos");const t={mes:e.mes,anio:e.anio,fechaPagoProgramada:e.fechaPagoProgramada,trabajadores:e.trabajadores,generadoPor:e.generadoPor},r=await VB.post("/planilla-mensual/generar-con-trabajadores",t);return{success:!0,data:r.data,message:r.data.message||"Planillas generadas exitosamente"}}catch(t){const e=t.response?.data?.message||t.response?.data?.error||"Error al generar las planillas";if(409===t.response?.status){const t=new Error(e);throw t.status=409,t.isConflict=!0,t}throw new Error(e)}},GB=async(e,t)=>{try{return(await VB.get(`/planilla-mensual/periodo/${e}/${t}`)).data}catch(r){throw new Error(r.response?.data?.message||"Error al obtener planilla por perodo")}},KB=async(e,t,r)=>{try{const a={trabajadores:t,generadoPor:r};return(await VB.patch(`/planilla-mensual/${e}/agregar-trabajadores`,a)).data}catch(a){throw new Error(a.response?.data?.message||"Error al agregar trabajadores a planilla")}},QB={all:["planillas"],lists:()=>[...QB.all,"list"],list:e=>[...QB.lists(),{filters:e}],trabajadoresSinPlanilla:e=>[...QB.all,"trabajadores-sin-planilla",{filters:e}],details:()=>[...QB.all,"detail"],detail:e=>[...QB.details(),e]},XB=()=>{const e=new Date,r=e.getMonth()+1,a=e.getFullYear(),[n,s]=t.useState(r.toString()),[i,o]=t.useState(a.toString()),[l,c]=t.useState(""),[d,u]=t.useState(!1),[m,h]=t.useState([]),[f,p]=t.useState(!1),{user:g}=Sa(),{data:x=[],isLoading:b,error:y,refetch:v}=((e={},t={})=>Qr({queryKey:QB.trabajadoresSinPlanilla(e),queryFn:()=>HB(e),staleTime:3e5,gcTime:6e5,...t}))({mes:n,anio:i}),w=t.useMemo(()=>l?x.filter(e=>e.nombre?.toLowerCase().includes(l.toLowerCase())||e.apellido?.toLowerCase().includes(l.toLowerCase())||e.nroDocumento?.toLowerCase().includes(l.toLowerCase())||e.correo?.toLowerCase().includes(l.toLowerCase())):x,[x,l]),N=async()=>{try{await v(),ca.success("Datos actualizados correctamente")}catch(e){ca.error("Error al actualizar los datos")}};return g?y?It.jsx("div",{className:"flex items-center justify-center min-h-96",children:It.jsxs("div",{className:"text-center",children:[It.jsx(j,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),It.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error al cargar los datos"}),It.jsx("p",{className:"text-gray-600 mb-4",children:y.message||"Ha ocurrido un error inesperado"}),It.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reintentar"})]})}):It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Planillas"}),It.jsxs("p",{className:"text-gray-600 mt-1",children:["Trabajadores con contrato de planilla - ",n,"/",i]})]}),It.jsx("div",{className:"flex items-center gap-3",children:d?It.jsxs(It.Fragment,{children:[It.jsx("button",{onClick:()=>{u(!1),h([])},className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"}),It.jsx("button",{onClick:()=>{m.length===w.length?h([]):h(w)},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:m.length===w.length?It.jsxs(It.Fragment,{children:[It.jsx(ct,{className:"w-4 h-4"}),"Deseleccionar Todos"]}):It.jsxs(It.Fragment,{children:[It.jsx(dt,{className:"w-4 h-4"}),"Seleccionar Todos"]})}),It.jsx("button",{onClick:async()=>{if(0===m.length)return void ca.error("Debe seleccionar al menos un trabajador");let e=g?.entidadId;if(!e){const t=JSON.parse(localStorage.getItem("user")||"{}");e=t?.entidadId}if(!e)return JSON.parse(localStorage.getItem("user")||"{}"),void ca.error("No se pudo obtener la informacin del usuario");const t=new Date(parseInt(i),parseInt(n)-1,0).toISOString().split("T")[0],r={mes:parseInt(n),anio:parseInt(i),fechaPagoProgramada:t,trabajadores:m.map(e=>e.idTrabajador),generadoPor:e};if(e)if(0!==m.length){p(!0);try{await WB(r),ca.success(`Planilla creada exitosamente con ${m.length} trabajadores`),u(!1),h([]),await v()}catch(a){if(409===a.response?.status||409===a.status||a.isConflict||a.message.includes("Ya existe una planilla"))try{const t=await GB(n,i);if(t&&t.idPlanillaMensual){const r=m.map(e=>e.idTrabajador);await KB(t.idPlanillaMensual,r,e),ca.success("Trabajadores agregados exitosamente a la planilla existente"),u(!1),h([]),await v()}else ca.error("La planilla existente no tiene un ID vlido. Contacte al administrador.")}catch(s){404===s.response?.status?ca.error("No se encontr una planilla existente para este perodo. Intente crear una nueva planilla."):ca.error(s.response?.data?.message||"Error al agregar trabajadores a la planilla existente")}else ca.error(a.response?.data?.message||"Error al crear la planilla")}finally{p(!1)}}else ca.error("Debe seleccionar al menos un trabajador para crear la planilla");else ca.error("No se pudo obtener la informacin del usuario. Por favor, recarga la pgina e intenta nuevamente.")},disabled:0===m.length||f,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:f?It.jsxs(It.Fragment,{children:[It.jsx(Ce,{className:"w-4 h-4 animate-spin"}),"Creando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(ut,{className:"w-4 h-4"}),"Crear Planilla (",m.length,")"]})})]}):It.jsxs(It.Fragment,{children:[It.jsxs("button",{onClick:()=>{u(!0),h([])},disabled:b||0===w.length,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[It.jsx(Oe,{className:"w-4 h-4"}),"Agregar a Planilla"]}),It.jsxs("button",{onClick:N,disabled:b,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[It.jsx(Ce,{className:"w-4 h-4 "+(b?"animate-spin":"")}),"Actualizar"]})]})})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Trabajadores"}),It.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]}),It.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:It.jsx(oe,{className:"w-6 h-6 text-blue-600"})})]}),It.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[It.jsx(S,{className:"w-4 h-4 text-green-500 mr-1"}),It.jsx("span",{className:"text-green-600",children:"Con contrato planilla"})]})]}),It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Perodo Actual"}),It.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[n,"/",i]})]}),It.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:It.jsx(ue,{className:"w-6 h-6 text-green-600"})})]}),It.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[It.jsx(he,{className:"w-4 h-4 text-blue-500 mr-1"}),It.jsx("span",{className:"text-blue-600",children:"Listos para planilla"})]})]}),It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Estado del Sistema"}),It.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b?"Cargando...":"Activo"})]}),It.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:It.jsx(S,{className:"w-6 h-6 text-green-600"})})]}),It.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[It.jsx(S,{className:"w-4 h-4 text-green-500 mr-1"}),It.jsx("span",{className:"text-green-600",children:"Sistema operativo"})]})]})]}),It.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:It.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[It.jsx("div",{className:"flex-1 max-w-md",children:It.jsxs("div",{className:"relative",children:[It.jsx(De,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),It.jsx("input",{type:"text",placeholder:"Buscar trabajadores...",value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Mes:"}),It.jsxs("select",{value:n,onChange:e=>s(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[It.jsx("option",{value:"1",children:"Enero"}),It.jsx("option",{value:"2",children:"Febrero"}),It.jsx("option",{value:"3",children:"Marzo"}),It.jsx("option",{value:"4",children:"Abril"}),It.jsx("option",{value:"5",children:"Mayo"}),It.jsx("option",{value:"6",children:"Junio"}),It.jsx("option",{value:"7",children:"Julio"}),It.jsx("option",{value:"8",children:"Agosto"}),It.jsx("option",{value:"9",children:"Septiembre"}),It.jsx("option",{value:"10",children:"Octubre"}),It.jsx("option",{value:"11",children:"Noviembre"}),It.jsx("option",{value:"12",children:"Diciembre"})]})]}),It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ao:"}),It.jsxs("select",{value:i,onChange:e=>o(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[It.jsx("option",{value:"2024",children:"2024"}),It.jsx("option",{value:"2025",children:"2025"}),It.jsx("option",{value:"2026",children:"2026"})]})]}),It.jsx("button",{onClick:async()=>{n&&i?await v():ca.error("Debe seleccionar mes y ao")},disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:"Filtrar"})]})]})}),It.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[It.jsx("div",{className:"p-6 border-b border-gray-200",children:It.jsx("div",{className:"flex items-center justify-between",children:It.jsxs("div",{children:[It.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:d?"Seleccionar Trabajadores para Planilla":"Trabajadores con Contrato Planilla"}),It.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d?`${m.length} de ${w.length} trabajadores seleccionados`:`${w.length} trabajadores encontrados`})]})})}),It.jsx("div",{className:"p-6",children:b?It.jsxs("div",{className:"flex items-center justify-center py-12",children:[It.jsx(Ce,{className:"w-8 h-8 animate-spin text-blue-600"}),It.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando trabajadores..."})]}):0===w.length?It.jsxs("div",{className:"text-center py-12",children:[It.jsx(oe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),It.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay trabajadores con contrato planilla"}),It.jsxs("p",{className:"text-gray-600",children:["No se encontraron trabajadores para el perodo ",n,"/",i]})]}):It.jsx("div",{className:"overflow-x-auto",children:It.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[It.jsx("thead",{className:"bg-gray-50",children:It.jsxs("tr",{children:[d&&It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seleccionar"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trabajador"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documento"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contrato"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sueldo"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),It.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(e=>It.jsxs("tr",{className:"hover:bg-gray-50",children:[d&&It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsx("input",{type:"checkbox",checked:m.some(t=>t.idTrabajador===e.idTrabajador),onChange:()=>(e=>{h(t=>{const r=t.some(t=>t.idTrabajador===e.idTrabajador);return r?t.filter(t=>t.idTrabajador!==e.idTrabajador):[...t,e]})})(e),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:It.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:It.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e.nombre?.charAt(0),e.apellido?.charAt(0)]})})}),It.jsxs("div",{className:"ml-4",children:[It.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[e.nombre," ",e.apellido]}),It.jsx("div",{className:"text-sm text-gray-500",children:e.direccion})]})]})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsxs("div",{className:"text-sm text-gray-900",children:[e.tipoDocumento,": ",e.nroDocumento]})}),It.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[It.jsx("div",{className:"text-sm text-gray-900",children:e.telefono}),It.jsx("div",{className:"text-sm text-gray-500",children:e.correo})]}),It.jsxs("td",{className:"px-6 py-4",children:[It.jsx("div",{className:"text-sm text-gray-900",children:e.contratoTrabajadors3?.[0]?.numeroContrato||"Sin contrato"}),It.jsx("div",{className:"text-sm text-gray-500",children:e.contratoTrabajadors3?.[0]?.cargoContrato||""}),It.jsx("div",{className:"text-sm text-gray-500",children:e.contratoTrabajadors3?.[0]?.lugarTrabajo||""})]}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["S/ ",e.contratoTrabajadors3?.[0]?.sueldoContratado||"0.00"]})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.estaActivo?"text-green-700 bg-green-100":"text-red-700 bg-red-100"),children:e.estaActivo?"Activo":"Inactivo"})})]},e.idTrabajador))})]})})})]})]}):It.jsx("div",{className:"flex items-center justify-center min-h-96",children:It.jsxs("div",{className:"text-center",children:[It.jsx(j,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),It.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Usuario no autenticado"}),It.jsx("p",{className:"text-gray-600",children:"Debe iniciar sesin para acceder a esta funcionalidad"})]})})};function JB(e){return(JB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZB(e){var t=function(e,t){if("object"!=JB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=JB(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JB(t)?t:t+""}function eY(e,t,r){return(t=ZB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function rY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tY(Object(r),!0).forEach(function(t){eY(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aY(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}function nY(e,t){if(null==e)return{};var r,a,n=aY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iY(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ZB(a.key),a)}}function oY(e,t,r){return t&&iY(e.prototype,t),r&&iY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lY(e){return(lY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(cY=function(){return!!e})()}function dY(e,t){if(t&&("object"==JB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function uY(e,t,r){return t=lY(t),dY(e,cY()?Reflect.construct(t,r||[],lY(e).constructor):t.apply(e,r))}function mY(e,t){return(mY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function hY(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mY(e,t)}function fY(e){if(Array.isArray(e))return e}function pY(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function gY(e,t){if(e){if("string"==typeof e)return pY(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pY(e,t):void 0}}function xY(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bY(e,t){return fY(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,n=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||gY(e,t)||xY()}function yY(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=yY(e[t]))&&(a&&(a+=" "),a+=r);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function vY(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=yY(e))&&(a&&(a+=" "),a+=t);return a}function jY(){return jY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jY.apply(null,arguments)}var wY,NY,EY=(NY||(NY=1,wY=function(e,t,r,a,n,s,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,a,n,s,i,o],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}),wY);const SY=b(EY);var kY=function(){};function CY(e,t){return void 0!==e[t]}function AY(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function _Y(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function TY(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function OY(e,t){try{var r=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,a)}finally{this.props=r,this.state=a}}_Y.__suppressDeprecationWarning=!0,TY.__suppressDeprecationWarning=!0,OY.__suppressDeprecationWarning=!0;var DY,PY,MY,FY,IY,RY={exports:{}};function LY(){return PY?DY:(PY=1,DY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function zY(){if(FY)return MY;FY=1;var e=LY();function t(){}function r(){}return r.resetWarningCache=t,MY=function(){function a(t,r,a,n,s,i){if(i!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function n(){return a}a.isRequired=a;var s={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:n,element:a,elementType:a,instanceOf:n,node:a,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s}}function $Y(){return IY||(IY=1,RY.exports=zY()()),RY.exports}const qY=b($Y());var UY="milliseconds",BY="seconds",YY="minutes",VY="hours",HY="day",WY="week",GY="month",KY="year",QY="decade",XY="century",JY={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},ZY={month:1,year:12,decade:120,century:1200};function eV(e){return e%4==0&&e%100!=0||e%400==0?29:28}function tV(e,t,r){switch(e=new Date(e),r){case UY:case BY:case YY:case VY:case HY:case WY:return function(e,t){var r=new Date(+e+t);return function(e,t){var r=e.getTimezoneOffset(),a=t.getTimezoneOffset();return new Date(+t+(a-r)*JY.minutes)}(e,r)}(e,t*JY[r]);case GY:case KY:case QY:case XY:return function(e,t){var r=e.getFullYear(),a=e.getMonth(),n=e.getDate(),s=12*r+a+t,i=Math.trunc(s/12),o=s%12,l=Math.min(n,function(e){return[31,eV(e),31,30,31,30,31,31,30,31,30,31]}(i)[o]),c=new Date(e);return c.setFullYear(i),c.setDate(1),c.setMonth(o),c.setDate(l),c}(e,t*ZY[r])}throw new TypeError('Invalid units: "'+r+'"')}function rV(e,t,r){return tV(e,-t,r)}function aV(e,t,r){switch(e=new Date(e),t){case XY:case QY:case KY:e=vV(e,0);case GY:e=yV(e,1);case WY:case HY:e=xV(e,0);case VY:e=gV(e,0);case YY:e=pV(e,0);case BY:e=fV(e,0)}return t===QY&&(e=rV(e,jV(e)%10,"year")),t===XY&&(e=rV(e,jV(e)%100,"year")),t===WY&&(e=wV(e,0,r)),e}function nV(e,t,r){switch(e=aV(e=new Date(e),t,r),t){case XY:case QY:case KY:case GY:case WY:(e=rV(e=tV(e,1,t),1,HY)).setHours(23,59,59,999);break;case HY:e.setHours(23,59,59,999);break;case VY:case YY:case BY:e=rV(e=tV(e,1,t),1,UY)}return e}var sV=EV(function(e,t){return e===t}),iV=EV(function(e,t){return e!==t}),oV=EV(function(e,t){return e>t}),lV=EV(function(e,t){return e>=t}),cV=EV(function(e,t){return e<t}),dV=EV(function(e,t){return e<=t});function uV(){return new Date(Math.min.apply(Math,arguments))}function mV(){return new Date(Math.max.apply(Math,arguments))}function hV(e,t,r,a){return a=a||"day",(!t||lV(e,t,a))&&(!r||dV(e,r,a))}var fV=NV("Milliseconds"),pV=NV("Seconds"),gV=NV("Minutes"),xV=NV("Hours"),bV=NV("Day"),yV=NV("Date"),vV=NV("Month"),jV=NV("FullYear");function wV(e,t,r){var a=(bV(e)+7-(r||0))%7;return void 0===t?a:tV(e,t-a,HY)}function NV(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,a){if(void 0===a)return r["get"+e]();var n=new Date(r);return n["set"+e](a),t&&n["get"+e]()!=a&&("Hours"===e||a>=t&&n.getHours()-r.getHours()<Math.floor(a/t))&&n["set"+e](a+t),n}}function EV(e){return function(t,r,a){return e(+aV(t,a),+aV(r,a))}}const SV=Object.freeze(Object.defineProperty({__proto__:null,add:tV,century:function(e,t){return void 0===t?jV(aV(e,XY)):tV(e,t+100,KY)},date:yV,day:bV,decade:function(e,t){return void 0===t?jV(aV(e,QY)):tV(e,t+10,KY)},diff:function(e,t,r,a){var n,s,i;switch(r){case UY:case BY:case YY:case VY:case HY:case WY:n=t.getTime()-e.getTime();break;case GY:case KY:case QY:case XY:n=12*(jV(t)-jV(e))+vV(t)-vV(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case UY:s=1;break;case BY:s=1e3;break;case YY:s=6e4;break;case VY:s=36e5;break;case HY:s=864e5;break;case WY:s=6048e5;break;case GY:s=1;break;case KY:s=12;break;case QY:s=120;break;case XY:s=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return i=n/s,a?i:Math.round(i)},endOf:nV,eq:sV,gt:oV,gte:lV,hours:xV,inRange:hV,lt:cV,lte:dV,max:mV,milliseconds:fV,min:uV,minutes:gV,month:vV,neq:iV,seconds:pV,startOf:aV,subtract:rV,weekday:wV,year:jV},Symbol.toStringTag,{value:"Module"}));function kV(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function CV(e){return function(e){if(Array.isArray(e))return pY(e)}(e)||kV(e)||gY(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var AV,_V,TV,OV,DV,PV,MV,FV,IV,RV,LV,zV,$V,qV,UV,BV,YV,VV,HV,WV,GV,KV,QV,XV,JV,ZV,eH,tH,rH,aH,nH,sH,iH,oH,lH,cH,dH,uH,mH,hH,fH,pH,gH,xH;function bH(){return _V?AV:(_V=1,AV=function(e,t,r){var a=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(r=r>n?n:r)<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(n);++a<n;)s[a]=e[a+t];return s})}function yH(){return OV?TV:(OV=1,TV=function(e,t){return e===t||e!=e&&t!=t})}function vH(){if(PV)return DV;PV=1;var e="object"==typeof y&&y&&y.Object===Object&&y;return DV=e}function jH(){if(FV)return MV;FV=1;var e=vH(),t="object"==typeof self&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return MV=r}function wH(){if(RV)return IV;RV=1;var e=jH().Symbol;return IV=e}function NH(){if(BV)return UV;BV=1;var e=wH(),t=function(){if(zV)return LV;zV=1;var e=wH(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,n=e?e.toStringTag:void 0;return LV=function(e){var t=r.call(e,n),s=e[n];try{e[n]=void 0;var i=!0}catch(Ba){}var o=a.call(e);return i&&(t?e[n]=s:delete e[n]),o}}(),r=function(){if(qV)return $V;qV=1;var e=Object.prototype.toString;return $V=function(t){return e.call(t)}}(),a=e?e.toStringTag:void 0;return UV=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?t(e):r(e)}}function EH(){return VV?YV:(VV=1,YV=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)})}function SH(){if(WV)return HV;WV=1;var e=NH(),t=EH();return HV=function(r){if(!t(r))return!1;var a=e(r);return"[object Function]"==a||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==a}}function kH(){return KV?GV:(KV=1,GV=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991})}function CH(){if(XV)return QV;XV=1;var e=SH(),t=kH();return QV=function(r){return null!=r&&t(r.length)&&!e(r)}}function AH(){if(ZV)return JV;ZV=1;var e=/^(?:0|[1-9]\d*)$/;return JV=function(t,r){var a=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==a||"symbol"!=a&&e.test(t))&&t>-1&&t%1==0&&t<r}}function _H(){if(tH)return eH;tH=1;var e=yH(),t=CH(),r=AH(),a=EH();return eH=function(n,s,i){if(!a(i))return!1;var o=typeof s;return!!("number"==o?t(i)&&r(s,i.length):"string"==o&&s in i)&&e(i[s],n)}}function TH(){if(sH)return nH;sH=1;var e=function(){if(aH)return rH;aH=1;var e=/\s/;return rH=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}}(),t=/^\s+/;return nH=function(r){return r?r.slice(0,e(r)+1).replace(t,""):r}}function OH(){return oH?iH:(oH=1,iH=function(e){return null!=e&&"object"==typeof e})}function DH(){if(cH)return lH;cH=1;var e=NH(),t=OH();return lH=function(r){return"symbol"==typeof r||t(r)&&"[object Symbol]"==e(r)}}function PH(){if(hH)return mH;hH=1;var e=function(){if(uH)return dH;uH=1;var e=TH(),t=EH(),r=DH(),a=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,s=/^0o[0-7]+$/i,i=parseInt;return dH=function(o){if("number"==typeof o)return o;if(r(o))return NaN;if(t(o)){var l="function"==typeof o.valueOf?o.valueOf():o;o=t(l)?l+"":l}if("string"!=typeof o)return 0===o?o:+o;o=e(o);var c=n.test(o);return c||s.test(o)?i(o.slice(2),c?2:8):a.test(o)?NaN:+o}}(),t=1/0;return mH=function(r){return r?(r=e(r))===t||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0}}function MH(){if(pH)return fH;pH=1;var e=PH();return fH=function(t){var r=e(t),a=r%1;return r==r?a?r-a:r:0}}var FH=function(){if(xH)return gH;xH=1;var e=bH(),t=_H(),r=MH(),a=Math.ceil,n=Math.max;return gH=function(s,i,o){i=(o?t(s,i,o):void 0===i)?1:n(r(i),0);var l=null==s?0:s.length;if(!l||i<1)return[];for(var c=0,d=0,u=Array(a(l/i));c<l;)u[d++]=e(s,c,c+=i);return u}}();const IH=b(FH);function RH(e){return e&&e.ownerDocument||document}function LH(e,t){return function(e){var t=RH(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var zH=/([A-Z])/g,$H=/^ms-/;function qH(e){return function(e){return e.replace(zH,"-$1").toLowerCase()}(e).replace($H,"-ms-")}var UH=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function BH(e,t){var r="",a="";if("string"==typeof t)return e.style.getPropertyValue(qH(t))||LH(e).getPropertyValue(qH(t));Object.keys(t).forEach(function(n){var s=t[n];s||0===s?function(e){return!(!e||!UH.test(e))}(n)?a+=n+"("+s+") ":r+=qH(n)+": "+s+";":e.style.removeProperty(qH(n))}),a&&(r+="transform: "+a+";"),e.style.cssText+=";"+r}function YH(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function VH(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function HH(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(r,a){var n=VH(r);if(void 0===a)return n?n[e]:r[t];n?n.scrollTo(n[e],a):r[t]=a}}const WH=HH("pageXOffset"),GH=HH("pageYOffset");function KH(e){var t=RH(e),r={top:0,left:0,height:0,width:0},a=t&&t.documentElement;return a&&YH(a,e)?(void 0!==e.getBoundingClientRect&&(r=e.getBoundingClientRect()),r={top:r.top+GH(a)-(a.clientTop||0),left:r.left+WH(a)-(a.clientLeft||0),width:r.width,height:r.height}):r}var QH=function(e){return!!e&&"offsetParent"in e};function XH(e,t){var r,a={top:0,left:0};if("fixed"===BH(e,"position"))r=e.getBoundingClientRect();else{var n=t||function(e){for(var t=RH(e),r=e&&e.offsetParent;QH(r)&&"HTML"!==r.nodeName&&"static"===BH(r,"position");)r=r.offsetParent;return r||t.documentElement}(e);r=KH(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(n)&&(a=KH(n));var s=String(BH(n,"borderTopWidth")||0);a.top+=parseInt(s,10)-GH(n)||0;var i=String(BH(n,"borderLeftWidth")||0);a.left+=parseInt(i,10)-WH(n)||0}var o=String(BH(e,"marginTop")||0),l=String(BH(e,"marginLeft")||0);return jY({},r,{top:r.top-a.top-(parseInt(o,10)||0),left:r.left-a.left-(parseInt(l,10)||0)})}const JH=!("undefined"==typeof window||!window.document||!window.document.createElement);var ZH=(new Date).getTime(),eW="clearTimeout",tW=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-ZH)),a=setTimeout(e,r);return ZH=t,a},rW=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};JH&&["","webkit","moz","o","ms"].some(function(e){var t=rW(e,"request");return t in window&&(eW=rW(e,"cancel"),tW=function(e){return window[t](e)}),!!tW});var aW,nW=function(e){"function"==typeof window[eW]&&window[eW](e)},sW=tW;function iW(e,t){if(!aW){var r=document.body,a=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;aW=function(e,t){return a.call(e,t)}}return aW(e,t)}var oW=Function.prototype.bind.call(Function.prototype.call,[].slice),lW=!1,cW=!1;try{var dW={get passive(){return lW=!0},get once(){return cW=lW=!0}};JH&&(window.addEventListener("test",dW,dW),window.removeEventListener("test",dW,!0))}catch(Ba){}function uW(e){const r=function(e){const r=t.useRef(e);return t.useEffect(()=>{r.current=e},[e]),r}(e);return t.useCallback(function(...e){return r.current&&r.current(...e)},[r])}function mW(){return t.useState(null)}function hW(e){const r=function(){const e=t.useRef(!0),r=t.useRef(()=>e.current);return t.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),r.current}();return[e[0],t.useCallback(t=>{if(r())return e[1](t)},[r,e[1]])]}var fW="top",pW="bottom",gW="right",xW="left",bW="auto",yW=[fW,pW,gW,xW],vW="start",jW="end",wW="viewport",NW="popper",EW=yW.reduce(function(e,t){return e.concat([t+"-"+vW,t+"-"+jW])},[]),SW=[].concat(yW,[bW]).reduce(function(e,t){return e.concat([t,t+"-"+vW,t+"-"+jW])},[]),kW=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function CW(e){return e.split("-")[0]}function AW(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function _W(e){return e instanceof AW(e).Element||e instanceof Element}function TW(e){return e instanceof AW(e).HTMLElement||e instanceof HTMLElement}function OW(e){return"undefined"!=typeof ShadowRoot&&(e instanceof AW(e).ShadowRoot||e instanceof ShadowRoot)}var DW=Math.max,PW=Math.min,MW=Math.round;function FW(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function IW(){return!/^((?!chrome|android).)*safari/i.test(FW())}function RW(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var a=e.getBoundingClientRect(),n=1,s=1;t&&TW(e)&&(n=e.offsetWidth>0&&MW(a.width)/e.offsetWidth||1,s=e.offsetHeight>0&&MW(a.height)/e.offsetHeight||1);var i=(_W(e)?AW(e):window).visualViewport,o=!IW()&&r,l=(a.left+(o&&i?i.offsetLeft:0))/n,c=(a.top+(o&&i?i.offsetTop:0))/s,d=a.width/n,u=a.height/s;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function LW(e){var t=RW(e),r=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:a}}function zW(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&OW(r)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function $W(e){return e?(e.nodeName||"").toLowerCase():null}function qW(e){return AW(e).getComputedStyle(e)}function UW(e){return["table","td","th"].indexOf($W(e))>=0}function BW(e){return((_W(e)?e.ownerDocument:e.document)||window.document).documentElement}function YW(e){return"html"===$W(e)?e:e.assignedSlot||e.parentNode||(OW(e)?e.host:null)||BW(e)}function VW(e){return TW(e)&&"fixed"!==qW(e).position?e.offsetParent:null}function HW(e){for(var t=AW(e),r=VW(e);r&&UW(r)&&"static"===qW(r).position;)r=VW(r);return r&&("html"===$W(r)||"body"===$W(r)&&"static"===qW(r).position)?t:r||function(e){var t=/firefox/i.test(FW());if(/Trident/i.test(FW())&&TW(e)&&"fixed"===qW(e).position)return null;var r=YW(e);for(OW(r)&&(r=r.host);TW(r)&&["html","body"].indexOf($W(r))<0;){var a=qW(r);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return r;r=r.parentNode}return null}(e)||t}function WW(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function GW(e,t,r){return DW(e,PW(t,r))}function KW(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function QW(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})}function XW(e){return e.split("-")[1]}var JW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZW(e){var t,r=e.popper,a=e.popperRect,n=e.placement,s=e.variation,i=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,m=i.x,h=void 0===m?0:m,f=i.y,p=void 0===f?0:f,g="function"==typeof d?d({x:h,y:p}):{x:h,y:p};h=g.x,p=g.y;var x=i.hasOwnProperty("x"),b=i.hasOwnProperty("y"),y=xW,v=fW,j=window;if(c){var w=HW(r),N="clientHeight",E="clientWidth";w===AW(r)&&"static"!==qW(w=BW(r)).position&&"absolute"===o&&(N="scrollHeight",E="scrollWidth"),(n===fW||(n===xW||n===gW)&&s===jW)&&(v=pW,p-=(u&&w===j&&j.visualViewport?j.visualViewport.height:w[N])-a.height,p*=l?1:-1),n!==xW&&(n!==fW&&n!==pW||s!==jW)||(y=gW,h-=(u&&w===j&&j.visualViewport?j.visualViewport.width:w[E])-a.width,h*=l?1:-1)}var S,k=Object.assign({position:o},c&&JW),C=!0===d?function(e,t){var r=e.x,a=e.y,n=t.devicePixelRatio||1;return{x:MW(r*n)/n||0,y:MW(a*n)/n||0}}({x:h,y:p},AW(r)):{x:h,y:p};return h=C.x,p=C.y,l?Object.assign({},k,((S={})[v]=b?"0":"",S[y]=x?"0":"",S.transform=(j.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",S)):Object.assign({},k,((t={})[v]=b?p+"px":"",t[y]=x?h+"px":"",t.transform="",t))}var eG={passive:!0},tG={left:"right",right:"left",bottom:"top",top:"bottom"};function rG(e){return e.replace(/left|right|bottom|top/g,function(e){return tG[e]})}var aG={start:"end",end:"start"};function nG(e){return e.replace(/start|end/g,function(e){return aG[e]})}function sG(e){var t=AW(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function iG(e){return RW(BW(e)).left+sG(e).scrollLeft}function oG(e){var t=qW(e),r=t.overflow,a=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+a)}function lG(e){return["html","body","#document"].indexOf($W(e))>=0?e.ownerDocument.body:TW(e)&&oG(e)?e:lG(YW(e))}function cG(e,t){var r;void 0===t&&(t=[]);var a=lG(e),n=a===(null==(r=e.ownerDocument)?void 0:r.body),s=AW(a),i=n?[s].concat(s.visualViewport||[],oG(a)?a:[]):a,o=t.concat(i);return n?o:o.concat(cG(YW(i)))}function dG(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function uG(e,t,r){return t===wW?dG(function(e,t){var r=AW(e),a=BW(e),n=r.visualViewport,s=a.clientWidth,i=a.clientHeight,o=0,l=0;if(n){s=n.width,i=n.height;var c=IW();(c||!c&&"fixed"===t)&&(o=n.offsetLeft,l=n.offsetTop)}return{width:s,height:i,x:o+iG(e),y:l}}(e,r)):_W(t)?function(e,t){var r=RW(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}(t,r):dG(function(e){var t,r=BW(e),a=sG(e),n=null==(t=e.ownerDocument)?void 0:t.body,s=DW(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),i=DW(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),o=-a.scrollLeft+iG(e),l=-a.scrollTop;return"rtl"===qW(n||r).direction&&(o+=DW(r.clientWidth,n?n.clientWidth:0)-s),{width:s,height:i,x:o,y:l}}(BW(e)))}function mG(e,t,r,a){var n="clippingParents"===t?function(e){var t=cG(YW(e)),r=["absolute","fixed"].indexOf(qW(e).position)>=0&&TW(e)?HW(e):e;return _W(r)?t.filter(function(e){return _W(e)&&zW(e,r)&&"body"!==$W(e)}):[]}(e):[].concat(t),s=[].concat(n,[r]),i=s[0],o=s.reduce(function(t,r){var n=uG(e,r,a);return t.top=DW(n.top,t.top),t.right=PW(n.right,t.right),t.bottom=PW(n.bottom,t.bottom),t.left=DW(n.left,t.left),t},uG(e,i,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function hG(e){var t,r=e.reference,a=e.element,n=e.placement,s=n?CW(n):null,i=n?XW(n):null,o=r.x+r.width/2-a.width/2,l=r.y+r.height/2-a.height/2;switch(s){case fW:t={x:o,y:r.y-a.height};break;case pW:t={x:o,y:r.y+r.height};break;case gW:t={x:r.x+r.width,y:l};break;case xW:t={x:r.x-a.width,y:l};break;default:t={x:r.x,y:r.y}}var c=s?WW(s):null;if(null!=c){var d="y"===c?"height":"width";switch(i){case vW:t[c]=t[c]-(r[d]/2-a[d]/2);break;case jW:t[c]=t[c]+(r[d]/2-a[d]/2)}}return t}function fG(e,t){void 0===t&&(t={});var r=t,a=r.placement,n=void 0===a?e.placement:a,s=r.strategy,i=void 0===s?e.strategy:s,o=r.boundary,l=void 0===o?"clippingParents":o,c=r.rootBoundary,d=void 0===c?wW:c,u=r.elementContext,m=void 0===u?NW:u,h=r.altBoundary,f=void 0!==h&&h,p=r.padding,g=void 0===p?0:p,x=KW("number"!=typeof g?g:QW(g,yW)),b=m===NW?"reference":NW,y=e.rects.popper,v=e.elements[f?b:m],j=mG(_W(v)?v:v.contextElement||BW(e.elements.popper),l,d,i),w=RW(e.elements.reference),N=hG({reference:w,element:y,placement:n}),E=dG(Object.assign({},y,N)),S=m===NW?E:w,k={top:j.top-S.top+x.top,bottom:S.bottom-j.bottom+x.bottom,left:j.left-S.left+x.left,right:S.right-j.right+x.right},C=e.modifiersData.offset;if(m===NW&&C){var A=C[n];Object.keys(k).forEach(function(e){var t=[gW,pW].indexOf(e)>=0?1:-1,r=[fW,pW].indexOf(e)>=0?"y":"x";k[e]+=A[r]*t})}return k}const pG={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var n=r.mainAxis,s=void 0===n||n,i=r.altAxis,o=void 0===i||i,l=r.fallbackPlacements,c=r.padding,d=r.boundary,u=r.rootBoundary,m=r.altBoundary,h=r.flipVariations,f=void 0===h||h,p=r.allowedAutoPlacements,g=t.options.placement,x=CW(g),b=l||(x!==g&&f?function(e){if(CW(e)===bW)return[];var t=rG(e);return[nG(e),t,nG(t)]}(g):[rG(g)]),y=[g].concat(b).reduce(function(e,r){return e.concat(CW(r)===bW?function(e,t){void 0===t&&(t={});var r=t,a=r.placement,n=r.boundary,s=r.rootBoundary,i=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?SW:l,d=XW(a),u=d?o?EW:EW.filter(function(e){return XW(e)===d}):yW,m=u.filter(function(e){return c.indexOf(e)>=0});0===m.length&&(m=u);var h=m.reduce(function(t,r){return t[r]=fG(e,{placement:r,boundary:n,rootBoundary:s,padding:i})[CW(r)],t},{});return Object.keys(h).sort(function(e,t){return h[e]-h[t]})}(t,{placement:r,boundary:d,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:p}):r)},[]),v=t.rects.reference,j=t.rects.popper,w=new Map,N=!0,E=y[0],S=0;S<y.length;S++){var k=y[S],C=CW(k),A=XW(k)===vW,_=[fW,pW].indexOf(C)>=0,T=_?"width":"height",O=fG(t,{placement:k,boundary:d,rootBoundary:u,altBoundary:m,padding:c}),D=_?A?gW:xW:A?pW:fW;v[T]>j[T]&&(D=rG(D));var P=rG(D),M=[];if(s&&M.push(O[C]<=0),o&&M.push(O[D]<=0,O[P]<=0),M.every(function(e){return e})){E=k,N=!1;break}w.set(k,M)}if(N)for(var F=function(e){var t=y.find(function(t){var r=w.get(t);if(r)return r.slice(0,e).every(function(e){return e})});if(t)return E=t,"break"},I=f?3:1;I>0&&"break"!==F(I);I--);t.placement!==E&&(t.modifiersData[a]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function gG(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function xG(e){return[fW,gW,pW,xW].some(function(t){return e[t]>=0})}function bG(e,t,r){void 0===r&&(r=!1);var a,n,s=TW(t),i=TW(t)&&function(e){var t=e.getBoundingClientRect(),r=MW(t.width)/e.offsetWidth||1,a=MW(t.height)/e.offsetHeight||1;return 1!==r||1!==a}(t),o=BW(t),l=RW(e,i,r),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(s||!s&&!r)&&(("body"!==$W(t)||oG(o))&&(c=(a=t)!==AW(a)&&TW(a)?{scrollLeft:(n=a).scrollLeft,scrollTop:n.scrollTop}:sG(a)),TW(t)?((d=RW(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):o&&(d.x=iG(o))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function yG(e){var t=new Map,r=new Set,a=[];function n(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!r.has(e)){var a=t.get(e);a&&n(a)}}),a.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){r.has(e.name)||n(e)}),a}var vG={placement:"bottom",modifiers:[],strategy:"absolute"};function jG(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var wG,NG,EG=function(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,a=void 0===r?[]:r,n=t.defaultOptions,s=void 0===n?vG:n;return function(e,t,r){void 0===r&&(r=s);var n,i,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},vG,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:o,setOptions:function(r){var n="function"==typeof r?r(o.options):r;u(),o.options=Object.assign({},s,o.options,n),o.scrollParents={reference:_W(e)?cG(e):e.contextElement?cG(e.contextElement):[],popper:cG(t)};var i,c,m=function(e){var t=yG(e);return kW.reduce(function(e,r){return e.concat(t.filter(function(e){return e.phase===r}))},[])}((i=[].concat(a,o.options.modifiers),c=i.reduce(function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e},{}),Object.keys(c).map(function(e){return c[e]})));return o.orderedModifiers=m.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,r=e.options,a=void 0===r?{}:r,n=e.effect;if("function"==typeof n){var s=n({state:o,name:t,instance:d,options:a}),i=function(){};l.push(s||i)}}),d.update()},forceUpdate:function(){if(!c){var e=o.elements,t=e.reference,r=e.popper;if(jG(t,r)){o.rects={reference:bG(t,HW(r),"fixed"===o.options.strategy),popper:LW(r)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var a=0;a<o.orderedModifiers.length;a++)if(!0!==o.reset){var n=o.orderedModifiers[a],s=n.fn,i=n.options,l=void 0===i?{}:i,u=n.name;"function"==typeof s&&(o=s({state:o,options:l,name:u,instance:d})||o)}else o.reset=!1,a=-1}}},update:(n=function(){return new Promise(function(e){d.forceUpdate(),e(o)})},function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(n())})})),i}),destroy:function(){u(),c=!0}};if(!jG(e,t))return d;function u(){l.forEach(function(e){return e()}),l=[]}return d.setOptions(r).then(function(e){!c&&r.onFirstUpdate&&r.onFirstUpdate(e)}),d}}({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,a=t.rects.reference,n=t.rects.popper,s=t.modifiersData.preventOverflow,i=fG(t,{elementContext:"reference"}),o=fG(t,{altBoundary:!0}),l=gG(i,a),c=gG(o,n,s),d=xG(l),u=xG(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=hG({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,a=r.gpuAcceleration,n=void 0===a||a,s=r.adaptive,i=void 0===s||s,o=r.roundOffsets,l=void 0===o||o,c={placement:CW(t.placement),variation:XW(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ZW(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ZW(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,a=e.options,n=a.scroll,s=void 0===n||n,i=a.resize,o=void 0===i||i,l=AW(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(e){e.addEventListener("scroll",r.update,eG)}),o&&l.addEventListener("resize",r.update,eG),function(){s&&c.forEach(function(e){e.removeEventListener("scroll",r.update,eG)}),o&&l.removeEventListener("resize",r.update,eG)}},data:{}},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,a=e.name,n=r.offset,s=void 0===n?[0,0]:n,i=SW.reduce(function(e,r){return e[r]=function(e,t,r){var a=CW(e),n=[xW,fW].indexOf(a)>=0?-1:1,s="function"==typeof r?r(Object.assign({},t,{placement:e})):r,i=s[0],o=s[1];return i=i||0,o=(o||0)*n,[xW,gW].indexOf(a)>=0?{x:o,y:i}:{x:i,y:o}}(r,t.rects,s),e},{}),o=i[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[a]=i}},pG,{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,a=e.name,n=r.mainAxis,s=void 0===n||n,i=r.altAxis,o=void 0!==i&&i,l=r.boundary,c=r.rootBoundary,d=r.altBoundary,u=r.padding,m=r.tether,h=void 0===m||m,f=r.tetherOffset,p=void 0===f?0:f,g=fG(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),x=CW(t.placement),b=XW(t.placement),y=!b,v=WW(x),j="x"===v?"y":"x",w=t.modifiersData.popperOffsets,N=t.rects.reference,E=t.rects.popper,S="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,k="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(w){if(s){var _,T="y"===v?fW:xW,O="y"===v?pW:gW,D="y"===v?"height":"width",P=w[v],M=P+g[T],F=P-g[O],I=h?-E[D]/2:0,R=b===vW?N[D]:E[D],L=b===vW?-E[D]:-N[D],z=t.elements.arrow,$=h&&z?LW(z):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=q[T],B=q[O],Y=GW(0,N[D],$[D]),V=y?N[D]/2-I-Y-U-k.mainAxis:R-Y-U-k.mainAxis,H=y?-N[D]/2+I+Y+B+k.mainAxis:L+Y+B+k.mainAxis,W=t.elements.arrow&&HW(t.elements.arrow),G=W?"y"===v?W.clientTop||0:W.clientLeft||0:0,K=null!=(_=null==C?void 0:C[v])?_:0,Q=P+H-K,X=GW(h?PW(M,P+V-K-G):M,P,h?DW(F,Q):F);w[v]=X,A[v]=X-P}if(o){var J,Z="x"===v?fW:xW,ee="x"===v?pW:gW,te=w[j],re="y"===j?"height":"width",ae=te+g[Z],ne=te-g[ee],se=-1!==[fW,xW].indexOf(x),ie=null!=(J=null==C?void 0:C[j])?J:0,oe=se?ae:te-N[re]-E[re]-ie+k.altAxis,le=se?te+N[re]+E[re]-ie-k.altAxis:ne,ce=h&&se?function(e,t,r){var a=GW(e,t,r);return a>r?r:a}(oe,te,le):GW(h?oe:ae,te,h?le:ne);w[j]=ce,A[j]=ce-te}t.modifiersData[a]=A}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,a=e.name,n=e.options,s=r.elements.arrow,i=r.modifiersData.popperOffsets,o=CW(r.placement),l=WW(o),c=[xW,gW].indexOf(o)>=0?"height":"width";if(s&&i){var d=function(e,t){return KW("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:QW(e,yW))}(n.padding,r),u=LW(s),m="y"===l?fW:xW,h="y"===l?pW:gW,f=r.rects.reference[c]+r.rects.reference[l]-i[l]-r.rects.popper[c],p=i[l]-r.rects.reference[l],g=HW(s),x=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=f/2-p/2,y=d[m],v=x-u[c]-d[h],j=x/2-u[c]/2+b,w=GW(y,j,v),N=l;r.modifiersData[a]=((t={})[N]=w,t.centerOffset=w-j,t)}},effect:function(e){var t=e.state,r=e.options.element,a=void 0===r?"[data-popper-arrow]":r;null!=a&&("string"!=typeof a||(a=t.elements.popper.querySelector(a)))&&zW(t.elements.popper,a)&&(t.elements.arrow=a)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}]}),SG=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},kG={name:"applyStyles",enabled:!1},CG={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,r=e.reference,a=e.popper;if("removeAttribute"in r){var n=(r.getAttribute("aria-describedby")||"").split(",").filter(function(e){return e.trim()!==a.id});n.length?r.setAttribute("aria-describedby",n.join(",")):r.removeAttribute("aria-describedby")}}},fn:function(e){var t,r=e.state.elements,a=r.popper,n=r.reference,s=null==(t=a.getAttribute("role"))?void 0:t.toLowerCase();if(a.id&&"tooltip"===s&&"setAttribute"in n){var i=n.getAttribute("aria-describedby");if(i&&-1!==i.split(",").indexOf(a.id))return;n.setAttribute("aria-describedby",i?i+","+a.id:a.id)}}},AG=[];function _G(e,t,r,a){return function(e,t,r,a){if(a&&"boolean"!=typeof a&&!cW){var n=a.once,s=a.capture,i=r;!cW&&n&&(i=r.__once||function e(a){this.removeEventListener(t,e,s),r.call(this,a)},r.__once=i),e.addEventListener(t,i,lW?a:s)}e.addEventListener(t,r,a)}(e,t,r,a),function(){!function(e,t,r,a){var n=a&&"boolean"!=typeof a?a.capture:a;e.removeEventListener(t,r,n),r.__once&&e.removeEventListener(t,r.__once,n)}(e,t,r,a)}}var TG=NG?wG:(NG=1,wG=function(){});const OG=b(TG),DG=function(e){return RH(function(e){return e&&"setState"in e?a.findDOMNode(e):null!=e?e:null}(e))};var PG,MG=function(){},FG=function(e){return e&&("current"in e?e.current:e)};function IG(e){var t,r,a,n,s,i=e.enabled,o=e.enableEvents,l=e.placement,c=e.flip,d=e.offset,u=e.fixed,m=e.containerPadding,h=e.arrowElement,f=e.popperConfig,p=void 0===f?{}:f,g=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach(function(e){t[e.name]=e}),t):e||t}(p.modifiers);return jY({},p,{placement:l,enabled:i,strategy:u?"fixed":p.strategy,modifiers:(s=jY({},g,{eventListeners:{enabled:o},preventOverflow:jY({},g.preventOverflow,{options:m?jY({padding:m},null==(t=g.preventOverflow)?void 0:t.options):null==(r=g.preventOverflow)?void 0:r.options}),offset:{options:jY({offset:d},null==(a=g.offset)?void 0:a.options)},arrow:jY({},g.arrow,{enabled:!!h,options:jY({},null==(n=g.arrow)?void 0:n.options,{element:h})}),flip:jY({enabled:!!c},g.flip)}),void 0===s&&(s={}),Array.isArray(s)?s:Object.keys(s).map(function(e){return s[e].name=e,s[e]}))})}function RG(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function LG(e){if((!PG&&0!==PG||e)&&JH){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),PG=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return PG}var zG=function(e){var t;return"undefined"==typeof document?null:null==e?RH().body:("function"==typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function $G(e,r){var a=t.useState(function(){return zG(e)}),n=a[0],s=a[1];if(!n){var i=zG(e);i&&s(i)}return t.useEffect(function(){},[r,n]),t.useEffect(function(){var t=zG(e);t!==n&&s(t)},[e,n]),n}const qG=e=>e&&"function"!=typeof e?t=>{e.current=t}:e;function UG(e,r){return t.useMemo(()=>function(e,t){const r=qG(e),a=qG(t);return e=>{r&&r(e),a&&a(e)}}(e,r),[e,r])}var BG,YG,VG,HG,WG,GG,KG,QG,XG,JG,ZG,eK,tK,rK,aK,nK,sK,iK,oK,lK,cK,dK,uK,mK,hK,fK,pK,gK,xK,bK,yK,vK,jK,wK,NK,EK,SK,kK,CK,AK,_K,TK,OK,DK,PK,MK,FK,IK,RK,LK,zK,$K,qK,UK,BK,YK,VK,HK,WK,GK,KK,QK,XK,JK,ZK,eQ,tQ,rQ,aQ,nQ,sQ,iQ,oQ,lQ,cQ,dQ,uQ,mQ,hQ,fQ,pQ,gQ,xQ,bQ,yQ,vQ,jQ,wQ,NQ,EQ,SQ,kQ,CQ,AQ,_Q,TQ,OQ,DQ,PQ,MQ,FQ,IQ,RQ,LQ,zQ,$Q,qQ,UQ,BQ=r.forwardRef(function(e,n){var s=e.flip,i=e.offset,o=e.placement,l=e.containerPadding,c=void 0===l?5:l,d=e.popperConfig,u=void 0===d?{}:d,m=e.transition,h=mW(),f=h[0],p=h[1],g=mW(),x=g[0],b=g[1],y=UG(p,n),v=$G(e.container),j=$G(e.target),w=t.useState(!e.show),N=w[0],E=w[1],S=function(e,r,a){var n=void 0===a?{}:a,s=n.enabled,i=void 0===s||s,o=n.placement,l=void 0===o?"bottom":o,c=n.strategy,d=void 0===c?"absolute":c,u=n.modifiers,m=void 0===u?AG:u,h=aY(n,["enabled","placement","strategy","modifiers"]),f=t.useRef(),p=t.useCallback(function(){var e;null==(e=f.current)||e.update()},[]),g=t.useCallback(function(){var e;null==(e=f.current)||e.forceUpdate()},[]),x=hW(t.useState({placement:l,update:p,forceUpdate:g,attributes:{},styles:{popper:SG(d),arrow:{}}})),b=x[0],y=x[1],v=t.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,r={},a={};Object.keys(t.elements).forEach(function(e){r[e]=t.styles[e],a[e]=t.attributes[e]}),y({state:t,styles:r,attributes:a,update:p,forceUpdate:g,placement:t.placement})}}},[p,g,y]);return t.useEffect(function(){f.current&&i&&f.current.setOptions({placement:l,strategy:d,modifiers:[].concat(m,[v,kG])})},[d,l,v,i]),t.useEffect(function(){if(i&&null!=e&&null!=r)return f.current=EG(e,r,jY({},h,{placement:l,strategy:d,modifiers:[].concat(m,[CG,v])})),function(){null!=f.current&&(f.current.destroy(),f.current=void 0,y(function(e){return jY({},e,{attributes:{},styles:{popper:SG(d)}})}))}},[i,e,r]),b}(j,f,IG({placement:o,enableEvents:!!e.show,containerPadding:c||5,flip:s,offset:i,arrowElement:x,popperConfig:u})),k=S.styles,C=S.attributes,A=aY(S,["styles","attributes"]);e.show?N&&E(!1):e.transition||N||E(!0);var _,T,O,D,P,M,F,I,R,L,z,$,q=e.show||m&&!N;if(_=f,T=e.onHide,O={disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent},P=(D=void 0===O?{}:O).disabled,M=D.clickTrigger,F=void 0===M?"click":M,I=t.useRef(!1),R=T||MG,L=t.useCallback(function(e){var t,r,a=FG(_);OG(!!a,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),I.current=!(a&&(r=e,!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey))&&function(e){return 0===e.button}(e)&&!YH(a,null!=(t=null==e.composedPath?void 0:e.composedPath()[0])?t:e.target))},[_]),z=uW(function(e){I.current||R(e)}),$=uW(function(e){27===e.keyCode&&R(e)}),t.useEffect(function(){if(!P&&null!=_){var e=window.event,t=DG(FG(_)),r=_G(t,F,L,!0),a=_G(t,F,function(t){t!==e?z(t):e=void 0}),n=_G(t,"keyup",function(t){t!==e?$(t):e=void 0}),s=[];return"ontouchstart"in t.documentElement&&(s=[].slice.call(t.body.children).map(function(e){return _G(e,"mousemove",MG)})),function(){r(),a(),n(),s.forEach(function(e){return e()})}}},[_,P,F,L,z,$]),!q)return null;var U=e.children(jY({},A,{show:!!e.show,props:jY({},C.popper,{style:k.popper,ref:y}),arrowProps:jY({},C.arrow,{style:k.arrow,ref:b})}));if(m){var B=e.onExit,Y=e.onExiting,V=e.onEnter,H=e.onEntering,W=e.onEntered;U=r.createElement(m,{in:e.show,appear:!0,onExit:B,onExiting:Y,onExited:function(){E(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:V,onEntering:H,onEntered:W},U)}return v?a.createPortal(U,v):null});function YQ(){if(HG)return VG;HG=1;var e=yH();return VG=function(t,r){for(var a=t.length;a--;)if(e(t[a][0],r))return a;return-1}}function VQ(){if(rK)return tK;rK=1;var e=YG?BG:(YG=1,BG=function(){this.__data__=[],this.size=0}),t=function(){if(GG)return WG;GG=1;var e=YQ(),t=Array.prototype.splice;return WG=function(r){var a=this.__data__,n=e(a,r);return!(n<0||(n==a.length-1?a.pop():t.call(a,n,1),--this.size,0))}}(),r=function(){if(QG)return KG;QG=1;var e=YQ();return KG=function(t){var r=this.__data__,a=e(r,t);return a<0?void 0:r[a][1]}}(),a=function(){if(JG)return XG;JG=1;var e=YQ();return XG=function(t){return e(this.__data__,t)>-1}}(),n=function(){if(eK)return ZG;eK=1;var e=YQ();return ZG=function(t,r){var a=this.__data__,n=e(a,t);return n<0?(++this.size,a.push([t,r])):a[n][1]=r,this}}();function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=a,s.prototype.set=n,tK=s}function HQ(){if(fK)return hK;fK=1;var e,t=function(){if(mK)return uK;mK=1;var e=jH()["__core-js_shared__"];return uK=e}(),r=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return hK=function(e){return!!r&&r in e}}function WQ(){if(gK)return pK;gK=1;var e=Function.prototype.toString;return pK=function(t){if(null!=t){try{return e.call(t)}catch(Ba){}try{return t+""}catch(Ba){}}return""}}function GQ(){if(wK)return jK;wK=1;var e=function(){if(bK)return xK;bK=1;var e=SH(),t=HQ(),r=EH(),a=WQ(),n=/^\[object .+?Constructor\]$/,s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return xK=function(s){return!(!r(s)||t(s))&&(e(s)?c:n).test(a(s))}}(),t=vK?yK:(vK=1,yK=function(e,t){return null==e?void 0:e[t]});return jK=function(r,a){var n=t(r,a);return e(n)?n:void 0}}function KQ(){if(EK)return NK;EK=1;var e=GQ()(jH(),"Map");return NK=e}function QQ(){if(kK)return SK;kK=1;var e=GQ()(Object,"create");return SK=e}function XQ(){if(LK)return RK;LK=1;var e=function(){if(AK)return CK;AK=1;var e=QQ();return CK=function(){this.__data__=e?e(null):{},this.size=0}}(),t=TK?_K:(TK=1,_K=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),r=function(){if(DK)return OK;DK=1;var e=QQ(),t=Object.prototype.hasOwnProperty;return OK=function(r){var a=this.__data__;if(e){var n=a[r];return"__lodash_hash_undefined__"===n?void 0:n}return t.call(a,r)?a[r]:void 0}}(),a=function(){if(MK)return PK;MK=1;var e=QQ(),t=Object.prototype.hasOwnProperty;return PK=function(r){var a=this.__data__;return e?void 0!==a[r]:t.call(a,r)}}(),n=function(){if(IK)return FK;IK=1;var e=QQ();return FK=function(t,r){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=e&&void 0===r?"__lodash_hash_undefined__":r,this}}();function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=a,s.prototype.set=n,RK=s}function JQ(){if(YK)return BK;YK=1;var e=UK?qK:(UK=1,qK=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return BK=function(t,r){var a=t.__data__;return e(r)?a["string"==typeof r?"string":"hash"]:a.map}}function ZQ(){if(eQ)return ZK;eQ=1;var e=function(){if($K)return zK;$K=1;var e=XQ(),t=VQ(),r=KQ();return zK=function(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}}(),t=function(){if(HK)return VK;HK=1;var e=JQ();return VK=function(t){var r=e(this,t).delete(t);return this.size-=r?1:0,r}}(),r=function(){if(GK)return WK;GK=1;var e=JQ();return WK=function(t){return e(this,t).get(t)}}(),a=function(){if(QK)return KK;QK=1;var e=JQ();return KK=function(t){return e(this,t).has(t)}}(),n=function(){if(JK)return XK;JK=1;var e=JQ();return XK=function(t,r){var a=e(this,t),n=a.size;return a.set(t,r),this.size+=a.size==n?0:1,this}}();function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=a,s.prototype.set=n,ZK=s}function eX(){if(nQ)return aQ;nQ=1;var e=VQ(),t=function(){if(nK)return aK;nK=1;var e=VQ();return aK=function(){this.__data__=new e,this.size=0}}(),r=iK?sK:(iK=1,sK=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}),a=lK?oK:(lK=1,oK=function(e){return this.__data__.get(e)}),n=dK?cK:(dK=1,cK=function(e){return this.__data__.has(e)}),s=function(){if(rQ)return tQ;rQ=1;var e=VQ(),t=KQ(),r=ZQ();return tQ=function(a,n){var s=this.__data__;if(s instanceof e){var i=s.__data__;if(!t||i.length<199)return i.push([a,n]),this.size=++s.size,this;s=this.__data__=new r(i)}return s.set(a,n),this.size=s.size,this}}();function i(t){var r=this.__data__=new e(t);this.size=r.size}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=a,i.prototype.has=n,i.prototype.set=s,aQ=i}function tX(){if(dQ)return cQ;dQ=1;var e=ZQ(),t=iQ?sQ:(iQ=1,sQ=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),r=lQ?oQ:(lQ=1,oQ=function(e){return this.__data__.has(e)});function a(t){var r=-1,a=null==t?0:t.length;for(this.__data__=new e;++r<a;)this.add(t[r])}return a.prototype.add=a.prototype.push=t,a.prototype.has=r,cQ=a}function rX(){if(gQ)return pQ;gQ=1;var e=tX(),t=mQ?uQ:(mQ=1,uQ=function(e,t){for(var r=-1,a=null==e?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}),r=fQ?hQ:(fQ=1,hQ=function(e,t){return e.has(t)});return pQ=function(a,n,s,i,o,l){var c=1&s,d=a.length,u=n.length;if(d!=u&&!(c&&u>d))return!1;var m=l.get(a),h=l.get(n);if(m&&h)return m==n&&h==a;var f=-1,p=!0,g=2&s?new e:void 0;for(l.set(a,n),l.set(n,a);++f<d;){var x=a[f],b=n[f];if(i)var y=c?i(b,x,f,n,a,l):i(x,b,f,a,n,l);if(void 0!==y){if(y)continue;p=!1;break}if(g){if(!t(n,function(e,t){if(!r(g,t)&&(x===e||o(x,e,s,i,l)))return g.push(t)})){p=!1;break}}else if(x!==b&&!o(x,b,s,i,l)){p=!1;break}}return l.delete(a),l.delete(n),p}}function aX(){if(bQ)return xQ;bQ=1;var e=jH().Uint8Array;return xQ=e}function nX(){if(EQ)return NQ;EQ=1;var e=wH(),t=aX(),r=yH(),a=rX(),n=vQ?yQ:(vQ=1,yQ=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,a){r[++t]=[a,e]}),r}),s=wQ?jQ:(wQ=1,jQ=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}),i=e?e.prototype:void 0,o=i?i.valueOf:void 0;return NQ=function(e,i,l,c,d,u,m){switch(l){case"[object DataView]":if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=i.byteLength||!u(new t(e),new t(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+i);case"[object Error]":return e.name==i.name&&e.message==i.message;case"[object RegExp]":case"[object String]":return e==i+"";case"[object Map]":var h=n;case"[object Set]":var f=1&c;if(h||(h=s),e.size!=i.size&&!f)return!1;var p=m.get(e);if(p)return p==i;c|=2,m.set(e,i);var g=a(h(e),h(i),c,d,u,m);return m.delete(e),g;case"[object Symbol]":if(o)return o.call(e)==o.call(i)}return!1}}function sX(){return kQ?SQ:(kQ=1,SQ=function(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e})}function iX(){if(AQ)return CQ;AQ=1;var e=Array.isArray;return CQ=e}function oX(){if(TQ)return _Q;TQ=1;var e=sX(),t=iX();return _Q=function(r,a,n){var s=a(r);return t(r)?s:e(s,n(r))}}function lX(){return MQ?PQ:(MQ=1,PQ=function(){return[]})}function cX(){if(IQ)return FQ;IQ=1;var e=DQ?OQ:(DQ=1,OQ=function(e,t){for(var r=-1,a=null==e?0:e.length,n=0,s=[];++r<a;){var i=e[r];t(i,r,e)&&(s[n++]=i)}return s}),t=lX(),r=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;return FQ=a?function(t){return null==t?[]:(t=Object(t),e(a(t),function(e){return r.call(t,e)}))}:t}function dX(){if(UQ)return qQ;UQ=1;var e=function(){if($Q)return zQ;$Q=1;var e=NH(),t=OH();return zQ=function(r){return t(r)&&"[object Arguments]"==e(r)}}(),t=OH(),r=Object.prototype,a=r.hasOwnProperty,n=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(e){return t(e)&&a.call(e,"callee")&&!n.call(e,"callee")};return qQ=s}BQ.displayName="Overlay",BQ.propTypes={show:qY.bool,placement:qY.oneOf(SW),target:qY.any,container:qY.any,flip:qY.bool,children:qY.func.isRequired,containerPadding:qY.number,popperConfig:qY.object,rootClose:qY.bool,rootCloseEvent:qY.oneOf(["click","mousedown"]),rootCloseDisabled:qY.bool,onHide:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var n;return e.rootClose?(n=qY.func).isRequired.apply(n,[e].concat(r)):qY.func.apply(qY,[e].concat(r))},transition:qY.elementType,onEnter:qY.func,onEntering:qY.func,onEntered:qY.func,onExit:qY.func,onExiting:qY.func,onExited:qY.func};var uX,mX,hX,fX,pX,gX,xX,bX={exports:{}};function yX(){return hX||(hX=1,e=bX,t=bX.exports,r=jH(),a=mX?uX:(mX=1,uX=function(){return!1}),n=t&&!t.nodeType&&t,s=n&&e&&!e.nodeType&&e,i=s&&s.exports===n?r.Buffer:void 0,o=(i?i.isBuffer:void 0)||a,e.exports=o),bX.exports;var e,t,r,a,n,s,i,o}function vX(){return xX?gX:(xX=1,gX=function(e){return function(t){return e(t)}})}var jX,wX,NX,EX,SX,kX,CX,AX,_X,TX,OX,DX,PX,MX,FX,IX,RX,LX,zX,$X,qX,UX,BX,YX,VX,HX,WX,GX,KX,QX,XX,JX,ZX,eJ,tJ,rJ={exports:{}};function aJ(){return jX||(jX=1,e=rJ,t=rJ.exports,r=vH(),a=t&&!t.nodeType&&t,n=a&&e&&!e.nodeType&&e,s=n&&n.exports===a&&r.process,i=function(){try{var e=n&&n.require&&n.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(Ba){}}(),e.exports=i),rJ.exports;var e,t,r,a,n,s,i}function nJ(){if(NX)return wX;NX=1;var e=function(){if(pX)return fX;pX=1;var e=NH(),t=kH(),r=OH(),a={};return a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,fX=function(n){return r(n)&&t(n.length)&&!!a[e(n)]}}(),t=vX(),r=aJ(),a=r&&r.isTypedArray,n=a?t(a):e;return wX=n}function sJ(){if(SX)return EX;SX=1;var e=(LQ||(LQ=1,RQ=function(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}),RQ),t=dX(),r=iX(),a=yX(),n=AH(),s=nJ(),i=Object.prototype.hasOwnProperty;return EX=function(o,l){var c=r(o),d=!c&&t(o),u=!c&&!d&&a(o),m=!c&&!d&&!u&&s(o),h=c||d||u||m,f=h?e(o.length,String):[],p=f.length;for(var g in o)!l&&!i.call(o,g)||h&&("length"==g||u&&("offset"==g||"parent"==g)||m&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||n(g,p))||f.push(g);return f}}function iJ(){if(CX)return kX;CX=1;var e=Object.prototype;return kX=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}}function oJ(){return _X?AX:(_X=1,AX=function(e,t){return function(r){return e(t(r))}})}function lJ(){if(PX)return DX;PX=1;var e=iJ(),t=function(){if(OX)return TX;OX=1;var e=oJ()(Object.keys,Object);return TX=e}(),r=Object.prototype.hasOwnProperty;return DX=function(a){if(!e(a))return t(a);var n=[];for(var s in Object(a))r.call(a,s)&&"constructor"!=s&&n.push(s);return n}}function cJ(){if(FX)return MX;FX=1;var e=sJ(),t=lJ(),r=CH();return MX=function(a){return r(a)?e(a):t(a)}}function dJ(){if(RX)return IX;RX=1;var e=oX(),t=cX(),r=cJ();return IX=function(a){return e(a,r,t)}}function uJ(){if(KX)return GX;KX=1;var e=function(){if(qX)return $X;qX=1;var e=GQ()(jH(),"DataView");return $X=e}(),t=KQ(),r=function(){if(BX)return UX;BX=1;var e=GQ()(jH(),"Promise");return UX=e}(),a=function(){if(VX)return YX;VX=1;var e=GQ()(jH(),"Set");return YX=e}(),n=function(){if(WX)return HX;WX=1;var e=GQ()(jH(),"WeakMap");return HX=e}(),s=NH(),i=WQ(),o="[object Map]",l="[object Promise]",c="[object Set]",d="[object WeakMap]",u="[object DataView]",m=i(e),h=i(t),f=i(r),p=i(a),g=i(n),x=s;return(e&&x(new e(new ArrayBuffer(1)))!=u||t&&x(new t)!=o||r&&x(r.resolve())!=l||a&&x(new a)!=c||n&&x(new n)!=d)&&(x=function(e){var t=s(e),r="[object Object]"==t?e.constructor:void 0,a=r?i(r):"";if(a)switch(a){case m:return u;case h:return o;case f:return l;case p:return c;case g:return d}return t}),GX=x}function mJ(){if(XX)return QX;XX=1;var e=eX(),t=rX(),r=nX(),a=function(){if(zX)return LX;zX=1;var e=dJ(),t=Object.prototype.hasOwnProperty;return LX=function(r,a,n,s,i,o){var l=1&n,c=e(r),d=c.length;if(d!=e(a).length&&!l)return!1;for(var u=d;u--;){var m=c[u];if(!(l?m in a:t.call(a,m)))return!1}var h=o.get(r),f=o.get(a);if(h&&f)return h==a&&f==r;var p=!0;o.set(r,a),o.set(a,r);for(var g=l;++u<d;){var x=r[m=c[u]],b=a[m];if(s)var y=l?s(b,x,m,a,r,o):s(x,b,m,r,a,o);if(!(void 0===y?x===b||i(x,b,n,s,o):y)){p=!1;break}g||(g="constructor"==m)}if(p&&!g){var v=r.constructor,j=a.constructor;v==j||!("constructor"in r)||!("constructor"in a)||"function"==typeof v&&v instanceof v&&"function"==typeof j&&j instanceof j||(p=!1)}return o.delete(r),o.delete(a),p}}(),n=uJ(),s=iX(),i=yX(),o=nJ(),l="[object Arguments]",c="[object Array]",d="[object Object]",u=Object.prototype.hasOwnProperty;return QX=function(m,h,f,p,g,x){var b=s(m),y=s(h),v=b?c:n(m),j=y?c:n(h),w=(v=v==l?d:v)==d,N=(j=j==l?d:j)==d,E=v==j;if(E&&i(m)){if(!i(h))return!1;b=!0,w=!1}if(E&&!w)return x||(x=new e),b||o(m)?t(m,h,f,p,g,x):r(m,h,v,f,p,g,x);if(!(1&f)){var S=w&&u.call(m,"__wrapped__"),k=N&&u.call(h,"__wrapped__");if(S||k){var C=S?m.value():m,A=k?h.value():h;return x||(x=new e),g(C,A,f,p,x)}}return!!E&&(x||(x=new e),a(m,h,f,p,g,x))}}function hJ(){if(ZX)return JX;ZX=1;var e=mJ(),t=OH();return JX=function r(a,n,s,i,o){return a===n||(null==a||null==n||!t(a)&&!t(n)?a!=a&&n!=n:e(a,n,s,i,r,o))},JX}var fJ=function(){if(tJ)return eJ;tJ=1;var e=hJ();return eJ=function(t,r){return e(t,r)}}();const pJ=b(fJ);function gJ(e,t){var r=VH(e);return r?r.innerHeight:KH(e).height}function xJ(e,t,r){e.closest&&!r&&e.closest(t);var a=e;do{if(iW(a,t))return a;a=a.parentElement}while(a&&a!==r&&a.nodeType===document.ELEMENT_NODE);return null}var bJ,yJ,vJ,jJ,wJ,NJ,EJ,SJ,kJ,CJ,AJ,_J,TJ,OJ,DJ,PJ,MJ,FJ,IJ,RJ,LJ,zJ,$J,qJ,UJ,BJ,YJ,VJ,HJ,WJ,GJ,KJ,QJ,XJ,JJ,ZJ,eZ,tZ,rZ,aZ,nZ,sZ,iZ,oZ,lZ,cZ,dZ,uZ,mZ,hZ,fZ,pZ,gZ,xZ;function bZ(){if(NJ)return wJ;NJ=1;var e=EH();return wJ=function(t){return t==t&&!e(t)}}function yZ(){return CJ?kJ:(CJ=1,kJ=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}})}function vZ(){if(_J)return AJ;_J=1;var e=function(){if(jJ)return vJ;jJ=1;var e=eX(),t=hJ();return vJ=function(r,a,n,s){var i=n.length,o=i,l=!s;if(null==r)return!o;for(r=Object(r);i--;){var c=n[i];if(l&&c[2]?c[1]!==r[c[0]]:!(c[0]in r))return!1}for(;++i<o;){var d=(c=n[i])[0],u=r[d],m=c[1];if(l&&c[2]){if(void 0===u&&!(d in r))return!1}else{var h=new e;if(s)var f=s(u,m,d,r,a,h);if(!(void 0===f?t(m,u,3,s,h):f))return!1}}return!0}}(),t=function(){if(SJ)return EJ;SJ=1;var e=bZ(),t=cJ();return EJ=function(r){for(var a=t(r),n=a.length;n--;){var s=a[n],i=r[s];a[n]=[s,i,e(i)]}return a}}(),r=yZ();return AJ=function(a){var n=t(a);return 1==n.length&&n[0][2]?r(n[0][0],n[0][1]):function(t){return t===a||e(t,a,n)}}}function jZ(){if(OJ)return TJ;OJ=1;var e=iX(),t=DH(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;return TJ=function(n,s){if(e(n))return!1;var i=typeof n;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=n&&!t(n))||a.test(n)||!r.test(n)||null!=s&&n in Object(s)}}function wZ(){if(FJ)return MJ;FJ=1;var e=function(){if(PJ)return DJ;PJ=1;var e=ZQ();function t(r,a){if("function"!=typeof r||null!=a&&"function"!=typeof a)throw new TypeError("Expected a function");var n=function(){var e=arguments,t=a?a.apply(this,e):e[0],s=n.cache;if(s.has(t))return s.get(t);var i=r.apply(this,e);return n.cache=s.set(t,i)||s,i};return n.cache=new(t.Cache||e),n}return t.Cache=e,DJ=t}();return MJ=function(t){var r=e(t,function(e){return 500===a.size&&a.clear(),e}),a=r.cache;return r}}function NZ(){return zJ?LJ:(zJ=1,LJ=function(e,t){for(var r=-1,a=null==e?0:e.length,n=Array(a);++r<a;)n[r]=t(e[r],r,e);return n})}function EZ(){if(BJ)return UJ;BJ=1;var e=function(){if(qJ)return $J;qJ=1;var e=wH(),t=NZ(),r=iX(),a=DH(),n=e?e.prototype:void 0,s=n?n.toString:void 0;return $J=function e(n){if("string"==typeof n)return n;if(r(n))return t(n,e)+"";if(a(n))return s?s.call(n):"";var i=n+"";return"0"==i&&1/n==-1/0?"-0":i},$J}();return UJ=function(t){return null==t?"":e(t)}}function SZ(){if(VJ)return YJ;VJ=1;var e=iX(),t=jZ(),r=function(){if(RJ)return IJ;RJ=1;var e=wZ(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(e){var a=[];return 46===e.charCodeAt(0)&&a.push(""),e.replace(t,function(e,t,n,s){a.push(n?s.replace(r,"$1"):t||e)}),a});return IJ=a}(),a=EZ();return YJ=function(n,s){return e(n)?n:t(n,s)?[n]:r(a(n))}}function kZ(){if(WJ)return HJ;WJ=1;var e=DH();return HJ=function(t){if("string"==typeof t||e(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}}function CZ(){if(KJ)return GJ;KJ=1;var e=SZ(),t=kZ();return GJ=function(r,a){for(var n=0,s=(a=e(a,r)).length;null!=r&&n<s;)r=r[t(a[n++])];return n&&n==s?r:void 0}}function AZ(){if(aZ)return rZ;aZ=1;var e=ZJ?JJ:(ZJ=1,JJ=function(e,t){return null!=e&&t in Object(e)}),t=function(){if(tZ)return eZ;tZ=1;var e=SZ(),t=dX(),r=iX(),a=AH(),n=kH(),s=kZ();return eZ=function(i,o,l){for(var c=-1,d=(o=e(o,i)).length,u=!1;++c<d;){var m=s(o[c]);if(!(u=null!=i&&l(i,m)))break;i=i[m]}return u||++c!=d?u:!!(d=null==i?0:i.length)&&n(d)&&a(m,d)&&(r(i)||t(i))}}();return rZ=function(r,a){return null!=r&&t(r,a,e)}}function _Z(){if(sZ)return nZ;sZ=1;var e=hJ(),t=function(){if(XJ)return QJ;XJ=1;var e=CZ();return QJ=function(t,r,a){var n=null==t?void 0:e(t,r);return void 0===n?a:n}}(),r=AZ(),a=jZ(),n=bZ(),s=yZ(),i=kZ();return nZ=function(o,l){return a(o)&&n(l)?s(i(o),l):function(a){var n=t(a,o);return void 0===n&&n===l?r(a,o):e(l,n,3)}}}function TZ(){return oZ?iZ:(oZ=1,iZ=function(e){return e})}function OZ(){if(hZ)return mZ;hZ=1;var e=cZ?lZ:(cZ=1,lZ=function(e){return function(t){return null==t?void 0:t[e]}}),t=function(){if(uZ)return dZ;uZ=1;var e=CZ();return dZ=function(t){return function(r){return e(r,t)}}}(),r=jZ(),a=kZ();return mZ=function(n){return r(n)?e(a(n)):t(n)}}function DZ(){if(pZ)return fZ;pZ=1;var e=vZ(),t=_Z(),r=TZ(),a=iX(),n=OZ();return fZ=function(s){return"function"==typeof s?s:null==s?r:"object"==typeof s?a(s)?t(s[0],s[1]):e(s):n(s)}}var PZ=function(){if(xZ)return gZ;xZ=1;var e=yJ?bJ:(yJ=1,bJ=function(e,t,r,a){for(var n=e.length,s=r+(a?1:-1);a?s--:++s<n;)if(t(e[s],s,e))return s;return-1}),t=DZ(),r=MH(),a=Math.max;return gZ=function(n,s,i){var o=null==n?0:n.length;if(!o)return-1;var l=null==i?0:r(i);return l<0&&(l=a(o+l,0)),e(n,t(s,3),l)}}();const MZ=b(PZ);var FZ,IZ,RZ,LZ,zZ,$Z;function qZ(){if(LZ)return RZ;LZ=1;var e=function(){if(IZ)return FZ;IZ=1;var e=Math.ceil,t=Math.max;return FZ=function(r,a,n,s){for(var i=-1,o=t(e((a-r)/(n||1)),0),l=Array(o);o--;)l[s?o:++i]=r,r+=n;return l}}(),t=_H(),r=PH();return RZ=function(a){return function(n,s,i){return i&&"number"!=typeof i&&t(n,s,i)&&(s=i=void 0),n=r(n),void 0===s?(s=n,n=0):s=r(s),i=void 0===i?n<s?1:-1:r(i),e(n,s,i,a)}}}var UZ=function(){if($Z)return zZ;$Z=1;var e=qZ()();return zZ=e}();const BZ=b(UZ);var YZ,VZ,HZ,WZ,GZ,KZ,QZ,XZ,JZ,ZZ,e0,t0,r0,a0,n0,s0,i0,o0,l0,c0,d0,u0,m0,h0,f0,p0,g0,x0,b0,y0,v0,j0,w0,N0,E0,S0,k0,C0,A0,_0,T0,O0,D0=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function P0(e,t){return e===t||!(!D0(e)||!D0(t))}function M0(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!P0(e[r],t[r]))return!1;return!0}function F0(e,t){void 0===t&&(t=M0);var r=null;function a(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var s=e.apply(this,a);return r={lastResult:s,lastArgs:a,lastThis:this},s}return a.clear=function(){r=null},a}function I0(e,t){var r=VH(e);return r?r.innerWidth:KH(e).width}function R0(){if(WZ)return HZ;WZ=1;var e=sX(),t=function(){if(VZ)return YZ;VZ=1;var e=wH(),t=dX(),r=iX(),a=e?e.isConcatSpreadable:void 0;return YZ=function(e){return r(e)||t(e)||!!(a&&e&&e[a])}}();return HZ=function r(a,n,s,i,o){var l=-1,c=a.length;for(s||(s=t),o||(o=[]);++l<c;){var d=a[l];n>0&&s(d)?n>1?r(d,n-1,s,i,o):e(o,d):i||(o[o.length]=d)}return o},HZ}function L0(){if(XZ)return QZ;XZ=1;var e=(KZ?GZ:(KZ=1,GZ=function(e){return function(t,r,a){for(var n=-1,s=Object(t),i=a(t),o=i.length;o--;){var l=i[e?o:++n];if(!1===r(s[l],l,s))break}return t}}))();return QZ=e}function z0(){if(ZZ)return JZ;ZZ=1;var e=L0(),t=cJ();return JZ=function(r,a){return r&&e(r,a,t)}}function $0(){if(a0)return r0;a0=1;var e=z0(),t=function(){if(t0)return e0;t0=1;var e=CH();return e0=function(t,r){return function(a,n){if(null==a)return a;if(!e(a))return t(a,n);for(var s=a.length,i=r?s:-1,o=Object(a);(r?i--:++i<s)&&!1!==n(o[i],i,o););return a}}}()(e);return r0=t}function q0(){if(u0)return d0;u0=1;var e=function(){if(c0)return l0;c0=1;var e=DH();return l0=function(t,r){if(t!==r){var a=void 0!==t,n=null===t,s=t==t,i=e(t),o=void 0!==r,l=null===r,c=r==r,d=e(r);if(!l&&!d&&!i&&t>r||i&&o&&c&&!l&&!d||n&&o&&c||!a&&c||!s)return 1;if(!n&&!i&&!d&&t<r||d&&a&&s&&!n&&!i||l&&a&&s||!o&&s||!c)return-1}return 0}}();return d0=function(t,r,a){for(var n=-1,s=t.criteria,i=r.criteria,o=s.length,l=a.length;++n<o;){var c=e(s[n],i[n]);if(c)return n>=l?c:c*("desc"==a[n]?-1:1)}return t.index-r.index}}function U0(){if(h0)return m0;h0=1;var e=NZ(),t=CZ(),r=DZ(),a=function(){if(s0)return n0;s0=1;var e=$0(),t=CH();return n0=function(r,a){var n=-1,s=t(r)?Array(r.length):[];return e(r,function(e,t,r){s[++n]=a(e,t,r)}),s}}(),n=o0?i0:(o0=1,i0=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}),s=vX(),i=q0(),o=TZ(),l=iX();return m0=function(c,d,u){d=d.length?e(d,function(e){return l(e)?function(r){return t(r,1===e.length?e[0]:e)}:e}):[o];var m=-1;d=e(d,s(r));var h=a(c,function(t,r,a){return{criteria:e(d,function(e){return e(t)}),index:++m,value:t}});return n(h,function(e,t){return i(e,t,u)})}}function B0(){if(x0)return g0;x0=1;var e=p0?f0:(p0=1,f0=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}),t=Math.max;return g0=function(r,a,n){return a=t(void 0===a?r.length-1:a,0),function(){for(var s=arguments,i=-1,o=t(s.length-a,0),l=Array(o);++i<o;)l[i]=s[a+i];i=-1;for(var c=Array(a+1);++i<a;)c[i]=s[i];return c[a]=n(l),e(r,this,c)}},g0}function Y0(){if(j0)return v0;j0=1;var e=GQ(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(Ba){}}();return v0=t}function V0(){if(N0)return w0;N0=1;var e=y0?b0:(y0=1,b0=function(e){return function(){return e}}),t=Y0(),r=TZ();return w0=t?function(r,a){return t(r,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:r}function H0(){if(C0)return k0;C0=1;var e=V0(),t=function(){if(S0)return E0;S0=1;var e=Date.now;return E0=function(t){var r=0,a=0;return function(){var n=e(),s=16-(n-a);if(a=n,s>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}},E0}(),r=t(e);return k0=r}function W0(){if(_0)return A0;_0=1;var e=TZ(),t=B0(),r=H0();return A0=function(a,n){return r(t(a,n,e),a+"")}}var G0=function(){if(O0)return T0;O0=1;var e=R0(),t=U0(),r=W0(),a=_H(),n=r(function(r,n){if(null==r)return[];var s=n.length;return s>1&&a(r,n[0],n[1])?n=[]:s>2&&a(n[0],n[1],n[2])&&(n=[n[0]]),t(r,e(n,1),[])});return T0=n}();const K0=b(G0);function Q0(e){return fY(e)||kV(e)||gY(e)||xY()}var X0,J0,Z0,e1,t1,r1,a1,n1;function s1(){if(e1)return Z0;e1=1;var e=EH(),t=iJ(),r=J0?X0:(J0=1,X0=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}),a=Object.prototype.hasOwnProperty;return Z0=function(n){if(!e(n))return r(n);var s=t(n),i=[];for(var o in n)("constructor"!=o||!s&&a.call(n,o))&&i.push(o);return i}}function i1(){if(r1)return t1;r1=1;var e=sJ(),t=s1(),r=CH();return t1=function(a){return r(a)?e(a,!0):t(a)}}var o1=function(){if(n1)return a1;n1=1;var e=W0(),t=yH(),r=_H(),a=i1(),n=Object.prototype,s=n.hasOwnProperty,i=e(function(e,i){e=Object(e);var o=-1,l=i.length,c=l>2?i[2]:void 0;for(c&&r(i[0],i[1],c)&&(l=1);++o<l;)for(var d=i[o],u=a(d),m=-1,h=u.length;++m<h;){var f=u[m],p=e[f];(void 0===p||t(p,n[f])&&!s.call(e,f))&&(e[f]=d[f])}return e});return a1=i}();const l1=b(o1);var c1,d1,u1,m1;function h1(){if(d1)return c1;d1=1;var e=Y0();return c1=function(t,r,a){"__proto__"==r&&e?e(t,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[r]=a}}var f1=function(){if(m1)return u1;m1=1;var e=h1(),t=z0(),r=DZ();return u1=function(a,n){var s={};return n=r(n,3),t(a,function(t,r,a){e(s,r,n(t,r,a))}),s}}();const p1=b(f1);var g1,x1,b1,y1,v1,j1,w1,N1,E1,S1;function k1(){return x1?g1:(x1=1,g1=function(e,t){for(var r=-1,a=null==e?0:e.length;++r<a&&!1!==t(e[r],r,e););return e})}function C1(){if(y1)return b1;y1=1;var e=h1(),t=yH(),r=Object.prototype.hasOwnProperty;return b1=function(a,n,s){var i=a[n];r.call(a,n)&&t(i,s)&&(void 0!==s||n in a)||e(a,n,s)}}function A1(){if(j1)return v1;j1=1;var e=C1(),t=h1();return v1=function(r,a,n,s){var i=!n;n||(n={});for(var o=-1,l=a.length;++o<l;){var c=a[o],d=s?s(n[c],r[c],c,n,r):void 0;void 0===d&&(d=r[c]),i?t(n,c,d):e(n,c,d)}return n}}var _1,T1,O1,D1,P1,M1,F1,I1,R1,L1,z1,$1,q1,U1,B1,Y1,V1,H1,W1,G1,K1,Q1,X1,J1,Z1,e2,t2,r2,a2,n2,s2,i2,o2,l2,c2,d2,u2,m2,h2,f2,p2,g2,x2,b2,y2,v2,j2,w2,N2,E2,S2,k2,C2,A2,_2,T2,O2,D2={exports:{}};function P2(){if(F1)return M1;F1=1;var e=oJ()(Object.getPrototypeOf,Object);return M1=e}function M2(){if(R1)return I1;R1=1;var e=sX(),t=P2(),r=cX(),a=lX(),n=Object.getOwnPropertySymbols;return I1=n?function(a){for(var n=[];a;)e(n,r(a)),a=t(a);return n}:a}function F2(){if(q1)return $1;q1=1;var e=oX(),t=M2(),r=i1();return $1=function(a){return e(a,r,t)}}function I2(){if(V1)return Y1;V1=1;var e=aX();return Y1=function(t){var r=new t.constructor(t.byteLength);return new e(r).set(new e(t)),r}}function R2(){if(t2)return e2;t2=1;var e=I2(),t=function(){if(W1)return H1;W1=1;var e=I2();return H1=function(t,r){var a=r?e(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}}(),r=function(){if(K1)return G1;K1=1;var e=/\w*$/;return G1=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}}(),a=function(){if(X1)return Q1;X1=1;var e=wH(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;return Q1=function(e){return r?Object(r.call(e)):{}}}(),n=function(){if(Z1)return J1;Z1=1;var e=I2();return J1=function(t,r){var a=r?e(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}}();return e2=function(s,i,o){var l=s.constructor;switch(i){case"[object ArrayBuffer]":return e(s);case"[object Boolean]":case"[object Date]":return new l(+s);case"[object DataView]":return t(s,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return n(s,o);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(s);case"[object RegExp]":return r(s);case"[object Symbol]":return a(s)}}}function L2(){if(a2)return r2;a2=1;var e=EH(),t=Object.create;return r2=function(){function r(){}return function(a){if(!e(a))return{};if(t)return t(a);r.prototype=a;var n=new r;return r.prototype=void 0,n}}()}function z2(){if(c2)return l2;c2=1;var e=function(){if(o2)return i2;o2=1;var e=uJ(),t=OH();return i2=function(r){return t(r)&&"[object Map]"==e(r)}}(),t=vX(),r=aJ(),a=r&&r.isMap,n=a?t(a):e;return l2=n}function $2(){if(h2)return m2;h2=1;var e=function(){if(u2)return d2;u2=1;var e=uJ(),t=OH();return d2=function(r){return t(r)&&"[object Set]"==e(r)}}(),t=vX(),r=aJ(),a=r&&r.isSet,n=a?t(a):e;return m2=n}function q2(){if(p2)return f2;p2=1;var e,t,r,a,n,s,i,o=eX(),l=k1(),c=C1(),d=function(){if(N1)return w1;N1=1;var e=A1(),t=cJ();return w1=function(r,a){return r&&e(a,t(a),r)}}(),u=function(){if(S1)return E1;S1=1;var e=A1(),t=i1();return E1=function(r,a){return r&&e(a,t(a),r)}}(),m=(_1||(_1=1,e=D2,t=D2.exports,r=jH(),a=t&&!t.nodeType&&t,n=a&&e&&!e.nodeType&&e,s=n&&n.exports===a?r.Buffer:void 0,i=s?s.allocUnsafe:void 0,e.exports=function(e,t){if(t)return e.slice();var r=e.length,a=i?i(r):new e.constructor(r);return e.copy(a),a}),D2.exports),h=O1?T1:(O1=1,T1=function(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t}),f=function(){if(P1)return D1;P1=1;var e=A1(),t=cX();return D1=function(r,a){return e(r,t(r),a)}}(),p=function(){if(z1)return L1;z1=1;var e=A1(),t=M2();return L1=function(r,a){return e(r,t(r),a)}}(),g=dJ(),x=F2(),b=uJ(),y=function(){if(B1)return U1;B1=1;var e=Object.prototype.hasOwnProperty;return U1=function(t){var r=t.length,a=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(a.index=t.index,a.input=t.input),a}}(),v=R2(),j=function(){if(s2)return n2;s2=1;var e=L2(),t=P2(),r=iJ();return n2=function(a){return"function"!=typeof a.constructor||r(a)?{}:e(t(a))}}(),w=iX(),N=yX(),E=z2(),S=EH(),k=$2(),C=cJ(),A=i1(),_="[object Arguments]",T="[object Function]",O="[object Object]",D={};return D[_]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[O]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[T]=D["[object WeakMap]"]=!1,f2=function e(t,r,a,n,s,i){var P,M=1&r,F=2&r,I=4&r;if(a&&(P=s?a(t,n,s,i):a(t)),void 0!==P)return P;if(!S(t))return t;var R=w(t);if(R){if(P=y(t),!M)return h(t,P)}else{var L=b(t),z=L==T||"[object GeneratorFunction]"==L;if(N(t))return m(t,M);if(L==O||L==_||z&&!s){if(P=F||z?{}:j(t),!M)return F?p(t,u(P,t)):f(t,d(P,t))}else{if(!D[L])return s?t:{};P=v(t,L,M)}}i||(i=new o);var $=i.get(t);if($)return $;i.set(t,P),k(t)?t.forEach(function(n){P.add(e(n,r,a,n,t,i))}):E(t)&&t.forEach(function(n,s){P.set(s,e(n,r,a,s,t,i))});var q=R?void 0:(I?F?x:g:F?A:C)(t);return l(q||t,function(n,s){q&&(n=t[s=n]),c(P,s,e(n,r,a,s,t,i))}),P},f2}function U2(){if(j2)return v2;j2=1;var e=SZ(),t=x2?g2:(x2=1,g2=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}),r=function(){if(y2)return b2;y2=1;var e=CZ(),t=bH();return b2=function(r,a){return a.length<2?r:e(r,t(a,0,-1))}}(),a=kZ();return v2=function(n,s){return s=e(s,n),null==(n=r(n,s))||delete n[a(t(s))]}}function B2(){if(S2)return E2;S2=1;var e=function(){if(N2)return w2;N2=1;var e=NH(),t=P2(),r=OH(),a=Function.prototype,n=Object.prototype,s=a.toString,i=n.hasOwnProperty,o=s.call(Object);return w2=function(a){if(!r(a)||"[object Object]"!=e(a))return!1;var n=t(a);if(null===n)return!0;var l=i.call(n,"constructor")&&n.constructor;return"function"==typeof l&&l instanceof l&&s.call(l)==o}}();return E2=function(t){return e(t)?void 0:t}}function Y2(){if(_2)return A2;_2=1;var e=function(){if(C2)return k2;C2=1;var e=R0();return k2=function(t){return null!=t&&t.length?e(t,1):[]}}(),t=B0(),r=H0();return A2=function(a){return r(t(a,void 0,e),a+"")}}var V2=function(){if(O2)return T2;O2=1;var e=NZ(),t=q2(),r=U2(),a=SZ(),n=A1(),s=B2(),i=Y2(),o=F2(),l=i(function(i,l){var c={};if(null==i)return c;var d=!1;l=e(l,function(e){return e=a(e,i),d||(d=e.length>1),e}),n(i,o(i),c),d&&(c=t(c,7,s));for(var u=l.length;u--;)r(c,l[u]);return c});return T2=l}();const H2=b(V2);var W2,G2,K2=function(){if(G2)return W2;G2=1;var e=k1(),t=L2(),r=z0(),a=DZ(),n=P2(),s=iX(),i=yX(),o=SH(),l=EH(),c=nJ();return W2=function(d,u,m){var h=s(d),f=h||i(d)||c(d);if(u=a(u,4),null==m){var p=d&&d.constructor;m=f?h?new p:[]:l(d)&&o(p)?t(n(d)):{}}return(f?e:r)(d,function(e,t,r){return u(m,e,t,r)}),m}}();const Q2=b(K2);var X2,J2={exports:{}};X2||(X2=1,J2.exports=function(e,t,r){t.prototype.isBetween=function(e,t,a,n){var s=r(e),i=r(t),o="("===(n=n||"()")[0],l=")"===n[1];return(o?this.isAfter(s,a):!this.isBefore(s,a))&&(l?this.isBefore(i,a):!this.isAfter(i,a))||(o?this.isBefore(s,a):!this.isAfter(s,a))&&(l?this.isAfter(i,a):!this.isBefore(i,a))}});var Z2,e4={exports:{}};Z2||(Z2=1,e4.exports=function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}});var t4,r4={exports:{}};t4||(t4=1,r4.exports=function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}});var a4,n4={exports:{}};a4||(a4=1,n4.exports=function(e,t,r){var a=t.prototype,n=function(e){return e&&(e.indexOf?e:e.s)},s=function(e,t,r,a,s){var i=e.name?e:e.$locale(),o=n(i[t]),l=n(i[r]),c=o||l.map(function(e){return e.slice(0,a)});if(!s)return c;var d=i.weekStart;return c.map(function(e,t){return c[(t+(d||0))%7]})},i=function(){return r.Ls[r.locale()]},o=function(e,t){return e.formats[t]||e.formats[t.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,r){return t||r.slice(1)})},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):s(e,"months")},monthsShort:function(t){return t?t.format("MMM"):s(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):s(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):s(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):s(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return o(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return l.bind(this)()},r.localeData=function(){var e=i();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(t){return o(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},r.months=function(){return s(i(),"months")},r.monthsShort=function(){return s(i(),"monthsShort","months",3)},r.weekdays=function(e){return s(i(),"weekdays",null,null,e)},r.weekdaysShort=function(e){return s(i(),"weekdaysShort","weekdays",3,e)},r.weekdaysMin=function(e){return s(i(),"weekdaysMin","weekdays",2,e)}});var s4,i4={exports:{}};s4||(s4=1,i4.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,r,a){var n=r.prototype,s=n.format;a.en.formats=e,n.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var r,a=this.$locale().formats,n=(r=void 0===a?{}:a,t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,a,n){var s=n&&n.toUpperCase();return a||r[n]||e[n]||r[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,r){return t||r.slice(1)})}));return s.call(this,n)}}}());var o4,l4={exports:{}};o4||(o4=1,l4.exports=function(e,t,r){var a=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var r;1===t.length&&t[0].length>0&&(t=t[0]),r=(t=t.filter(function(e){return e}))[0];for(var a=1;a<t.length;a+=1)t[a].isValid()&&!t[a][e](r)||(r=t[a]);return r};r.max=function(){var e=[].slice.call(arguments,0);return a("isAfter",e)},r.min=function(){var e=[].slice.call(arguments,0);return a("isBefore",e)}});var c4,d4={exports:{}};c4||(c4=1,d4.exports=function(){var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(a,n,s){var i=n.prototype;s.utc=function(e){return new n({date:e,utc:!0,args:arguments})},i.utc=function(t){var r=s(this.toDate(),{locale:this.$L,utc:!0});return t?r.add(this.utcOffset(),e):r},i.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var o=i.parse;i.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var l=i.init;i.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=i.utcOffset;i.utcOffset=function(a,n){var s=this.$utils().u;if(s(a))return this.$u?0:s(this.$offset)?c.call(this):this.$offset;if("string"==typeof a&&null===(a=function(e){void 0===e&&(e="");var a=e.match(t);if(!a)return null;var n=(""+a[0]).match(r)||["-",0,0],s=n[0],i=60*+n[1]+ +n[2];return 0===i?0:"+"===s?i:-i}(a)))return this;var i=Math.abs(a)<=16?60*a:a;if(0===i)return this.utc(n);var o=this.clone();if(n)return o.$offset=i,o.$u=!1,o;var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(o=this.local().add(i+l,e)).$offset=i,o.$x.$localOffset=l,o};var d=i.format;i.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},i.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var u=i.toDate;i.toDate=function(e){return"s"===e&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var m=i.diff;i.diff=function(e,t,r){if(e&&this.$u===e.$u)return m.call(this,e,t,r);var a=this.local(),n=s(e).local();return m.call(a,n,t,r)}}}());var u4,m4={exports:{}};function h4(e){return e.children}u4||(u4=1,m4.exports=function(e,t){t.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}});var f4="PREV",p4="NEXT",g4="TODAY",x4="DATE",b4={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},y4=Object.keys(b4).map(function(e){return b4[e]});qY.oneOfType([qY.string,qY.func]),qY.any,qY.func,qY.oneOfType([qY.arrayOf(qY.oneOf(y4)),qY.objectOf(function(e,t){if(-1!==y4.indexOf(t)&&"boolean"==typeof e[t])return null;for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];return qY.elementType.apply(qY,[e,t].concat(a))})]),qY.oneOfType([qY.oneOf(["overlap","no-overlap"]),qY.func]);var v4={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function j4(e,t){var r=aV(e,"month");return aV(r,"week",t.startOfWeek())}function w4(e,t){var r=nV(e,"month");return nV(r,"week",t.startOfWeek())}function N4(e,t){for(var r=j4(e,t),a=w4(e,t),n=[];dV(r,a,"day");)n.push(r),r=tV(r,1,"day");return n}function E4(e,t){var r=aV(e,t);return sV(r,e)?r:tV(r,1,t)}function S4(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",a=e,n=[];dV(a,t,r);)n.push(a),a=tV(a,1,r);return n}function k4(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=aV(e,"day"),e=xV(e,xV(t)),e=gV(e,gV(t)),e=pV(e,pV(t)),fV(e,fV(t)))}function C4(e){return 0===xV(e)&&0===gV(e)&&0===pV(e)&&0===fV(e)}function A4(e,t,r){return r&&"milliseconds"!==r?Math.round(Math.abs(+aV(e,r)/v4[r]-+aV(t,r)/v4[r])):Math.abs(+e-+t)}var _4=qY.oneOfType([qY.string,qY.func]);function T4(e,t,r,a,n){var s="function"==typeof a?a(r,n,e):t.call(e,r,a,n);return SY(null==s||"string"==typeof s,"`localizer format(..)` must return a string, null, or undefined"),s}function O4(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function D4(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function P4(e,t){return A4(e,t,"minutes")+D4(e,t)}function M4(e){var t=aV(e,"day");return A4(t,e,"minutes")+D4(t,e)}function F4(e,t){return cV(e,t,"day")}function I4(e,t,r){return sV(e,t,"minutes")?lV(t,r,"minutes"):oV(t,r,"minutes")}function R4(e,t){return function(e,t,r,a){return"day"===r&&(r="date"),Math.abs(SV[r](e,void 0,a)-SV[r](t,void 0,a))}(e,t,"day")}function L4(e){var t=e.evtA,r=t.start,a=t.end,n=t.allDay,s=e.evtB,i=s.start,o=s.end,l=s.allDay,c=+aV(r,"day")-+aV(i,"day"),d=R4(r,a),u=R4(i,o);return c||u-d||!!l-!!n||+r-+i||+a-+o}function z4(e){var t=e.event,r=t.start,a=t.end,n=e.range,s=n.start,i=n.end,o=aV(r,"day"),l=dV(o,i,"day"),c=iV(o,a,"minutes")?oV(a,s,"minutes"):lV(a,s,"minutes");return l&&c}function $4(e,t){return sV(e,t,"day")}function q4(e,t){return C4(e)&&C4(t)}var U4=oY(function e(t){var r=this;sY(this,e),SY("function"==typeof t.format,"date localizer `format(..)` must be a function"),SY("function"==typeof t.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||_4,this.formats=t.formats,this.format=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return T4.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||k4,this.inRange=t.inRange||hV,this.lt=t.lt||cV,this.lte=t.lte||dV,this.gt=t.gt||oV,this.gte=t.gte||lV,this.eq=t.eq||sV,this.neq=t.neq||iV,this.startOf=t.startOf||aV,this.endOf=t.endOf||nV,this.add=t.add||tV,this.range=t.range||S4,this.diff=t.diff||A4,this.ceil=t.ceil||E4,this.min=t.min||uV,this.max=t.max||mV,this.minutes=t.minutes||gV,this.daySpan=t.daySpan||R4,this.firstVisibleDay=t.firstVisibleDay||j4,this.lastVisibleDay=t.lastVisibleDay||w4,this.visibleDays=t.visibleDays||N4,this.getSlotDate=t.getSlotDate||O4,this.getTimezoneOffset=t.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||D4,this.getTotalMin=t.getTotalMin||P4,this.getMinutesFromMidnight=t.getMinutesFromMidnight||M4,this.continuesPrior=t.continuesPrior||F4,this.continuesAfter=t.continuesAfter||I4,this.sortEvents=t.sortEvents||L4,this.inEventRange=t.inEventRange||z4,this.isSameDate=t.isSameDate||$4,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||q4,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function B4(e,t,r,a){var n=rY(rY({},e.formats),r);return rY(rY({},e),{},{messages:a,startOfWeek:function(){return e.startOfWeek(t)},format:function(r,a){return e.format(r,n[a]||a,t)}})}var Y4=function(){function e(){var t;sY(this,e);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=uY(this,e,[].concat(a))).navigate=function(e){t.props.onNavigate(e)},t.view=function(e){t.props.onView(e)},t}return hY(e,r.Component),oY(e,[{key:"render",value:function(){var e=this.props,t=e.localizer.messages,a=e.label;return r.createElement("div",{className:"rbc-toolbar"},r.createElement("span",{className:"rbc-btn-group"},r.createElement("button",{type:"button",onClick:this.navigate.bind(null,g4)},t.today),r.createElement("button",{type:"button",onClick:this.navigate.bind(null,f4)},t.previous),r.createElement("button",{type:"button",onClick:this.navigate.bind(null,p4)},t.next)),r.createElement("span",{className:"rbc-toolbar-label"},a),r.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(t)))}},{key:"viewNamesGroup",value:function(e){var t=this,a=this.props.views,n=this.props.view;if(a.length>1)return a.map(function(a){return r.createElement("button",{type:"button",key:a,className:vY({"rbc-active":n===a}),onClick:t.view.bind(null,a)},e[a])})}}])}();function V4(e,t){e&&e.apply(null,[].concat(t))}var H4={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}},W4=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],G4=function(){function e(){return sY(this,e),uY(this,e,arguments)}return hY(e,r.Component),oY(e,[{key:"render",value:function(){var e=this.props,t=e.style,a=e.className,n=e.event,s=e.selected,i=e.isAllDay,o=e.onSelect,l=e.onDoubleClick,c=e.onKeyPress,d=e.localizer,u=e.continuesPrior,m=e.continuesAfter,h=e.accessors,f=e.getters,p=e.children,g=e.components,x=g.event,b=g.eventWrapper,y=e.slotStart,v=e.slotEnd,j=nY(e,W4);delete j.resizable;var w=h.title(n),N=h.tooltip(n),E=h.end(n),S=h.start(n),k=h.allDay(n),C=i||k||d.diff(S,d.ceil(E,"day"),"day")>1,A=f.eventProp(n,S,E,s),_=r.createElement("div",{className:"rbc-event-content",title:N||void 0},x?r.createElement(x,{event:n,continuesPrior:u,continuesAfter:m,title:w,isAllDay:k,localizer:d,slotStart:y,slotEnd:v}):w);return r.createElement(b,Object.assign({},this.props,{type:"date"}),r.createElement("div",Object.assign({},j,{style:rY(rY({},A.style),t),className:vY("rbc-event",a,A.className,{"rbc-selected":s,"rbc-event-allday":C,"rbc-event-continues-prior":u,"rbc-event-continues-after":m}),onClick:function(e){return o&&o(n,e)},onDoubleClick:function(e){return l&&l(n,e)},onKeyDown:function(e){return c&&c(n,e)}}),"function"==typeof p?p(_):_))}}])}();function K4(e,t){return!(!e||null==t)&&pJ(e,t)}function Q4(e,t){return(e.right-e.left)/t}function X4(e,t,r,a){var n=Q4(e,a);return r?a-1-Math.floor((t-e.left)/n):Math.floor((t-e.left)/n)}function J4(e){var a=e.containerRef,n=e.accessors,s=e.getters,i=e.selected,o=e.components,l=e.localizer,c=e.position,d=e.show,u=e.events,m=e.slotStart,h=e.slotEnd,f=e.onSelect,p=e.onDoubleClick,g=e.onKeyPress,x=e.handleDragStart,b=e.popperRef,y=e.target,v=e.offset;!function(e){var r=e.ref,a=e.callback;t.useEffect(function(){var e=function(e){r.current&&!r.current.contains(e.target)&&a()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[r,a])}({ref:b,callback:d}),t.useLayoutEffect(function(){var e=function(e){var t=e.target,r=e.offset,a=e.container,n=e.box,s=KH(t),i=s.top,o=s.left,l=s.width,c=s.height,d=KH(a),u=d.top,m=d.left,h=d.width,f=d.height,p=KH(n),g=p.width,x=p.height,b=u+f,y=m+h,v=i+x,j=o+g,w=r.x,N=r.y;return{topOffset:v>b?i-x-N:i+N+c,leftOffset:j>y?o+w-g+l:o+w}}({target:y,offset:v,container:a.current,box:b.current}),t=e.topOffset,r=e.leftOffset;b.current.style.top="".concat(t,"px"),b.current.style.left="".concat(r,"px")},[v.x,v.y,y]);var j=c.width,w={minWidth:j+j/2};return r.createElement("div",{style:w,className:"rbc-overlay",ref:b},r.createElement("div",{className:"rbc-overlay-header"},l.format(m,"dayHeaderFormat")),u.map(function(e,t){return r.createElement(G4,{key:t,type:"popup",localizer:l,event:e,getters:s,onSelect:f,accessors:n,components:o,onDoubleClick:p,onKeyPress:g,continuesPrior:l.lt(n.end(e),m,"day"),continuesAfter:l.gte(n.start(e),h,"day"),slotStart:m,slotEnd:h,selected:K4(e,i),draggable:!0,onDragStart:function(){return x(e)},onDragEnd:function(){return d()}})}))}var Z4=r.forwardRef(function(e,t){return r.createElement(J4,Object.assign({},e,{popperRef:t}))});function e5(e){var a=e.containerRef,n=e.popupOffset,s=void 0===n?5:n,i=e.overlay,o=e.accessors,l=e.localizer,c=e.components,d=e.getters,u=e.selected,m=e.handleSelectEvent,h=e.handleDoubleClickEvent,f=e.handleKeyPressEvent,p=e.handleDragStart,g=e.onHide,x=e.overlayDisplay,b=t.useRef(null);if(!i.position)return null;var y=s;isNaN(s)||(y={x:s,y:s});var v=i.position,j=i.events,w=i.date,N=i.end;return r.createElement(BQ,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:g,target:i.target},function(e){var t=e.props;return r.createElement(Z4,Object.assign({},t,{containerRef:a,ref:b,target:i.target,offset:y,accessors:o,getters:d,selected:u,components:c,localizer:l,position:v,show:x,events:j,slotStart:w,slotEnd:N,onSelect:m,onDoubleClick:h,onKeyPress:f,handleDragStart:p}))})}Z4.propTypes={accessors:qY.object.isRequired,getters:qY.object.isRequired,selected:qY.object,components:qY.object.isRequired,localizer:qY.object.isRequired,position:qY.object.isRequired,show:qY.func.isRequired,events:qY.array.isRequired,slotStart:qY.instanceOf(Date).isRequired,slotEnd:qY.instanceOf(Date),onSelect:qY.func,onDoubleClick:qY.func,onKeyPress:qY.func,handleDragStart:qY.func,style:qY.object,offset:qY.shape({x:qY.number,y:qY.number})};var t5=r.forwardRef(function(e,t){return r.createElement(e5,Object.assign({},e,{containerRef:t}))});function r5(e,t){return _G(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,e,t,{passive:!1})}function a5(e,t){return!!function(e,t){var r=t.clientX,a=t.clientY;return xJ(document.elementFromPoint(r,a),".rbc-event",e)}(e,t)}function n5(e,t){return!!function(e,t){var r=t.clientX,a=t.clientY;return xJ(document.elementFromPoint(r,a),".rbc-show-more",e)}(e,t)}function s5(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}t5.propTypes={popupOffset:qY.oneOfType([qY.number,qY.shape({x:qY.number,y:qY.number})]),overlay:qY.shape({position:qY.object,events:qY.array,date:qY.instanceOf(Date),end:qY.instanceOf(Date)}),accessors:qY.object.isRequired,localizer:qY.object.isRequired,components:qY.object.isRequired,getters:qY.object.isRequired,selected:qY.object,handleSelectEvent:qY.func,handleDoubleClickEvent:qY.func,handleKeyPressEvent:qY.func,handleDragStart:qY.func,onHide:qY.func,overlayDisplay:qY.func};var i5=function(){return oY(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.global,n=void 0!==a&&a,s=r.longPressThreshold,i=void 0===s?250:s,o=r.validContainers,l=void 0===o?[]:o;sY(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||n,this.longPressThreshold=i,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=r5("touchmove",function(){},window),this._removeKeyDownListener=r5("keydown",this._keyListener),this._removeKeyUpListener=r5("keyup",this._keyListener),this._removeDropFromOutsideListener=r5("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=r5("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()},[{key:"on",value:function(e,t){var r=this._listeners[e]||(this._listeners[e]=[]);return r.push(t),{remove:function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var n;return(this._listeners[e]||[]).forEach(function(e){void 0===n&&(n=e.apply(void 0,r))}),n}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&o5(t,l5(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var r=this,a=null,n=null,s=null,i=function(t){a=setTimeout(function(){l(),e(t)},r.longPressThreshold),n=r5("touchmove",function(){return l()}),s=r5("touchend",function(){return l()})},o=r5("touchstart",i),l=function(){a&&clearTimeout(a),n&&n(),s&&s(),a=null,n=null,s=null};return t&&i(t),function(){l(),o()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=r5("mousedown",function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=r5("mousedown",e._handleInitialEvent)}),r=r5("touchstart",function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)});this._removeInitialEventListener=function(){t(),r()}}},{key:"_dropFromOutsideListener",value:function(e){var t=s5(e),r=t.pageX,a=t.pageY,n=t.clientX,s=t.clientY;this.emit("dropFromOutside",{x:r,y:a,clientX:n,clientY:s}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=s5(e),r=t.pageX,a=t.pageY,n=t.clientX,s=t.clientY;this.emit("dragOverFromOutside",{x:r,y:a,clientX:n,clientY:s}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var t,r=s5(e),a=r.clientX,n=r.clientY,s=r.pageX,i=r.pageY,o=this.container();if(3!==e.which&&2!==e.button&&(c=a,d=n,!(l=o)||YH(l,document.elementFromPoint(c,d)))){var l,c,d;if(!this.globalMouse&&o&&!YH(o,e.target)){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"object"!==JB(e)&&(e={top:e,left:e,right:e,bottom:e}),e}(0),m=u.top,h=u.left,f=u.bottom,p=u.right;if(!o5({top:(t=l5(o)).top-m,left:t.left-h,bottom:t.bottom+f,right:t.right+p},{top:i,left:s}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:s,y:i,clientX:a,clientY:n}))switch(e.type){case"mousedown":this._removeEndListener=r5("mouseup",this._handleTerminatingEvent),this._onEscListener=r5("keydown",this._handleTerminatingEvent),this._removeMoveListener=r5("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=r5("touchend",this._handleTerminatingEvent),this._removeMoveListener=r5("touchmove",this._handleMoveEvent)}}}}},{key:"_isWithinValidContainer",value:function(e){var t=e.target,r=this.validContainers;return!(r&&r.length&&t)||r.some(function(e){return!!t.closest(e)})}},{key:"_handleTerminatingEvent",value:function(e){var t=this.selecting,r=this._selectRect;if(!t&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,e){var a=!this.container||YH(this.container(),e.target),n=this._isWithinValidContainer(e);return"Escape"!==e.key&&n?!t&&a?this._handleClickEvent(e):t?this.emit("select",r):this.emit("reset"):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=s5(e),r=t.pageX,a=t.pageY,n=t.clientX,s=t.clientY,i=(new Date).getTime();return this._lastClickData&&i-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:r,y:a,clientX:n,clientY:s})):(this._lastClickData={timestamp:i},this.emit("click",{x:r,y:a,clientX:n,clientY:s}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,r=t.x,a=t.y,n=s5(e),s=n.pageX,i=n.pageY,o=Math.abs(r-s),l=Math.abs(a-i),c=Math.min(s,r),d=Math.min(i,a),u=this.selecting,m=this.isClick(s,i);(!m||u||o||l)&&(u||m||this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:d,left:c,x:s,y:i,right:c+o,bottom:d+l},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var r=this._initialEventData,a=r.x,n=r.y;return!r.isTouch&&Math.abs(e-a)<=5&&Math.abs(t-n)<=5}}])}();function o5(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=l5(e),n=a.top,s=a.left,i=a.right,o=void 0===i?s:i,l=a.bottom,c=void 0===l?n:l,d=l5(t),u=d.top,m=d.left,h=d.right,f=void 0===h?m:h,p=d.bottom;return!(c-r<u||n+r>(void 0===p?u:p)||o-r<m||s+r>f)}function l5(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+c5("left"),a=t.top+c5("top");return{top:a,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+a}}function c5(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var d5=function(){function e(r,a){var n;return sY(this,e),(n=uY(this,e,[r,a])).state={selecting:!1},n.containerRef=t.createRef(),n}return hY(e,r.Component),oY(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(e){!e.selectable&&this.props.selectable&&this._selectable(),e.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var e=this.props,t=e.range,a=e.getNow,n=e.getters,s=e.date,i=e.components.dateCellWrapper,o=e.localizer,l=this.state,c=l.selecting,d=l.startIdx,u=l.endIdx,m=a();return r.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},t.map(function(e,a){var l=c&&a>=d&&a<=u,h=n.dayProp(e),f=h.className,p=h.style;return r.createElement(i,{key:a,value:e,range:t},r.createElement("div",{style:p,className:vY("rbc-day-bg",f,l&&"rbc-selected-cell",o.isSameDate(e,m)&&"rbc-today",s&&o.neq(s,e,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var e=this,t=this.containerRef.current,r=this._selector=new i5(this.props.container,{longPressThreshold:this.props.longPressThreshold}),a=function(r,a){if(!a5(t,r)&&!n5(t,r)){var n=l5(t),s=e.props,i=s.range,o=s.rtl;if(c=n,u=(d=r).x,(m=d.y)>=c.top&&m<=c.bottom&&u>=c.left&&u<=c.right){var l=X4(n,r.x,o,i.length);e._selectSlot({startIdx:l,endIdx:l,action:a,box:r})}}var c,d,u,m;e._initial={},e.setState({selecting:!1})};r.on("selecting",function(a){var n=e.props,s=n.range,i=n.rtl,o=-1,l=-1;if(e.state.selecting||(V4(e.props.onSelectStart,[a]),e._initial={x:a.x,y:a.y}),r.isSelected(t)){var c=l5(t),d=function(e,t,r,a,n){var s=-1,i=-1,o=a-1,l=Q4(t,a),c=X4(t,r.x,n,a),d=t.top<r.y&&t.bottom>r.y,u=t.top<e.y&&t.bottom>e.y,m=e.y>t.bottom,h=t.top>e.y;return r.top<t.top&&r.bottom>t.bottom&&(s=0,i=o),d&&(h?(s=0,i=c):m&&(s=c,i=o)),u&&(s=i=n?o-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),d?c<s?s=c:i=c:e.y<r.y?i=o:s=0),{startIdx:s,endIdx:i}}(e._initial,c,a,s.length,i);o=d.startIdx,l=d.endIdx}e.setState({selecting:!0,startIdx:o,endIdx:l})}),r.on("beforeSelect",function(t){if("ignoreEvents"===e.props.selectable)return!a5(e.containerRef.current,t)}),r.on("click",function(e){return a(e,"click")}),r.on("doubleClick",function(e){return a(e,"doubleClick")}),r.on("select",function(t){e._selectSlot(rY(rY({},e.state),{},{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),V4(e.props.onSelectEnd,[e.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var t=e.endIdx,r=e.startIdx,a=e.action,n=e.bounds,s=e.box;-1!==t&&-1!==r&&this.props.onSelectSlot&&this.props.onSelectSlot({start:r,end:t,action:a,bounds:n,box:s,resourceId:this.props.resourceId})}}])}(),u5=(qY.object.isRequired,qY.object,qY.bool,qY.object.isRequired,qY.object.isRequired,qY.object.isRequired,qY.object.isRequired,qY.func,qY.func,qY.func,{segments:[],selected:{}}),m5=function(e,t){var a=e.selected;e.isAllDay;var n=e.accessors,s=e.getters,i=e.onSelect,o=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,d=e.slotMetrics,u=e.components,m=e.resizable,h=d.continuesPrior(t),f=d.continuesAfter(t);return r.createElement(G4,{event:t,getters:s,localizer:c,accessors:n,components:u,onSelect:i,onDoubleClick:o,onKeyPress:l,continuesPrior:h,continuesAfter:f,slotStart:d.first,slotEnd:d.last,selected:K4(t,a),resizable:m})},h5=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",s=Math.abs(t)/e*100+"%";return r.createElement("div",{key:a,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},n)},f5=function(){function e(){return sY(this,e),uY(this,e,arguments)}return hY(e,r.Component),oY(e,[{key:"render",value:function(){var e=this,t=this.props,a=t.segments,n=t.slotMetrics.slots,s=t.className,i=1;return r.createElement("div",{className:vY(s,"rbc-row")},a.reduce(function(t,r,a){var s=r.event,o=r.left,l=r.right,c=r.span,d="_lvl_"+a,u=o-i,m=m5(e.props,s);return u&&t.push(h5(n,u,"".concat(d,"_gap"))),t.push(h5(n,c,d,m)),i=l+1,t},[]))}}])}();function p5(e){var t=e.dateRange,r=e.unit,a=void 0===r?"day":r,n=e.localizer;return{first:t[0],last:n.add(t[t.length-1],1,a)}}function g5(e){var t,r,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,s=[],i=[];for(t=0;t<e.length;t++){for(a=e[t],r=0;r<s.length&&b5(a,s[r]);r++);r>=n?i.push(a):(s[r]||(s[r]=[])).push(a)}for(t=0;t<s.length;t++)s[t].sort(function(e,t){return e.left-t.left});return{levels:s,extra:i}}function x5(e,t,r,a,n){var s={start:a.start(e),end:a.end(e)},i={start:t,end:r};return n.inEventRange({event:s,range:i})}function b5(e,t){return t.some(function(t){return t.left<=e.right&&t.right>=e.left})}function y5(e,t,r,a){var n={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},s={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return a.sortEvents({evtA:n,evtB:s})}f5.defaultProps=rY({},u5);var v5=function(e,t){return e.left<=t&&e.right>=t},j5=function(e,t){return e.filter(function(e){return v5(e,t)}).map(function(e){return e.event})},w5=function(){function e(){return sY(this,e),uY(this,e,arguments)}return hY(e,r.Component),oY(e,[{key:"render",value:function(){for(var e=this.props,t=e.segments,a=e.slotMetrics.slots,n=g5(t).levels[0],s=1,i=1,o=[];s<=a;){var l="_lvl_"+s,c=n.filter(function(e){return v5(e,s)})[0]||{},d=c.event,u=c.left,m=c.right,h=c.span;if(d){var f=Math.max(0,u-i);if(this.canRenderSlotEvent(u,h)){var p=m5(this.props,d);f&&o.push(h5(a,f,l+"_gap")),o.push(h5(a,h,l,p)),i=s=m+1}else f&&o.push(h5(a,f,l+"_gap")),o.push(h5(a,1,l,this.renderShowMore(t,s))),i=s+=1}else{if(this.getHiddenEventsForSlot(t,s).length>0){var g=s-i;g&&o.push(h5(a,g,l+"_gap")),o.push(h5(a,1,l,this.renderShowMore(t,s))),i=s+=1;continue}s++}}return r.createElement("div",{className:"rbc-row"},o)}},{key:"getHiddenEventsForSlot",value:function(e,t){var r=j5(e,t),a=g5(e).levels[0].filter(function(e){return v5(e,t)}).map(function(e){return e.event});return r.filter(function(e){return!a.some(function(t){return t===e})})}},{key:"canRenderSlotEvent",value:function(e,t){var r=this.props.segments;return BZ(e,e+t).every(function(e){return 1===j5(r,e).length})}},{key:"renderShowMore",value:function(e,t){var a=this,n=this.props,s=n.localizer,i=n.slotMetrics,o=n.components,l=i.getEventsForSlot(t),c=j5(e,t),d=c.length;if(null!=o&&o.showMore){var u=o.showMore,m=i.getDateForSlot(t-1);return!!d&&r.createElement(u,{localizer:s,slotDate:m,slot:t,count:d,events:l,remainingEvents:c})}return!!d&&r.createElement("button",{type:"button",key:"sm_"+t,className:vY("rbc-button-link","rbc-show-more"),onClick:function(e){return a.showMore(t,e)}},s.messages.showMore(d,c,l))}},{key:"showMore",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onShowMore(e,t.target)}}])}();w5.defaultProps=rY({},u5);var N5=function(e){var t=e.children;return r.createElement("div",{className:"rbc-row-content-scroll-container"},t)},E5=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function S5(){return F0(function(e){for(var t=e.range,r=e.events,a=e.maxRows,n=e.minRows,s=e.accessors,i=e.localizer,o=p5({dateRange:t,localizer:i}),l=o.first,c=o.last,d=r.map(function(e){return function(e,t,r,a){var n=p5({dateRange:t,localizer:a}),s=n.first,i=n.last,o=a.diff(s,i,"day"),l=a.max(a.startOf(r.start(e),"day"),s),c=a.min(a.ceil(r.end(e),"day"),i),d=MZ(t,function(e){return a.isSameDate(e,l)}),u=a.diff(l,c,"day");return u=Math.min(u,o),{event:e,span:u=Math.max(u-a.segmentOffset,1),left:d+1,right:Math.max(d+u,1)}}(e,t,s,i)}),u=g5(d,Math.max(a-1,1)),m=u.levels,h=u.extra,f=h.length>0?n-1:n;m.length<f;)m.push([]);return{first:l,last:c,levels:m,extra:h,range:t,slots:t.length,clone:function(t){return S5()(rY(rY({},e),t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find(function(t){return i.isSameDate(t,e)})},getEventsForSlot:function(e){return d.filter(function(t){return function(e,t){return e.left<=t&&e.right>=t}(t,e)}).map(function(e){return e.event})},continuesPrior:function(e){return i.continuesPrior(s.start(e),l)},continuesAfter:function(e){var t=s.start(e),r=s.end(e);return i.continuesAfter(t,r,c)}}},E5)}var k5=function(){function e(){var a;sY(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=uY(this,e,[].concat(s))).handleSelectSlot=function(e){var t=a.props,r=t.range;(0,t.onSelectSlot)(r.slice(e.start,e.end+1),e)},a.handleShowMore=function(e,t){var r,n,s,i=a.props,o=i.range,l=i.onShowMore,c=a.slotMetrics(a.props),d=(r=a.containerRef.current,n=".rbc-row-bg",oW(r.querySelectorAll(n)))[0];d&&(s=d.children[e-1]),l(c.getEventsForSlot(e),o[e-1],s,e,t)},a.getContainer=function(){var e=a.props.container;return e?e():a.containerRef.current},a.renderHeadingCell=function(e,t){var r=a.props,n=r.renderHeader,s=r.getNow,i=r.localizer;return n({date:e,key:"header_".concat(t),className:vY("rbc-date-cell",i.isSameDate(e,s())&&"rbc-now")})},a.renderDummy=function(){var e=a.props,t=e.className,n=e.range,s=e.renderHeader,i=e.showAllEvents;return r.createElement("div",{className:t,ref:a.containerRef},r.createElement("div",{className:vY("rbc-row-content",i&&"rbc-row-content-scrollable")},s&&r.createElement("div",{className:"rbc-row",ref:a.headingRowRef},n.map(a.renderHeadingCell)),r.createElement("div",{className:"rbc-row",ref:a.eventRowRef},r.createElement("div",{className:"rbc-row-segment"},r.createElement("div",{className:"rbc-event"},r.createElement("div",{className:"rbc-event-content"},""))))))},a.containerRef=t.createRef(),a.headingRowRef=t.createRef(),a.eventRowRef=t.createRef(),a.slotMetrics=S5(),a}return hY(e,r.Component),oY(e,[{key:"getRowLimit",value:function(){var e,t=gJ(this.eventRowRef.current),r=null!==(e=this.headingRowRef)&&void 0!==e&&e.current?gJ(this.headingRowRef.current):0,a=gJ(this.containerRef.current)-r;return Math.max(Math.floor(a/t),1)}},{key:"render",value:function(){var e=this.props,t=e.date,a=e.rtl,n=e.range,s=e.className,i=e.selected,o=e.selectable,l=e.renderForMeasure,c=e.accessors,d=e.getters,u=e.components,m=e.getNow,h=e.renderHeader,f=e.onSelect,p=e.localizer,g=e.onSelectStart,x=e.onSelectEnd,b=e.onDoubleClick,y=e.onKeyPress,v=e.resourceId,j=e.longPressThreshold,w=e.isAllDay,N=e.resizable,E=e.showAllEvents;if(l)return this.renderDummy();var S=this.slotMetrics(this.props),k=S.levels,C=S.extra,A=E?N5:h4,_=u.weekWrapper,T={selected:i,accessors:c,getters:d,localizer:p,components:u,onSelect:f,onDoubleClick:b,onKeyPress:y,resourceId:v,slotMetrics:S,resizable:N};return r.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},r.createElement(d5,{localizer:p,date:t,getNow:m,rtl:a,range:n,selectable:o,container:this.getContainer,getters:d,onSelectStart:g,onSelectEnd:x,onSelectSlot:this.handleSelectSlot,components:u,longPressThreshold:j,resourceId:v}),r.createElement("div",{className:vY("rbc-row-content",E&&"rbc-row-content-scrollable"),role:"row"},h&&r.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},n.map(this.renderHeadingCell)),r.createElement(A,null,r.createElement(_,Object.assign({isAllDay:w},T,{rtl:this.props.rtl}),k.map(function(e,t){return r.createElement(f5,Object.assign({key:t,segments:e},T))}),!!C.length&&r.createElement(w5,Object.assign({segments:C,onShowMore:this.handleShowMore},T))))))}}])}();k5.defaultProps={minRows:0,maxRows:1/0};var C5=function(e){var t=e.label;return r.createElement("span",{role:"columnheader","aria-sort":"none"},t)},A5=function(e){var t=e.label,a=e.drilldownView,n=e.onDrillDown;return a?r.createElement("button",{type:"button",className:"rbc-button-link",onClick:n},t):r.createElement("span",null,t)},_5=["date","className"],T5=function(){function e(){var a;sY(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=uY(this,e,[].concat(s))).getContainer=function(){return a.containerRef.current},a.renderWeek=function(e,t){var n=a.props,s=n.events,i=n.components,o=n.selectable,l=n.getNow,c=n.selected,d=n.date,u=n.localizer,m=n.longPressThreshold,h=n.accessors,f=n.getters,p=n.showAllEvents,g=a.state,x=g.needLimitMeasure,b=g.rowLimit,y=function(e,t,r,a,n){return e.filter(function(e){return x5(e,t,r,a,n)})}(CV(s),e[0],e[e.length-1],h,u),v=function(e,t,r){var a=CV(e),n=[],s=[];a.forEach(function(e){var a=t.start(e),i=t.end(e);r.daySpan(a,i)>1?n.push(e):s.push(e)});var i=n.sort(function(e,a){return y5(e,a,t,r)}),o=s.sort(function(e,a){return y5(e,a,t,r)});return[].concat(CV(i),CV(o))}(y,h,u);return r.createElement(k5,{key:t,ref:0===t?a.slotRowRef:void 0,container:a.getContainer,className:"rbc-month-row",getNow:l,date:d,range:e,events:v,maxRows:p?1/0:b,selected:c,selectable:o,components:i,accessors:h,getters:f,localizer:u,renderHeader:a.readerDateHeading,renderForMeasure:x,onShowMore:a.handleShowMore,onSelect:a.handleSelectEvent,onDoubleClick:a.handleDoubleClickEvent,onKeyPress:a.handleKeyPressEvent,onSelectSlot:a.handleSelectSlot,longPressThreshold:m,rtl:a.props.rtl,resizable:a.props.resizable,showAllEvents:p})},a.readerDateHeading=function(e){var t=e.date,n=e.className,s=nY(e,_5),i=a.props,o=i.date,l=i.getDrilldownView,c=i.localizer,d=c.neq(o,t,"month"),u=c.isSameDate(t,o),m=l(t),h=c.format(t,"dateFormat"),f=a.props.components.dateHeader||A5;return r.createElement("div",Object.assign({},s,{className:vY(n,d&&"rbc-off-range",u&&"rbc-current"),role:"cell"}),r.createElement(f,{label:h,date:t,drilldownView:m,isOffRange:d,onDrillDown:function(e){return a.handleHeadingClick(t,m,e)}}))},a.handleSelectSlot=function(e,t){a._pendingSelection=a._pendingSelection.concat(e),clearTimeout(a._selectTimer),a._selectTimer=setTimeout(function(){return a.selectDates(t)})},a.handleHeadingClick=function(e,t,r){r.preventDefault(),a.clearSelection(),V4(a.props.onDrillDown,[e,t])},a.handleSelectEvent=function(){a.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];V4(a.props.onSelectEvent,t)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];V4(a.props.onDoubleClickEvent,t)},a.handleKeyPressEvent=function(){a.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];V4(a.props.onKeyPressEvent,t)},a.handleShowMore=function(e,t,r,n,s){var i=a.props,o=i.popup,l=i.onDrillDown,c=i.onShowMore,d=i.getDrilldownView,u=i.doShowMoreDrillDown;if(a.clearSelection(),o){var m=XH(r,a.containerRef.current);a.setState({overlay:{date:t,events:e,position:m,target:s}})}else u&&V4(l,[t,d(t)||b4.DAY]);V4(c,[e,t,n])},a.overlayDisplay=function(){a.setState({overlay:null})},a.state={rowLimit:5,needLimitMeasure:!0,date:null},a.containerRef=t.createRef(),a.slotRowRef=t.createRef(),a._bgRows=[],a._pendingSelection=[],a}return hY(e,r.Component),oY(e,[{key:"componentDidMount",value:function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||sW(function(){e=!1,t.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var e=this.props,t=e.date,a=e.localizer,n=e.className,s=a.visibleDays(t,a),i=IH(s,7);return this._weekCount=i.length,r.createElement("div",{className:vY("rbc-month-view",n),role:"table","aria-label":"Month View",ref:this.containerRef},r.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(i[0])),i.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(e){var t=this.props,a=t.localizer,n=t.components,s=e[0],i=e[e.length-1],o=n.header||C5;return a.range(s,i,"day").map(function(e,t){return r.createElement("div",{key:"header_"+t,className:"rbc-header"},r.createElement(o,{date:e,localizer:a,label:a.format(e,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var e,t,a=this,n=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},s=this.props,i=s.accessors,o=s.localizer,l=s.components,c=s.getters,d=s.selected,u=s.popupOffset,m=s.handleDragStart;return r.createElement(t5,{overlay:n,accessors:i,localizer:o,components:l,getters:c,selected:d,popupOffset:u,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!n.position,overlayDisplay:this.overlayDisplay,onHide:function(){return a.setState({overlay:null})}})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort(function(e,t){return+e-+t});var r=new Date(t[0]),a=new Date(t[t.length-1]);a.setDate(t[t.length-1].getDate()+1),V4(this.props.onSelectSlot,{slots:t,start:r,end:a,action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.date;return{date:r,needLimitMeasure:e.localizer.neq(r,t.date,"month")}}}])}();T5.range=function(e,t){var r=t.localizer;return{start:r.firstVisibleDay(e,r),end:r.lastVisibleDay(e,r)}},T5.navigate=function(e,t,r){var a=r.localizer;switch(t){case f4:return a.add(e,-1,"month");case p4:return a.add(e,1,"month");default:return e}},T5.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var O5=function(e){var t=e.min,r=e.max,a=e.step,n=e.slots,s=e.localizer;return"".concat(+s.startOf(t,"minutes"))+"".concat(+s.startOf(r,"minutes"))+"".concat(a,"-").concat(n)};function D5(e){for(var t=e.min,r=e.max,a=e.step,n=e.timeslots,s=e.localizer,i=O5({step:a,localizer:s}),o=1+s.getTotalMin(t,r),l=s.getMinutesFromMidnight(t),c=Math.ceil((o-1)/(a*n)),d=c*n,u=new Array(c),m=new Array(d),h=0;h<c;h++){u[h]=new Array(n);for(var f=0;f<n;f++){var p=h*n+f,g=p*a;m[p]=u[h][f]=s.getSlotDate(t,l,g)}}var x=m.length*a;function b(e){var r=s.diff(t,e,"minutes")+s.getDstOffset(t,e);return Math.min(r,o)}return m.push(s.getSlotDate(t,l,x)),{groups:u,update:function(e){return O5(e)!==i?D5(e):this},dateIsInGroup:function(e,t){var a=u[t+1];return s.inRange(e,u[t][0],a?a[0]:r,"minutes")},nextSlot:function(e){var t=m[Math.min(m.findIndex(function(t){return t===e||s.eq(t,e)})+1,m.length-1)];return s.eq(t,e)&&(t=s.add(e,a,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(m.length-1,Math.max(0,Math.floor(e*d)));return m[t]},closestSlotFromPoint:function(e,t){var r=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/r)},closestSlotFromDate:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(s.lt(e,t,"minutes"))return m[0];if(s.gt(e,r,"minutes"))return m[m.length-1];var i=s.diff(t,e,"minutes");return m[(i-i%a)/a+n]},startsBeforeDay:function(e){return s.lt(e,t,"day")},startsAfterDay:function(e){return s.gt(e,r,"day")},startsBefore:function(e){return s.lt(s.merge(t,e),t,"minutes")},startsAfter:function(e){return s.gt(s.merge(r,e),r,"minutes")},getRange:function(e,n,i,o){i||(e=s.min(r,s.max(t,e))),o||(n=s.min(r,s.max(t,n)));var l=b(e),c=b(n),u=c>a*d&&!s.eq(r,n)?(l-a)/(a*d)*100:l/(a*d)*100;return{top:u,height:c/(a*d)*100-u,start:b(e),startDate:e,end:b(n),endDate:n}},getCurrentTimePosition:function(e){return b(e)/(a*d)*100}}}var P5=function(){return oY(function e(t,r){var a=r.accessors,n=r.slotMetrics;sY(this,e);var s=n.getRange(a.start(t),a.end(t)),i=s.start,o=s.startDate,l=s.end,c=s.endDate,d=s.top,u=s.height;this.start=i,this.end=l,this.startMs=+o,this.endMs=+c,this.top=d,this.height=u,this.data=t},[{key:"_width",get:function(){return this.rows?100/(this.rows.reduce(function(e,t){return Math.max(e,t.leaves.length+1)},0)+1):this.leaves?(100-this.container._width)/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var r=this.row.leaves;return r.indexOf(this)===r.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,r=e.xOffset,a=e._width;return r+(t.indexOf(this)+1)*a}}])}();function M5(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function F5(e){for(var t=e.events,r=e.minimumStartDifference,a=e.slotMetrics,n=e.accessors,s=function(e){for(var t=K0(e,["startMs",function(e){return-e.endMs}]),r=[];t.length>0;){var a=t.shift();r.push(a);for(var n=0;n<t.length;n++){var s=t[n];if(!(a.endMs>s.startMs)){if(n>0){var i=t.splice(n,1)[0];r.push(i)}break}}}return r}(t.map(function(e){return new P5(e,{slotMetrics:a,accessors:n})})),i=[],o=function(){var e=s[l],t=i.find(function(t){return t.end>e.start||Math.abs(e.start-t.start)<r});if(!t)return e.rows=[],i.push(e),1;e.container=t;for(var a=null,n=t.rows.length-1;!a&&n>=0;n--)M5(t.rows[n],e,r)&&(a=t.rows[n]);a?(a.leaves.push(e),e.row=a):(e.leaves=[],t.rows.push(e))},l=0;l<s.length;l++)o();return s.map(function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}})}function I5(e,t,r){for(var a=0;a<e.friends.length;++a)if(!(r.indexOf(e.friends[a])>-1)){t=t>e.friends[a].idx?t:e.friends[a].idx,r.push(e.friends[a]);var n=I5(e.friends[a],t,r);t=t>n?t:n}return t}var R5={overlap:F5,"no-overlap":function(e){var t=F5({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort(function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.height!==t.height?e.top+e.height<t.top+t.height?1:-1:0});for(var r=0;r<t.length;++r)t[r].friends=[],delete t[r].style.left,delete t[r].style.left,delete t[r].idx,delete t[r].size;for(var a=0;a<t.length-1;++a)for(var n=t[a],s=n.style.top,i=n.style.top+n.style.height,o=a+1;o<t.length;++o){var l=t[o],c=l.style.top,d=l.style.top+l.style.height;(c>=s&&d<=i||d>s&&d<=i||c>=s&&c<i)&&(n.friends.push(l),l.friends.push(n))}for(var u=0;u<t.length;++u){for(var m=t[u],h=[],f=0;f<100;++f)h.push(1);for(var p=0;p<m.friends.length;++p)void 0!==m.friends[p].idx&&(h[m.friends[p].idx]=0);m.idx=h.indexOf(1)}for(var g=0;g<t.length;++g){var x;if(!t[g].size){var b=[];x=100/(I5(t[g],0,b)+1),t[g].size=x;for(var y=0;y<b.length;++y)b[y].size=x}}for(var v=0;v<t.length;++v){var j=t[v];j.style.left=j.idx*j.size;for(var w=0,N=0;N<j.friends.length;++N){var E=j.friends[N].idx;w=w>E?w:E}w<=j.idx&&(j.size=100-j.idx*j.size);var S=0===j.idx?0:3;j.style.width="calc(".concat(j.size,"% - ").concat(S,"px)"),j.style.height="calc(".concat(j.style.height,"% - 2px)"),j.style.xOffset="calc(".concat(j.style.left,"% + ").concat(S,"px)")}return t}},L5=function(){function e(){return sY(this,e),uY(this,e,arguments)}return hY(e,t.Component),oY(e,[{key:"render",value:function(){var e=this.props,t=e.renderSlot,a=e.resource,n=e.group,s=e.getters,i=e.components,o=(void 0===i?{}:i).timeSlotWrapper,l=void 0===o?h4:o,c=s?s.slotGroupProp(n):{};return r.createElement("div",Object.assign({className:"rbc-timeslot-group"},c),n.map(function(e,n){var i=s?s.slotProp(e,a):{};return r.createElement(l,{key:n,value:e,resource:a},r.createElement("div",Object.assign({},i,{className:vY("rbc-time-slot",i.className)}),t&&t(e,n)))}))}}])}();function z5(e){return"string"==typeof e?e:e+"%"}function $5(e){var t=e.style,a=e.className,n=e.event,s=e.accessors,i=e.rtl,o=e.selected,l=e.label,c=e.continuesPrior,d=e.continuesAfter,u=e.getters,m=e.onClick,h=e.onDoubleClick,f=e.isBackgroundEvent,p=e.onKeyPress,g=e.components,x=g.event,b=g.eventWrapper,y=s.title(n),v=s.tooltip(n),j=s.end(n),w=s.start(n),N=u.eventProp(n,w,j,o),E=[r.createElement("div",{key:"1",className:"rbc-event-label"},l),r.createElement("div",{key:"2",className:"rbc-event-content"},x?r.createElement(x,{event:n,title:y}):y)],S=t.height,k=t.top,C=t.width,A=t.xOffset,_=rY(rY({},N.style),{},eY({top:z5(k),height:z5(S),width:z5(C)},i?"right":"left",z5(A)));return r.createElement(b,Object.assign({type:"time"},e),r.createElement("div",{role:"button",tabIndex:0,onClick:m,onDoubleClick:h,style:_,onKeyDown:p,title:v?("string"==typeof l?l+": ":"")+v:void 0,className:vY(f?"rbc-background-event":"rbc-event",a,N.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":d})},E))}var q5=function(e){var t=e.children,a=e.className,n=e.style,s=e.innerRef;return r.createElement("div",{className:a,style:n,ref:s},t)},U5=r.forwardRef(function(e,t){return r.createElement(q5,Object.assign({},e,{innerRef:t}))}),B5=["dayProp"],Y5=["eventContainerWrapper","timeIndicatorWrapper"],V5=function(){function e(){var a;sY(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=uY(this,e,[].concat(s))).state={selecting:!1,timeIndicatorPosition:null},a.intervalTriggered=!1,a.renderEvents=function(e){var t=e.events,n=e.isBackgroundEvent,s=a.props,i=s.rtl,o=s.selected,l=s.accessors,c=s.localizer,d=s.getters,u=s.components,m=s.step,h=s.timeslots,f=s.dayLayoutAlgorithm,p=s.resizable,g=a.slotMetrics,x=c.messages,b=function(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in R5&&(r=R5[t]),function(e){return!!(e&&e.constructor&&e.call&&e.apply)}(r)?r.apply(this,arguments):[]}({events:t,accessors:l,slotMetrics:g,minimumStartDifference:Math.ceil(m*h/2),dayLayoutAlgorithm:f});return b.map(function(e,t){var s,m,h=e.event,f=e.style,b=l.end(h),y=l.start(h),v=null!==(s=l.eventId(h))&&void 0!==s?s:"evt_"+t,j="eventTimeRangeFormat",w=g.startsBeforeDay(y),N=g.startsAfterDay(b);w?j="eventTimeRangeEndFormat":N&&(j="eventTimeRangeStartFormat"),m=w&&N?x.allDay:c.format({start:y,end:b},j);var E=w||g.startsBefore(y),S=N||g.startsAfter(b);return r.createElement($5,{style:f,event:h,label:m,key:v,getters:d,rtl:i,components:u,continuesPrior:E,continuesAfter:S,accessors:l,resource:a.props.resource,selected:K4(h,o),onClick:function(e){return a._select(rY(rY(rY({},h),a.props.resource&&{sourceResource:a.props.resource}),n&&{isBackgroundEvent:!0}),e)},onDoubleClick:function(e){return a._doubleClick(h,e)},isBackgroundEvent:n,onKeyPress:function(e){return a._keyPress(h,e)},resizable:p})})},a._selectable=function(){var e=a.containerRef.current,t=a.props,r=t.longPressThreshold,n=t.localizer,s=a._selector=new i5(function(){return e},{longPressThreshold:r}),i=function(e){var t=a.props.onSelecting,r=a.state||{},s=o(e),i=s.startDate,l=s.endDate;t&&(n.eq(r.startDate,i,"minutes")&&n.eq(r.endDate,l,"minutes")||!1===t({start:i,end:l,resourceId:a.props.resource}))||a.state.start===s.start&&a.state.end===s.end&&a.state.selecting===s.selecting||a.setState(s)},o=function(t){var r=a.slotMetrics.closestSlotFromPoint(t,l5(e));a.state.selecting||(a._initialSlot=r);var s=a._initialSlot;n.lte(s,r)?r=a.slotMetrics.nextSlot(r):n.gt(s,r)&&(s=a.slotMetrics.nextSlot(s));var i=a.slotMetrics.getRange(n.min(s,r),n.max(s,r));return rY(rY({},i),{},{selecting:!0,top:"".concat(i.top,"%"),height:"".concat(i.height,"%")})},l=function(e,t){if(!a5(a.containerRef.current,e)){var r=o(e),n=r.startDate,s=r.endDate;a._selectSlot({startDate:n,endDate:s,action:t,box:e})}a.setState({selecting:!1})};s.on("selecting",i),s.on("selectStart",i),s.on("beforeSelect",function(e){if("ignoreEvents"===a.props.selectable)return!a5(a.containerRef.current,e)}),s.on("click",function(e){return l(e,"click")}),s.on("doubleClick",function(e){return l(e,"doubleClick")}),s.on("select",function(e){a.state.selecting&&(a._selectSlot(rY(rY({},a.state),{},{action:"select",bounds:e})),a.setState({selecting:!1}))}),s.on("reset",function(){a.state.selecting&&a.setState({selecting:!1})})},a._teardownSelectable=function(){a._selector&&(a._selector.teardown(),a._selector=null)},a._selectSlot=function(e){for(var t=e.startDate,r=e.endDate,n=e.action,s=e.bounds,i=e.box,o=t,l=[];a.props.localizer.lte(o,r);)l.push(o),o=new Date(+o+60*a.props.step*1e3);V4(a.props.onSelectSlot,{slots:l,start:t,end:r,resourceId:a.props.resource,action:n,bounds:s,box:i})},a._select=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];V4(a.props.onSelectEvent,t)},a._doubleClick=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];V4(a.props.onDoubleClickEvent,t)},a._keyPress=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];V4(a.props.onKeyPressEvent,t)},a.slotMetrics=D5(a.props),a.containerRef=t.createRef(),a}return hY(e,r.Component),oY(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(e,t){this.props.selectable&&!e.selectable&&this._selectable(),!this.props.selectable&&e.selectable&&this._teardownSelectable();var r=this.props,a=r.getNow,n=r.isNow,s=r.localizer,i=r.date,o=r.min,l=r.max,c=s.neq(e.getNow(),a(),"minutes");if(e.isNow!==n||c){if(this.clearTimeIndicatorInterval(),n){var d=!c&&s.eq(e.date,i,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(d)}}else n&&(s.neq(e.min,o,"minutes")||s.neq(e.max,l,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalTriggered||t||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,t=e.min,r=e.max,a=(0,e.getNow)();if(a>=t&&a<=r){var n=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:n})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var e=this.props,t=e.date,a=e.max,n=e.rtl,s=e.isNow,i=e.resource,o=e.accessors,l=e.localizer,c=e.getters,d=c.dayProp,u=nY(c,B5),m=e.components,h=m.eventContainerWrapper,f=m.timeIndicatorWrapper,p=nY(m,Y5);this.slotMetrics=this.slotMetrics.update(this.props);var g=this.slotMetrics,x=this.state,b=x.selecting,y=x.top,v=x.height,j={start:x.startDate,end:x.endDate},w=d(a,i),N=w.className,E=w.style,S={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},k=p.dayColumnWrapper||U5;return r.createElement(k,{ref:this.containerRef,date:t,style:E,className:vY(N,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",b&&"rbc-slot-selecting"),slotMetrics:g,resource:i},g.groups.map(function(e,t){return r.createElement(L5,{key:t,group:e,resource:i,getters:u,components:p})}),r.createElement(h,{localizer:l,resource:i,accessors:o,getters:u,components:p,slotMetrics:g},r.createElement("div",{className:vY("rbc-events-container",n&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),b&&r.createElement("div",{className:"rbc-slot-selection",style:{top:y,height:v}},r.createElement("span",null,l.format(j,"selectRangeFormat"))),s&&this.intervalTriggered&&r.createElement(f,S,r.createElement("div",S)))}}])}();V5.defaultProps={dragThroughEvents:!0,timeslots:2};var H5=function(e){var t=e.label;return r.createElement(r.Fragment,null,t)},W5=function(){function e(){var t;sY(this,e);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(t=uY(this,e,[].concat(n))).handleHeaderClick=function(e,r,a){a.preventDefault(),V4(t.props.onDrillDown,[e,r])},t.renderRow=function(e){var a=t.props,n=a.events,s=a.rtl,i=a.selectable,o=a.getNow,l=a.range,c=a.getters,d=a.localizer,u=a.accessors,m=a.components,h=a.resizable,f=u.resourceId(e),p=e?n.filter(function(e){return u.resource(e)===f}):n;return r.createElement(k5,{isAllDay:!0,rtl:s,getNow:o,minRows:2,maxRows:t.props.allDayMaxRows+1,range:l,events:p,resourceId:f,className:"rbc-allday-cell",selectable:i,selected:t.props.selected,components:m,accessors:u,getters:c,localizer:d,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:h})},t}return hY(e,r.Component),oY(e,[{key:"renderHeaderCells",value:function(e){var t=this,a=this.props,n=a.localizer,s=a.getDrilldownView,i=a.getNow,o=a.getters.dayProp,l=a.components.header,c=void 0===l?C5:l,d=i();return e.map(function(e,a){var i=s(e),l=n.format(e,"dayFormat"),u=o(e),m=u.className,h=u.style,f=r.createElement(c,{date:e,label:l,localizer:n});return r.createElement("div",{key:a,style:h,className:vY("rbc-header",m,n.isSameDate(e,d)&&"rbc-today")},i?r.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(r){return t.handleHeaderClick(e,i,r)}},f):r.createElement("span",null,f))})}},{key:"render",value:function(){var e=this,t=this.props,a=t.width,n=t.rtl,s=t.resources,i=t.range,o=t.events,l=t.getNow,c=t.accessors,d=t.selectable,u=t.components,m=t.getters,h=t.scrollRef,f=t.localizer,p=t.isOverflowing,g=t.components,x=g.timeGutterHeader,b=g.resourceHeader,y=void 0===b?H5:b,v=t.resizable,j={};p&&(j[n?"marginLeft":"marginRight"]="".concat(LG()-1,"px"));var w=s.groupEvents(o);return r.createElement("div",{style:j,ref:h,className:vY("rbc-time-header",p&&"rbc-overflowing")},r.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},x&&r.createElement(x,null)),s.map(function(t,a){var s=bY(t,2),o=s[0],h=s[1];return r.createElement("div",{className:"rbc-time-header-content",key:o||a},h&&r.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(a)},r.createElement("div",{className:"rbc-header"},r.createElement(y,{index:a,label:c.resourceTitle(h),resource:h}))),r.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(i.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(i)),r.createElement(k5,{isAllDay:!0,rtl:n,getNow:l,minRows:2,maxRows:e.props.allDayMaxRows+1,range:i,events:w.get(o)||[],resourceId:h&&o,className:"rbc-allday-cell",selectable:d,selected:e.props.selected,components:u,accessors:c,getters:m,localizer:f,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyDown:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:v}))}))}}])}(),G5=function(){function e(){var t;sY(this,e);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=uY(this,e,[].concat(a))).handleHeaderClick=function(e,r,a){a.preventDefault(),V4(t.props.onDrillDown,[e,r])},t}return hY(e,r.Component),oY(e,[{key:"renderHeaderCells",value:function(e){var t=this,a=this.props,n=a.localizer,s=a.getDrilldownView,i=a.getNow,o=a.getters.dayProp,l=a.components,c=l.header,d=void 0===c?C5:c,u=l.resourceHeader,m=void 0===u?H5:u,h=a.resources,f=a.accessors,p=a.events,g=a.rtl,x=a.selectable,b=a.components,y=a.getters,v=a.resizable,j=i(),w=h.groupEvents(p);return e.map(function(a,l){var c=s(a),u=n.format(a,"dayFormat"),p=o(a),N=p.className,E=p.style,S=r.createElement(d,{date:a,label:u,localizer:n});return r.createElement("div",{key:l,className:"rbc-time-header-content rbc-resource-grouping"},r.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(e.length<=1?" rbc-time-header-cell-single-day":"")},r.createElement("div",{style:E,className:vY("rbc-header",N,n.isSameDate(a,j)&&"rbc-today")},c?r.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(e){return t.handleHeaderClick(a,c,e)}},S):r.createElement("span",null,S))),r.createElement("div",{className:"rbc-row"},h.map(function(e,t){var s=bY(e,2),i=s[0],o=s[1];return r.createElement("div",{key:"resource_".concat(i,"_").concat(t),className:vY("rbc-header",N,n.isSameDate(a,j)&&"rbc-today")},r.createElement(m,{index:t,label:f.resourceTitle(o),resource:o}))})),r.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},h.map(function(e,s){var o=bY(e,2),l=o[0],c=o[1],d=(w.get(l)||[]).filter(function(e){return n.isSameDate(e.start,a)||n.isSameDate(e.end,a)});return r.createElement(k5,{key:"resource_".concat(l,"_").concat(s),isAllDay:!0,rtl:g,getNow:i,minRows:2,maxRows:t.props.allDayMaxRows+1,range:[a],events:d,resourceId:c&&l,className:"rbc-allday-cell",selectable:x,selected:t.props.selected,components:b,accessors:f,getters:y,localizer:n,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyDown:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:v})})))})}},{key:"render",value:function(){var e=this.props,t=e.width,a=e.rtl,n=e.range,s=e.scrollRef,i=e.isOverflowing,o=e.components.timeGutterHeader,l={};return i&&(l[a?"marginLeft":"marginRight"]="".concat(LG()-1,"px")),r.createElement("div",{style:l,ref:s,className:vY("rbc-time-header",i&&"rbc-overflowing")},r.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:t,minWidth:t,maxWidth:t}},o&&r.createElement(o,null)),this.renderHeaderCells(n))}}])}(),K5=function(e){var a=e.min,n=e.max,s=e.timeslots,i=e.step,o=e.localizer,l=e.getNow,c=e.resource,d=e.components,u=e.getters,m=e.gutterRef,h=d.timeGutterWrapper,f=t.useMemo(function(){return function(e){var t=e.min,r=e.max,a=e.localizer;return a.getTimezoneOffset(t)!==a.getTimezoneOffset(r)?{start:a.add(t,-1,"day"),end:a.add(r,-1,"day")}:{start:t,end:r}}({min:a,max:n,localizer:o})},[null==a?void 0:a.toISOString(),null==n?void 0:n.toISOString(),o]),p=f.start,g=f.end,x=bY(t.useState(D5({min:p,max:g,timeslots:s,step:i,localizer:o})),2),b=x[0],y=x[1];t.useEffect(function(){b&&y(b.update({min:p,max:g,timeslots:s,step:i,localizer:o}))},[null==p?void 0:p.toISOString(),null==g?void 0:g.toISOString(),s,i]);var v=t.useCallback(function(e,t){if(t)return null;var a=b.dateIsInGroup(l(),t);return r.createElement("span",{className:vY("rbc-label",a&&"rbc-now")},o.format(e,"timeGutterFormat"))},[b,o,l]);return r.createElement(h,{slotMetrics:b},r.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:m},b.groups.map(function(e,t){return r.createElement(L5,{key:t,group:e,resource:c,components:d,renderSlot:v,getters:u})})))},Q5=r.forwardRef(function(e,t){return r.createElement(K5,Object.assign({gutterRef:t},e))}),X5={},J5=function(){function e(a){var n;return sY(this,e),(n=uY(this,e,[a])).handleScroll=function(e){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=e.target.scrollLeft)},n.handleResize=function(){nW(n.rafHandle),n.rafHandle=sW(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];V4(n.props.onKeyPressEvent,t)},n.handleSelectEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];V4(n.props.onSelectEvent,t)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];V4(n.props.onDoubleClickEvent,t)},n.handleShowMore=function(e,t,r,a,s){var i=n.props,o=i.popup,l=i.onDrillDown,c=i.onShowMore,d=i.getDrilldownView,u=i.doShowMoreDrillDown;if(n.clearSelection(),o){var m=XH(r,n.containerRef.current);n.setState({overlay:{date:t,events:e,position:rY(rY({},m),{},{width:"200px"}),target:s}})}else u&&V4(l,[t,d(t)||b4.DAY]);V4(c,[e,t,a])},n.handleSelectAllDaySlot=function(e,t){var r=n.props.onSelectSlot,a=new Date(e[0]),s=new Date(e[e.length-1]);s.setDate(e[e.length-1].getDate()+1),V4(r,{slots:e,start:a,end:s,action:t.action,resourceId:t.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var e=n.contentRef.current;if(null!=e&&e.scrollHeight){var t=e.scrollHeight>e.clientHeight;n.state.isOverflowing!==t&&(n._updatingOverflow=!0,n.setState({isOverflowing:t},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=F0(function(e,t){return function(e,t){return{map:function(r){return e?e.map(function(e,a){return r([t.resourceId(e),e],a)}):[r([X5,null],0)]},groupEvents:function(r){var a=new Map;return e?(r.forEach(function(e){var r=t.resource(e)||X5;if(Array.isArray(r))r.forEach(function(t){var r=a.get(t)||[];r.push(e),a.set(t,r)});else{var n=a.get(r)||[];n.push(e),a.set(r,n)}}),a):(a.set(X5,r),a)}}}(e,t)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=r.createRef(),n.contentRef=r.createRef(),n.containerRef=r.createRef(),n._scrollRatio=null,n.gutterRef=t.createRef(),n}return hY(e,t.Component),oY(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){null==this.props.width&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),nW(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(e,t,a,n,s,i,o,l,c,d){var u=this.props,m=u.min,h=u.max,f=(n.get(t)||[]).filter(function(t){return i.inRange(e,o.start(t),o.end(t),"day")}),p=(s.get(t)||[]).filter(function(t){return i.inRange(e,o.start(t),o.end(t),"day")});return r.createElement(V5,Object.assign({},this.props,{localizer:i,min:i.merge(e,m),max:i.merge(e,h),resource:a&&t,components:l,isNow:i.isSameDate(e,d),key:"".concat(t,"-").concat(e),date:e,events:f,backgroundEvents:p,dayLayoutAlgorithm:c}))}},{key:"renderResourcesFirst",value:function(e,t,r,a,n,s,i,o,l){var c=this;return t.map(function(t){var d=bY(t,2),u=d[0],m=d[1];return e.map(function(e){return c.renderDayColumn(e,u,m,r,a,n,s,o,l,i)})})}},{key:"renderRangeFirst",value:function(e,t,a,n,s,i,o,l,c){var d=this;return e.map(function(e){return r.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:e},t.map(function(t){var u=bY(t,2),m=u[0],h=u[1];return r.createElement("div",{style:{flex:1},key:i.resourceId(h)},d.renderDayColumn(e,m,h,a,n,s,i,l,c,o))}))})}},{key:"renderEvents",value:function(e,t,r,a){var n=this.props,s=n.accessors,i=n.localizer,o=n.resourceGroupingLayout,l=n.components,c=n.dayLayoutAlgorithm,d=this.memoizedResources(this.props.resources,s),u=d.groupEvents(t),m=d.groupEvents(r);return o?this.renderRangeFirst(e,d,u,m,i,s,a,l,c):this.renderResourcesFirst(e,d,u,m,i,s,a,l,c)}},{key:"render",value:function(){var e,t=this.props,a=t.events,n=t.backgroundEvents,s=t.range,i=t.width,o=t.rtl,l=t.selected,c=t.getNow,d=t.resources,u=t.components,m=t.accessors,h=t.getters,f=t.localizer,p=t.min,g=t.max,x=t.showMultiDayTimes,b=t.longPressThreshold,y=t.resizable,v=t.resourceGroupingLayout;i=i||this.state.gutterWidth;var j=s[0],w=s[s.length-1];this.slots=s.length;var N=[],E=[],S=[];a.forEach(function(e){if(x5(e,j,w,m,f)){var t=m.start(e),r=m.end(e);m.allDay(e)||f.startAndEndAreDateOnly(t,r)||!x&&!f.isSameDate(t,r)?N.push(e):E.push(e)}}),n.forEach(function(e){x5(e,j,w,m,f)&&S.push(e)}),N.sort(function(e,t){return y5(e,t,m,f)});var k={range:s,events:N,width:i,rtl:o,getNow:c,localizer:f,selected:l,allDayMaxRows:this.props.showAllEvents?1/0:null!==(e=this.props.allDayMaxRows)&&void 0!==e?e:1/0,resources:this.memoizedResources(d,m),selectable:this.props.selectable,accessors:m,getters:h,components:u,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:b,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:y};return r.createElement("div",{className:vY("rbc-time-view",d&&"rbc-time-view-resources"),ref:this.containerRef},d&&d.length>1&&v?r.createElement(G5,k):r.createElement(W5,k),this.props.popup&&this.renderOverlay(),r.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},r.createElement(Q5,{date:j,ref:this.gutterRef,localizer:f,min:f.merge(j,p),max:f.merge(j,g),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:u,className:"rbc-time-gutter",getters:h}),this.renderEvents(s,E,S,c())))}},{key:"renderOverlay",value:function(){var e,t,a=this,n=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},s=this.props,i=s.accessors,o=s.localizer,l=s.components,c=s.getters,d=s.selected,u=s.popupOffset,m=s.handleDragStart;return r.createElement(t5,{overlay:n,accessors:i,localizer:o,components:l,getters:c,selected:d,popupOffset:u,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!n.position,overlayDisplay:this.overlayDisplay,onHide:function(){return a.setState({overlay:null})}})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var t,r=null!==(t=e.gutterRef)&&void 0!==t&&t.current?I0(e.gutterRef.current):void 0;r&&e.state.gutterWidth!==r&&e.setState({gutterWidth:r})})}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio&&!0===this.props.enableAutoScroll){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,r=e.max,a=e.scrollToTime,n=e.localizer,s=n.diff(n.merge(a,t),a,"milliseconds"),i=n.diff(t,r,"milliseconds");this._scrollRatio=s/i}}])}();J5.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var Z5=["date","localizer","min","max","scrollToTime","enableAutoScroll"],e6=function(){function e(){return sY(this,e),uY(this,e,arguments)}return hY(e,r.Component),oY(e,[{key:"render",value:function(){var t=this.props,a=t.date,n=t.localizer,s=t.min,i=void 0===s?n.startOf(new Date,"day"):s,o=t.max,l=void 0===o?n.endOf(new Date,"day"):o,c=t.scrollToTime,d=void 0===c?n.startOf(new Date,"day"):c,u=t.enableAutoScroll,m=void 0===u||u,h=nY(t,Z5),f=e.range(a,{localizer:n});return r.createElement(J5,Object.assign({},h,{range:f,eventOffset:10,localizer:n,min:i,max:l,scrollToTime:d,enableAutoScroll:m}))}}])}();e6.range=function(e,t){return[t.localizer.startOf(e,"day")]},e6.navigate=function(e,t,r){var a=r.localizer;switch(t){case f4:return a.add(e,-1,"day");case p4:return a.add(e,1,"day");default:return e}},e6.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var t6=["date","localizer","min","max","scrollToTime","enableAutoScroll"],r6=function(){function e(){return sY(this,e),uY(this,e,arguments)}return hY(e,r.Component),oY(e,[{key:"render",value:function(){var t=this.props,a=t.date,n=t.localizer,s=t.min,i=void 0===s?n.startOf(new Date,"day"):s,o=t.max,l=void 0===o?n.endOf(new Date,"day"):o,c=t.scrollToTime,d=void 0===c?n.startOf(new Date,"day"):c,u=t.enableAutoScroll,m=void 0===u||u,h=nY(t,t6),f=e.range(a,this.props);return r.createElement(J5,Object.assign({},h,{range:f,eventOffset:15,localizer:n,min:i,max:l,scrollToTime:d,enableAutoScroll:m}))}}])}();r6.defaultProps=J5.defaultProps,r6.navigate=function(e,t,r){var a=r.localizer;switch(t){case f4:return a.add(e,-1,"week");case p4:return a.add(e,1,"week");default:return e}},r6.range=function(e,t){var r=t.localizer,a=r.startOfWeek(),n=r.startOf(e,"week",a),s=r.endOf(e,"week",a);return r.range(n,s)},r6.title=function(e,t){var r=t.localizer,a=Q0(r6.range(e,{localizer:r})),n=a[0],s=a.slice(1);return r.format({start:n,end:s.pop()},"dayRangeHeaderFormat")};var a6=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function n6(e,t){return r6.range(e,t).filter(function(e){return-1===[6,0].indexOf(e.getDay())})}var s6=function(){function e(){return sY(this,e),uY(this,e,arguments)}return hY(e,r.Component),oY(e,[{key:"render",value:function(){var e=this.props,t=e.date,a=e.localizer,n=e.min,s=void 0===n?a.startOf(new Date,"day"):n,i=e.max,o=void 0===i?a.endOf(new Date,"day"):i,l=e.scrollToTime,c=void 0===l?a.startOf(new Date,"day"):l,d=e.enableAutoScroll,u=void 0===d||d,m=nY(e,a6),h=n6(t,this.props);return r.createElement(J5,Object.assign({},m,{range:h,eventOffset:15,localizer:a,min:s,max:o,scrollToTime:c,enableAutoScroll:u}))}}])}();function i6(e){var a=e.accessors,n=e.components,s=e.date,i=e.events,o=e.getters,l=e.length,c=void 0===l?30:l,d=e.localizer,u=e.onDoubleClickEvent,m=e.onSelectEvent,h=e.selected,f=t.useRef(null),p=t.useRef(null),g=t.useRef(null),x=t.useRef(null),b=t.useRef(null);t.useEffect(function(){v()});var y=function(e,t){var s="",i=n.time,o=d.messages.allDay,l=a.end(t),c=a.start(t);return a.allDay(t)||(d.eq(c,l)?o=d.format(c,"agendaTimeFormat"):d.isSameDate(c,l)?o=d.format({start:c,end:l},"agendaTimeRangeFormat"):d.isSameDate(e,c)?o=d.format(c,"agendaTimeFormat"):d.isSameDate(e,l)&&(o=d.format(l,"agendaTimeFormat"))),d.gt(e,c,"day")&&(s="rbc-continues-prior"),d.lt(e,l,"day")&&(s+=" rbc-continues-after"),r.createElement("span",{className:s.trim()},i?r.createElement(i,{event:t,day:e,label:o}):o)},v=function(){if(b.current){var e=f.current,t=b.current.firstChild;if(t){var r,a,n=x.current.scrollHeight>x.current.clientHeight,s=[],i=s;s=[I0(t.children[0]),I0(t.children[1])],i[0]===s[0]&&i[1]===s[1]||(p.current.style.width=s[0]+"px",g.current.style.width=s[1]+"px"),n?(a="rbc-header-overflowing",(r=e).classList?r.classList.add(a):function(e,t){return e.classList?e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,a)||("string"==typeof r.className?r.className=r.className+" "+a:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+a)),e.style.marginRight=LG()+"px"):function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=RG(e.className,t):e.setAttribute("class",RG(e.className&&e.className.baseVal||"",t))}(e,"rbc-header-overflowing")}}},j=d.messages,w=d.add(s,c,"day"),N=d.range(s,w,"day");return(i=i.filter(function(e){return x5(e,d.startOf(s,"day"),d.endOf(w,"day"),a,d)})).sort(function(e,t){return+a.start(e)-+a.start(t)}),r.createElement("div",{className:"rbc-agenda-view"},0!==i.length?r.createElement(r.Fragment,null,r.createElement("table",{ref:f,className:"rbc-agenda-table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"rbc-header",ref:p},j.date),r.createElement("th",{className:"rbc-header",ref:g},j.time),r.createElement("th",{className:"rbc-header"},j.event)))),r.createElement("div",{className:"rbc-agenda-content",ref:x},r.createElement("table",{className:"rbc-agenda-table"},r.createElement("tbody",{ref:b},N.map(function(e,t){return function(e,t,s){var i=n.event,l=n.date;return t=t.filter(function(t){return x5(t,d.startOf(e,"day"),d.endOf(e,"day"),a,d)}),t.map(function(n,c){var f=a.title(n),p=a.end(n),g=a.start(n),x=o.eventProp(n,g,p,K4(n,h)),b=0===c&&d.format(e,"agendaDateFormat"),v=0===c&&r.createElement("td",{rowSpan:t.length,className:"rbc-agenda-date-cell"},l?r.createElement(l,{day:e,label:b}):b);return r.createElement("tr",{key:s+"_"+c,className:x.className,style:x.style},v,r.createElement("td",{className:"rbc-agenda-time-cell"},y(e,n)),r.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(e){return m&&m(n,e)},onDoubleClick:function(e){return u&&u(n,e)}},i?r.createElement(i,{event:n,title:f}):f))},[])}(e,i,t)}))))):r.createElement("span",{className:"rbc-agenda-empty"},j.noEventsInRange))}s6.defaultProps=J5.defaultProps,s6.range=n6,s6.navigate=r6.navigate,s6.title=function(e,t){var r=t.localizer,a=Q0(n6(e,{localizer:r})),n=a[0],s=a.slice(1);return r.format({start:n,end:s.pop()},"dayRangeHeaderFormat")},i6.range=function(e,t){var r=t.length,a=void 0===r?30:r;return{start:e,end:t.localizer.add(e,a,"day")}},i6.navigate=function(e,t,r){var a=r.length,n=void 0===a?30:a,s=r.localizer;switch(t){case f4:return s.add(e,-n,"day");case p4:return s.add(e,n,"day");default:return e}},i6.title=function(e,t){var r=t.length,a=void 0===r?30:r,n=t.localizer,s=n.add(e,a,"day");return n.format({start:e,end:s},"agendaHeaderFormat")};var o6=eY(eY(eY(eY(eY({},b4.MONTH,T5),b4.WEEK,r6),b4.WORK_WEEK,s6),b4.DAY,e6),b4.AGENDA,i6),l6=["action","date","today"],c6=function(e){return function(t){return function(e,t){var r=null;return"function"==typeof t?r=t(e):"string"==typeof t&&"object"===JB(e)&&null!=e&&t in e&&(r=e[t]),r}(t,e)}},d6=["view","date","getNow","onNavigate"],u6=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function m6(e){if(Array.isArray(e))return e;for(var t=[],r=0,a=Object.entries(e);r<a.length;r++){var n=bY(a[r],2),s=n[0];n[1]&&t.push(s)}return t}var h6=function(){function e(){var t;sY(this,e);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=uY(this,e,[].concat(a))).getViews=function(){var e=t.props.views;return Array.isArray(e)?Q2(e,function(e,t){return e[t]=o6[t]},{}):"object"===JB(e)?p1(e,function(e,t){return!0===e?o6[t]:e}):o6},t.getView=function(){return t.getViews()[t.props.view]},t.getDrilldownView=function(e){var r=t.props,a=r.view,n=r.drilldownView,s=r.getDrilldownView;return s?s(e,a,Object.keys(t.getViews())):n},t.handleRangeChange=function(e,r,a){var n=t.props,s=n.onRangeChange,i=n.localizer;s&&r.range&&s(r.range(e,{localizer:i}),a)},t.handleNavigate=function(e,r){var a=t.props,n=a.view,s=a.date,i=a.getNow,o=a.onNavigate,l=nY(a,d6),c=t.getView(),d=i();s=function(e,t){var r=t.action,a=t.date,n=t.today,s=nY(t,l6);switch(e="string"==typeof e?o6[e]:e,r){case g4:a=n||new Date;break;case x4:break;default:SY(e&&"function"==typeof e.navigate,"Calendar View components must implement a static `.navigate(date, action)` method.s"),a=e.navigate(a,r,s)}return a}(c,rY(rY({},l),{},{action:e,date:r||s||d,today:d})),o(s,n,e),t.handleRangeChange(s,c)},t.handleViewChange=function(e){e!==t.props.view&&function(e,t){return-1!==m6(t.views).indexOf(e)}(e,t.props)&&t.props.onView(e);var r=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),r[e],e)},t.handleSelectEvent=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];V4(t.props.onSelectEvent,r)},t.handleDoubleClickEvent=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];V4(t.props.onDoubleClickEvent,r)},t.handleKeyPressEvent=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];V4(t.props.onKeyPressEvent,r)},t.handleSelectSlot=function(e){V4(t.props.onSelectSlot,e)},t.handleDrillDown=function(e,r){var a=t.props.onDrillDown;a?a(e,r,t.drilldownView):(r&&t.handleViewChange(r),t.handleNavigate(x4,e))},t.state={context:e.getContext(t.props)},t}return hY(e,r.Component),oY(e,[{key:"render",value:function(){var e=this.props,t=e.view,a=e.toolbar,n=e.events,s=e.backgroundEvents,i=e.resourceGroupingLayout,o=e.style,l=e.className,c=e.elementProps,d=e.date,u=e.getNow,m=e.length,h=e.showMultiDayTimes,f=e.onShowMore,p=e.doShowMoreDrillDown;e.components,e.formats,e.messages,e.culture;var g=nY(e,u6);d=d||u();var x=this.getView(),b=this.state.context,y=b.accessors,v=b.components,j=b.getters,w=b.localizer,N=b.viewNames,E=v.toolbar||Y4,S=x.title(d,{localizer:w,length:m});return r.createElement("div",Object.assign({},c,{className:vY(l,"rbc-calendar",g.rtl&&"rbc-rtl"),style:o}),a&&r.createElement(E,{date:d,view:t,views:N,label:S,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:w}),r.createElement(x,Object.assign({},g,{events:n,backgroundEvents:s,date:d,getNow:u,length:m,localizer:w,getters:j,components:v,accessors:y,showMultiDayTimes:h,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:f,doShowMoreDrillDown:p,resourceGroupingLayout:i})))}}],[{key:"getDerivedStateFromProps",value:function(t){return{context:e.getContext(t)}}},{key:"getContext",value:function(e){var t=e.startAccessor,r=e.endAccessor,a=e.allDayAccessor,n=e.tooltipAccessor,s=e.titleAccessor,i=e.resourceAccessor,o=e.resourceIdAccessor,l=e.resourceTitleAccessor,c=e.eventIdAccessor,d=e.eventPropGetter,u=e.backgroundEventPropGetter,m=e.slotPropGetter,h=e.slotGroupPropGetter,f=e.dayPropGetter,p=e.view,g=e.views,x=e.localizer,b=e.culture,y=e.messages,v=void 0===y?{}:y,j=e.components,w=void 0===j?{}:j,N=e.formats,E=void 0===N?{}:N,S=m6(g);return{viewNames:S,localizer:B4(x,b,E,function(e){return rY(rY({},H4),e)}(v)),getters:{eventProp:function(){return d&&d.apply(void 0,arguments)||{}},backgroundEventProp:function(){return u&&u.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return h&&h.apply(void 0,arguments)||{}},dayProp:function(){return f&&f.apply(void 0,arguments)||{}}},components:l1(w[p]||{},H2(w,S),{eventWrapper:h4,backgroundEventWrapper:h4,eventContainerWrapper:h4,dateCellWrapper:h4,weekWrapper:h4,timeSlotWrapper:h4,timeGutterWrapper:h4,timeIndicatorWrapper:h4}),accessors:{start:c6(t),end:c6(r),allDay:c6(a),tooltip:c6(n),title:c6(s),resource:c6(i),resourceId:c6(o),resourceTitle:c6(l),eventId:c6(c)}}}}])}();h6.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:b4.MONTH,views:[b4.MONTH,b4.WEEK,b4.DAY,b4.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:b4.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var f6,p6,g6=function e(t,a,n){void 0===n&&(n=[]);var s,i=t.displayName||t.name||"Component",o=!!(s=t)&&("function"!=typeof s||s.prototype&&s.prototype.isReactComponent),l=Object.keys(a),c=l.map(AY);!o&&n.length&&SY(!1);var d=function(e){function s(){for(var t,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];(t=e.call.apply(e,[this].concat(s))||this).handlers=Object.create(null),l.forEach(function(e){var r=a[e];t.handlers[r]=function(a){if(t.props[r]){var n;t._notifying=!0;for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];(n=t.props)[r].apply(n,[a].concat(i)),t._notifying=!1}t.unmounted||t.setState(function(t){var r,n=t.values;return{values:jY(Object.create(null),n,(r={},r[e]=a,r))}})}}),n.length&&(t.attachRef=function(e){t.inner=e});var o=Object.create(null);return l.forEach(function(e){o[e]=t.props[AY(e)]}),t.state={values:o,prevProps:{}},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mY(e,t)}(s,e);var i=s.prototype;return i.shouldComponentUpdate=function(){return!this._notifying},s.getDerivedStateFromProps=function(e,t){var r=t.values,a=t.prevProps,n={values:jY(Object.create(null),r),prevProps:{}};return l.forEach(function(t){n.prevProps[t]=e[t],!CY(e,t)&&CY(a,t)&&(n.values[t]=e[AY(t)])}),n},i.componentWillUnmount=function(){this.unmounted=!0},i.render=function(){var e=this,a=this.props,n=a.innerRef,s=aY(a,["innerRef"]);c.forEach(function(e){delete s[e]});var i={};return l.forEach(function(t){var r=e.props[t];i[t]=void 0!==r?r:e.state.values[t]}),r.createElement(t,jY({},s,i,this.handlers,{ref:n||this.attachRef}))},s}(r.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,a=null,n=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?n="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(n="UNSAFE_componentWillUpdate"),null!==r||null!==a||null!==n){var s=e.displayName||e.name,i="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+(null!==n?"\n  "+n:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=_Y,t.componentWillReceiveProps=TY),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=OY;var o=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;o.call(this,e,t,a)}}}(d),d.displayName="Uncontrolled("+i+")",d.propTypes=jY({innerRef:function(){}},function(e){var t={};return Object.keys(e).forEach(function(e){t[AY(e)]=kY}),t}(a)),n.forEach(function(e){d.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}});var u=d;return r.forwardRef&&((u=r.forwardRef(function(e,t){return r.createElement(d,jY({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))})).propTypes=d.propTypes),u.ControlledComponent=t,u.deferControlTo=function(t,r,n){return void 0===r&&(r={}),e(t,jY({},a,r),n)},u}(h6,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),x6=function(e,t,r){var a=e.start,n=e.end;return r.format(a,"LT",t)+"  "+r.format(n,"LT",t)},b6={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:x6,eventTimeRangeFormat:x6,eventTimeRangeStartFormat:function(e,t,r){var a=e.start;return r.format(a,"LT",t)+"  "},eventTimeRangeEndFormat:function(e,t,r){var a=e.end;return"  "+r.format(a,"LT",t)},timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:function(e,t,r){var a=e.start,n=e.end;return r.format(a,"MMMM DD",t)+"  "+r.format(n,r.eq(a,n,"month")?"DD":"MMMM DD",t)},agendaHeaderFormat:function(e,t,r){var a=e.start,n=e.end;return r.format(a,"L",t)+"  "+r.format(n,"L",t)},agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:x6};function y6(e){var t=e?e.toLowerCase():e;return"FullYear"===t?t="year":t||(t=void 0),t}function v6(e){function t(t,r){var a,n,s=e(t).local(),i=e(r).local();if(!e.tz)return s.toDate().getTimezoneOffset()-i.toDate().getTimezoneOffset();var o=null!==(a=null==s||null===(n=s._z)||void 0===n?void 0:n.name)&&void 0!==a?a:e.tz.guess();return e.tz.zone(o).utcOffset(+s)-e.tz.zone(o).utcOffset(+i)}function r(t,r,a){var n=y6(a);return[n?e(t).startOf(n):e(t),n?e(r).startOf(n):e(r),n]}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=y6(arguments.length>1?arguments[1]:void 0);return r?e(t).startOf(r).toDate():e(t).toDate()}function n(e,t,a){var n=bY(r(e,t,a),3),s=n[0],i=n[1],o=n[2];return s.isSame(i,o)}function s(e,t,a){var n=bY(r(e,t,a),3),s=n[0],i=n[1],o=n[2];return s.isSameOrBefore(i,o)}function i(t,r,a){var n=y6(a);return e(t).add(r,n).toDate()}function o(t,r){var a=y6(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),n=e(t);return e(r).diff(n,a)}function l(t){return e(t).startOf("month").startOf("week").toDate()}function c(t){return e(t).endOf("month").endOf("week").toDate()}function d(t,r){var a=e(t),n=e(r);return e.duration(n.diff(a)).days()}return new U4({formats:b6,firstOfWeek:function(t){var r=t?e.localeData(t):e.localeData();return r?r.firstDayOfWeek():0},firstVisibleDay:l,lastVisibleDay:c,visibleDays:function(e){for(var t=l(e),r=c(e),a=[];s(t,r);)a.push(t),t=i(t,1,"d");return a},format:function(t,r,a){return(n=e(t),s=a,s?n.locale(s):n).format(r);var n,s},lt:function(e,t,a){var n=bY(r(e,t,a),3),s=n[0],i=n[1],o=n[2];return s.isBefore(i,o)},lte:s,gt:function(e,t,a){var n=bY(r(e,t,a),3),s=n[0],i=n[1],o=n[2];return s.isAfter(i,o)},gte:function(e,t,a){var n=bY(r(e,t,a),3),s=n[0],i=n[1],o=n[2];return s.isSameOrBefore(i,o)},eq:n,neq:function(e,t,r){return!n(e,t,r)},merge:function(t,r){if(!t&&!r)return null;var a=e(r).format("HH:mm:ss"),n=e(t).startOf("day").format("MM/DD/YYYY");return e("".concat(n," ").concat(a),"MM/DD/YYYY HH:mm:ss").toDate()},inRange:function(t,r,a){var n=y6(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"day"),s=e(t),i=e(r),o=e(a);return s.isBetween(i,o,n,"[]")},startOf:a,endOf:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=y6(arguments.length>1?arguments[1]:void 0);return r?e(t).endOf(r).toDate():e(t).toDate()},range:function(t,r){for(var a=y6(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day"),n=e(t).toDate(),o=[];s(n,r);)o.push(n),n=i(n,1,a);return o},add:i,diff:o,ceil:function(e,t){var r=y6(t),s=a(e,r);return n(s,e)?s:i(s,1,r)},min:function(t,r){var a=e(t),n=e(r);return e.min(a,n).toDate()},max:function(t,r){var a=e(t),n=e(r);return e.max(a,n).toDate()},minutes:function(t){return e(t).minutes()},getSlotDate:function(t,r,a){return e(t).startOf("day").minute(r+a).toDate()},getTimezoneOffset:function(t){return e(t).toDate().getTimezoneOffset()},getDstOffset:t,getTotalMin:function(e,t){return o(e,t,"minutes")},getMinutesFromMidnight:function(r){var a=e(r).startOf("day");return e(r).diff(a,"minutes")+function(r){return t(e(r).startOf("day"),r)}(r)},continuesPrior:function(t,r){var a=e(t),n=e(r);return a.isBefore(n,"day")},continuesAfter:function(t,r,a){var n=e(r),s=e(a);return n.isSameOrAfter(s,"minutes")},sortEvents:function(e){var t=e.evtA,r=t.start,n=t.end,s=t.allDay,i=e.evtB,o=i.start,l=i.end,c=i.allDay,u=+a(r,"day")-+a(o,"day"),m=d(r,n),h=d(o,l);return u||h-m||!!c-!!s||+r-+o||+n-+l},inEventRange:function(t){var r=t.event,a=r.start,n=r.end,s=t.range,i=s.start,o=s.end,l=e(a).startOf("day"),c=e(n),d=e(i),u=e(o),m=l.isSameOrBefore(u,"day"),h=l.isSame(c,"minutes")?c.isSameOrAfter(d,"minutes"):c.isAfter(d,"minutes");return m&&h},isSameDate:function(t,r){var a=e(t),n=e(r);return a.isSame(n,"day")},daySpan:d,browserTZOffset:function(){var t=new Date,r=/-/.test(t.toString())?"-":"",a=t.getTimezoneOffset(),n=Number("".concat(r).concat(Math.abs(a)));return e().utcOffset()>n?1:0}})}
//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function j6(){return f6.apply(null,arguments)}function w6(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function N6(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function E6(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function S6(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(E6(e,t))return!1;return!0}function k6(e){return void 0===e}function C6(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function A6(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function _6(e,t){var r,a=[],n=e.length;for(r=0;r<n;++r)a.push(t(e[r],r));return a}function T6(e,t){for(var r in t)E6(t,r)&&(e[r]=t[r]);return E6(t,"toString")&&(e.toString=t.toString),E6(t,"valueOf")&&(e.valueOf=t.valueOf),e}function O6(e,t,r,a){return B8(e,t,r,a,!0).utc()}function D6(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function P6(e){var t=null,r=!1,a=e._d&&!isNaN(e._d.getTime());return a&&(t=D6(e),r=p6.call(t.parsedDateParts,function(e){return null!=e}),a=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?a:(e._isValid=a,e._isValid)}function M6(e){var t=O6(NaN);return null!=e?T6(D6(t),e):D6(t).userInvalidated=!0,t}p6=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),a=r.length>>>0;for(t=0;t<a;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var F6=j6.momentProperties=[],I6=!1;function R6(e,t){var r,a,n,s=F6.length;if(k6(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),k6(t._i)||(e._i=t._i),k6(t._f)||(e._f=t._f),k6(t._l)||(e._l=t._l),k6(t._strict)||(e._strict=t._strict),k6(t._tzm)||(e._tzm=t._tzm),k6(t._isUTC)||(e._isUTC=t._isUTC),k6(t._offset)||(e._offset=t._offset),k6(t._pf)||(e._pf=D6(t)),k6(t._locale)||(e._locale=t._locale),s>0)for(r=0;r<s;r++)k6(n=t[a=F6[r]])||(e[a]=n);return e}function L6(e){R6(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===I6&&(I6=!0,j6.updateOffset(this),I6=!1)}function z6(e){return e instanceof L6||null!=e&&null!=e._isAMomentObject}function $6(e){!1===j6.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function q6(e,t){var r=!0;return T6(function(){if(null!=j6.deprecationHandler&&j6.deprecationHandler(null,e),r){var a,n,s,i=[],o=arguments.length;for(n=0;n<o;n++){if(a="","object"==typeof arguments[n]){for(s in a+="\n["+n+"] ",arguments[0])E6(arguments[0],s)&&(a+=s+": "+arguments[0][s]+", ");a=a.slice(0,-2)}else a=arguments[n];i.push(a)}$6((Array.prototype.slice.call(i).join(""),(new Error).stack)),r=!1}return t.apply(this,arguments)},t)}var U6,B6={};function Y6(e,t){null!=j6.deprecationHandler&&j6.deprecationHandler(e,t),B6[e]||($6(),B6[e]=!0)}function V6(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function H6(e,t){var r,a=T6({},e);for(r in t)E6(t,r)&&(N6(e[r])&&N6(t[r])?(a[r]={},T6(a[r],e[r]),T6(a[r],t[r])):null!=t[r]?a[r]=t[r]:delete a[r]);for(r in e)E6(e,r)&&!E6(t,r)&&N6(e[r])&&(a[r]=T6({},a[r]));return a}function W6(e){null!=e&&this.set(e)}function G6(e,t,r){var a=""+Math.abs(e),n=t-a.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+a}j6.suppressDeprecationWarnings=!1,j6.deprecationHandler=null,U6=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)E6(e,t)&&r.push(t);return r};var K6=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Q6=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,X6={},J6={};function Z6(e,t,r,a){var n=a;"string"==typeof a&&(n=function(){return this[a]()}),e&&(J6[e]=n),t&&(J6[t[0]]=function(){return G6(n.apply(this,arguments),t[1],t[2])}),r&&(J6[r]=function(){return this.localeData().ordinal(n.apply(this,arguments),e)})}function e3(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function t3(e,t){return e.isValid()?(t=r3(t,e.localeData()),X6[t]=X6[t]||function(e){var t,r,a=e.match(K6);for(t=0,r=a.length;t<r;t++)J6[a[t]]?a[t]=J6[a[t]]:a[t]=e3(a[t]);return function(t){var n,s="";for(n=0;n<r;n++)s+=V6(a[n])?a[n].call(t,e):a[n];return s}}(t),X6[t](e)):e.localeData().invalidDate()}function r3(e,t){var r=5;function a(e){return t.longDateFormat(e)||e}for(Q6.lastIndex=0;r>=0&&Q6.test(e);)e=e.replace(Q6,a),Q6.lastIndex=0,r-=1;return e}var a3={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function n3(e){return"string"==typeof e?a3[e]||a3[e.toLowerCase()]:void 0}function s3(e){var t,r,a={};for(r in e)E6(e,r)&&(t=n3(r))&&(a[t]=e[r]);return a}var i3,o3={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1},l3=/\d/,c3=/\d\d/,d3=/\d{3}/,u3=/\d{4}/,m3=/[+-]?\d{6}/,h3=/\d\d?/,f3=/\d\d\d\d?/,p3=/\d\d\d\d\d\d?/,g3=/\d{1,3}/,x3=/\d{1,4}/,b3=/[+-]?\d{1,6}/,y3=/\d+/,v3=/[+-]?\d+/,j3=/Z|[+-]\d\d:?\d\d/gi,w3=/Z|[+-]\d\d(?::?\d\d)?/gi,N3=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,E3=/^[1-9]\d?/,S3=/^([1-9]\d|\d)/;function k3(e,t,r){i3[e]=V6(t)?t:function(e,a){return e&&r?r:t}}function C3(e,t){return E6(i3,e)?i3[e](t._strict,t._locale):new RegExp(A3(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,a,n){return t||r||a||n})))}function A3(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function _3(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function T3(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=_3(t)),r}i3={};var O3={};function D3(e,t){var r,a,n=t;for("string"==typeof e&&(e=[e]),C6(t)&&(n=function(e,r){r[t]=T3(e)}),a=e.length,r=0;r<a;r++)O3[e[r]]=n}function P3(e,t){D3(e,function(e,r,a,n){a._w=a._w||{},t(e,a._w,a,n)})}function M3(e,t,r){null!=t&&E6(O3,e)&&O3[e](t,r._a,r,e)}function F3(e){return e%4==0&&e%100!=0||e%400==0}function I3(e){return F3(e)?366:365}Z6("Y",0,0,function(){var e=this.year();return e<=9999?G6(e,4):"+"+e}),Z6(0,["YY",2],0,function(){return this.year()%100}),Z6(0,["YYYY",4],0,"year"),Z6(0,["YYYYY",5],0,"year"),Z6(0,["YYYYYY",6,!0],0,"year"),k3("Y",v3),k3("YY",h3,c3),k3("YYYY",x3,u3),k3("YYYYY",b3,m3),k3("YYYYYY",b3,m3),D3(["YYYYY","YYYYYY"],0),D3("YYYY",function(e,t){t[0]=2===e.length?j6.parseTwoDigitYear(e):T3(e)}),D3("YY",function(e,t){t[0]=j6.parseTwoDigitYear(e)}),D3("Y",function(e,t){t[0]=parseInt(e,10)}),j6.parseTwoDigitYear=function(e){return T3(e)+(T3(e)>68?1900:2e3)};var R3,L3=z3("FullYear",!0);function z3(e,t){return function(r){return null!=r?(q3(this,e,r),j6.updateOffset(this,t),this):$3(this,e)}}function $3(e,t){if(!e.isValid())return NaN;var r=e._d,a=e._isUTC;switch(t){case"Milliseconds":return a?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return a?r.getUTCSeconds():r.getSeconds();case"Minutes":return a?r.getUTCMinutes():r.getMinutes();case"Hours":return a?r.getUTCHours():r.getHours();case"Date":return a?r.getUTCDate():r.getDate();case"Day":return a?r.getUTCDay():r.getDay();case"Month":return a?r.getUTCMonth():r.getMonth();case"FullYear":return a?r.getUTCFullYear():r.getFullYear();default:return NaN}}function q3(e,t,r){var a,n,s,i,o;if(e.isValid()&&!isNaN(r)){switch(a=e._d,n=e._isUTC,t){case"Milliseconds":return void(n?a.setUTCMilliseconds(r):a.setMilliseconds(r));case"Seconds":return void(n?a.setUTCSeconds(r):a.setSeconds(r));case"Minutes":return void(n?a.setUTCMinutes(r):a.setMinutes(r));case"Hours":return void(n?a.setUTCHours(r):a.setHours(r));case"Date":return void(n?a.setUTCDate(r):a.setDate(r));case"FullYear":break;default:return}s=r,i=e.month(),o=29!==(o=e.date())||1!==i||F3(s)?o:28,n?a.setUTCFullYear(s,i,o):a.setFullYear(s,i,o)}}function U3(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-r)/12,1===r?F3(e)?29:28:31-r%7%2}R3=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Z6("M",["MM",2],"Mo",function(){return this.month()+1}),Z6("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Z6("MMMM",0,0,function(e){return this.localeData().months(this,e)}),k3("M",h3,E3),k3("MM",h3,c3),k3("MMM",function(e,t){return t.monthsShortRegex(e)}),k3("MMMM",function(e,t){return t.monthsRegex(e)}),D3(["M","MM"],function(e,t){t[1]=T3(e)-1}),D3(["MMM","MMMM"],function(e,t,r,a){var n=r._locale.monthsParse(e,a,r._strict);null!=n?t[1]=n:D6(r).invalidMonth=e});var B3="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Y3="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),V3=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,H3=N3,W3=N3;function G3(e,t,r){var a,n,s,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)s=O6([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(s,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(n=R3.call(this._shortMonthsParse,i))?n:null:-1!==(n=R3.call(this._longMonthsParse,i))?n:null:"MMM"===t?-1!==(n=R3.call(this._shortMonthsParse,i))||-1!==(n=R3.call(this._longMonthsParse,i))?n:null:-1!==(n=R3.call(this._longMonthsParse,i))||-1!==(n=R3.call(this._shortMonthsParse,i))?n:null}function K3(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=T3(t);else if(!C6(t=e.localeData().monthsParse(t)))return e;var r=t,a=e.date();return a=a<29?a:Math.min(a,U3(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,a):e._d.setMonth(r,a),e}function Q3(e){return null!=e?(K3(this,e),j6.updateOffset(this,!0),this):$3(this,"Month")}function X3(){function e(e,t){return t.length-e.length}var t,r,a,n,s=[],i=[],o=[];for(t=0;t<12;t++)r=O6([2e3,t]),a=A3(this.monthsShort(r,"")),n=A3(this.months(r,"")),s.push(a),i.push(n),o.push(n),o.push(a);s.sort(e),i.sort(e),o.sort(e),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function J3(e,t,r,a,n,s,i){var o;return e<100&&e>=0?(o=new Date(e+400,t,r,a,n,s,i),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,r,a,n,s,i),o}function Z3(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function e8(e,t,r){var a=7+t-r;return-(7+Z3(e,0,a).getUTCDay()-t)%7+a-1}function t8(e,t,r,a,n){var s,i,o=1+7*(t-1)+(7+r-a)%7+e8(e,a,n);return o<=0?i=I3(s=e-1)+o:o>I3(e)?(s=e+1,i=o-I3(e)):(s=e,i=o),{year:s,dayOfYear:i}}function r8(e,t,r){var a,n,s=e8(e.year(),t,r),i=Math.floor((e.dayOfYear()-s-1)/7)+1;return i<1?a=i+a8(n=e.year()-1,t,r):i>a8(e.year(),t,r)?(a=i-a8(e.year(),t,r),n=e.year()+1):(n=e.year(),a=i),{week:a,year:n}}function a8(e,t,r){var a=e8(e,t,r),n=e8(e+1,t,r);return(I3(e)-a+n)/7}function n8(e,t){return e.slice(t,7).concat(e.slice(0,t))}Z6("w",["ww",2],"wo","week"),Z6("W",["WW",2],"Wo","isoWeek"),k3("w",h3,E3),k3("ww",h3,c3),k3("W",h3,E3),k3("WW",h3,c3),P3(["w","ww","W","WW"],function(e,t,r,a){t[a.substr(0,1)]=T3(e)}),Z6("d",0,"do","day"),Z6("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Z6("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Z6("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Z6("e",0,0,"weekday"),Z6("E",0,0,"isoWeekday"),k3("d",h3),k3("e",h3),k3("E",h3),k3("dd",function(e,t){return t.weekdaysMinRegex(e)}),k3("ddd",function(e,t){return t.weekdaysShortRegex(e)}),k3("dddd",function(e,t){return t.weekdaysRegex(e)}),P3(["dd","ddd","dddd"],function(e,t,r,a){var n=r._locale.weekdaysParse(e,a,r._strict);null!=n?t.d=n:D6(r).invalidWeekday=e}),P3(["d","e","E"],function(e,t,r,a){t[a]=T3(e)});var s8="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),i8="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),o8="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),l8=N3,c8=N3,d8=N3;function u8(e,t,r){var a,n,s,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)s=O6([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(s,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(n=R3.call(this._weekdaysParse,i))?n:null:"ddd"===t?-1!==(n=R3.call(this._shortWeekdaysParse,i))?n:null:-1!==(n=R3.call(this._minWeekdaysParse,i))?n:null:"dddd"===t?-1!==(n=R3.call(this._weekdaysParse,i))||-1!==(n=R3.call(this._shortWeekdaysParse,i))||-1!==(n=R3.call(this._minWeekdaysParse,i))?n:null:"ddd"===t?-1!==(n=R3.call(this._shortWeekdaysParse,i))||-1!==(n=R3.call(this._weekdaysParse,i))||-1!==(n=R3.call(this._minWeekdaysParse,i))?n:null:-1!==(n=R3.call(this._minWeekdaysParse,i))||-1!==(n=R3.call(this._weekdaysParse,i))||-1!==(n=R3.call(this._shortWeekdaysParse,i))?n:null}function m8(){function e(e,t){return t.length-e.length}var t,r,a,n,s,i=[],o=[],l=[],c=[];for(t=0;t<7;t++)r=O6([2e3,1]).day(t),a=A3(this.weekdaysMin(r,"")),n=A3(this.weekdaysShort(r,"")),s=A3(this.weekdays(r,"")),i.push(a),o.push(n),l.push(s),c.push(a),c.push(n),c.push(s);i.sort(e),o.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function h8(){return this.hours()%12||12}function f8(e,t){Z6(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function p8(e,t){return t._meridiemParse}Z6("H",["HH",2],0,"hour"),Z6("h",["hh",2],0,h8),Z6("k",["kk",2],0,function(){return this.hours()||24}),Z6("hmm",0,0,function(){return""+h8.apply(this)+G6(this.minutes(),2)}),Z6("hmmss",0,0,function(){return""+h8.apply(this)+G6(this.minutes(),2)+G6(this.seconds(),2)}),Z6("Hmm",0,0,function(){return""+this.hours()+G6(this.minutes(),2)}),Z6("Hmmss",0,0,function(){return""+this.hours()+G6(this.minutes(),2)+G6(this.seconds(),2)}),f8("a",!0),f8("A",!1),k3("a",p8),k3("A",p8),k3("H",h3,S3),k3("h",h3,E3),k3("k",h3,E3),k3("HH",h3,c3),k3("hh",h3,c3),k3("kk",h3,c3),k3("hmm",f3),k3("hmmss",p3),k3("Hmm",f3),k3("Hmmss",p3),D3(["H","HH"],3),D3(["k","kk"],function(e,t,r){var a=T3(e);t[3]=24===a?0:a}),D3(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),D3(["h","hh"],function(e,t,r){t[3]=T3(e),D6(r).bigHour=!0}),D3("hmm",function(e,t,r){var a=e.length-2;t[3]=T3(e.substr(0,a)),t[4]=T3(e.substr(a)),D6(r).bigHour=!0}),D3("hmmss",function(e,t,r){var a=e.length-4,n=e.length-2;t[3]=T3(e.substr(0,a)),t[4]=T3(e.substr(a,2)),t[5]=T3(e.substr(n)),D6(r).bigHour=!0}),D3("Hmm",function(e,t,r){var a=e.length-2;t[3]=T3(e.substr(0,a)),t[4]=T3(e.substr(a))}),D3("Hmmss",function(e,t,r){var a=e.length-4,n=e.length-2;t[3]=T3(e.substr(0,a)),t[4]=T3(e.substr(a,2)),t[5]=T3(e.substr(n))});var g8,x8=z3("Hours",!0),b8={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:B3,monthsShort:Y3,week:{dow:0,doy:6},weekdays:s8,weekdaysMin:o8,weekdaysShort:i8,meridiemParse:/[ap]\.?m?\.?/i},y8={},v8={};function j8(e,t){var r,a=Math.min(e.length,t.length);for(r=0;r<a;r+=1)if(e[r]!==t[r])return r;return a}function w8(e){return e?e.toLowerCase().replace("_","-"):e}function N8(e){var t=null;if(void 0===y8[e]&&void 0!==Ct&&Ct&&Ct.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(e))try{t=g8._abbr,require("./locale/"+e),E8(t)}catch(Ba){y8[e]=null}return y8[e]}function E8(e,t){var r;return e&&((r=k6(t)?k8(e):S8(e,t))?g8=r:"undefined"!=typeof console&&console.warn),g8._abbr}function S8(e,t){if(null!==t){var r,a=b8;if(t.abbr=e,null!=y8[e])Y6("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=y8[e]._config;else if(null!=t.parentLocale)if(null!=y8[t.parentLocale])a=y8[t.parentLocale]._config;else{if(null==(r=N8(t.parentLocale)))return v8[t.parentLocale]||(v8[t.parentLocale]=[]),v8[t.parentLocale].push({name:e,config:t}),null;a=r._config}return y8[e]=new W6(H6(a,t)),v8[e]&&v8[e].forEach(function(e){S8(e.name,e.config)}),E8(e),y8[e]}return delete y8[e],null}function k8(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return g8;if(!w6(e)){if(t=N8(e))return t;e=[e]}return function(e){for(var t,r,a,n,s=0;s<e.length;){for(t=(n=w8(e[s]).split("-")).length,r=(r=w8(e[s+1]))?r.split("-"):null;t>0;){if(a=N8(n.slice(0,t).join("-")))return a;if(r&&r.length>=t&&j8(n,r)>=t-1)break;t--}s++}return g8}(e)}function C8(e){var t,r=e._a;return r&&-2===D6(e).overflow&&(t=r[1]<0||r[1]>11?1:r[2]<1||r[2]>U3(r[0],r[1])?2:r[3]<0||r[3]>24||24===r[3]&&(0!==r[4]||0!==r[5]||0!==r[6])?3:r[4]<0||r[4]>59?4:r[5]<0||r[5]>59?5:r[6]<0||r[6]>999?6:-1,D6(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),D6(e)._overflowWeeks&&-1===t&&(t=7),D6(e)._overflowWeekday&&-1===t&&(t=8),D6(e).overflow=t),e}var A8=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_8=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,T8=/Z|[+-]\d\d(?::?\d\d)?/,O8=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],D8=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],P8=/^\/?Date\((-?\d+)/i,M8=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,F8={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function I8(e){var t,r,a,n,s,i,o=e._i,l=A8.exec(o)||_8.exec(o),c=O8.length,d=D8.length;if(l){for(D6(e).iso=!0,t=0,r=c;t<r;t++)if(O8[t][1].exec(l[1])){n=O8[t][0],a=!1!==O8[t][2];break}if(null==n)return void(e._isValid=!1);if(l[3]){for(t=0,r=d;t<r;t++)if(D8[t][1].exec(l[3])){s=(l[2]||" ")+D8[t][0];break}if(null==s)return void(e._isValid=!1)}if(!a&&null!=s)return void(e._isValid=!1);if(l[4]){if(!T8.exec(l[4]))return void(e._isValid=!1);i="Z"}e._f=n+(s||"")+(i||""),q8(e)}else e._isValid=!1}function R8(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function L8(e){var t,r,a,n,s,i,o,l,c=M8.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(r=c[4],a=c[3],n=c[2],s=c[5],i=c[6],o=c[7],l=[R8(r),Y3.indexOf(a),parseInt(n,10),parseInt(s,10),parseInt(i,10)],o&&l.push(parseInt(o,10)),t=l,!function(e,t,r){return!e||i8.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(D6(r).weekdayMismatch=!0,r._isValid=!1,!1)}(c[1],t,e))return;e._a=t,e._tzm=function(e,t,r){if(e)return F8[e];if(t)return 0;var a=parseInt(r,10),n=a%100;return(a-n)/100*60+n}(c[8],c[9],c[10]),e._d=Z3.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),D6(e).rfc2822=!0}else e._isValid=!1}function z8(e,t,r){return null!=e?e:null!=t?t:r}function $8(e){var t,r,a,n,s,i=[];if(!e._d){for(a=function(e){var t=new Date(j6.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,r,a,n,s,i,o,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,i=4,r=z8(t.GG,e._a[0],r8(Y8(),1,4).year),a=z8(t.W,1),((n=z8(t.E,1))<1||n>7)&&(l=!0)):(s=e._locale._week.dow,i=e._locale._week.doy,c=r8(Y8(),s,i),r=z8(t.gg,e._a[0],c.year),a=z8(t.w,c.week),null!=t.d?((n=t.d)<0||n>6)&&(l=!0):null!=t.e?(n=t.e+s,(t.e<0||t.e>6)&&(l=!0)):n=s),a<1||a>a8(r,s,i)?D6(e)._overflowWeeks=!0:null!=l?D6(e)._overflowWeekday=!0:(o=t8(r,a,n,s,i),e._a[0]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(s=z8(e._a[0],a[0]),(e._dayOfYear>I3(s)||0===e._dayOfYear)&&(D6(e)._overflowDayOfYear=!0),r=Z3(s,0,e._dayOfYear),e._a[1]=r.getUTCMonth(),e._a[2]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=a[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Z3:J3).apply(null,i),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==n&&(D6(e).weekdayMismatch=!0)}}function q8(e){if(e._f!==j6.ISO_8601)if(e._f!==j6.RFC_2822){e._a=[],D6(e).empty=!0;var t,r,a,n,s,i,o,l=""+e._i,c=l.length,d=0;for(o=(a=r3(e._f,e._locale).match(K6)||[]).length,t=0;t<o;t++)n=a[t],(r=(l.match(C3(n,e))||[])[0])&&((s=l.substr(0,l.indexOf(r))).length>0&&D6(e).unusedInput.push(s),l=l.slice(l.indexOf(r)+r.length),d+=r.length),J6[n]?(r?D6(e).empty=!1:D6(e).unusedTokens.push(n),M3(n,r,e)):e._strict&&!r&&D6(e).unusedTokens.push(n);D6(e).charsLeftOver=c-d,l.length>0&&D6(e).unusedInput.push(l),e._a[3]<=12&&!0===D6(e).bigHour&&e._a[3]>0&&(D6(e).bigHour=void 0),D6(e).parsedDateParts=e._a.slice(0),D6(e).meridiem=e._meridiem,e._a[3]=(u=e._locale,m=e._a[3],null==(h=e._meridiem)?m:null!=u.meridiemHour?u.meridiemHour(m,h):null!=u.isPM?((f=u.isPM(h))&&m<12&&(m+=12),f||12!==m||(m=0),m):m),null!==(i=D6(e).era)&&(e._a[0]=e._locale.erasConvertYear(i,e._a[0])),$8(e),C8(e)}else L8(e);else I8(e);var u,m,h,f}function U8(e){var t=e._i,r=e._f;return e._locale=e._locale||k8(e._l),null===t||void 0===r&&""===t?M6({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),z6(t)?new L6(C8(t)):(A6(t)?e._d=t:w6(r)?function(e){var t,r,a,n,s,i,o=!1,l=e._f.length;if(0===l)return D6(e).invalidFormat=!0,void(e._d=new Date(NaN));for(n=0;n<l;n++)s=0,i=!1,t=R6({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[n],q8(t),P6(t)&&(i=!0),s+=D6(t).charsLeftOver,s+=10*D6(t).unusedTokens.length,D6(t).score=s,o?s<a&&(a=s,r=t):(null==a||s<a||i)&&(a=s,r=t,i&&(o=!0));T6(e,r||t)}(e):r?q8(e):function(e){var t=e._i;k6(t)?e._d=new Date(j6.now()):A6(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=P8.exec(e._i);null===t?(I8(e),!1===e._isValid&&(delete e._isValid,L8(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:j6.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):w6(t)?(e._a=_6(t.slice(0),function(e){return parseInt(e,10)}),$8(e)):N6(t)?function(e){if(!e._d){var t=s3(e._i),r=void 0===t.day?t.date:t.day;e._a=_6([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),$8(e)}}(e):C6(t)?e._d=new Date(t):j6.createFromInputFallback(e)}(e),P6(e)||(e._d=null),e))}function B8(e,t,r,a,n){var s={};return!0!==t&&!1!==t||(a=t,t=void 0),!0!==r&&!1!==r||(a=r,r=void 0),(N6(e)&&S6(e)||w6(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=n,s._l=r,s._i=e,s._f=t,s._strict=a,function(e){var t=new L6(C8(U8(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(s)}function Y8(e,t,r,a){return B8(e,t,r,a,!1)}j6.createFromInputFallback=q6("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),j6.ISO_8601=function(){},j6.RFC_2822=function(){};var V8=q6("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Y8.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:M6()}),H8=q6("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Y8.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:M6()});function W8(e,t){var r,a;if(1===t.length&&w6(t[0])&&(t=t[0]),!t.length)return Y8();for(r=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](r)||(r=t[a]);return r}var G8=["year","quarter","month","week","day","hour","minute","second","millisecond"];function K8(e){var t=s3(e),r=t.year||0,a=t.quarter||0,n=t.month||0,s=t.week||t.isoWeek||0,i=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,r,a=!1,n=G8.length;for(t in e)if(E6(e,t)&&(-1===R3.call(G8,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<n;++r)if(e[G8[r]]){if(a)return!1;parseFloat(e[G8[r]])!==T3(e[G8[r]])&&(a=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*o*60*60,this._days=+i+7*s,this._months=+n+3*a+12*r,this._data={},this._locale=k8(),this._bubble()}function Q8(e){return e instanceof K8}function X8(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function J8(e,t){Z6(e,0,0,function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+G6(~~(e/60),2)+t+G6(~~e%60,2)})}J8("Z",":"),J8("ZZ",""),k3("Z",w3),k3("ZZ",w3),D3(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=e7(w3,e)});var Z8=/([\+\-]|\d\d)/gi;function e7(e,t){var r,a,n=(t||"").match(e);return null===n?null:0===(a=60*(r=((n[n.length-1]||[])+"").match(Z8)||["-",0,0])[1]+T3(r[2]))?0:"+"===r[0]?a:-a}function t7(e,t){var r,a;return t._isUTC?(r=t.clone(),a=(z6(e)||A6(e)?e.valueOf():Y8(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+a),j6.updateOffset(r,!1),r):Y8(e).local()}function r7(e){return-Math.round(e._d.getTimezoneOffset())}function a7(){return!!this.isValid()&&this._isUTC&&0===this._offset}j6.updateOffset=function(){};var n7=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,s7=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function i7(e,t){var r,a,n,s=e,i=null;return Q8(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:C6(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(i=n7.exec(e))?(r="-"===i[1]?-1:1,s={y:0,d:T3(i[2])*r,h:T3(i[3])*r,m:T3(i[4])*r,s:T3(i[5])*r,ms:T3(X8(1e3*i[6]))*r}):(i=s7.exec(e))?(r="-"===i[1]?-1:1,s={y:o7(i[2],r),M:o7(i[3],r),w:o7(i[4],r),d:o7(i[5],r),h:o7(i[6],r),m:o7(i[7],r),s:o7(i[8],r)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(n=function(e,t){var r;return e.isValid()&&t.isValid()?(t=t7(t,e),e.isBefore(t)?r=l7(e,t):((r=l7(t,e)).milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}(Y8(s.from),Y8(s.to)),(s={}).ms=n.milliseconds,s.M=n.months),a=new K8(s),Q8(e)&&E6(e,"_locale")&&(a._locale=e._locale),Q8(e)&&E6(e,"_isValid")&&(a._isValid=e._isValid),a}function o7(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function l7(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function c7(e,t){return function(r,a){var n;return null===a||isNaN(+a)||(Y6(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=r,r=a,a=n),d7(this,i7(r,a),e),this}}function d7(e,t,r,a){var n=t._milliseconds,s=X8(t._days),i=X8(t._months);e.isValid()&&(a=null==a||a,i&&K3(e,$3(e,"Month")+i*r),s&&q3(e,"Date",$3(e,"Date")+s*r),n&&e._d.setTime(e._d.valueOf()+n*r),a&&j6.updateOffset(e,s||i))}i7.fn=K8.prototype,i7.invalid=function(){return i7(NaN)};var u7=c7(1,"add"),m7=c7(-1,"subtract");function h7(e){return"string"==typeof e||e instanceof String}function f7(e){return z6(e)||A6(e)||h7(e)||C6(e)||function(e){var t=w6(e),r=!1;return t&&(r=0===e.filter(function(t){return!C6(t)&&h7(e)}).length),t&&r}(e)||function(e){var t,r,a=N6(e)&&!S6(e),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i=s.length;for(t=0;t<i;t+=1)r=s[t],n=n||E6(e,r);return a&&n}(e)||null==e}function p7(e,t){if(e.date()<t.date())return-p7(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(r,"months");return-(r+(t-a<0?(t-a)/(a-e.clone().add(r-1,"months")):(t-a)/(e.clone().add(r+1,"months")-a)))||0}function g7(e){var t;return void 0===e?this._locale._abbr:(null!=(t=k8(e))&&(this._locale=t),this)}j6.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",j6.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var x7=q6("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function b7(){return this._locale}var y7=1e3,v7=6e4,j7=36e5,w7=126227808e5;function N7(e,t){return(e%t+t)%t}function E7(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-w7:new Date(e,t,r).valueOf()}function S7(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-w7:Date.UTC(e,t,r)}function k7(e,t){return t.erasAbbrRegex(e)}function C7(){var e,t,r,a,n,s=[],i=[],o=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)r=A3(c[e].name),a=A3(c[e].abbr),n=A3(c[e].narrow),i.push(r),s.push(a),o.push(n),l.push(r),l.push(a),l.push(n);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function A7(e,t){Z6(0,[e,e.length],0,t)}function _7(e,t,r,a,n){var s;return null==e?r8(this,a,n).year:(t>(s=a8(e,a,n))&&(t=s),T7.call(this,e,t,r,a,n))}function T7(e,t,r,a,n){var s=t8(e,t,r,a,n),i=Z3(s.year,0,s.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}Z6("N",0,0,"eraAbbr"),Z6("NN",0,0,"eraAbbr"),Z6("NNN",0,0,"eraAbbr"),Z6("NNNN",0,0,"eraName"),Z6("NNNNN",0,0,"eraNarrow"),Z6("y",["y",1],"yo","eraYear"),Z6("y",["yy",2],0,"eraYear"),Z6("y",["yyy",3],0,"eraYear"),Z6("y",["yyyy",4],0,"eraYear"),k3("N",k7),k3("NN",k7),k3("NNN",k7),k3("NNNN",function(e,t){return t.erasNameRegex(e)}),k3("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),D3(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,a){var n=r._locale.erasParse(e,a,r._strict);n?D6(r).era=n:D6(r).invalidEra=e}),k3("y",y3),k3("yy",y3),k3("yyy",y3),k3("yyyy",y3),k3("yo",function(e,t){return t._eraYearOrdinalRegex||y3}),D3(["y","yy","yyy","yyyy"],0),D3(["yo"],function(e,t,r,a){var n;r._locale._eraYearOrdinalRegex&&(n=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[0]=r._locale.eraYearOrdinalParse(e,n):t[0]=parseInt(e,10)}),Z6(0,["gg",2],0,function(){return this.weekYear()%100}),Z6(0,["GG",2],0,function(){return this.isoWeekYear()%100}),A7("gggg","weekYear"),A7("ggggg","weekYear"),A7("GGGG","isoWeekYear"),A7("GGGGG","isoWeekYear"),k3("G",v3),k3("g",v3),k3("GG",h3,c3),k3("gg",h3,c3),k3("GGGG",x3,u3),k3("gggg",x3,u3),k3("GGGGG",b3,m3),k3("ggggg",b3,m3),P3(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,a){t[a.substr(0,2)]=T3(e)}),P3(["gg","GG"],function(e,t,r,a){t[a]=j6.parseTwoDigitYear(e)}),Z6("Q",0,"Qo","quarter"),k3("Q",l3),D3("Q",function(e,t){t[1]=3*(T3(e)-1)}),Z6("D",["DD",2],"Do","date"),k3("D",h3,E3),k3("DD",h3,c3),k3("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),D3(["D","DD"],2),D3("Do",function(e,t){t[2]=T3(e.match(h3)[0])});var O7=z3("Date",!0);Z6("DDD",["DDDD",3],"DDDo","dayOfYear"),k3("DDD",g3),k3("DDDD",d3),D3(["DDD","DDDD"],function(e,t,r){r._dayOfYear=T3(e)}),Z6("m",["mm",2],0,"minute"),k3("m",h3,S3),k3("mm",h3,c3),D3(["m","mm"],4);var D7=z3("Minutes",!1);Z6("s",["ss",2],0,"second"),k3("s",h3,S3),k3("ss",h3,c3),D3(["s","ss"],5);var P7,M7,F7=z3("Seconds",!1);for(Z6("S",0,0,function(){return~~(this.millisecond()/100)}),Z6(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Z6(0,["SSS",3],0,"millisecond"),Z6(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Z6(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Z6(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Z6(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Z6(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Z6(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k3("S",g3,l3),k3("SS",g3,c3),k3("SSS",g3,d3),P7="SSSS";P7.length<=9;P7+="S")k3(P7,y3);function I7(e,t){t[6]=T3(1e3*("0."+e))}for(P7="S";P7.length<=9;P7+="S")D3(P7,I7);M7=z3("Milliseconds",!1),Z6("z",0,0,"zoneAbbr"),Z6("zz",0,0,"zoneName");var R7=L6.prototype;function L7(e){return e}R7.add=u7,R7.calendar=function(e,t){1===arguments.length&&(arguments[0]?f7(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,r=N6(e)&&!S6(e),a=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<n.length;t+=1)a=a||E6(e,n[t]);return r&&a}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Y8(),a=t7(r,this).startOf("day"),n=j6.calendarFormat(this,a)||"sameElse",s=t&&(V6(t[n])?t[n].call(this,r):t[n]);return this.format(s||this.localeData().calendar(n,this,Y8(r)))},R7.clone=function(){return new L6(this)},R7.diff=function(e,t,r){var a,n,s;if(!this.isValid())return NaN;if(!(a=t7(e,this)).isValid())return NaN;switch(n=6e4*(a.utcOffset()-this.utcOffset()),t=n3(t)){case"year":s=p7(this,a)/12;break;case"month":s=p7(this,a);break;case"quarter":s=p7(this,a)/3;break;case"second":s=(this-a)/1e3;break;case"minute":s=(this-a)/6e4;break;case"hour":s=(this-a)/36e5;break;case"day":s=(this-a-n)/864e5;break;case"week":s=(this-a-n)/6048e5;break;default:s=this-a}return r?s:_3(s)},R7.endOf=function(e){var t,r;if(void 0===(e=n3(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?S7:E7,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=j7-N7(t+(this._isUTC?0:this.utcOffset()*v7),j7)-1;break;case"minute":t=this._d.valueOf(),t+=v7-N7(t,v7)-1;break;case"second":t=this._d.valueOf(),t+=y7-N7(t,y7)-1}return this._d.setTime(t),j6.updateOffset(this,!0),this},R7.format=function(e){e||(e=this.isUtc()?j6.defaultFormatUtc:j6.defaultFormat);var t=t3(this,e);return this.localeData().postformat(t)},R7.from=function(e,t){return this.isValid()&&(z6(e)&&e.isValid()||Y8(e).isValid())?i7({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},R7.fromNow=function(e){return this.from(Y8(),e)},R7.to=function(e,t){return this.isValid()&&(z6(e)&&e.isValid()||Y8(e).isValid())?i7({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},R7.toNow=function(e){return this.to(Y8(),e)},R7.get=function(e){return V6(this[e=n3(e)])?this[e]():this},R7.invalidAt=function(){return D6(this).overflow},R7.isAfter=function(e,t){var r=z6(e)?e:Y8(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=n3(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},R7.isBefore=function(e,t){var r=z6(e)?e:Y8(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=n3(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},R7.isBetween=function(e,t,r,a){var n=z6(e)?e:Y8(e),s=z6(t)?t:Y8(t);return!!(this.isValid()&&n.isValid()&&s.isValid())&&("("===(a=a||"()")[0]?this.isAfter(n,r):!this.isBefore(n,r))&&(")"===a[1]?this.isBefore(s,r):!this.isAfter(s,r))},R7.isSame=function(e,t){var r,a=z6(e)?e:Y8(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=n3(t)||"millisecond")?this.valueOf()===a.valueOf():(r=a.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},R7.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},R7.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},R7.isValid=function(){return P6(this)},R7.lang=x7,R7.locale=g7,R7.localeData=b7,R7.max=H8,R7.min=V8,R7.parsingFlags=function(){return T6({},D6(this))},R7.set=function(e,t){if("object"==typeof e){var r,a=function(e){var t,r=[];for(t in e)E6(e,t)&&r.push({unit:t,priority:o3[t]});return r.sort(function(e,t){return e.priority-t.priority}),r}(e=s3(e)),n=a.length;for(r=0;r<n;r++)this[a[r].unit](e[a[r].unit])}else if(V6(this[e=n3(e)]))return this[e](t);return this},R7.startOf=function(e){var t,r;if(void 0===(e=n3(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?S7:E7,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=N7(t+(this._isUTC?0:this.utcOffset()*v7),j7);break;case"minute":t=this._d.valueOf(),t-=N7(t,v7);break;case"second":t=this._d.valueOf(),t-=N7(t,y7)}return this._d.setTime(t),j6.updateOffset(this,!0),this},R7.subtract=m7,R7.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},R7.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},R7.toDate=function(){return new Date(this.valueOf())},R7.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?t3(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):V6(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",t3(r,"Z")):t3(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},R7.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,a="moment",n="";return this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),e="["+a+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=n+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(R7[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),R7.toJSON=function(){return this.isValid()?this.toISOString():null},R7.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},R7.unix=function(){return Math.floor(this.valueOf()/1e3)},R7.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},R7.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},R7.eraName=function(){var e,t,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until)return a[e].name;if(a[e].until<=r&&r<=a[e].since)return a[e].name}return""},R7.eraNarrow=function(){var e,t,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until)return a[e].narrow;if(a[e].until<=r&&r<=a[e].since)return a[e].narrow}return""},R7.eraAbbr=function(){var e,t,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until)return a[e].abbr;if(a[e].until<=r&&r<=a[e].since)return a[e].abbr}return""},R7.eraYear=function(){var e,t,r,a,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=n[e].since<=n[e].until?1:-1,a=this.clone().startOf("day").valueOf(),n[e].since<=a&&a<=n[e].until||n[e].until<=a&&a<=n[e].since)return(this.year()-j6(n[e].since).year())*r+n[e].offset;return this.year()},R7.year=L3,R7.isLeapYear=function(){return F3(this.year())},R7.weekYear=function(e){return _7.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},R7.isoWeekYear=function(e){return _7.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},R7.quarter=R7.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},R7.month=Q3,R7.daysInMonth=function(){return U3(this.year(),this.month())},R7.week=R7.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},R7.isoWeek=R7.isoWeeks=function(e){var t=r8(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},R7.weeksInYear=function(){var e=this.localeData()._week;return a8(this.year(),e.dow,e.doy)},R7.weeksInWeekYear=function(){var e=this.localeData()._week;return a8(this.weekYear(),e.dow,e.doy)},R7.isoWeeksInYear=function(){return a8(this.year(),1,4)},R7.isoWeeksInISOWeekYear=function(){return a8(this.isoWeekYear(),1,4)},R7.date=O7,R7.day=R7.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=$3(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},R7.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},R7.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},R7.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},R7.hour=R7.hours=x8,R7.minute=R7.minutes=D7,R7.second=R7.seconds=F7,R7.millisecond=R7.milliseconds=M7,R7.utcOffset=function(e,t,r){var a,n=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=e7(w3,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(a=r7(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),n!==e&&(!t||this._changeInProgress?d7(this,i7(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,j6.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?n:r7(this)},R7.utc=function(e){return this.utcOffset(0,e)},R7.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(r7(this),"m")),this},R7.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=e7(j3,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},R7.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Y8(e).utcOffset():0,(this.utcOffset()-e)%60==0)},R7.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},R7.isLocal=function(){return!!this.isValid()&&!this._isUTC},R7.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},R7.isUtc=a7,R7.isUTC=a7,R7.zoneAbbr=function(){return this._isUTC?"UTC":""},R7.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},R7.dates=q6("dates accessor is deprecated. Use date instead.",O7),R7.months=q6("months accessor is deprecated. Use month instead",Q3),R7.years=q6("years accessor is deprecated. Use year instead",L3),R7.zone=q6("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),R7.isDSTShifted=q6("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!k6(this._isDSTShifted))return this._isDSTShifted;var e,t={};return R6(t,this),(t=U8(t))._a?(e=t._isUTC?O6(t._a):Y8(t._a),this._isDSTShifted=this.isValid()&&function(e,t){var r,a=Math.min(e.length,t.length),n=Math.abs(e.length-t.length),s=0;for(r=0;r<a;r++)T3(e[r])!==T3(t[r])&&s++;return s+n}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var z7=W6.prototype;function $7(e,t,r,a){var n=k8(),s=O6().set(a,t);return n[r](s,e)}function q7(e,t,r){if(C6(e)&&(t=e,e=void 0),e=e||"",null!=t)return $7(e,t,r,"month");var a,n=[];for(a=0;a<12;a++)n[a]=$7(e,a,r,"month");return n}function U7(e,t,r,a){"boolean"==typeof e?(C6(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,C6(t)&&(r=t,t=void 0),t=t||"");var n,s=k8(),i=e?s._week.dow:0,o=[];if(null!=r)return $7(t,(r+i)%7,a,"day");for(n=0;n<7;n++)o[n]=$7(t,(n+i)%7,a,"day");return o}z7.calendar=function(e,t,r){var a=this._calendar[e]||this._calendar.sameElse;return V6(a)?a.call(t,r):a},z7.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(K6).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},z7.invalidDate=function(){return this._invalidDate},z7.ordinal=function(e){return this._ordinal.replace("%d",e)},z7.preparse=L7,z7.postformat=L7,z7.relativeTime=function(e,t,r,a){var n=this._relativeTime[r];return V6(n)?n(e,t,r,a):n.replace(/%d/i,e)},z7.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return V6(r)?r(t):r.replace(/%s/i,t)},z7.set=function(e){var t,r;for(r in e)E6(e,r)&&(V6(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},z7.eras=function(e,t){var r,a,n,s=this._eras||k8("en")._eras;for(r=0,a=s.length;r<a;++r)switch("string"==typeof s[r].since&&(n=j6(s[r].since).startOf("day"),s[r].since=n.valueOf()),typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":n=j6(s[r].until).startOf("day").valueOf(),s[r].until=n.valueOf()}return s},z7.erasParse=function(e,t,r){var a,n,s,i,o,l=this.eras();for(e=e.toUpperCase(),a=0,n=l.length;a<n;++a)if(s=l[a].name.toUpperCase(),i=l[a].abbr.toUpperCase(),o=l[a].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(i===e)return l[a];break;case"NNNN":if(s===e)return l[a];break;case"NNNNN":if(o===e)return l[a]}else if([s,i,o].indexOf(e)>=0)return l[a]},z7.erasConvertYear=function(e,t){var r=e.since<=e.until?1:-1;return void 0===t?j6(e.since).year():j6(e.since).year()+(t-e.offset)*r},z7.erasAbbrRegex=function(e){return E6(this,"_erasAbbrRegex")||C7.call(this),e?this._erasAbbrRegex:this._erasRegex},z7.erasNameRegex=function(e){return E6(this,"_erasNameRegex")||C7.call(this),e?this._erasNameRegex:this._erasRegex},z7.erasNarrowRegex=function(e){return E6(this,"_erasNarrowRegex")||C7.call(this),e?this._erasNarrowRegex:this._erasRegex},z7.months=function(e,t){return e?w6(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||V3).test(t)?"format":"standalone"][e.month()]:w6(this._months)?this._months:this._months.standalone},z7.monthsShort=function(e,t){return e?w6(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[V3.test(t)?"format":"standalone"][e.month()]:w6(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},z7.monthsParse=function(e,t,r){var a,n,s;if(this._monthsParseExact)return G3.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(n=O6([2e3,a]),r&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),r||this._monthsParse[a]||(s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[a]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(r&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!r&&this._monthsParse[a].test(e))return a}},z7.monthsRegex=function(e){return this._monthsParseExact?(E6(this,"_monthsRegex")||X3.call(this),e?this._monthsStrictRegex:this._monthsRegex):(E6(this,"_monthsRegex")||(this._monthsRegex=W3),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},z7.monthsShortRegex=function(e){return this._monthsParseExact?(E6(this,"_monthsRegex")||X3.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(E6(this,"_monthsShortRegex")||(this._monthsShortRegex=H3),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},z7.week=function(e){return r8(e,this._week.dow,this._week.doy).week},z7.firstDayOfYear=function(){return this._week.doy},z7.firstDayOfWeek=function(){return this._week.dow},z7.weekdays=function(e,t){var r=w6(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?n8(r,this._week.dow):e?r[e.day()]:r},z7.weekdaysMin=function(e){return!0===e?n8(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},z7.weekdaysShort=function(e){return!0===e?n8(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},z7.weekdaysParse=function(e,t,r){var a,n,s;if(this._weekdaysParseExact)return u8.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(n=O6([2e3,1]).day(a),r&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[a]=new RegExp(s.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[a].test(e))return a;if(r&&"ddd"===t&&this._shortWeekdaysParse[a].test(e))return a;if(r&&"dd"===t&&this._minWeekdaysParse[a].test(e))return a;if(!r&&this._weekdaysParse[a].test(e))return a}},z7.weekdaysRegex=function(e){return this._weekdaysParseExact?(E6(this,"_weekdaysRegex")||m8.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(E6(this,"_weekdaysRegex")||(this._weekdaysRegex=l8),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},z7.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(E6(this,"_weekdaysRegex")||m8.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(E6(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=c8),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},z7.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(E6(this,"_weekdaysRegex")||m8.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(E6(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=d8),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},z7.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},z7.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},E8("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===T3(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),j6.lang=q6("moment.lang is deprecated. Use moment.locale instead.",E8),j6.langData=q6("moment.langData is deprecated. Use moment.localeData instead.",k8);var B7=Math.abs;function Y7(e,t,r,a){var n=i7(t,r);return e._milliseconds+=a*n._milliseconds,e._days+=a*n._days,e._months+=a*n._months,e._bubble()}function V7(e){return e<0?Math.floor(e):Math.ceil(e)}function H7(e){return 4800*e/146097}function W7(e){return 146097*e/4800}function G7(e){return function(){return this.as(e)}}var K7=G7("ms"),Q7=G7("s"),X7=G7("m"),J7=G7("h"),Z7=G7("d"),e9=G7("w"),t9=G7("M"),r9=G7("Q"),a9=G7("y"),n9=K7;function s9(e){return function(){return this.isValid()?this._data[e]:NaN}}var i9=s9("milliseconds"),o9=s9("seconds"),l9=s9("minutes"),c9=s9("hours"),d9=s9("days"),u9=s9("months"),m9=s9("years"),h9=Math.round,f9={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function p9(e,t,r,a,n){return n.relativeTime(t||1,!!r,e,a)}var g9=Math.abs;function x9(e){return(e>0)-(e<0)||+e}function b9(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,a,n,s,i,o,l=g9(this._milliseconds)/1e3,c=g9(this._days),d=g9(this._months),u=this.asSeconds();return u?(e=_3(l/60),t=_3(e/60),l%=60,e%=60,r=_3(d/12),d%=12,a=l?l.toFixed(3).replace(/\.?0+$/,""):"",n=u<0?"-":"",s=x9(this._months)!==x9(u)?"-":"",i=x9(this._days)!==x9(u)?"-":"",o=x9(this._milliseconds)!==x9(u)?"-":"",n+"P"+(r?s+r+"Y":"")+(d?s+d+"M":"")+(c?i+c+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+a+"S":"")):"P0D"}var y9=K8.prototype;function v9(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}y9.isValid=function(){return this._isValid},y9.abs=function(){var e=this._data;return this._milliseconds=B7(this._milliseconds),this._days=B7(this._days),this._months=B7(this._months),e.milliseconds=B7(e.milliseconds),e.seconds=B7(e.seconds),e.minutes=B7(e.minutes),e.hours=B7(e.hours),e.months=B7(e.months),e.years=B7(e.years),this},y9.add=function(e,t){return Y7(this,e,t,1)},y9.subtract=function(e,t){return Y7(this,e,t,-1)},y9.as=function(e){if(!this.isValid())return NaN;var t,r,a=this._milliseconds;if("month"===(e=n3(e))||"quarter"===e||"year"===e)switch(t=this._days+a/864e5,r=this._months+H7(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(W7(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}},y9.asMilliseconds=K7,y9.asSeconds=Q7,y9.asMinutes=X7,y9.asHours=J7,y9.asDays=Z7,y9.asWeeks=e9,y9.asMonths=t9,y9.asQuarters=r9,y9.asYears=a9,y9.valueOf=n9,y9._bubble=function(){var e,t,r,a,n,s=this._milliseconds,i=this._days,o=this._months,l=this._data;return s>=0&&i>=0&&o>=0||s<=0&&i<=0&&o<=0||(s+=864e5*V7(W7(o)+i),i=0,o=0),l.milliseconds=s%1e3,e=_3(s/1e3),l.seconds=e%60,t=_3(e/60),l.minutes=t%60,r=_3(t/60),l.hours=r%24,i+=_3(r/24),o+=n=_3(H7(i)),i-=V7(W7(n)),a=_3(o/12),o%=12,l.days=i,l.months=o,l.years=a,this},y9.clone=function(){return i7(this)},y9.get=function(e){return e=n3(e),this.isValid()?this[e+"s"]():NaN},y9.milliseconds=i9,y9.seconds=o9,y9.minutes=l9,y9.hours=c9,y9.days=d9,y9.weeks=function(){return _3(this.days()/7)},y9.months=u9,y9.years=m9,y9.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,a,n=!1,s=f9;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(s=Object.assign({},f9,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),a=function(e,t,r,a){var n=i7(e).abs(),s=h9(n.as("s")),i=h9(n.as("m")),o=h9(n.as("h")),l=h9(n.as("d")),c=h9(n.as("M")),d=h9(n.as("w")),u=h9(n.as("y")),m=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||i<=1&&["m"]||i<r.m&&["mm",i]||o<=1&&["h"]||o<r.h&&["hh",o]||l<=1&&["d"]||l<r.d&&["dd",l];return null!=r.w&&(m=m||d<=1&&["w"]||d<r.w&&["ww",d]),(m=m||c<=1&&["M"]||c<r.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=t,m[3]=+e>0,m[4]=a,p9.apply(null,m)}(this,!n,s,r=this.localeData()),n&&(a=r.pastFuture(+this,a)),r.postformat(a)},y9.toISOString=b9,y9.toString=b9,y9.toJSON=b9,y9.locale=g7,y9.localeData=b7,y9.toIsoString=q6("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",b9),y9.lang=x7,Z6("X",0,0,"unix"),Z6("x",0,0,"valueOf"),k3("x",v3),k3("X",/[+-]?\d+(\.\d{1,3})?/),D3("X",function(e,t,r){r._d=new Date(1e3*parseFloat(e))}),D3("x",function(e,t,r){r._d=new Date(T3(e))}),
//! moment.js
j6.version="2.30.1",f6=Y8,j6.fn=R7,j6.min=function(){return W8("isBefore",[].slice.call(arguments,0))},j6.max=function(){return W8("isAfter",[].slice.call(arguments,0))},j6.now=function(){return Date.now?Date.now():+new Date},j6.utc=O6,j6.unix=function(e){return Y8(1e3*e)},j6.months=function(e,t){return q7(e,t,"months")},j6.isDate=A6,j6.locale=E8,j6.invalid=M6,j6.duration=i7,j6.isMoment=z6,j6.weekdays=function(e,t,r){return U7(e,t,r,"weekdays")},j6.parseZone=function(){return Y8.apply(null,arguments).parseZone()},j6.localeData=k8,j6.isDuration=Q8,j6.monthsShort=function(e,t){return q7(e,t,"monthsShort")},j6.weekdaysMin=function(e,t,r){return U7(e,t,r,"weekdaysMin")},j6.defineLocale=S8,j6.updateLocale=function(e,t){if(null!=t){var r,a,n=b8;null!=y8[e]&&null!=y8[e].parentLocale?y8[e].set(H6(y8[e]._config,t)):(null!=(a=N8(e))&&(n=a._config),t=H6(n,t),null==a&&(t.abbr=e),(r=new W6(t)).parentLocale=y8[e],y8[e]=r),E8(e)}else null!=y8[e]&&(null!=y8[e].parentLocale?(y8[e]=y8[e].parentLocale,e===E8()&&E8(e)):null!=y8[e]&&delete y8[e]);return y8[e]},j6.locales=function(){return U6(y8)},j6.weekdaysShort=function(e,t,r){return U7(e,t,r,"weekdaysShort")},j6.normalizeUnits=n3,j6.relativeTimeRounding=function(e){return void 0===e?h9:"function"==typeof e&&(h9=e,!0)},j6.relativeTimeThreshold=function(e,t){return void 0!==f9[e]&&(void 0===t?f9[e]:(f9[e]=t,"s"===e&&(f9.ss=t-1),!0))},j6.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},j6.prototype=R7,j6.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var j9,w9,N9,E9,S9,k9,C9,A9={exports:{}};function _9(){return j9||(j9=1,(e=A9).exports=function(){var t,r;function a(){return t.apply(null,arguments)}function n(e){t=e}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(o(e,t))return!1;return!0}function c(e){return void 0===e}function d(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function m(e,t){var r,a=[],n=e.length;for(r=0;r<n;++r)a.push(t(e[r],r));return a}function h(e,t){for(var r in t)o(t,r)&&(e[r]=t[r]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,r,a){return Wr(e,t,r,a,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=p()),e._pf}function x(e){var t=null,a=!1,n=e._d&&!isNaN(e._d.getTime());return n&&(t=g(e),a=r.call(t.parsedDateParts,function(e){return null!=e}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&a),e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?n:(e._isValid=n,e._isValid)}function b(e){var t=f(NaN);return null!=e?h(g(t),e):g(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),a=r.length>>>0;for(t=0;t<a;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var y=a.momentProperties=[],v=!1;function j(e,t){var r,a,n,s=y.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=g(t)),c(t._locale)||(e._locale=t._locale),s>0)for(r=0;r<s;r++)c(n=t[a=y[r]])||(e[a]=n);return e}function w(e){j(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,a.updateOffset(this),v=!1)}function N(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function E(e){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function S(e,t){var r=!0;return h(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,e),r){var n,s,i,l=[],c=arguments.length;for(s=0;s<c;s++){if(n="","object"==typeof arguments[s]){for(i in n+="\n["+s+"] ",arguments[0])o(arguments[0],i)&&(n+=i+": "+arguments[0][i]+", ");n=n.slice(0,-2)}else n=arguments[s];l.push(n)}E(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}var k,C={};function A(e,t){null!=a.deprecationHandler&&a.deprecationHandler(e,t),C[e]||(E(t),C[e]=!0)}function _(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e){var t,r;for(r in e)o(e,r)&&(_(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var r,a=h({},e);for(r in t)o(t,r)&&(i(e[r])&&i(t[r])?(a[r]={},h(a[r],e[r]),h(a[r],t[r])):null!=t[r]?a[r]=t[r]:delete a[r]);for(r in e)o(e,r)&&!o(t,r)&&i(e[r])&&(a[r]=h({},a[r]));return a}function D(e){null!=e&&this.set(e)}a.suppressDeprecationWarnings=!1,a.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)o(e,t)&&r.push(t);return r};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function M(e,t,r){var a=this._calendar[e]||this._calendar.sameElse;return _(a)?a.call(t,r):a}function F(e,t,r){var a=""+Math.abs(e),n=t-a.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+a}var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,R=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L={},z={};function $(e,t,r,a){var n=a;"string"==typeof a&&(n=function(){return this[a]()}),e&&(z[e]=n),t&&(z[t[0]]=function(){return F(n.apply(this,arguments),t[1],t[2])}),r&&(z[r]=function(){return this.localeData().ordinal(n.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e){var t,r,a=e.match(I);for(t=0,r=a.length;t<r;t++)z[a[t]]?a[t]=z[a[t]]:a[t]=q(a[t]);return function(t){var n,s="";for(n=0;n<r;n++)s+=_(a[n])?a[n].call(t,e):a[n];return s}}function B(e,t){return e.isValid()?(t=Y(t,e.localeData()),L[t]=L[t]||U(t),L[t](e)):e.localeData().invalidDate()}function Y(e,t){var r=5;function a(e){return t.longDateFormat(e)||e}for(R.lastIndex=0;r>=0&&R.test(e);)e=e.replace(R,a),R.lastIndex=0,r-=1;return e}var V={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function H(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(I).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}var W="Invalid date";function G(){return this._invalidDate}var K="%d",Q=/\d{1,2}/;function X(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,r,a){var n=this._relativeTime[r];return _(n)?n(e,t,r,a):n.replace(/%d/i,e)}function ee(e,t){var r=this._relativeTime[e>0?"future":"past"];return _(r)?r(t):r.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function re(e){return"string"==typeof e?te[e]||te[e.toLowerCase()]:void 0}function ae(e){var t,r,a={};for(r in e)o(e,r)&&(t=re(r))&&(a[t]=e[r]);return a}var ne={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function se(e){var t,r=[];for(t in e)o(e,t)&&r.push({unit:t,priority:ne[t]});return r.sort(function(e,t){return e.priority-t.priority}),r}var ie,oe=/\d/,le=/\d\d/,ce=/\d{3}/,de=/\d{4}/,ue=/[+-]?\d{6}/,me=/\d\d?/,he=/\d\d\d\d?/,fe=/\d\d\d\d\d\d?/,pe=/\d{1,3}/,ge=/\d{1,4}/,xe=/[+-]?\d{1,6}/,be=/\d+/,ye=/[+-]?\d+/,ve=/Z|[+-]\d\d:?\d\d/gi,je=/Z|[+-]\d\d(?::?\d\d)?/gi,we=/[+-]?\d+(\.\d{1,3})?/,Ne=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ee=/^[1-9]\d?/,Se=/^([1-9]\d|\d)/;function ke(e,t,r){ie[e]=_(t)?t:function(e,a){return e&&r?r:t}}function Ce(e,t){return o(ie,e)?ie[e](t._strict,t._locale):new RegExp(Ae(e))}function Ae(e){return _e(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,a,n){return t||r||a||n}))}function _e(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Te(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Oe(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=Te(t)),r}ie={};var De={};function Pe(e,t){var r,a,n=t;for("string"==typeof e&&(e=[e]),d(t)&&(n=function(e,r){r[t]=Oe(e)}),a=e.length,r=0;r<a;r++)De[e[r]]=n}function Me(e,t){Pe(e,function(e,r,a,n){a._w=a._w||{},t(e,a._w,a,n)})}function Fe(e,t,r){null!=t&&o(De,e)&&De[e](t,r._a,r,e)}function Ie(e){return e%4==0&&e%100!=0||e%400==0}var Re=0,Le=1,ze=2,$e=3,qe=4,Ue=5,Be=6,Ye=7,Ve=8;function He(e){return Ie(e)?366:365}$("Y",0,0,function(){var e=this.year();return e<=9999?F(e,4):"+"+e}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),ke("Y",ye),ke("YY",me,le),ke("YYYY",ge,de),ke("YYYYY",xe,ue),ke("YYYYYY",xe,ue),Pe(["YYYYY","YYYYYY"],Re),Pe("YYYY",function(e,t){t[Re]=2===e.length?a.parseTwoDigitYear(e):Oe(e)}),Pe("YY",function(e,t){t[Re]=a.parseTwoDigitYear(e)}),Pe("Y",function(e,t){t[Re]=parseInt(e,10)}),a.parseTwoDigitYear=function(e){return Oe(e)+(Oe(e)>68?1900:2e3)};var We,Ge=Qe("FullYear",!0);function Ke(){return Ie(this.year())}function Qe(e,t){return function(r){return null!=r?(Je(this,e,r),a.updateOffset(this,t),this):Xe(this,e)}}function Xe(e,t){if(!e.isValid())return NaN;var r=e._d,a=e._isUTC;switch(t){case"Milliseconds":return a?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return a?r.getUTCSeconds():r.getSeconds();case"Minutes":return a?r.getUTCMinutes():r.getMinutes();case"Hours":return a?r.getUTCHours():r.getHours();case"Date":return a?r.getUTCDate():r.getDate();case"Day":return a?r.getUTCDay():r.getDay();case"Month":return a?r.getUTCMonth():r.getMonth();case"FullYear":return a?r.getUTCFullYear():r.getFullYear();default:return NaN}}function Je(e,t,r){var a,n,s,i,o;if(e.isValid()&&!isNaN(r)){switch(a=e._d,n=e._isUTC,t){case"Milliseconds":return void(n?a.setUTCMilliseconds(r):a.setMilliseconds(r));case"Seconds":return void(n?a.setUTCSeconds(r):a.setSeconds(r));case"Minutes":return void(n?a.setUTCMinutes(r):a.setMinutes(r));case"Hours":return void(n?a.setUTCHours(r):a.setHours(r));case"Date":return void(n?a.setUTCDate(r):a.setDate(r));case"FullYear":break;default:return}s=r,i=e.month(),o=29!==(o=e.date())||1!==i||Ie(s)?o:28,n?a.setUTCFullYear(s,i,o):a.setFullYear(s,i,o)}}function Ze(e){return _(this[e=re(e)])?this[e]():this}function et(e,t){if("object"==typeof e){var r,a=se(e=ae(e)),n=a.length;for(r=0;r<n;r++)this[a[r].unit](e[a[r].unit])}else if(_(this[e=re(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function rt(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=tt(t,12);return e+=(t-r)/12,1===r?Ie(e)?29:28:31-r%7%2}We=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),$("MMMM",0,0,function(e){return this.localeData().months(this,e)}),ke("M",me,Ee),ke("MM",me,le),ke("MMM",function(e,t){return t.monthsShortRegex(e)}),ke("MMMM",function(e,t){return t.monthsRegex(e)}),Pe(["M","MM"],function(e,t){t[Le]=Oe(e)-1}),Pe(["MMM","MMMM"],function(e,t,r,a){var n=r._locale.monthsParse(e,a,r._strict);null!=n?t[Le]=n:g(r).invalidMonth=e});var at="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),st=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,it=Ne,ot=Ne;function lt(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||st).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone}function ct(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[st.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dt(e,t,r){var a,n,s,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)s=f([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(s,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(n=We.call(this._shortMonthsParse,i))?n:null:-1!==(n=We.call(this._longMonthsParse,i))?n:null:"MMM"===t?-1!==(n=We.call(this._shortMonthsParse,i))||-1!==(n=We.call(this._longMonthsParse,i))?n:null:-1!==(n=We.call(this._longMonthsParse,i))||-1!==(n=We.call(this._shortMonthsParse,i))?n:null}function ut(e,t,r){var a,n,s;if(this._monthsParseExact)return dt.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(n=f([2e3,a]),r&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),r||this._monthsParse[a]||(s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[a]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(r&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!r&&this._monthsParse[a].test(e))return a}}function mt(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Oe(t);else if(!d(t=e.localeData().monthsParse(t)))return e;var r=t,a=e.date();return a=a<29?a:Math.min(a,rt(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,a):e._d.setMonth(r,a),e}function ht(e){return null!=e?(mt(this,e),a.updateOffset(this,!0),this):Xe(this,"Month")}function ft(){return rt(this.year(),this.month())}function pt(e){return this._monthsParseExact?(o(this,"_monthsRegex")||xt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=it),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function gt(e){return this._monthsParseExact?(o(this,"_monthsRegex")||xt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=ot),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function xt(){function e(e,t){return t.length-e.length}var t,r,a,n,s=[],i=[],o=[];for(t=0;t<12;t++)r=f([2e3,t]),a=_e(this.monthsShort(r,"")),n=_e(this.months(r,"")),s.push(a),i.push(n),o.push(n),o.push(a);s.sort(e),i.sort(e),o.sort(e),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function bt(e,t,r,a,n,s,i){var o;return e<100&&e>=0?(o=new Date(e+400,t,r,a,n,s,i),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,r,a,n,s,i),o}function yt(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function vt(e,t,r){var a=7+t-r;return-(7+yt(e,0,a).getUTCDay()-t)%7+a-1}function jt(e,t,r,a,n){var s,i,o=1+7*(t-1)+(7+r-a)%7+vt(e,a,n);return o<=0?i=He(s=e-1)+o:o>He(e)?(s=e+1,i=o-He(e)):(s=e,i=o),{year:s,dayOfYear:i}}function wt(e,t,r){var a,n,s=vt(e.year(),t,r),i=Math.floor((e.dayOfYear()-s-1)/7)+1;return i<1?a=i+Nt(n=e.year()-1,t,r):i>Nt(e.year(),t,r)?(a=i-Nt(e.year(),t,r),n=e.year()+1):(n=e.year(),a=i),{week:a,year:n}}function Nt(e,t,r){var a=vt(e,t,r),n=vt(e+1,t,r);return(He(e)-a+n)/7}function Et(e){return wt(e,this._week.dow,this._week.doy).week}$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),ke("w",me,Ee),ke("ww",me,le),ke("W",me,Ee),ke("WW",me,le),Me(["w","ww","W","WW"],function(e,t,r,a){t[a.substr(0,1)]=Oe(e)});var St={dow:0,doy:6};function kt(){return this._week.dow}function Ct(){return this._week.doy}function At(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function _t(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Tt(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ot(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}$("d",0,"do","day"),$("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),$("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),$("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),ke("d",me),ke("e",me),ke("E",me),ke("dd",function(e,t){return t.weekdaysMinRegex(e)}),ke("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ke("dddd",function(e,t){return t.weekdaysRegex(e)}),Me(["dd","ddd","dddd"],function(e,t,r,a){var n=r._locale.weekdaysParse(e,a,r._strict);null!=n?t.d=n:g(r).invalidWeekday=e}),Me(["d","e","E"],function(e,t,r,a){t[a]=Oe(e)});var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ft="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),It=Ne,Rt=Ne,Lt=Ne;function zt(e,t){var r=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(r,this._week.dow):e?r[e.day()]:r}function $t(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function qt(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ut(e,t,r){var a,n,s,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)s=f([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(s,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(n=We.call(this._weekdaysParse,i))?n:null:"ddd"===t?-1!==(n=We.call(this._shortWeekdaysParse,i))?n:null:-1!==(n=We.call(this._minWeekdaysParse,i))?n:null:"dddd"===t?-1!==(n=We.call(this._weekdaysParse,i))||-1!==(n=We.call(this._shortWeekdaysParse,i))||-1!==(n=We.call(this._minWeekdaysParse,i))?n:null:"ddd"===t?-1!==(n=We.call(this._shortWeekdaysParse,i))||-1!==(n=We.call(this._weekdaysParse,i))||-1!==(n=We.call(this._minWeekdaysParse,i))?n:null:-1!==(n=We.call(this._minWeekdaysParse,i))||-1!==(n=We.call(this._weekdaysParse,i))||-1!==(n=We.call(this._shortWeekdaysParse,i))?n:null}function Bt(e,t,r){var a,n,s;if(this._weekdaysParseExact)return Ut.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(n=f([2e3,1]).day(a),r&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[a]=new RegExp(s.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[a].test(e))return a;if(r&&"ddd"===t&&this._shortWeekdaysParse[a].test(e))return a;if(r&&"dd"===t&&this._minWeekdaysParse[a].test(e))return a;if(!r&&this._weekdaysParse[a].test(e))return a}}function Yt(e){if(!this.isValid())return null!=e?this:NaN;var t=Xe(this,"Day");return null!=e?(e=Tt(e,this.localeData()),this.add(e-t,"d")):t}function Vt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ht(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Wt(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=It),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Gt(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Rt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Lt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,r,a,n,s,i=[],o=[],l=[],c=[];for(t=0;t<7;t++)r=f([2e3,1]).day(t),a=_e(this.weekdaysMin(r,"")),n=_e(this.weekdaysShort(r,"")),s=_e(this.weekdays(r,"")),i.push(a),o.push(n),l.push(s),c.push(a),c.push(n),c.push(s);i.sort(e),o.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Zt(e,t){$(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function er(e,t){return t._meridiemParse}function tr(e){return"p"===(e+"").toLowerCase().charAt(0)}$("H",["HH",2],0,"hour"),$("h",["hh",2],0,Xt),$("k",["kk",2],0,Jt),$("hmm",0,0,function(){return""+Xt.apply(this)+F(this.minutes(),2)}),$("hmmss",0,0,function(){return""+Xt.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),$("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),$("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),Zt("a",!0),Zt("A",!1),ke("a",er),ke("A",er),ke("H",me,Se),ke("h",me,Ee),ke("k",me,Ee),ke("HH",me,le),ke("hh",me,le),ke("kk",me,le),ke("hmm",he),ke("hmmss",fe),ke("Hmm",he),ke("Hmmss",fe),Pe(["H","HH"],$e),Pe(["k","kk"],function(e,t,r){var a=Oe(e);t[$e]=24===a?0:a}),Pe(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),Pe(["h","hh"],function(e,t,r){t[$e]=Oe(e),g(r).bigHour=!0}),Pe("hmm",function(e,t,r){var a=e.length-2;t[$e]=Oe(e.substr(0,a)),t[qe]=Oe(e.substr(a)),g(r).bigHour=!0}),Pe("hmmss",function(e,t,r){var a=e.length-4,n=e.length-2;t[$e]=Oe(e.substr(0,a)),t[qe]=Oe(e.substr(a,2)),t[Ue]=Oe(e.substr(n)),g(r).bigHour=!0}),Pe("Hmm",function(e,t,r){var a=e.length-2;t[$e]=Oe(e.substr(0,a)),t[qe]=Oe(e.substr(a))}),Pe("Hmmss",function(e,t,r){var a=e.length-4,n=e.length-2;t[$e]=Oe(e.substr(0,a)),t[qe]=Oe(e.substr(a,2)),t[Ue]=Oe(e.substr(n))});var rr=/[ap]\.?m?\.?/i,ar=Qe("Hours",!0);function nr(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var sr,ir={calendar:P,longDateFormat:V,invalidDate:W,ordinal:K,dayOfMonthOrdinalParse:Q,relativeTime:J,months:at,monthsShort:nt,week:St,weekdays:Pt,weekdaysMin:Ft,weekdaysShort:Mt,meridiemParse:rr},or={},lr={};function cr(e,t){var r,a=Math.min(e.length,t.length);for(r=0;r<a;r+=1)if(e[r]!==t[r])return r;return a}function dr(e){return e?e.toLowerCase().replace("_","-"):e}function ur(e){for(var t,r,a,n,s=0;s<e.length;){for(t=(n=dr(e[s]).split("-")).length,r=(r=dr(e[s+1]))?r.split("-"):null;t>0;){if(a=hr(n.slice(0,t).join("-")))return a;if(r&&r.length>=t&&cr(n,r)>=t-1)break;t--}s++}return sr}function mr(e){return!(!e||!e.match("^[^/\\\\]*$"))}function hr(t){var r=null;if(void 0===or[t]&&e&&e.exports&&mr(t))try{r=sr._abbr,v9("./locale/"+t),fr(r)}catch(Ba){or[t]=null}return or[t]}function fr(e,t){var r;return e&&((r=c(t)?xr(e):pr(e,t))?sr=r:"undefined"!=typeof console&&console.warn),sr._abbr}function pr(e,t){if(null!==t){var r,a=ir;if(t.abbr=e,null!=or[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=or[e]._config;else if(null!=t.parentLocale)if(null!=or[t.parentLocale])a=or[t.parentLocale]._config;else{if(null==(r=hr(t.parentLocale)))return lr[t.parentLocale]||(lr[t.parentLocale]=[]),lr[t.parentLocale].push({name:e,config:t}),null;a=r._config}return or[e]=new D(O(a,t)),lr[e]&&lr[e].forEach(function(e){pr(e.name,e.config)}),fr(e),or[e]}return delete or[e],null}function gr(e,t){if(null!=t){var r,a,n=ir;null!=or[e]&&null!=or[e].parentLocale?or[e].set(O(or[e]._config,t)):(null!=(a=hr(e))&&(n=a._config),t=O(n,t),null==a&&(t.abbr=e),(r=new D(t)).parentLocale=or[e],or[e]=r),fr(e)}else null!=or[e]&&(null!=or[e].parentLocale?(or[e]=or[e].parentLocale,e===fr()&&fr(e)):null!=or[e]&&delete or[e]);return or[e]}function xr(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sr;if(!s(e)){if(t=hr(e))return t;e=[e]}return ur(e)}function br(){return k(or)}function yr(e){var t,r=e._a;return r&&-2===g(e).overflow&&(t=r[Le]<0||r[Le]>11?Le:r[ze]<1||r[ze]>rt(r[Re],r[Le])?ze:r[$e]<0||r[$e]>24||24===r[$e]&&(0!==r[qe]||0!==r[Ue]||0!==r[Be])?$e:r[qe]<0||r[qe]>59?qe:r[Ue]<0||r[Ue]>59?Ue:r[Be]<0||r[Be]>999?Be:-1,g(e)._overflowDayOfYear&&(t<Re||t>ze)&&(t=ze),g(e)._overflowWeeks&&-1===t&&(t=Ye),g(e)._overflowWeekday&&-1===t&&(t=Ve),g(e).overflow=t),e}var vr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wr=/Z|[+-]\d\d(?::?\d\d)?/,Nr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Er=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sr=/^\/?Date\((-?\d+)/i,kr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ar(e){var t,r,a,n,s,i,o=e._i,l=vr.exec(o)||jr.exec(o),c=Nr.length,d=Er.length;if(l){for(g(e).iso=!0,t=0,r=c;t<r;t++)if(Nr[t][1].exec(l[1])){n=Nr[t][0],a=!1!==Nr[t][2];break}if(null==n)return void(e._isValid=!1);if(l[3]){for(t=0,r=d;t<r;t++)if(Er[t][1].exec(l[3])){s=(l[2]||" ")+Er[t][0];break}if(null==s)return void(e._isValid=!1)}if(!a&&null!=s)return void(e._isValid=!1);if(l[4]){if(!wr.exec(l[4]))return void(e._isValid=!1);i="Z"}e._f=n+(s||"")+(i||""),$r(e)}else e._isValid=!1}function _r(e,t,r,a,n,s){var i=[Tr(e),nt.indexOf(t),parseInt(r,10),parseInt(a,10),parseInt(n,10)];return s&&i.push(parseInt(s,10)),i}function Tr(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Or(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Dr(e,t,r){return!e||Mt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(r).weekdayMismatch=!0,r._isValid=!1,!1)}function Pr(e,t,r){if(e)return Cr[e];if(t)return 0;var a=parseInt(r,10),n=a%100;return(a-n)/100*60+n}function Mr(e){var t,r=kr.exec(Or(e._i));if(r){if(t=_r(r[4],r[3],r[2],r[5],r[6],r[7]),!Dr(r[1],t,e))return;e._a=t,e._tzm=Pr(r[8],r[9],r[10]),e._d=yt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Fr(e){var t=Sr.exec(e._i);null===t?(Ar(e),!1===e._isValid&&(delete e._isValid,Mr(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:a.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ir(e,t,r){return null!=e?e:null!=t?t:r}function Rr(e){var t=new Date(a.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Lr(e){var t,r,a,n,s,i=[];if(!e._d){for(a=Rr(e),e._w&&null==e._a[ze]&&null==e._a[Le]&&zr(e),null!=e._dayOfYear&&(s=Ir(e._a[Re],a[Re]),(e._dayOfYear>He(s)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),r=yt(s,0,e._dayOfYear),e._a[Le]=r.getUTCMonth(),e._a[ze]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=a[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[$e]&&0===e._a[qe]&&0===e._a[Ue]&&0===e._a[Be]&&(e._nextDay=!0,e._a[$e]=0),e._d=(e._useUTC?yt:bt).apply(null,i),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[$e]=24),e._w&&void 0!==e._w.d&&e._w.d!==n&&(g(e).weekdayMismatch=!0)}}function zr(e){var t,r,a,n,s,i,o,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,i=4,r=Ir(t.GG,e._a[Re],wt(Gr(),1,4).year),a=Ir(t.W,1),((n=Ir(t.E,1))<1||n>7)&&(l=!0)):(s=e._locale._week.dow,i=e._locale._week.doy,c=wt(Gr(),s,i),r=Ir(t.gg,e._a[Re],c.year),a=Ir(t.w,c.week),null!=t.d?((n=t.d)<0||n>6)&&(l=!0):null!=t.e?(n=t.e+s,(t.e<0||t.e>6)&&(l=!0)):n=s),a<1||a>Nt(r,s,i)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(o=jt(r,a,n,s,i),e._a[Re]=o.year,e._dayOfYear=o.dayOfYear)}function $r(e){if(e._f!==a.ISO_8601)if(e._f!==a.RFC_2822){e._a=[],g(e).empty=!0;var t,r,n,s,i,o,l,c=""+e._i,d=c.length,u=0;for(l=(n=Y(e._f,e._locale).match(I)||[]).length,t=0;t<l;t++)s=n[t],(r=(c.match(Ce(s,e))||[])[0])&&((i=c.substr(0,c.indexOf(r))).length>0&&g(e).unusedInput.push(i),c=c.slice(c.indexOf(r)+r.length),u+=r.length),z[s]?(r?g(e).empty=!1:g(e).unusedTokens.push(s),Fe(s,r,e)):e._strict&&!r&&g(e).unusedTokens.push(s);g(e).charsLeftOver=d-u,c.length>0&&g(e).unusedInput.push(c),e._a[$e]<=12&&!0===g(e).bigHour&&e._a[$e]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[$e]=qr(e._locale,e._a[$e],e._meridiem),null!==(o=g(e).era)&&(e._a[Re]=e._locale.erasConvertYear(o,e._a[Re])),Lr(e),yr(e)}else Mr(e);else Ar(e)}function qr(e,t,r){var a;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((a=e.isPM(r))&&t<12&&(t+=12),a||12!==t||(t=0),t):t}function Ur(e){var t,r,a,n,s,i,o=!1,l=e._f.length;if(0===l)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(n=0;n<l;n++)s=0,i=!1,t=j({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[n],$r(t),x(t)&&(i=!0),s+=g(t).charsLeftOver,s+=10*g(t).unusedTokens.length,g(t).score=s,o?s<a&&(a=s,r=t):(null==a||s<a||i)&&(a=s,r=t,i&&(o=!0));h(e,r||t)}function Br(e){if(!e._d){var t=ae(e._i),r=void 0===t.day?t.date:t.day;e._a=m([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Lr(e)}}function Yr(e){var t=new w(yr(Vr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Vr(e){var t=e._i,r=e._f;return e._locale=e._locale||xr(e._l),null===t||void 0===r&&""===t?b({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),N(t)?new w(yr(t)):(u(t)?e._d=t:s(r)?Ur(e):r?$r(e):Hr(e),x(e)||(e._d=null),e))}function Hr(e){var t=e._i;c(t)?e._d=new Date(a.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?Fr(e):s(t)?(e._a=m(t.slice(0),function(e){return parseInt(e,10)}),Lr(e)):i(t)?Br(e):d(t)?e._d=new Date(t):a.createFromInputFallback(e)}function Wr(e,t,r,a,n){var o={};return!0!==t&&!1!==t||(a=t,t=void 0),!0!==r&&!1!==r||(a=r,r=void 0),(i(e)&&l(e)||s(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=n,o._l=r,o._i=e,o._f=t,o._strict=a,Yr(o)}function Gr(e,t,r,a){return Wr(e,t,r,a,!1)}a.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),a.ISO_8601=function(){},a.RFC_2822=function(){};var Kr=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Gr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()}),Qr=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Gr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()});function Xr(e,t){var r,a;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Gr();for(r=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](r)||(r=t[a]);return r}function Jr(){return Xr("isBefore",[].slice.call(arguments,0))}function Zr(){return Xr("isAfter",[].slice.call(arguments,0))}var ea=function(){return Date.now?Date.now():+new Date},ta=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ra(e){var t,r,a=!1,n=ta.length;for(t in e)if(o(e,t)&&(-1===We.call(ta,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<n;++r)if(e[ta[r]]){if(a)return!1;parseFloat(e[ta[r]])!==Oe(e[ta[r]])&&(a=!0)}return!0}function aa(){return this._isValid}function na(){return Ca(NaN)}function sa(e){var t=ae(e),r=t.year||0,a=t.quarter||0,n=t.month||0,s=t.week||t.isoWeek||0,i=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=ra(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*o*60*60,this._days=+i+7*s,this._months=+n+3*a+12*r,this._data={},this._locale=xr(),this._bubble()}function ia(e){return e instanceof sa}function oa(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function la(e,t,r){var a,n=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),i=0;for(a=0;a<n;a++)Oe(e[a])!==Oe(t[a])&&i++;return i+s}function ca(e,t){$(e,0,0,function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+F(~~(e/60),2)+t+F(~~e%60,2)})}ca("Z",":"),ca("ZZ",""),ke("Z",je),ke("ZZ",je),Pe(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=ua(je,e)});var da=/([\+\-]|\d\d)/gi;function ua(e,t){var r,a,n=(t||"").match(e);return null===n?null:0===(a=60*(r=((n[n.length-1]||[])+"").match(da)||["-",0,0])[1]+Oe(r[2]))?0:"+"===r[0]?a:-a}function ma(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(N(e)||u(e)?e.valueOf():Gr(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),a.updateOffset(r,!1),r):Gr(e).local()}function ha(e){return-Math.round(e._d.getTimezoneOffset())}function fa(e,t,r){var n,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=ua(je,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(n=ha(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),s!==e&&(!t||this._changeInProgress?Da(this,Ca(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:ha(this)}function pa(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ga(e){return this.utcOffset(0,e)}function xa(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ha(this),"m")),this}function ba(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=ua(ve,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ya(e){return!!this.isValid()&&(e=e?Gr(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function va(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ja(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return j(t,this),(t=Vr(t))._a?(e=t._isUTC?f(t._a):Gr(t._a),this._isDSTShifted=this.isValid()&&la(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function wa(){return!!this.isValid()&&!this._isUTC}function Na(){return!!this.isValid()&&this._isUTC}function Ea(){return!!this.isValid()&&this._isUTC&&0===this._offset}a.updateOffset=function(){};var Sa=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ka=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ca(e,t){var r,a,n,s=e,i=null;return ia(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:d(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(i=Sa.exec(e))?(r="-"===i[1]?-1:1,s={y:0,d:Oe(i[ze])*r,h:Oe(i[$e])*r,m:Oe(i[qe])*r,s:Oe(i[Ue])*r,ms:Oe(oa(1e3*i[Be]))*r}):(i=ka.exec(e))?(r="-"===i[1]?-1:1,s={y:Aa(i[2],r),M:Aa(i[3],r),w:Aa(i[4],r),d:Aa(i[5],r),h:Aa(i[6],r),m:Aa(i[7],r),s:Aa(i[8],r)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(n=Ta(Gr(s.from),Gr(s.to)),(s={}).ms=n.milliseconds,s.M=n.months),a=new sa(s),ia(e)&&o(e,"_locale")&&(a._locale=e._locale),ia(e)&&o(e,"_isValid")&&(a._isValid=e._isValid),a}function Aa(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function _a(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Ta(e,t){var r;return e.isValid()&&t.isValid()?(t=ma(t,e),e.isBefore(t)?r=_a(e,t):((r=_a(t,e)).milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function Oa(e,t){return function(r,a){var n;return null===a||isNaN(+a)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=r,r=a,a=n),Da(this,Ca(r,a),e),this}}function Da(e,t,r,n){var s=t._milliseconds,i=oa(t._days),o=oa(t._months);e.isValid()&&(n=null==n||n,o&&mt(e,Xe(e,"Month")+o*r),i&&Je(e,"Date",Xe(e,"Date")+i*r),s&&e._d.setTime(e._d.valueOf()+s*r),n&&a.updateOffset(e,i||o))}Ca.fn=sa.prototype,Ca.invalid=na;var Pa=Oa(1,"add"),Ma=Oa(-1,"subtract");function Fa(e){return"string"==typeof e||e instanceof String}function Ia(e){return N(e)||u(e)||Fa(e)||d(e)||La(e)||Ra(e)||null==e}function Ra(e){var t,r,a=i(e)&&!l(e),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=s.length;for(t=0;t<c;t+=1)r=s[t],n=n||o(e,r);return a&&n}function La(e){var t=s(e),r=!1;return t&&(r=0===e.filter(function(t){return!d(t)&&Fa(e)}).length),t&&r}function za(e){var t,r,a=i(e)&&!l(e),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<s.length;t+=1)r=s[t],n=n||o(e,r);return a&&n}function $a(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function qa(e,t){1===arguments.length&&(arguments[0]?Ia(arguments[0])?(e=arguments[0],t=void 0):za(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Gr(),n=ma(r,this).startOf("day"),s=a.calendarFormat(this,n)||"sameElse",i=t&&(_(t[s])?t[s].call(this,r):t[s]);return this.format(i||this.localeData().calendar(s,this,Gr(r)))}function Ua(){return new w(this)}function Ya(e,t){var r=N(e)?e:Gr(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())}function Va(e,t){var r=N(e)?e:Gr(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())}function Ha(e,t,r,a){var n=N(e)?e:Gr(e),s=N(t)?t:Gr(t);return!!(this.isValid()&&n.isValid()&&s.isValid())&&("("===(a=a||"()")[0]?this.isAfter(n,r):!this.isBefore(n,r))&&(")"===a[1]?this.isBefore(s,r):!this.isAfter(s,r))}function Wa(e,t){var r,a=N(e)?e:Gr(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===a.valueOf():(r=a.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))}function Ga(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ka(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qa(e,t,r){var a,n,s;if(!this.isValid())return NaN;if(!(a=ma(e,this)).isValid())return NaN;switch(n=6e4*(a.utcOffset()-this.utcOffset()),t=re(t)){case"year":s=Xa(this,a)/12;break;case"month":s=Xa(this,a);break;case"quarter":s=Xa(this,a)/3;break;case"second":s=(this-a)/1e3;break;case"minute":s=(this-a)/6e4;break;case"hour":s=(this-a)/36e5;break;case"day":s=(this-a-n)/864e5;break;case"week":s=(this-a-n)/6048e5;break;default:s=this-a}return r?s:Te(s)}function Xa(e,t){if(e.date()<t.date())return-Xa(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(r,"months");return-(r+(t-a<0?(t-a)/(a-e.clone().add(r-1,"months")):(t-a)/(e.clone().add(r+1,"months")-a)))||0}function Ja(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Za(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?B(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):_(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(r,"Z")):B(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function en(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,a,n="moment",s="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",a=s+'[")]',this.format(e+t+r+a)}function tn(e){e||(e=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var t=B(this,e);return this.localeData().postformat(t)}function rn(e,t){return this.isValid()&&(N(e)&&e.isValid()||Gr(e).isValid())?Ca({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function an(e){return this.from(Gr(),e)}function nn(e,t){return this.isValid()&&(N(e)&&e.isValid()||Gr(e).isValid())?Ca({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function sn(e){return this.to(Gr(),e)}function on(e){var t;return void 0===e?this._locale._abbr:(null!=(t=xr(e))&&(this._locale=t),this)}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ln=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function cn(){return this._locale}var dn=1e3,un=60*dn,mn=60*un,hn=3506328*mn;function fn(e,t){return(e%t+t)%t}function pn(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-hn:new Date(e,t,r).valueOf()}function gn(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-hn:Date.UTC(e,t,r)}function xn(e){var t,r;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?gn:pn,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fn(t+(this._isUTC?0:this.utcOffset()*un),mn);break;case"minute":t=this._d.valueOf(),t-=fn(t,un);break;case"second":t=this._d.valueOf(),t-=fn(t,dn)}return this._d.setTime(t),a.updateOffset(this,!0),this}function bn(e){var t,r;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?gn:pn,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=mn-fn(t+(this._isUTC?0:this.utcOffset()*un),mn)-1;break;case"minute":t=this._d.valueOf(),t+=un-fn(t,un)-1;break;case"second":t=this._d.valueOf(),t+=dn-fn(t,dn)-1}return this._d.setTime(t),a.updateOffset(this,!0),this}function yn(){return this._d.valueOf()-6e4*(this._offset||0)}function vn(){return Math.floor(this.valueOf()/1e3)}function jn(){return new Date(this.valueOf())}function wn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Nn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function En(){return this.isValid()?this.toISOString():null}function Sn(){return x(this)}function kn(){return h({},g(this))}function Cn(){return g(this).overflow}function An(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function _n(e,t){var r,n,s,i=this._eras||xr("en")._eras;for(r=0,n=i.length;r<n;++r)switch("string"==typeof i[r].since&&(s=a(i[r].since).startOf("day"),i[r].since=s.valueOf()),typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":s=a(i[r].until).startOf("day").valueOf(),i[r].until=s.valueOf()}return i}function Tn(e,t,r){var a,n,s,i,o,l=this.eras();for(e=e.toUpperCase(),a=0,n=l.length;a<n;++a)if(s=l[a].name.toUpperCase(),i=l[a].abbr.toUpperCase(),o=l[a].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(i===e)return l[a];break;case"NNNN":if(s===e)return l[a];break;case"NNNNN":if(o===e)return l[a]}else if([s,i,o].indexOf(e)>=0)return l[a]}function On(e,t){var r=e.since<=e.until?1:-1;return void 0===t?a(e.since).year():a(e.since).year()+(t-e.offset)*r}function Dn(){var e,t,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until)return a[e].name;if(a[e].until<=r&&r<=a[e].since)return a[e].name}return""}function Pn(){var e,t,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until)return a[e].narrow;if(a[e].until<=r&&r<=a[e].since)return a[e].narrow}return""}function Mn(){var e,t,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until)return a[e].abbr;if(a[e].until<=r&&r<=a[e].since)return a[e].abbr}return""}function Fn(){var e,t,r,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=s[e].since<=s[e].until?1:-1,n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return(this.year()-a(s[e].since).year())*r+s[e].offset;return this.year()}function In(e){return o(this,"_erasNameRegex")||Bn.call(this),e?this._erasNameRegex:this._erasRegex}function Rn(e){return o(this,"_erasAbbrRegex")||Bn.call(this),e?this._erasAbbrRegex:this._erasRegex}function Ln(e){return o(this,"_erasNarrowRegex")||Bn.call(this),e?this._erasNarrowRegex:this._erasRegex}function zn(e,t){return t.erasAbbrRegex(e)}function $n(e,t){return t.erasNameRegex(e)}function qn(e,t){return t.erasNarrowRegex(e)}function Un(e,t){return t._eraYearOrdinalRegex||be}function Bn(){var e,t,r,a,n,s=[],i=[],o=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)r=_e(c[e].name),a=_e(c[e].abbr),n=_e(c[e].narrow),i.push(r),s.push(a),o.push(n),l.push(r),l.push(a),l.push(n);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function Yn(e,t){$(0,[e,e.length],0,t)}function Vn(e){return Xn.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Hn(e){return Xn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wn(){return Nt(this.year(),1,4)}function Gn(){return Nt(this.isoWeekYear(),1,4)}function Kn(){var e=this.localeData()._week;return Nt(this.year(),e.dow,e.doy)}function Qn(){var e=this.localeData()._week;return Nt(this.weekYear(),e.dow,e.doy)}function Xn(e,t,r,a,n){var s;return null==e?wt(this,a,n).year:(t>(s=Nt(e,a,n))&&(t=s),Jn.call(this,e,t,r,a,n))}function Jn(e,t,r,a,n){var s=jt(e,t,r,a,n),i=yt(s.year,0,s.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}function Zn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}$("N",0,0,"eraAbbr"),$("NN",0,0,"eraAbbr"),$("NNN",0,0,"eraAbbr"),$("NNNN",0,0,"eraName"),$("NNNNN",0,0,"eraNarrow"),$("y",["y",1],"yo","eraYear"),$("y",["yy",2],0,"eraYear"),$("y",["yyy",3],0,"eraYear"),$("y",["yyyy",4],0,"eraYear"),ke("N",zn),ke("NN",zn),ke("NNN",zn),ke("NNNN",$n),ke("NNNNN",qn),Pe(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,a){var n=r._locale.erasParse(e,a,r._strict);n?g(r).era=n:g(r).invalidEra=e}),ke("y",be),ke("yy",be),ke("yyy",be),ke("yyyy",be),ke("yo",Un),Pe(["y","yy","yyy","yyyy"],Re),Pe(["yo"],function(e,t,r,a){var n;r._locale._eraYearOrdinalRegex&&(n=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Re]=r._locale.eraYearOrdinalParse(e,n):t[Re]=parseInt(e,10)}),$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Yn("gggg","weekYear"),Yn("ggggg","weekYear"),Yn("GGGG","isoWeekYear"),Yn("GGGGG","isoWeekYear"),ke("G",ye),ke("g",ye),ke("GG",me,le),ke("gg",me,le),ke("GGGG",ge,de),ke("gggg",ge,de),ke("GGGGG",xe,ue),ke("ggggg",xe,ue),Me(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,a){t[a.substr(0,2)]=Oe(e)}),Me(["gg","GG"],function(e,t,r,n){t[n]=a.parseTwoDigitYear(e)}),$("Q",0,"Qo","quarter"),ke("Q",oe),Pe("Q",function(e,t){t[Le]=3*(Oe(e)-1)}),$("D",["DD",2],"Do","date"),ke("D",me,Ee),ke("DD",me,le),ke("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Pe(["D","DD"],ze),Pe("Do",function(e,t){t[ze]=Oe(e.match(me)[0])});var es=Qe("Date",!0);function ts(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}$("DDD",["DDDD",3],"DDDo","dayOfYear"),ke("DDD",pe),ke("DDDD",ce),Pe(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Oe(e)}),$("m",["mm",2],0,"minute"),ke("m",me,Se),ke("mm",me,le),Pe(["m","mm"],qe);var rs=Qe("Minutes",!1);$("s",["ss",2],0,"second"),ke("s",me,Se),ke("ss",me,le),Pe(["s","ss"],Ue);var as,ns,ss=Qe("Seconds",!1);for($("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),ke("S",pe,oe),ke("SS",pe,le),ke("SSS",pe,ce),as="SSSS";as.length<=9;as+="S")ke(as,be);function is(e,t){t[Be]=Oe(1e3*("0."+e))}for(as="S";as.length<=9;as+="S")Pe(as,is);function os(){return this._isUTC?"UTC":""}function ls(){return this._isUTC?"Coordinated Universal Time":""}ns=Qe("Milliseconds",!1),$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");var cs=w.prototype;function ds(e){return Gr(1e3*e)}function us(){return Gr.apply(null,arguments).parseZone()}function ms(e){return e}cs.add=Pa,cs.calendar=qa,cs.clone=Ua,cs.diff=Qa,cs.endOf=bn,cs.format=tn,cs.from=rn,cs.fromNow=an,cs.to=nn,cs.toNow=sn,cs.get=Ze,cs.invalidAt=Cn,cs.isAfter=Ya,cs.isBefore=Va,cs.isBetween=Ha,cs.isSame=Wa,cs.isSameOrAfter=Ga,cs.isSameOrBefore=Ka,cs.isValid=Sn,cs.lang=ln,cs.locale=on,cs.localeData=cn,cs.max=Qr,cs.min=Kr,cs.parsingFlags=kn,cs.set=et,cs.startOf=xn,cs.subtract=Ma,cs.toArray=wn,cs.toObject=Nn,cs.toDate=jn,cs.toISOString=Za,cs.inspect=en,"undefined"!=typeof Symbol&&null!=Symbol.for&&(cs[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),cs.toJSON=En,cs.toString=Ja,cs.unix=vn,cs.valueOf=yn,cs.creationData=An,cs.eraName=Dn,cs.eraNarrow=Pn,cs.eraAbbr=Mn,cs.eraYear=Fn,cs.year=Ge,cs.isLeapYear=Ke,cs.weekYear=Vn,cs.isoWeekYear=Hn,cs.quarter=cs.quarters=Zn,cs.month=ht,cs.daysInMonth=ft,cs.week=cs.weeks=At,cs.isoWeek=cs.isoWeeks=_t,cs.weeksInYear=Kn,cs.weeksInWeekYear=Qn,cs.isoWeeksInYear=Wn,cs.isoWeeksInISOWeekYear=Gn,cs.date=es,cs.day=cs.days=Yt,cs.weekday=Vt,cs.isoWeekday=Ht,cs.dayOfYear=ts,cs.hour=cs.hours=ar,cs.minute=cs.minutes=rs,cs.second=cs.seconds=ss,cs.millisecond=cs.milliseconds=ns,cs.utcOffset=fa,cs.utc=ga,cs.local=xa,cs.parseZone=ba,cs.hasAlignedHourOffset=ya,cs.isDST=va,cs.isLocal=wa,cs.isUtcOffset=Na,cs.isUtc=Ea,cs.isUTC=Ea,cs.zoneAbbr=os,cs.zoneName=ls,cs.dates=S("dates accessor is deprecated. Use date instead.",es),cs.months=S("months accessor is deprecated. Use month instead",ht),cs.years=S("years accessor is deprecated. Use year instead",Ge),cs.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",pa),cs.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ja);var hs=D.prototype;function fs(e,t,r,a){var n=xr(),s=f().set(a,t);return n[r](s,e)}function ps(e,t,r){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return fs(e,t,r,"month");var a,n=[];for(a=0;a<12;a++)n[a]=fs(e,a,r,"month");return n}function gs(e,t,r,a){"boolean"==typeof e?(d(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,d(t)&&(r=t,t=void 0),t=t||"");var n,s=xr(),i=e?s._week.dow:0,o=[];if(null!=r)return fs(t,(r+i)%7,a,"day");for(n=0;n<7;n++)o[n]=fs(t,(n+i)%7,a,"day");return o}function xs(e,t){return ps(e,t,"months")}function bs(e,t){return ps(e,t,"monthsShort")}function ys(e,t,r){return gs(e,t,r,"weekdays")}function vs(e,t,r){return gs(e,t,r,"weekdaysShort")}function js(e,t,r){return gs(e,t,r,"weekdaysMin")}hs.calendar=M,hs.longDateFormat=H,hs.invalidDate=G,hs.ordinal=X,hs.preparse=ms,hs.postformat=ms,hs.relativeTime=Z,hs.pastFuture=ee,hs.set=T,hs.eras=_n,hs.erasParse=Tn,hs.erasConvertYear=On,hs.erasAbbrRegex=Rn,hs.erasNameRegex=In,hs.erasNarrowRegex=Ln,hs.months=lt,hs.monthsShort=ct,hs.monthsParse=ut,hs.monthsRegex=gt,hs.monthsShortRegex=pt,hs.week=Et,hs.firstDayOfYear=Ct,hs.firstDayOfWeek=kt,hs.weekdays=zt,hs.weekdaysMin=qt,hs.weekdaysShort=$t,hs.weekdaysParse=Bt,hs.weekdaysRegex=Wt,hs.weekdaysShortRegex=Gt,hs.weekdaysMinRegex=Kt,hs.isPM=tr,hs.meridiem=nr,fr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Oe(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),a.lang=S("moment.lang is deprecated. Use moment.locale instead.",fr),a.langData=S("moment.langData is deprecated. Use moment.localeData instead.",xr);var ws=Math.abs;function Ns(){var e=this._data;return this._milliseconds=ws(this._milliseconds),this._days=ws(this._days),this._months=ws(this._months),e.milliseconds=ws(e.milliseconds),e.seconds=ws(e.seconds),e.minutes=ws(e.minutes),e.hours=ws(e.hours),e.months=ws(e.months),e.years=ws(e.years),this}function Es(e,t,r,a){var n=Ca(t,r);return e._milliseconds+=a*n._milliseconds,e._days+=a*n._days,e._months+=a*n._months,e._bubble()}function Ss(e,t){return Es(this,e,t,1)}function ks(e,t){return Es(this,e,t,-1)}function Cs(e){return e<0?Math.floor(e):Math.ceil(e)}function As(){var e,t,r,a,n,s=this._milliseconds,i=this._days,o=this._months,l=this._data;return s>=0&&i>=0&&o>=0||s<=0&&i<=0&&o<=0||(s+=864e5*Cs(Ts(o)+i),i=0,o=0),l.milliseconds=s%1e3,e=Te(s/1e3),l.seconds=e%60,t=Te(e/60),l.minutes=t%60,r=Te(t/60),l.hours=r%24,i+=Te(r/24),o+=n=Te(_s(i)),i-=Cs(Ts(n)),a=Te(o/12),o%=12,l.days=i,l.months=o,l.years=a,this}function _s(e){return 4800*e/146097}function Ts(e){return 146097*e/4800}function Os(e){if(!this.isValid())return NaN;var t,r,a=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+a/864e5,r=this._months+_s(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Ts(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}}function Ds(e){return function(){return this.as(e)}}var Ps=Ds("ms"),Ms=Ds("s"),Fs=Ds("m"),Is=Ds("h"),Rs=Ds("d"),Ls=Ds("w"),zs=Ds("M"),$s=Ds("Q"),qs=Ds("y"),Us=Ps;function Bs(){return Ca(this)}function Ys(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Vs(e){return function(){return this.isValid()?this._data[e]:NaN}}var Hs=Vs("milliseconds"),Ws=Vs("seconds"),Gs=Vs("minutes"),Ks=Vs("hours"),Qs=Vs("days"),Xs=Vs("months"),Js=Vs("years");function Zs(){return Te(this.days()/7)}var ei=Math.round,ti={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ri(e,t,r,a,n){return n.relativeTime(t||1,!!r,e,a)}function ai(e,t,r,a){var n=Ca(e).abs(),s=ei(n.as("s")),i=ei(n.as("m")),o=ei(n.as("h")),l=ei(n.as("d")),c=ei(n.as("M")),d=ei(n.as("w")),u=ei(n.as("y")),m=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||i<=1&&["m"]||i<r.m&&["mm",i]||o<=1&&["h"]||o<r.h&&["hh",o]||l<=1&&["d"]||l<r.d&&["dd",l];return null!=r.w&&(m=m||d<=1&&["w"]||d<r.w&&["ww",d]),(m=m||c<=1&&["M"]||c<r.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=t,m[3]=+e>0,m[4]=a,ri.apply(null,m)}function ni(e){return void 0===e?ei:"function"==typeof e&&(ei=e,!0)}function si(e,t){return void 0!==ti[e]&&(void 0===t?ti[e]:(ti[e]=t,"s"===e&&(ti.ss=t-1),!0))}function ii(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,a,n=!1,s=ti;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(s=Object.assign({},ti,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),a=ai(this,!n,s,r=this.localeData()),n&&(a=r.pastFuture(+this,a)),r.postformat(a)}var oi=Math.abs;function li(e){return(e>0)-(e<0)||+e}function ci(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,a,n,s,i,o,l=oi(this._milliseconds)/1e3,c=oi(this._days),d=oi(this._months),u=this.asSeconds();return u?(e=Te(l/60),t=Te(e/60),l%=60,e%=60,r=Te(d/12),d%=12,a=l?l.toFixed(3).replace(/\.?0+$/,""):"",n=u<0?"-":"",s=li(this._months)!==li(u)?"-":"",i=li(this._days)!==li(u)?"-":"",o=li(this._milliseconds)!==li(u)?"-":"",n+"P"+(r?s+r+"Y":"")+(d?s+d+"M":"")+(c?i+c+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+a+"S":"")):"P0D"}var di=sa.prototype;return di.isValid=aa,di.abs=Ns,di.add=Ss,di.subtract=ks,di.as=Os,di.asMilliseconds=Ps,di.asSeconds=Ms,di.asMinutes=Fs,di.asHours=Is,di.asDays=Rs,di.asWeeks=Ls,di.asMonths=zs,di.asQuarters=$s,di.asYears=qs,di.valueOf=Us,di._bubble=As,di.clone=Bs,di.get=Ys,di.milliseconds=Hs,di.seconds=Ws,di.minutes=Gs,di.hours=Ks,di.days=Qs,di.weeks=Zs,di.months=Xs,di.years=Js,di.humanize=ii,di.toISOString=ci,di.toString=ci,di.toJSON=ci,di.locale=on,di.localeData=cn,di.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ci),di.lang=ln,$("X",0,0,"unix"),$("x",0,0,"valueOf"),ke("x",ye),ke("X",we),Pe("X",function(e,t,r){r._d=new Date(1e3*parseFloat(e))}),Pe("x",function(e,t,r){r._d=new Date(Oe(e))}),
//! moment.js
a.version="2.30.1",n(Gr),a.fn=cs,a.min=Jr,a.max=Zr,a.now=ea,a.utc=f,a.unix=ds,a.months=xs,a.isDate=u,a.locale=fr,a.invalid=b,a.duration=Ca,a.isMoment=N,a.weekdays=ys,a.parseZone=us,a.localeData=xr,a.isDuration=ia,a.monthsShort=bs,a.weekdaysMin=js,a.defineLocale=pr,a.updateLocale=gr,a.locales=br,a.weekdaysShort=vs,a.normalizeUnits=re,a.relativeTimeRounding=ni,a.relativeTimeThreshold=si,a.calendarFormat=$a,a.prototype=cs,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},a}()),A9.exports;var e}w9||(w9=1,N9=_9(),E9="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),S9="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),k9=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],C9=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,N9.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?S9[e.month()]:E9[e.month()]:E9},monthsRegex:C9,monthsShortRegex:C9,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:k9,longMonthsParse:k9,shortMonthsParse:k9,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"})),j6.locale("es");const T9=({isOpen:e,onClose:r,evento:a})=>{if(!a)return null;const n="from-blue-600 to-blue-500",s="bg-white/20",i="text-white",o="text-blue-100",l="bg-blue-600 hover:bg-blue-700",c=e=>j6(e).format("dddd, DD [de] MMMM [de] YYYY"),d=e=>j6(e).format("HH:mm"),u=j6(a.start).isSame(j6(a.end),"day");return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:()=>{},children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md sm:max-w-sm md:max-w-md mx-4 sm:mx-auto transform overflow-hidden rounded-lg bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:`flex items-center justify-between p-4 sm:p-6 border-b bg-gradient-to-r ${n}`,children:[It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 ${s} rounded-lg flex items-center justify-center`,children:It.jsx(ue,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:`text-base sm:text-lg font-semibold ${i}`,children:"Detalles del Evento"}),It.jsx("p",{className:`text-xs sm:text-sm ${o}`,children:"Vista de Administrador"})]})]}),It.jsx("button",{onClick:r,className:"text-white/80 hover:text-white transition-colors",children:It.jsx(ne,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),It.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[It.jsxs("div",{className:"space-y-2",children:[It.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[It.jsx(he,{className:"w-4 h-4"}),It.jsx("span",{className:"text-sm font-medium",children:"Actividad"})]}),It.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a.title})]}),a.resource?.aula&&It.jsxs("div",{className:"space-y-2",children:[It.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[It.jsx(ce,{className:"w-4 h-4"}),It.jsx("span",{className:"text-sm font-medium",children:"Aula"})]}),It.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx(ce,{className:"w-4 h-4 text-blue-600"}),It.jsx("span",{className:"font-medium text-blue-900",children:a.resource.aula.seccion}),It.jsxs("span",{className:"text-sm text-blue-700",children:["(",a.resource.aula.cantidadEstudiantes," estudiantes)"]})]})})]}),a.resource?.descripcion&&It.jsxs("div",{className:"space-y-2",children:[It.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[It.jsx(he,{className:"w-4 h-4"}),It.jsx("span",{className:"text-sm font-medium",children:"Descripcin"})]}),It.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:a.resource.descripcion})]}),(a.resource?.nombreTrabajador||a.resource?.apellidoTrabajador)&&It.jsxs("div",{className:"space-y-2",children:[It.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[It.jsx(ee,{className:"w-4 h-4"}),It.jsx("span",{className:"text-sm font-medium",children:"Docente"})]}),It.jsx("div",{className:"bg-green-50 rounded-lg p-3",children:It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx(ee,{className:"w-4 h-4 text-green-600"}),It.jsxs("span",{className:"font-medium text-green-900",children:[a.resource.nombreTrabajador," ",a.resource.apellidoTrabajador]})]})})]}),It.jsxs("div",{className:"space-y-3",children:[It.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[It.jsx(ue,{className:"w-4 h-4"}),It.jsx("span",{className:"text-sm font-medium",children:"Programacin"})]}),It.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("span",{className:"text-sm text-gray-600",children:"Fecha de inicio:"}),It.jsx("span",{className:"font-medium text-gray-900",children:c(a.start)})]}),!u&&It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("span",{className:"text-sm text-gray-600",children:"Fecha de fin:"}),It.jsx("span",{className:"font-medium text-gray-900",children:c(a.end)})]}),It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("span",{className:"text-sm text-gray-600",children:"Horario:"}),It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx(de,{className:"w-4 h-4 text-gray-500"}),It.jsxs("span",{className:"font-medium text-gray-900",children:[d(a.start)," - ",d(a.end)]})]})]})]})]}),It.jsxs("div",{className:"space-y-3",children:[It.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[It.jsx(he,{className:"w-4 h-4"}),It.jsx("span",{className:"text-sm font-medium",children:"Detalles"})]}),It.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-2",children:[It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx("div",{className:"w-2 h-2 rounded-full "+("activo"===a.resource?.estado?"bg-green-500":"cancelado"===a.resource?.estado?"bg-red-500":"bg-yellow-500")}),It.jsxs("span",{className:"text-sm text-gray-700",children:["Estado: ",a.resource?.estado||"Programado"]})]}),It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx(ue,{className:"w-4 h-4 text-blue-600"}),It.jsxs("span",{className:"text-sm text-gray-700",children:["Tipo: ",a.resource?.tipo||"Actividad"]})]}),a.resource?.seccion&&It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx(ce,{className:"w-4 h-4 text-blue-600"}),It.jsxs("span",{className:"text-sm text-gray-700",children:["Seccin: ",a.resource.seccion]})]}),a.id&&It.jsx("div",{className:"flex items-center gap-2",children:It.jsxs("span",{className:"text-xs text-gray-500",children:["ID: ",a.id]})})]})]})]}),It.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 p-4 sm:p-6 border-t bg-gray-50",children:[It.jsx("button",{onClick:r,className:"w-full sm:w-auto px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cerrar"}),It.jsx("button",{onClick:r,className:`w-full sm:w-auto px-4 py-2 ${l} text-white rounded-md transition-colors`,children:"Entendido"})]})]})})})})]})})};j6.locale("es");const O9=v6(j6),D9=()=>{try{const e=localStorage.getItem("auth-storage");if(!e)return"#2563EB";const t=JSON.parse(e),r=t?.state?.role?.nombre?.toLowerCase();return{admin:"#2563EB",administrador:"#2563EB",trabajador:"#059669",docente:"#059669",profesor:"#059669",padre:"#D97706",estudiante:"#D97706",apoderado:"#D97706"}[r]||"#2563EB"}catch(e){return"#2563EB"}},P9=({events:e=[],isLoading:r=!1,onSelectEvent:a,onSelectSlot:n,view:s,onView:i,date:o,onNavigate:l,isMobile:c,aulaSeleccionada:d,readOnly:u=!0})=>{const[m,h]=t.useState(!1),[f,p]=t.useState(null),[g,x]=t.useState(void 0!==c&&c),[b,y]=t.useState(s);t.useEffect(()=>{if(void 0!==c)return void x(c);const e=()=>{const e=window.innerWidth<768;x(e),e?(y("day"),i&&i("day")):!e&&s&&y(s)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[s,i,c]);const v=t.useMemo(()=>e&&Array.isArray(e)?e.map(e=>({...e,start:e.start instanceof Date?e.start:new Date(e.start),end:e.end instanceof Date?e.end:new Date(e.end)})):[],[e]),j=D9(),w={localizer:O9,events:v,startAccessor:"start",endAccessor:"end",style:{height:g?"calc(100vh - 300px)":700},view:b,onView:e=>{y(e),i&&i(e)},date:o,onNavigate:l,onSelectEvent:e=>{p(e),u||h(!0),a&&a(e)},onSelectSlot:e=>{u||n&&n(e)},selectable:!u,eventPropGetter:e=>{const t=D9();return{style:{backgroundColor:e.resource?.backgroundColor||t,borderColor:e.resource?.borderColor||t,color:"white",borderRadius:"8px",border:"none",fontSize:"12px",padding:"2px 8px"}}},components:{event:({event:e})=>It.jsxs("div",{className:"p-1",children:[It.jsx("div",{className:"font-medium text-xs",children:e.title}),e.resource.descripcion&&It.jsx("div",{className:"text-xs opacity-90 line-clamp-2",children:e.resource.descripcion}),It.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-1",children:[It.jsx("span",{children:""}),d?.seccion||"Aula"]})]}),toolbar:g?()=>null:void 0},formats:{timeGutterFormat:(e,t,r)=>r.format(e,"HH:mm",t),dayHeaderFormat:(e,t,r)=>r.format(e,"dddd DD/MM",t),dayFormat:(e,t,r)=>r.format(e,"dddd",t),dateFormat:(e,t,r)=>r.format(e,"DD",t)},messages:{next:"Siguiente",previous:"Anterior",today:"Hoy",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay actividades programadas en este perodo"+(d?` para el aula ${d.seccion}`:""),showMore:e=>`+ Ver ${e} ms`},min:new Date(2023,0,1,7,0),max:new Date(2023,0,1,18,0),step:60,timeslots:1};return It.jsxs("div",{className:`bg-white ${g?"h-full":"rounded-xl shadow-sm border border-gray-100"} ${g?"p-0":"p-8"}`,children:[g&&It.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 sticky top-0 z-10",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx("button",{onClick:()=>l&&l(j6(o).subtract(1,"day"===b?"day":"week"===b?"week":"month").toDate()),className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",children:It.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:It.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),It.jsxs("div",{className:"text-center",children:[It.jsxs("h3",{className:"font-semibold text-gray-900",children:["day"===b&&j6(o).format("dddd, DD MMMM YYYY"),"week"===b&&`Semana del ${j6(o).startOf("week").format("DD")} al ${j6(o).endOf("week").format("DD MMMM YYYY")}`,"month"===b&&j6(o).format("MMMM YYYY")]}),It.jsx("button",{onClick:()=>l&&l(new Date),className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Ir a hoy"})]}),It.jsx("button",{onClick:()=>l&&l(j6(o).add(1,"day"===b?"day":"week"===b?"week":"month").toDate()),className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",children:It.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:It.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),It.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[It.jsx("button",{onClick:()=>{y("day"),i&&i("day")},className:"flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors "+("day"===b?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Da"}),It.jsx("button",{onClick:()=>{y("week"),i&&i("week")},className:"flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors "+("week"===b?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Semana"}),It.jsx("button",{onClick:()=>{y("month"),i&&i("month")},className:"flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors "+("month"===b?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Mes"})]})]}),r?It.jsx("div",{className:"flex items-center justify-center h-96",children:It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),It.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando cronograma..."}),d&&It.jsxs("p",{className:"text-sm text-gray-500",children:["Aula ",d.seccion]})]})}):It.jsx(g6,{...w}),It.jsx("style",{children:`\n        .rbc-calendar {\n          font-family: inherit;\n        }\n\n        .rbc-header {\n          background: #f8fafc;\n          padding: 12px 8px;\n          font-weight: 600;\n          color: #374151;\n          border-bottom: 1px solid #e5e7eb;\n        }\n\n        .rbc-time-header {\n          border-bottom: 1px solid #e5e7eb;\n        }\n\n        .rbc-time-content {\n          border-top: none;\n        }\n\n        .rbc-timeslot-group {\n          border-bottom: 1px solid #f3f4f6;\n          min-height: 60px;\n        }\n\n        .rbc-time-slot {\n          border-top: 1px solid #f9fafb;\n          min-height: 60px;\n        }\n\n        .rbc-day-slot .rbc-events-container {\n          margin-right: 8px;\n        }\n\n        .rbc-event {\n          padding: 6px 10px;\n          border-radius: 8px;\n          font-size: 13px;\n          line-height: 1.3;\n          font-weight: 500;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n        }\n\n        .rbc-event:focus {\n          outline: 2px solid #2563EB;\n          outline-offset: 2px;\n        }\n\n        .rbc-toolbar {\n          margin-bottom: 24px;\n          padding: 16px 0;\n          border-bottom: 2px solid #f3f4f6;\n        }\n\n        .rbc-toolbar button {\n          background: #f8fafc;\n          border: 1px solid #e5e7eb;\n          color: #374151;\n          padding: 8px 16px;\n          border-radius: 8px;\n          font-weight: 500;\n          transition: all 0.2s;\n        }\n\n        .rbc-toolbar button:hover {\n          background: #e5e7eb;\n          border-color: ${j};\n        }\n\n        .rbc-toolbar button.rbc-active {\n          background: ${j};\n          border-color: ${j};\n          color: white;\n        }\n\n        .rbc-toolbar-label {\n          font-size: 18px;\n          font-weight: 600;\n          color: #1f2937;\n        }\n\n        /* Estilos responsive para mvil */\n        @media (max-width: 768px) {\n          .rbc-calendar {\n            font-size: 12px;\n            height: 100% !important;\n          }\n\n          .rbc-toolbar {\n            flex-direction: column;\n            gap: 8px;\n            margin-bottom: 0;\n            padding: 12px 16px;\n            background: #f8fafc;\n            border-bottom: 1px solid #e5e7eb;\n            border-radius: 0;\n          }\n\n          .rbc-toolbar .rbc-btn-group {\n            display: flex;\n            justify-content: center;\n            flex-wrap: wrap;\n            gap: 8px;\n          }\n\n          .rbc-toolbar button {\n            padding: 8px 16px;\n            font-size: 13px;\n            min-width: auto;\n            background: white;\n            border: 1px solid #d1d5db;\n            box-shadow: 0 1px 2px rgba(0,0,0,0.05);\n          }\n\n          .rbc-toolbar-label {\n            font-size: 18px;\n            font-weight: 600;\n            text-align: center;\n            order: -1;\n            color: #1f2937;\n          }\n\n          .rbc-header {\n            padding: 12px 4px;\n            font-size: 14px;\n            font-weight: 600;\n            background: #f8fafc;\n            border-bottom: 1px solid #e5e7eb;\n          }\n\n          .rbc-time-header {\n            border-bottom: 1px solid #e5e7eb;\n          }\n\n          .rbc-time-gutter {\n            width: 60px;\n            font-size: 11px;\n            background: #f8fafc;\n          }\n\n          .rbc-event {\n            padding: 6px 8px;\n            font-size: 12px;\n            line-height: 1.3;\n            border-radius: 6px;\n            font-weight: 500;\n            margin: 1px;\n            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          }\n\n          .rbc-timeslot-group {\n            min-height: 60px;\n            border-bottom: 1px solid #f3f4f6;\n          }\n\n          .rbc-time-slot {\n            min-height: 60px;\n            border-top: 1px solid #f9fafb;\n          }\n\n          .rbc-day-slot .rbc-events-container {\n            margin-right: 2px;\n          }\n\n          /* Para vista de da en mvil */\n          .rbc-time-view .rbc-time-gutter,\n          .rbc-time-view .rbc-time-content {\n            font-size: 12px;\n          }\n\n          .rbc-allday-cell {\n            height: 30px; /* Reducir altura de all-day en mvil */\n          }\n\n          /* Asegurar que el calendario ocupe toda la altura disponible */\n          .rbc-calendar {\n            height: 100% !important;\n          }\n\n          .rbc-time-view {\n            height: 100% !important;\n          }\n\n          .rbc-time-content {\n            height: calc(100% - 80px) !important; /* Restar altura del toolbar */\n          }\n        }\n\n        /* Estilos para tablets */\n        @media (min-width: 769px) and (max-width: 1024px) {\n          .rbc-toolbar-label {\n            font-size: 16px;\n          }\n\n          .rbc-toolbar button {\n            padding: 6px 14px;\n            font-size: 13px;\n          }\n\n          .rbc-event {\n            font-size: 12px;\n          }\n        }\n      `}),!u&&It.jsx(T9,{isOpen:m,onClose:()=>h(!1),evento:f})]})},M9=({isOpen:e,onClose:a,onSave:n})=>{const{user:s}=Sa(),[i,o]=t.useState({nombreActividad:"",descripcion:"",fechaInicio:"",fechaFin:"",idAulas:[],idTrabajador:""}),[l,c]=t.useState({}),[d,u]=t.useState(!1),[m,h]=t.useState(!1),{data:f=[],isLoading:p}=rB(),g=Array.isArray(f)?f:f?.data?f.data:f?.info?.data?f.info.data:[];t.useEffect(()=>{e&&(o({nombreActividad:"",descripcion:"",fechaInicio:"",fechaFin:"",idAulas:[],idTrabajador:s?.entidadId||""}),c({}),h(!1))},[e,s]),t.useEffect(()=>{if(s?.entidadId&&e)o(e=>({...e,idTrabajador:s.entidadId}));else if(!s?.entidadId&&e){const e=localStorage.getItem("entidadId");e&&o(t=>({...t,idTrabajador:e}))}},[s,e]);const x=e=>{const{name:t,value:r}=e.target;o(e=>({...e,[t]:r})),l[t]&&c(e=>({...e,[t]:""}))},b=e=>`\n    w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\n    ${l[e]?"border-red-300":"border-gray-300"}\n  `;return It.jsx(hi,{appear:!0,show:e,as:r.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:a,children:[It.jsx(hi.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(Oe,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Agregar Nueva Actividad"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Crea una actividad para una o varias aulas"})]})]}),It.jsx("button",{type:"button",className:"rounded-md p-2 hover:bg-gray-100 transition-colors",onClick:a,children:It.jsx(ne,{className:"w-5 h-5 text-gray-400"})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return i.nombreActividad.trim()||(e.nombreActividad="El nombre de la actividad es obligatorio"),i.descripcion.trim()||(e.descripcion="La descripcin es obligatoria"),i.fechaInicio||(e.fechaInicio="La fecha de inicio es obligatoria"),i.fechaFin||(e.fechaFin="La fecha de fin es obligatoria"),i.fechaInicio&&i.fechaFin&&new Date(i.fechaInicio)>new Date(i.fechaFin)&&(e.fechaFin="La fecha de fin debe ser posterior a la fecha de inicio"),0===i.idAulas.length&&(e.idAulas="Debe seleccionar al menos un aula"),c(e),0===Object.keys(e).length})())try{u(!0),await n(i)}catch(t){}finally{u(!1)}},className:"space-y-6",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Actividad *"}),It.jsx("input",{type:"text",name:"nombreActividad",value:i.nombreActividad,onChange:x,className:b("nombreActividad"),placeholder:"Ej: Reunin de padres, Evaluacin, etc."}),l.nombreActividad&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.nombreActividad})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin *"}),It.jsx("textarea",{name:"descripcion",value:i.descripcion,onChange:x,rows:3,className:b("descripcion"),placeholder:"Describe la actividad..."}),l.descripcion&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.descripcion})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Inicio *"}),It.jsx("input",{type:"date",name:"fechaInicio",value:i.fechaInicio,onChange:x,className:b("fechaInicio")}),l.fechaInicio&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.fechaInicio})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Fin *"}),It.jsx("input",{type:"date",name:"fechaFin",value:i.fechaFin,onChange:x,className:b("fechaFin")}),l.fechaFin&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.fechaFin})]})]}),It.jsxs("div",{children:[It.jsxs("div",{className:"flex items-center justify-between mb-3",children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Aulas *"}),It.jsx("button",{type:"button",onClick:()=>{o(m?e=>({...e,idAulas:[]}):e=>({...e,idAulas:g.map(e=>e.idAula)})),h(!m)},className:"text-sm text-blue-600 hover:text-blue-800",disabled:p,children:m?"Deseleccionar todas":"Seleccionar todas"})]}),p?It.jsxs("div",{className:"text-center py-4",children:[It.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),It.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Cargando aulas..."})]}):It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-48 overflow-y-auto border border-gray-200 rounded-md p-3",children:g.map(e=>It.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[It.jsx("input",{type:"checkbox",checked:i.idAulas.includes(e.idAula),onChange:()=>{return t=e.idAula,void o(e=>({...e,idAulas:e.idAulas.includes(t)?e.idAulas.filter(e=>e!==t):[...e.idAulas,t]}));var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),It.jsxs("span",{className:"text-sm text-gray-700",children:[e.seccion," - ",e.cantidadEstudiantes," estudiantes"]})]},e.idAula))}),l.idAulas&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.idAulas}),i.idAulas.length>0&&It.jsxs("p",{className:"mt-2 text-sm text-blue-600",children:[i.idAulas.length," aula",1!==i.idAulas.length?"s":""," seleccionada",1!==i.idAulas.length?"s":""]})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[It.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",disabled:d,children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:d,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?It.jsxs(It.Fragment,{children:[It.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(S,{className:"w-4 h-4"}),"Crear Actividad"]})})]})]})]})})})})]})})},F9=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});F9.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),F9.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const I9=new class{async getCronogramaPorAula(e){try{const t=await F9.get(`/cronograma/aula/${e}`);return t.data?.success&&t.data?.cronogramas?t.data.cronogramas:t.data?.success&&t.data?.data?t.data.data:t.data?.info?.data?t.data.info.data:t.data?.data?t.data.data:Array.isArray(t.data)?t.data:[]}catch(t){throw new Error(t.response?.data?.message||"Error al obtener cronograma del aula")}}async getCronogramaMultiplesAulas(e){try{if(!Array.isArray(e)||0===e.length)return[];const t=e.map(e=>this.getCronogramaPorAula(e)),r=await Promise.allSettled(t),a=[];return r.forEach((e,t)=>{if("fulfilled"===e.status){const t=e.value;Array.isArray(t)&&a.push(...t)}}),a}catch(t){throw new Error("Error al obtener cronograma completo")}}async crearActividad(e){try{const t=await F9.post("/cronograma",e);return t.data?.info?.data||t.data?.data||t.data}catch(t){throw new Error(t.response?.data?.message||"Error al crear actividad")}}async actualizarActividad(e,t){try{const r=await F9.put(`/cronograma/${e}`,t);return r.data?.info?.data||r.data?.data||r.data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar actividad")}}async eliminarActividad(e){try{return await F9.delete(`/cronograma/${e}`),!0}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar actividad")}}},R9={all:["cronograma"],byAula:e=>[...R9.all,"aula",e],byMultiplesAulas:e=>[...R9.all,"multiplesAulas",e]},L9=(e,t={})=>{let r=[];return Array.isArray(e)?r=e:e?.aulas&&Array.isArray(e.aulas)?r=e.aulas:e?.data&&Array.isArray(e.data)&&(r=e.data),((e,t={})=>Qr({queryKey:R9.byMultiplesAulas(e),queryFn:async()=>{try{return await I9.getCronogramaMultiplesAulas(e)}catch(t){throw t}},enabled:!!e&&Array.isArray(e)&&e.length>0,staleTime:0,gcTime:3e5,refetchOnWindowFocus:!0,refetchOnMount:!0,...t}))(r?.map(e=>e.id_aula||e.idAula||e.id)||[],{...t,enabled:!!r&&Array.isArray(r)&&r.length>0,staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0})},z9=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){}},$9=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return null}},q9=e=>{try{localStorage.removeItem(e)}catch(t){}},U9=()=>{const{getCurrentUser:e}=(()=>{const[e,r]=t.useState(!1),[a,n]=t.useState(null),s=l();return{login:async e=>{r(!0),n(null);try{const t=await Xl.login(e);return z9("userToken",t.token),z9("userData",t.user),s("/dashboard"),{success:!0}}catch(t){return n(t.message||"Error al iniciar sesin"),{success:!1,error:t.message}}finally{r(!1)}},logout:async()=>{try{await Xl.logout()}catch(e){}finally{q9("userToken"),q9("userData"),s("/login")}},isAuthenticated:()=>!!$9("userToken"),getCurrentUser:t.useCallback(()=>$9("userData"),[]),isLoading:e,error:a}})(),r=e(),[a,n]=t.useState(new Date),[s,i]=t.useState("month"),[o,c]=t.useState(new Date),[d,u]=t.useState(!0),[m,h]=t.useState(null),[f,p]=t.useState(!1),[g,x]=t.useState(!1),[b,y]=t.useState(null),[v,j]=t.useState(!1),[w,N]=t.useState(""),{data:E=[],isLoading:S,error:k}=rB(),C=Array.isArray(E)?E:E?.data?E.data:E?.info?.data?E.info.data:[],{data:A=[],isLoading:_,error:T,refetch:O}=((e,t={})=>Qr({queryKey:R9.byAula(e),queryFn:async()=>{try{return await I9.getCronogramaPorAula(e)}catch(t){throw t}},enabled:!!e,staleTime:12e4,gcTime:3e5,refetchOnWindowFocus:!1,...t}))(b?.idAula,{enabled:!!b?.idAula,staleTime:12e4,refetchOnWindowFocus:!1}),D=C.filter(e=>e.seccion?.toLowerCase().includes(w.toLowerCase())||e.cantidadEstudiantes?.toString().includes(w));t.useEffect(()=>{const e=()=>{const e=window.innerWidth<768;j(e),i(e?"day":"month")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),t.useEffect(()=>{f||h(null)},[f]);const P=()=>{x(!1)},M=e=>{const t={clase:"#3B82F6",reunion:"#F59E0B",evaluacion:"#EF4444",actividad:"#10B981",capacitacion:"#8B5CF6",recreo:"#6B7280",default:"#6B7280"};return t[e?.toLowerCase()]||t.default},F=(I=A,Array.isArray(I)?I.map((e,t)=>{const r=e.fecha_inicio.split("T")[0],a=e.fecha_fin.split("T")[0],n=new Date(r+"T08:00:00"),s=new Date(a+"T09:30:00");return{id:e.id_cronograma||t,title:e.nombre_actividad||e.title||"Actividad sin nombre",start:n,end:s,resource:{tipo:e.tipo||"actividad",descripcion:e.descripcion||"",idCronograma:e.id_cronograma,seccion:e.seccion||b?.seccion,grado:e.grado,nombreTrabajador:e.nombre_trabajador,apellidoTrabajador:e.apellido_trabajador,estado:e.estado||"activo",aula:b},backgroundColor:M(e.tipo||"actividad"),borderColor:M(e.tipo||"actividad")}}):[]);var I;const R=S||_;return It.jsxs("div",{className:(v?"h-screen flex flex-col":"space-y-6")+" ",children:[It.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0 "+(v?"px-4 py-3 bg-white border-b flex-shrink-0":""),children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx(mt,{className:"w-6 h-6 text-blue-600"}),It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cronogramas"}),It.jsx("p",{className:"text-sm text-gray-600",children:"Vista general de actividades por aula"})]})]}),It.jsxs("button",{onClick:()=>{x(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[It.jsx(Oe,{className:"w-4 h-4"}),"Agregar Actividad"]})]}),It.jsxs("div",{className:v?"px-4 pb-3 bg-white border-b flex-shrink-0":"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[It.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[It.jsxs("div",{className:"flex-1",children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar Aula"}),It.jsxs("div",{className:"relative",children:[It.jsxs("select",{value:b?.idAula||"",onChange:e=>{const t=e.target.value,r=C.find(e=>e.idAula===t);(e=>{y(e)})(r)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",disabled:R,children:[It.jsx("option",{value:"",children:S?"Cargando aulas...":"Seleccionar aula"}),D.map(e=>It.jsxs("option",{value:e.idAula,children:[e.seccion," - ",e.cantidadEstudiantes," estudiantes"]},e.idAula))]}),It.jsx(Ie,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),b&&It.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[It.jsx(ce,{className:"w-5 h-5 text-blue-600"}),It.jsxs("div",{children:[It.jsx("div",{className:"font-medium text-blue-900",children:b.seccion}),It.jsxs("div",{className:"text-sm text-blue-700",children:[b.cantidadEstudiantes," estudiantes"]})]})]})]}),!b&&!S&&It.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg text-center",children:[It.jsx(ce,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),It.jsx("p",{className:"text-gray-600",children:"Selecciona un aula para ver su cronograma"})]}),k&&It.jsx("div",{className:"mt-4 p-4 bg-red-50 rounded-lg",children:It.jsxs("p",{className:"text-red-600",children:["Error al cargar aulas: ",k.message]})})]}),b&&It.jsx("div",{className:v?"flex-1 overflow-hidden":"",children:d?It.jsx(P9,{events:F,isLoading:_,onSelectEvent:e=>{h(e),p(!0)},onSelectSlot:e=>{},view:s,onView:e=>{i(e)},date:a,onNavigate:e=>{n(e)},isMobile:v,aulaSeleccionada:b,readOnly:!0}):It.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[It.jsxs("div",{className:"grid grid-cols-6 border-b border-gray-200",children:[It.jsx("div",{className:"p-4 bg-gray-50 border-r border-gray-200",children:It.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Hora"})}),["Lunes","Martes","Mircoles","Jueves","Viernes"].map(e=>It.jsxs("div",{className:"p-4 bg-gray-50 text-center border-r border-gray-200 last:border-r-0",children:[It.jsx("div",{className:"text-sm font-medium text-gray-900",children:e}),It.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(new Date).toLocaleDateString("es-ES",{day:"numeric"})})]},e))]}),It.jsx("div",{className:"relative",children:It.jsxs("div",{className:"grid grid-cols-6 min-h-[600px]",children:[It.jsx("div",{className:"border-r border-gray-200 bg-gray-50",children:["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"].map((e,t)=>It.jsx("div",{className:"h-[60px] border-b border-gray-100 px-4 py-2 text-sm text-gray-600",children:t%2==0?e:""},e))}),["monday","tuesday","wednesday","thursday","friday"].map(e=>It.jsxs("div",{className:"relative border-r border-gray-200 last:border-r-0",children:[Array.from({length:23},(e,t)=>It.jsx("div",{className:"h-[60px] border-b border-gray-100"},t)),It.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:It.jsxs("div",{className:"text-center",children:[It.jsx(ue,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),It.jsx("p",{className:"text-sm",children:"Vista de tabla prximamente"})]})})]},e))]})})]})}),It.jsx(T9,{isOpen:f,onClose:()=>{p(!1),h(null)},evento:m}),It.jsx(M9,{isOpen:g,onClose:P,onSave:async e=>{try{const t={...e,...e.idTrabajador?{}:{idTrabajador:r?.id||r?.idUsuario||""}};await I9.crearActividad(t),b?.idAula&&O(),P()}catch(t){throw t}}})]})},B9=({isOpen:e,onClose:a,evaluacion:n,trabajadores:s,onGuardar:i,coordinadorId:o})=>{const[l,c]=t.useState({motivo:"",descripcion:"",archivoUrl:"",idTrabajador:"",idCoordinador:o||""}),[d,u]=t.useState({}),[m,h]=t.useState(!1),[f,p]=t.useState(!1),[g,x]=t.useState(null),b=t.useRef(null);t.useEffect(()=>{e&&(n?(c({motivo:n.motivo||"",descripcion:n.descripcion||"",archivoUrl:n.archivoUrl||"",idTrabajador:n.idTrabajador?.idTrabajador||"",idCoordinador:n.idCoordinador?.idCoordinador||o||""}),x(null)):(c({motivo:"",descripcion:"",archivoUrl:"",idTrabajador:"",idCoordinador:o||""}),x(null)),u({}))},[e,n,o]);const y=(e,t)=>{c(r=>({...r,[e]:t})),d[e]&&u(t=>({...t,[e]:""}))};return It.jsx(hi,{appear:!0,show:e,as:r.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:()=>{},children:[It.jsx(hi.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl mx-4 transform overflow-hidden rounded-lg bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-600 to-blue-500",children:[It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:It.jsx(he,{className:"w-5 h-5 text-white"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-white",children:n?"Editar Evaluacin":"Nueva Evaluacin Docente"}),It.jsx("p",{className:"text-sm text-blue-100",children:n?"Modificar evaluacin existente":"Crear nueva evaluacin docente"})]})]}),It.jsx("button",{onClick:a,className:"text-white/80 hover:text-white transition-colors",disabled:f,children:It.jsx(ne,{className:"w-6 h-6"})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return l.motivo.trim()||(e.motivo="El motivo es obligatorio"),l.descripcion.trim()?l.descripcion.trim().length<10&&(e.descripcion="La descripcin debe tener mnimo 10 caracteres"):e.descripcion="La descripcin es obligatoria",l.idTrabajador||(e.idTrabajador="Debe seleccionar un trabajador"),l.idCoordinador||(e.idCoordinador="No se pudo obtener el ID del coordinador"),u(e),0===Object.keys(e).length})())try{p(!0),ca.loading("Guardando evaluacin...",{id:"save-evaluation"});let e=l.archivoUrl;g&&(e=await(async e=>{try{h(!0),ca.loading("Subiendo archivo...",{id:"upload-file"});const t=(await yc.uploadFile(e,"evaluaciones-docentes")).url;return ca.dismiss("upload-file"),ca.success("Archivo subido exitosamente"),t}catch(t){throw ca.dismiss("upload-file"),ca.error("Error al subir el archivo"),new Error("Error al subir el archivo")}finally{h(!1)}})(g));const t={...l,archivoUrl:e||null};await i(t),ca.dismiss("save-evaluation")}catch(t){ca.dismiss("save-evaluation"),ca.error("Error al guardar la evaluacin: "+t.message)}finally{p(!1)}},className:"p-6 space-y-6",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Docente a Evaluar *"}),It.jsxs("div",{className:"relative",children:[It.jsxs("select",{value:l.idTrabajador,onChange:e=>y("idTrabajador",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 "+(d.idTrabajador?"border-red-500":"border-gray-300"),disabled:f,children:[It.jsx("option",{value:"",children:"Seleccionar docente..."}),s.map(e=>It.jsxs("option",{value:e.idTrabajador,children:[e.nombre," ",e.apellido," - ",e.idRol?.nombre]},e.idTrabajador))]}),It.jsx(ee,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"})]}),d.idTrabajador&&It.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[It.jsx(j,{className:"w-4 h-4"}),d.idTrabajador]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo de la Evaluacin *"}),It.jsx("input",{type:"text",value:l.motivo,onChange:e=>y("motivo",e.target.value),placeholder:"Ej: Excelente desempeo en clases",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(d.motivo?"border-red-500":"border-gray-300"),disabled:f}),d.motivo&&It.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[It.jsx(j,{className:"w-4 h-4"}),d.motivo]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin Detallada *"}),It.jsxs("div",{className:"relative",children:[It.jsx("textarea",{value:l.descripcion,onChange:e=>y("descripcion",e.target.value),placeholder:"Describa detalladamente la evaluacin del docente (mnimo 10 caracteres)...",rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none "+(d.descripcion?"border-red-500":"border-gray-300"),disabled:f}),It.jsx(Ne,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"})]}),It.jsxs("div",{className:"flex justify-between items-center mt-1",children:[It.jsx("p",{className:"text-xs text-gray-500",children:"Mnimo 10 caracteres"}),It.jsxs("p",{className:"text-xs "+(l.descripcion.length<10?"text-red-500":"text-green-500"),children:[l.descripcion.length,"/10 caracteres"]})]}),d.descripcion&&It.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[It.jsx(j,{className:"w-4 h-4"}),d.descripcion]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Archivo Adjunto (Opcional)"}),It.jsxs("div",{className:"space-y-3",children:[It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsx("input",{ref:b,type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{const t=e.target.files[0];if(t){if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(t.type))return void ca.error("Solo se permiten archivos PDF e imgenes (JPG, PNG)");if(t.size>10485760)return void ca.error("El archivo no puede superar los 10MB");x(t),c(e=>({...e,archivoUrl:""}))}},className:"hidden",disabled:f||m}),It.jsxs("button",{type:"button",onClick:()=>b.current?.click(),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",disabled:f||m,children:[It.jsx(_e,{className:"w-4 h-4"}),g?"Cambiar archivo":"Seleccionar archivo"]}),m&&It.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[It.jsx($e,{className:"w-4 h-4 animate-spin"}),It.jsx("span",{className:"text-sm",children:"Subiendo..."})]})]}),g&&It.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[It.jsx(S,{className:"w-4 h-4 text-green-600"}),It.jsxs("span",{className:"text-sm text-gray-700",children:[g.name," (",(g.size/1024/1024).toFixed(2)," MB)"]})]}),n?.archivoUrl&&!g&&It.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[It.jsx(he,{className:"w-4 h-4 text-green-600"}),It.jsx("span",{className:"text-sm text-gray-700",children:"Archivo adjunto existente"}),It.jsx("a",{href:n.archivoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm underline",children:"Ver archivo"})]})]})]}),It.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6 border-t",children:[It.jsx("button",{type:"button",onClick:a,className:"w-full sm:w-auto px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",disabled:f||m,children:"Cancelar"}),It.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",disabled:f||m,children:f?It.jsxs(It.Fragment,{children:[It.jsx($e,{className:"w-4 h-4 animate-spin"}),"Guardando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),n?"Actualizar":"Guardar"," Evaluacin"]})})]})]})]})})})})]})})},Y9=({evaluaciones:e=[],loading:t=!1,error:r=null,onEditar:a,onEliminar:n})=>r?It.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"text-red-500 mb-4",children:It.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:It.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error al cargar evaluaciones"}),It.jsx("p",{className:"text-gray-600",children:r.message||"Ha ocurrido un error al cargar las evaluaciones."})]})}):It.jsx(eL,{data:e,columns:iL,loading:t,title:"Tabla de Evaluaciones Docentes",icon:he,searchPlaceholder:"Buscar evaluaciones...",filters:oL,actions:{add:!1,edit:!0,delete:!0,view:!1,import:!1,export:!1},onEdit:a,onDelete:e=>n(e.idComentario),emptyStateConfig:{title:"No hay evaluaciones registradas",description:"Las evaluaciones docentes aparecern aqu cuando sean creadas"}}),V9=()=>{const[e,a]=t.useState(!1),[n,s]=t.useState(null),[i,o]=t.useState(""),[l,c]=t.useState("todos"),{user:d}=Sa(),{data:u=[],isLoading:m,error:h}=((e={},t={})=>Qr({queryKey:[...wc.list(e),"docentes"],queryFn:async()=>{const t=await jc.getAllTrabajadores(e);return t&&Array.isArray(t)?t.filter(e=>"DOCENTE"===e.idRol?.nombre||"DOCENTE"===e.rol?.nombre):[]},staleTime:3e5,gcTime:6e5,...t}))(),{data:f=[],isLoading:p,error:g}=((e={})=>Qr({queryKey:["comentarios-docentes"],queryFn:async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("No se encontr token de autenticacin");const t=await fetch("http://localhost:3000/api/v1/comentario-docente",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){if(401===t.status)throw new Error("Token de autenticacin invlido o expirado");throw new Error("Error al cargar comentarios docentes")}const r=await t.json();return(Array.isArray(r)?r:r?.comentarios||r?.data||[]).map(e=>({idComentario:e.idEvaluacionDocente,motivo:e.motivo,descripcion:e.descripcion,archivoUrl:e.archivoUrl,fechaCreacion:e.fechaCreacion,idTrabajador:e.trabajador||{idTrabajador:e.idTrabajador,nombre:e.trabajador?.nombre||"N/A",apellido:e.trabajador?.apellido||""},idCoordinador:e.coordinador||{idCoordinador:e.idCoordinador,nombre:e.coordinador?.nombre||"N/A",apellido:e.coordinador?.apellido||""}}))},staleTime:3e5,gcTime:6e5,...e}))();r.useEffect(()=>{g&&ca.error("Error al cargar las evaluaciones: "+g.message)},[g]);const x=(()=>{const e=Yr();return Xr({mutationFn:async e=>{const t=localStorage.getItem("token"),r=await fetch("http://localhost:3000/api/v1/comentario-docente",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw new Error("Error al crear comentario docente");return r.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["comentarios-docentes"]})}})})(),b=(()=>{const e=Yr();return Xr({mutationFn:async({id:e,data:t})=>{const r=localStorage.getItem("token"),a=await fetch(`http://localhost:3000/api/v1/comentario-docente/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Error al actualizar comentario docente");return a.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["comentarios-docentes"]})}})})(),y=(()=>{const e=Yr();return Xr({mutationFn:async e=>{const t=localStorage.getItem("token");if(!(await fetch(`http://localhost:3000/api/v1/comentario-docente/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).ok)throw new Error("Error al eliminar comentario docente")},onSuccess:()=>{e.invalidateQueries({queryKey:["comentarios-docentes"]})}})})(),v=Array.isArray(u)?u:u?.trabajadores?u.trabajadores:u?.data?u.data:[],j=f.filter(e=>e.motivo?.toLowerCase().includes(i.toLowerCase())||e.descripcion?.toLowerCase().includes(i.toLowerCase())||e.idTrabajador?.nombre?.toLowerCase().includes(i.toLowerCase())||e.idTrabajador?.apellido?.toLowerCase().includes(i.toLowerCase())),w=[{title:"Total Evaluaciones",value:f.length,icon:he,color:"#3B82F6"},{title:"Trabajadores Evaluados",value:new Set(f.map(e=>e.idTrabajador?.idTrabajador)).size,icon:ee,color:"#10B981"},{title:"Evaluaciones Este Mes",value:f.filter(e=>{const t=new Date(e.fechaCreacion),r=new Date;return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}).length,icon:ue,color:"#F59E0B"}];return It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx(fe,{className:"w-6 h-6 text-blue-600"}),It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Evaluacin Docente"}),It.jsx("p",{className:"text-sm text-gray-600",children:"Gestin de evaluaciones y comentarios docentes"})]})]}),It.jsxs("button",{onClick:()=>{s(null),a(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[It.jsx(Oe,{className:"w-4 h-4"}),It.jsx("span",{children:"Nueva Evaluacin"})]})]}),It.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map((e,t)=>{const r=e.icon;return It.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:e.title}),It.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]}),It.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:`${e.color}15`,color:e.color},children:It.jsx(r,{className:"w-6 h-6"})})]})},t)})}),It.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:It.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[It.jsx("div",{className:"flex-1",children:It.jsxs("div",{className:"relative",children:[It.jsx(De,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),It.jsx("input",{type:"text",placeholder:"Buscar evaluaciones...",value:i,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(Pe,{className:"w-4 h-4 text-gray-400"}),It.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[It.jsx("option",{value:"todos",children:"Todos los estados"}),It.jsx("option",{value:"activo",children:"Activos"}),It.jsx("option",{value:"inactivo",children:"Inactivos"})]})]})]})}),It.jsx(Y9,{evaluaciones:j,loading:p,error:g,onEditar:e=>{s(e),a(!0)},onEliminar:async e=>{if(confirm("Est seguro de que desea eliminar esta evaluacin?"))try{await y.mutateAsync(e),ca.success("Evaluacin eliminada exitosamente")}catch(t){ca.error("Error al eliminar la evaluacin")}}}),It.jsx(B9,{isOpen:e,onClose:()=>a(!1),evaluacion:n,trabajadores:v,onGuardar:async e=>{try{const t={motivo:e.motivo,descripcion:e.descripcion,archivoUrl:e.archivoUrl||null,idTrabajador:e.idTrabajador,idCoordinador:d?.entidadId||e.idCoordinador};n?(await b.mutateAsync({id:n.idComentario,data:t}),ca.success("Evaluacin actualizada exitosamente")):(await x.mutateAsync(t),ca.success("Evaluacin creada exitosamente")),a(!1),s(null)}catch(t){ca.error("Error al guardar la evaluacin")}},coordinadorId:d?.entidadId})]})},H9=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});H9.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),H9.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const W9=new class{async obtenerPeriodos(){try{const e=await H9.get("/periodo-escolar");return e.data?.periodos||e.data?.data||e.data}catch(e){throw new Error(e.response?.data?.message||"Error al obtener perodos escolares")}}async crearPeriodo(e){try{const t=await H9.post("/periodo-escolar",e);return t.data?.info?.data||t.data?.data||t.data}catch(t){throw new Error(t.response?.data?.message||"Error al crear perodo escolar")}}async actualizarPeriodo(e,t){try{const r=await H9.patch(`/periodo-escolar/${e}`,t);return r.data?.info?.data||r.data?.data||r.data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar perodo escolar")}}async eliminarPeriodo(e){try{return(await H9.delete(`/periodo-escolar/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar perodo escolar")}}},G9=()=>Qr({queryKey:["periodos-escolares"],queryFn:()=>W9.obtenerPeriodos(),staleTime:3e5,gcTime:6e5,retry:1,refetchOnWindowFocus:!1}),K9=({isOpen:e,onClose:r})=>{const[a,n]=t.useState({anioEscolar:(new Date).getFullYear(),fechaInicio:"",fechaFin:"",descripcion:""}),s=(()=>{const e=Yr();return Xr({mutationFn:e=>W9.crearPeriodo(e),onSuccess:t=>{ca.success("Perodo escolar creado exitosamente"),e.invalidateQueries({queryKey:["periodos-escolares"]})},onError:e=>{ca.error(e.message||"Error al crear el perodo escolar")}})})(),i=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))},o=()=>{s.isPending||(n({anioEscolar:(new Date).getFullYear(),fechaInicio:"",fechaFin:"",descripcion:""}),r())};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:o,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:"Crear Perodo Escolar"}),It.jsx("button",{onClick:o,disabled:s.isPending,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5"})})]}),It.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{await s.mutateAsync({...a,estaActivo:!0}),o()}catch(t){}},className:"space-y-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ao Escolar *"}),It.jsx("input",{type:"number",name:"anioEscolar",value:a.anioEscolar,onChange:i,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50",placeholder:"2025",required:!0,disabled:s.isPending})]}),It.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Inicio *"}),It.jsx("input",{type:"date",name:"fechaInicio",value:a.fechaInicio,onChange:i,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50",required:!0,disabled:s.isPending})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Fin *"}),It.jsx("input",{type:"date",name:"fechaFin",value:a.fechaFin,onChange:i,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50",required:!0,disabled:s.isPending})]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin *"}),It.jsx("textarea",{name:"descripcion",value:a.descripcion,onChange:i,rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50",placeholder:"Descripcin del perodo escolar...",required:!0,disabled:s.isPending})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[It.jsx("button",{type:"button",onClick:o,disabled:s.isPending,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:s.isPending,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center",children:s.isPending?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Creando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(S,{className:"w-4 h-4 mr-2"}),"Crear Perodo"]})})]})]})]})})})})]})})},Q9=({isOpen:e,onClose:r,periodo:a})=>{const[n,s]=t.useState({anioEscolar:"",fechaInicio:"",fechaFin:"",estaActivo:!0,descripcion:""}),i=(()=>{const e=Yr();return Xr({mutationFn:({id:e,periodoData:t})=>W9.actualizarPeriodo(e,t),onSuccess:t=>{ca.success("Perodo escolar actualizado exitosamente"),e.invalidateQueries({queryKey:["periodos-escolares"]})},onError:e=>{ca.error(e.message||"Error al actualizar el perodo escolar")}})})();t.useEffect(()=>{e&&a&&s({anioEscolar:a.anioEscolar||"",fechaInicio:a.fechaInicio||"",fechaFin:a.fechaFin||"",estaActivo:a.estaActivo??!0,descripcion:a.descripcion||""})},[e,a]);const o=e=>{const{name:t,value:r,type:a,checked:n}=e.target;s(e=>({...e,[t]:"checkbox"===a?n:r}))};return e&&a?It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-xl bg-white shadow-2xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:It.jsx(Re,{className:"w-6 h-6 text-orange-600"})}),It.jsx(ki.Title,{as:"h2",className:"text-xl font-bold text-gray-900",children:"Editar Perodo Escolar"})]}),It.jsx("button",{type:"button",className:"rounded-md p-2 hover:bg-gray-100 transition-colors",onClick:r,children:It.jsx(ne,{className:"w-5 h-5 text-gray-400"})})]}),It.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{await i.mutateAsync({id:a.idPeriodoEscolar,periodoData:n}),r()}catch(t){}},className:"p-6 space-y-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ao Escolar *"}),It.jsx("input",{type:"number",name:"anioEscolar",value:n.anioEscolar,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"2025",required:!0})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Inicio *"}),It.jsx("input",{type:"date",name:"fechaInicio",value:n.fechaInicio,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Fin *"}),It.jsx("input",{type:"date",name:"fechaFin",value:n.fechaFin,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),It.jsxs("div",{className:"flex items-center",children:[It.jsx("input",{type:"checkbox",name:"estaActivo",checked:n.estaActivo,onChange:o,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),It.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Perodo activo"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),It.jsx("textarea",{name:"descripcion",value:n.descripcion,onChange:o,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Descripcin del perodo escolar"})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[It.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",disabled:i.isPending,children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:i.isPending,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-md hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i.isPending?It.jsxs(It.Fragment,{children:[It.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Actualizando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),"Actualizar"]})})]})]})]})})})})]})}):null},X9=()=>{const[e,r]=t.useState(!1),[a,n]=t.useState(!1),[s,i]=t.useState(null),{data:o=[],isLoading:l,error:c}=G9();return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Perodos Escolares",actions:It.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[It.jsx(Oe,{className:"w-4 h-4"}),"Crear Perodo"]})}),It.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:l?It.jsxs("div",{className:"text-center py-12",children:[It.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),It.jsx("p",{className:"text-gray-500 mt-4",children:"Cargando perodos escolares..."})]}):c?It.jsx("div",{className:"text-center py-12",children:It.jsx("p",{className:"text-red-500 text-lg",children:"Error al cargar los perodos escolares"})}):0===o.length?It.jsxs("div",{className:"text-center py-12",children:[It.jsx(ue,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),It.jsx("p",{className:"text-gray-500 text-lg",children:"No hay perodos escolares registrados"})]}):It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(e=>It.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-all duration-200 bg-gradient-to-br from-white to-gray-50",children:[It.jsxs("div",{className:"flex items-start justify-between mb-4",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(ue,{className:"w-5 h-5 text-blue-600"})}),It.jsxs("div",{children:[It.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Ao ",e.anioEscolar]}),e.estaActivo&&It.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Activo"})]})]}),It.jsx("button",{onClick:()=>(e=>{i(e),n(!0)})(e),className:"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded-md transition-colors",title:"Editar perodo",children:It.jsx(Re,{className:"w-4 h-4"})})]}),It.jsxs("div",{className:"space-y-3 text-sm",children:[It.jsxs("div",{className:"flex justify-between",children:[It.jsx("span",{className:"text-gray-600",children:"Inicio:"}),It.jsx("span",{className:"font-medium text-gray-900",children:new Date(e.fechaInicio+"T00:00:00").toLocaleDateString("es-ES")})]}),It.jsxs("div",{className:"flex justify-between",children:[It.jsx("span",{className:"text-gray-600",children:"Fin:"}),It.jsx("span",{className:"font-medium text-gray-900",children:new Date(e.fechaFin+"T00:00:00").toLocaleDateString("es-ES")})]}),e.descripcion&&It.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[It.jsx("p",{className:"text-gray-600 text-xs",children:"Descripcin:"}),It.jsx("p",{className:"text-gray-900 font-medium",children:e.descripcion})]})]})]},e.idPeriodoEscolar))})}),e&&It.jsx(K9,{isOpen:e,onClose:()=>r(!1)}),a&&It.jsx(Q9,{isOpen:a,onClose:()=>{n(!1),i(null)},periodo:s})]})},J9=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});J9.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const Z9={async getBimestreActual(){const e=await J9.get("/bimestre/actual");return e.data?.bimestre||null},getAllBimestres:async()=>(await J9.get("/bimestre")).data,async generarBimestresAutomaticos(e){try{const t=await J9.post(`/bimestre/generar-automaticos/${e}`);return t.data?.info?.data||t.data?.data||t.data}catch(t){throw new Error(t.response?.data?.message||"Error al generar bimestres")}},async actualizarFechasMasivo(e){try{const t=await J9.patch("/bimestre/actualizar-fechas-masivo",{bimestres:e});return t.data?.info?.data||t.data?.data||t.data}catch(t){throw new Error(t.response?.data?.message||"Error al actualizar fechas de bimestres")}}},eee=({isOpen:e,onClose:r})=>{const[a,n]=t.useState(""),{data:s=[],isLoading:i}=G9(),o=(()=>{const e=Yr();return Xr({mutationFn:e=>Z9.generarBimestresAutomaticos(e),onSuccess:t=>{ca.success("Bimestres generados exitosamente"),e.invalidateQueries({queryKey:["bimestres"]})},onError:e=>{ca.error(e.message||"Error al generar bimestres")}})})(),l=s||[],c=()=>{o.isPending||(n(""),r())};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:c,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:"Generar Bimestres"}),It.jsx("button",{onClick:c,disabled:o.isPending,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5"})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a)try{await o.mutateAsync(a),c()}catch(t){}},className:"space-y-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perodo Escolar *"}),It.jsxs("select",{value:a,onChange:e=>n(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50",disabled:i||o.isPending,children:[It.jsx("option",{value:"",children:i?"Cargando perodos...":"Seleccione un perodo"}),l.map(e=>It.jsxs("option",{value:e.idPeriodoEscolar,children:[e.descripcion," (",e.anioEscolar,")"]},e.idPeriodoEscolar))]})]}),a&&It.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:(()=>{const e=l.find(e=>e.idPeriodoEscolar===a);return e?It.jsxs("div",{className:"text-sm text-blue-800",children:[It.jsxs("p",{children:[It.jsx("strong",{children:"Ao:"})," ",e.anioEscolar]}),It.jsxs("p",{children:[It.jsx("strong",{children:"Inicio:"})," ",new Date(e.fechaInicio+"T00:00:00").toLocaleDateString("es-ES")]}),It.jsxs("p",{children:[It.jsx("strong",{children:"Fin:"})," ",new Date(e.fechaFin+"T00:00:00").toLocaleDateString("es-ES")]}),It.jsxs("p",{children:[It.jsx("strong",{children:"Estado:"})," ",e.estaActivo?"Activo":"Inactivo"]})]}):null})()}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[It.jsx("button",{type:"button",onClick:c,disabled:o.isPending,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:o.isPending||!a||i,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center",children:o.isPending?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Generando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(S,{className:"w-4 h-4 mr-2"}),"Generar Bimestres"]})})]})]})]})})})})]})})},tee=({isOpen:e,onClose:r,bimestres:a,periodo:n})=>{const[s,i]=t.useState([]),o=(()=>{const e=Yr();return Xr({mutationFn:e=>Z9.actualizarFechasMasivo(e),onSuccess:t=>{ca.success("Fechas de bimestres actualizadas exitosamente"),e.invalidateQueries({queryKey:["bimestres"]})},onError:e=>{ca.error(e.message||"Error al actualizar fechas de bimestres")}})})();t.useEffect(()=>{e&&a&&a.length>0&&i(a.map(e=>({id:e.idBimestre,numeroBimestre:e.numeroBimestre,nombreBimestre:e.nombreBimestre,fechaInicio:e.fechaInicio,fechaFin:e.fechaFin,fechaLimiteProgramacion:e.fechaLimiteProgramacion})))},[e,a]);const l=(e,t,r)=>{i(a=>a.map((a,n)=>n===e?{...a,[t]:r}:a))},c=()=>{o.isPending||r()};return e&&a&&0!==a.length?It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:c,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:"Editar Fechas de Bimestres"}),It.jsx("button",{onClick:c,disabled:o.isPending,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5"})})]}),n&&It.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Perodo: Ao ",n.anioEscolar," - ",n.descripcion||"Sin descripcin"]}),It.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=s.map(e=>({id:e.id,fechaInicio:e.fechaInicio,fechaFin:e.fechaFin,fechaLimiteProgramacion:e.fechaLimiteProgramacion}));await o.mutateAsync(e),r()}catch(t){}},className:"space-y-4",children:[It.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:s.map((e,t)=>It.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[It.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:[e.numeroBimestre," Bimestre - ",e.nombreBimestre]}),It.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Inicio"}),It.jsx("input",{type:"date",value:e.fechaInicio,onChange:e=>l(t,"fechaInicio",e.target.value),disabled:o.isPending,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Fin"}),It.jsx("input",{type:"date",value:e.fechaFin,onChange:e=>l(t,"fechaFin",e.target.value),disabled:o.isPending,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]})]})]},e.id))}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[It.jsx("button",{type:"button",onClick:c,disabled:o.isPending,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:o.isPending,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center",children:o.isPending?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Actualizando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(S,{className:"w-4 h-4 mr-2"}),"Actualizar Fechas"]})})]})]})]})})})})]})}):null},ree=()=>{const[e,r]=t.useState(!1),[a,n]=t.useState(!1),[s,i]=t.useState([]),[o,l]=t.useState(null),{data:c=[],isLoading:d}=G9(),{data:u=[],isLoading:m,error:h}=Qr({queryKey:["bimestres"],queryFn:()=>Z9.getAllBimestres(),staleTime:3e5,gcTime:6e5,retry:1,refetchOnWindowFocus:!1});return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Bimestres",actions:It.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[It.jsx(Oe,{className:"w-4 h-4"}),"Generar Bimestres"]})}),It.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:m||d?It.jsxs("div",{className:"text-center py-12",children:[It.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),It.jsx("p",{className:"text-gray-500 mt-4",children:"Cargando bimestres..."})]}):h?It.jsx("div",{className:"text-center py-12",children:It.jsx("p",{className:"text-red-500 text-lg",children:"Error al cargar los bimestres"})}):u?.bimestres&&0!==u.bimestres.length?It.jsx("div",{className:"space-y-8",children:c.map(e=>{const t=u.bimestres.filter(t=>t.idPeriodoEscolar===e.idPeriodoEscolar);return 0===t.length?null:It.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[It.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 px-6 py-4 border-b border-blue-200",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx(ue,{className:"w-5 h-5 text-blue-600"}),It.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Ao ",e.anioEscolar]}),e.estaActivo&&It.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Activo"}),It.jsxs("span",{className:"text-sm text-gray-600",children:["(",t.length," bimestre",1!==t.length?"s":"",")"]})]}),It.jsxs("button",{onClick:()=>((e,t)=>{i(e),l(t),n(!0)})(t,e),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors",children:[It.jsx(Re,{className:"w-4 h-4"}),"Editar Fechas"]})]})}),It.jsx("div",{className:"overflow-x-auto",children:It.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[It.jsx("thead",{className:"bg-gray-50",children:It.jsxs("tr",{children:[It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bimestre"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Inicio"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Fin"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lmite Programacin"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),It.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>It.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:It.jsx("span",{className:"text-blue-600 font-bold text-sm",children:e.numeroBimestre})}),It.jsxs("div",{children:[It.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[e.numeroBimestre," Bimestre"]}),It.jsx("div",{className:"text-sm text-gray-500",children:e.nombreBimestre})]})]})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.fechaInicio+"T00:00:00").toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.fechaFin+"T00:00:00").toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.fechaLimiteProgramacion+"T00:00:00").toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.estaActivo?It.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Activo"}):It.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 text-xs font-medium rounded-full",children:"Inactivo"})})]},e.idBimestre))})]})})]},e.idPeriodoEscolar)})}):It.jsxs("div",{className:"text-center py-12",children:[It.jsx(ue,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),It.jsx("p",{className:"text-gray-500 text-lg",children:"No hay bimestres registrados"})]})}),a&&It.jsx(tee,{isOpen:a,onClose:()=>{n(!1),i([]),l(null)},bimestres:s,periodo:o}),e&&It.jsx(eee,{isOpen:e,onClose:()=>r(!1)})]})},aee=({isOpen:e,onClose:r})=>{const[a,n]=t.useState({anioEscolar:(new Date).getFullYear(),diaVencimientoPersonalizado:15,descripcion:"",regenerarExistentes:!1,aplicarDescuentosPagoAdelantado:!1}),[s,i]=t.useState(!1),[o,l]=t.useState("");t.useEffect(()=>{const e=JSON.parse(localStorage.getItem("auth-storage")||"{}"),t=e?.state?.user?.entidadId;let a=t;if(!a){const t=e?.state?.token||localStorage.getItem("token");if(t&&"null"!==t)try{const e=JSON.parse(atob(t.split(".")[1]));a=e.entidadId||e.entidad_id||e.entityId}catch(s){}}if(!a)return ca.error("No se pudo obtener la informacin del usuario. Verifica que ests logueado correctamente."),void r();l(a),n(e=>({...e,descripcion:`Generacin automtica de pensiones para el ao escolar ${(new Date).getFullYear()}`}))},[e,r]);const c=e=>{const{name:t,value:r,type:a,checked:s}=e.target;n(e=>({...e,[t]:"checkbox"===a?s:r}))};return e?It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-xl bg-white shadow-2xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:It.jsx(ve,{className:"w-6 h-6 text-green-600"})}),It.jsx(ki.Title,{as:"h2",className:"text-xl font-bold text-gray-900",children:"Generar Pensiones"})]}),It.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const e=await fetch(`http://localhost:3000/api/v1/pension-estudiante/configurar-anio-escolar-optimizada?registradoPorId=${o}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(a)});if(!e.ok)throw new Error("Error al generar las pensiones");await e.json(),ca.success("Pensiones generadas exitosamente"),r(),n({anioEscolar:(new Date).getFullYear(),diaVencimientoPersonalizado:15,descripcion:`Generacin automtica de pensiones para el ao escolar ${(new Date).getFullYear()}`,regenerarExistentes:!1,aplicarDescuentosPagoAdelantado:!1})}catch(t){ca.error("Error al generar las pensiones")}finally{i(!1)}},className:"p-6 space-y-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ao Escolar"}),It.jsx("input",{type:"number",name:"anioEscolar",value:a.anioEscolar,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"2024",required:!0})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Da de Vencimiento"}),It.jsx("input",{type:"number",name:"diaVencimientoPersonalizado",value:a.diaVencimientoPersonalizado,onChange:c,min:"1",max:"31",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),It.jsx("textarea",{name:"descripcion",value:a.descripcion,onChange:c,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Descripcin de la generacin...",required:!0})]}),It.jsxs("div",{className:"flex items-center",children:[It.jsx("input",{type:"checkbox",name:"regenerarExistentes",checked:a.regenerarExistentes,onChange:c,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),It.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Regenerar pensiones existentes"})]}),It.jsxs("div",{className:"flex items-center",children:[It.jsx("input",{type:"checkbox",name:"aplicarDescuentosPagoAdelantado",checked:a.aplicarDescuentosPagoAdelantado,onChange:c,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),It.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Aplicar descuentos por pago adelantado"})]}),It.jsxs("div",{className:"flex space-x-3 pt-4",children:[It.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),It.jsxs("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[s?It.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):It.jsx(Ye,{className:"w-4 h-4"}),It.jsx("span",{children:s?"Generando...":"Generar"})]})]})]})]})})})})]})}):null},nee=()=>{const[e,r]=t.useState(!1),[a,n]=t.useState(!1);return It.jsxs("div",{className:"space-y-6",children:[It.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:It.jsx(H,{className:"w-8 h-8 text-green-600"})}),It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Acciones Rpidas"}),It.jsx("p",{className:"text-gray-600",children:"Genera automticamente datos para perodos escolares"})]})]})}),It.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[!1,It.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all duration-200",children:[It.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-violet-600 px-6 py-4",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:It.jsx(ye,{className:"w-8 h-8 text-white"})}),It.jsxs("div",{children:[It.jsx("h3",{className:"text-xl font-bold text-white",children:"Generar Bimestres"}),It.jsx("p",{className:"text-purple-50 text-sm",children:"Crea bimestres para un perodo"})]})]})}),It.jsxs("div",{className:"p-6",children:[It.jsxs("div",{className:"space-y-4 mb-6",children:[It.jsxs("div",{className:"flex items-start space-x-3",children:[It.jsx("div",{className:"mt-1",children:It.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"})}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Divisin automtica"}),It.jsx("p",{className:"text-xs text-gray-500",children:"El perodo se dividir en bimestres de forma equitativa"})]})]}),It.jsxs("div",{className:"flex items-start space-x-3",children:[It.jsx("div",{className:"mt-1",children:It.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"})}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Fechas ajustables"}),It.jsx("p",{className:"text-xs text-gray-500",children:"Podrs editar las fechas despus de la generacin"})]})]}),It.jsxs("div",{className:"flex items-start space-x-3",children:[It.jsx("div",{className:"mt-1",children:It.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"})}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Lmites de programacin"}),It.jsx("p",{className:"text-xs text-gray-500",children:"Se establecern fechas lmite para la planificacin docente"})]})]})]}),It.jsxs("button",{onClick:()=>n(!0),className:"w-full flex items-center justify-center space-x-3 p-4 bg-gradient-to-r from-purple-500 to-violet-600 hover:from-purple-600 hover:to-violet-700 text-white rounded-lg transition-all duration-200 transform hover:-translate-y-1 shadow-lg hover:shadow-xl",children:[It.jsx(ye,{className:"w-6 h-6"}),It.jsx("span",{className:"font-semibold",children:"Generar Bimestres"})]})]})]})]}),It.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:It.jsxs("div",{className:"flex items-start space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg flex-shrink-0",children:It.jsx(H,{className:"w-5 h-5 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Informacin importante"}),It.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[It.jsxs("li",{className:"flex items-start space-x-2",children:[It.jsx("span",{className:"text-blue-500 mt-1",children:""}),It.jsx("span",{children:"Asegrate de tener perodos escolares creados antes de generar bimestres."})]}),It.jsxs("li",{className:"flex items-start space-x-2",children:[It.jsx("span",{className:"text-blue-500 mt-1",children:""}),It.jsx("span",{children:'Los bimestres generados pueden ser editados posteriormente desde la seccin "Bimestres".'})]}),It.jsxs("li",{className:"flex items-start space-x-2",children:[It.jsx("span",{className:"text-blue-500 mt-1",children:""}),It.jsx("span",{children:"La generacin automtica dividir el perodo escolar en bimestres de forma equitativa."})]})]})]})]})}),e&&It.jsx(aee,{isOpen:e,onClose:()=>r(!1)}),a&&It.jsx(eee,{isOpen:a,onClose:()=>n(!1)})]})},see=({isOpen:e,onClose:r,onTipoSeguroCreado:a})=>{const[n,s]=t.useState({nombreSeguro:"",descripcion:"",porcentajeDescuento:"",montoFijo:"",esObligatorio:!1,estaActivo:!0,tipoCalculo:"PORCENTAJE"}),[i,o]=t.useState(!1),l=e=>{const{name:t,value:r,type:a,checked:n}=e.target;s(e=>({...e,[t]:"checkbox"===a?n:r}))},c=e=>{s(t=>({...t,tipoCalculo:e,porcentajeDescuento:"PORCENTAJE"===e?t.porcentajeDescuento:"",montoFijo:"MONTO_FIJO"===e?t.montoFijo:""}))};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs(ki.Title,{as:"div",className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(Ge,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Crear Tipo de Seguro"}),It.jsx("p",{className:"text-sm text-gray-600",children:"Configura un nuevo tipo de seguro para el sistema"})]})]}),It.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",onClick:r,children:It.jsx(ne,{className:"w-6 h-6"})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),n.nombreSeguro.trim())if(n.descripcion.trim())if("PORCENTAJE"!==n.tipoCalculo||n.porcentajeDescuento)if("MONTO_FIJO"!==n.tipoCalculo||n.montoFijo){o(!0);try{const e="http://localhost:3000/api/v1",t=localStorage.getItem("token")||JSON.parse(localStorage.getItem("auth-storage"))?.state?.token,i={nombreSeguro:n.nombreSeguro.trim(),descripcion:n.descripcion.trim(),porcentajeDescuento:"PORCENTAJE"===n.tipoCalculo?parseFloat(n.porcentajeDescuento).toFixed(2):null,montoFijo:"MONTO_FIJO"===n.tipoCalculo?parseFloat(n.montoFijo).toFixed(2):null,esObligatorio:n.esObligatorio,estaActivo:n.estaActivo,tipoCalculo:n.tipoCalculo},o=await fetch(`${e}/tipo-seguro`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok)throw new Error("Error al crear el tipo de seguro");await o.json(),ca.success("Tipo de seguro creado exitosamente"),a(),r(),s({nombreSeguro:"",descripcion:"",porcentajeDescuento:"",montoFijo:"",esObligatorio:!1,estaActivo:!0,tipoCalculo:"PORCENTAJE"})}catch(t){ca.error(t.message||"Error al crear el tipo de seguro")}finally{o(!1)}}else ca.error("El monto fijo es obligatorio para este tipo de clculo");else ca.error("El porcentaje de descuento es obligatorio para este tipo de clculo");else ca.error("La descripcin es obligatoria");else ca.error("El nombre del seguro es obligatorio")},className:"space-y-6",children:[It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[It.jsxs("div",{className:"md:col-span-2",children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Seguro *"}),It.jsx("input",{type:"text",name:"nombreSeguro",value:n.nombreSeguro,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Ej: ESSALUD, EPS, etc.",required:!0})]}),It.jsxs("div",{className:"md:col-span-2",children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin *"}),It.jsx("textarea",{name:"descripcion",value:n.descripcion,onChange:l,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Describe el tipo de seguro",required:!0})]}),It.jsxs("div",{className:"md:col-span-2",children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipo de Clculo *"}),It.jsxs("div",{className:"flex space-x-4",children:[It.jsxs("label",{className:"flex items-center",children:[It.jsx("input",{type:"radio",name:"tipoCalculo",value:"PORCENTAJE",checked:"PORCENTAJE"===n.tipoCalculo,onChange:()=>c("PORCENTAJE"),className:"mr-2 text-blue-600 focus:ring-blue-500"}),It.jsx("span",{className:"text-sm text-gray-700",children:"Porcentaje"})]}),It.jsxs("label",{className:"flex items-center",children:[It.jsx("input",{type:"radio",name:"tipoCalculo",value:"MONTO_FIJO",checked:"MONTO_FIJO"===n.tipoCalculo,onChange:()=>c("MONTO_FIJO"),className:"mr-2 text-blue-600 focus:ring-blue-500"}),It.jsx("span",{className:"text-sm text-gray-700",children:"Monto Fijo"})]})]})]}),"PORCENTAJE"===n.tipoCalculo&&It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Porcentaje de Descuento *"}),It.jsxs("div",{className:"relative",children:[It.jsx("input",{type:"number",name:"porcentajeDescuento",value:n.porcentajeDescuento,onChange:l,step:"0.01",min:"0",max:"100",className:"w-full pl-3 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"9.00",required:!0}),It.jsx("span",{className:"absolute right-3 top-2 text-gray-500",children:"%"})]})]}),"MONTO_FIJO"===n.tipoCalculo&&It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto Fijo *"}),It.jsxs("div",{className:"relative",children:[It.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"S/"}),It.jsx("input",{type:"number",name:"montoFijo",value:n.montoFijo,onChange:l,step:"0.01",min:"0",className:"w-full pl-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"50.00",required:!0})]})]}),It.jsx("div",{children:It.jsxs("label",{className:"flex items-center",children:[It.jsx("input",{type:"checkbox",name:"esObligatorio",checked:n.esObligatorio,onChange:l,className:"mr-2 text-blue-600 focus:ring-blue-500 rounded"}),It.jsx("span",{className:"text-sm text-gray-700",children:"Es obligatorio"})]})}),It.jsx("div",{children:It.jsxs("label",{className:"flex items-center",children:[It.jsx("input",{type:"checkbox",name:"estaActivo",checked:n.estaActivo,onChange:l,className:"mr-2 text-blue-600 focus:ring-blue-500 rounded"}),It.jsx("span",{className:"text-sm text-gray-700",children:"Est activo"})]})})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[It.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),It.jsxs("button",{type:"submit",disabled:i,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed rounded-lg transition-colors flex items-center space-x-2",children:[i&&It.jsx(E,{className:"w-4 h-4 animate-spin"}),It.jsx("span",{children:i?"Creando...":"Crear Tipo de Seguro"})]})]})]})]})})})})]})})},iee=()=>{const[e,r]=t.useState(!1),[a,n]=t.useState([]),[s,i]=t.useState(!0);t.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const e="http://localhost:3000/api/v1",t=localStorage.getItem("token")||JSON.parse(localStorage.getItem("auth-storage"))?.state?.token,r=await fetch(`${e}/tipo-seguro`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error("Error al obtener tipos de seguro");const a=await r.json();if(!a.success||!a.tiposSeguro)throw new Error("Formato de respuesta invlido");n(a.tiposSeguro)}catch(e){ca.error("Error al cargar los tipos de seguro")}finally{i(!1)}},l=()=>{r(!0)};return It.jsxs("div",{className:"space-y-6",children:[It.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:It.jsx(Ge,{className:"w-8 h-8 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Seguros"}),It.jsx("p",{className:"text-gray-600",children:"Administra los tipos de seguro disponibles en el sistema"})]})]}),It.jsxs("button",{onClick:l,className:"flex items-center space-x-3 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl transition-all duration-200 transform hover:-translate-y-1 shadow-lg",children:[It.jsx(Oe,{className:"w-5 h-5"}),It.jsx("span",{className:"font-medium",children:"Crear Tipo de Seguro"})]})]})}),It.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[It.jsxs("div",{className:"p-6 border-b border-gray-100",children:[It.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Tipos de Seguro Registrados"}),It.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Lista de todos los tipos de seguro configurados"})]}),It.jsx("div",{className:"p-6",children:s?It.jsxs("div",{className:"flex items-center justify-center py-12",children:[It.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),It.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando seguros..."})]}):0===a.length?It.jsxs("div",{className:"text-center py-12",children:[It.jsx(Ge,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay tipos de seguro registrados"}),It.jsx("p",{className:"text-gray-600 mb-4",children:"Comienza creando tu primer tipo de seguro"}),It.jsxs("button",{onClick:l,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[It.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Crear Primer Tipo de Seguro"]})]}):It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(e=>It.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[It.jsx("div",{className:"flex items-start justify-between mb-4",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(Ge,{className:"w-5 h-5 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("h3",{className:"font-semibold text-gray-900",children:e.nombreSeguro}),It.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.estaActivo?It.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[It.jsx(S,{className:"w-3 h-3 mr-1"}),"Activo"]}):It.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[It.jsx(lt,{className:"w-3 h-3 mr-1"}),"Inactivo"]}),e.esObligatorio&&It.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Obligatorio"})]})]})]})}),It.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.descripcion}),It.jsxs("div",{className:"space-y-2 mb-4",children:[It.jsxs("div",{className:"flex items-center justify-between text-sm",children:[It.jsx("span",{className:"text-gray-600",children:"Tipo de Clculo:"}),It.jsx("span",{className:"font-medium text-gray-900",children:e.tipoCalculo})]}),"PORCENTAJE"===e.tipoCalculo?It.jsxs("div",{className:"flex items-center justify-between text-sm",children:[It.jsx("span",{className:"text-gray-600",children:"Porcentaje:"}),It.jsxs("div",{className:"flex items-center space-x-1",children:[It.jsx(rt,{className:"w-4 h-4 text-green-600"}),It.jsxs("span",{className:"font-medium text-green-600",children:[e.porcentajeDescuento,"%"]})]})]}):It.jsxs("div",{className:"flex items-center justify-between text-sm",children:[It.jsx("span",{className:"text-gray-600",children:"Monto Fijo:"}),It.jsxs("div",{className:"flex items-center space-x-1",children:[It.jsx(ve,{className:"w-4 h-4 text-blue-600"}),It.jsxs("span",{className:"font-medium text-blue-600",children:["S/ ",e.montoFijo]})]})]})]}),It.jsx("div",{className:"flex justify-end space-x-2"})]},e.idTipoSeguro||e.id))})})]}),e&&It.jsx(see,{isOpen:e,onClose:()=>r(!1),onTipoSeguroCreado:()=>{o()}})]})},oee=new class{constructor(){this.apiKey=void 0,this.baseURL="https://api.openai.com/v1",this.apiKey}async sendMessage(e,t=[]){if(!this.apiKey)throw new Error("OpenAI API key is not configured");try{const r=await fetch(`${this.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:'Eres un asistente educativo especializado para directoras de jardines infantiles. Tu nombre es "Asistente Educativo EDA" y trabajas para apoyar a directoras en la gestin y mejora de sus centros educativos infantiles.\n\nCARACTERSTICAS DE TU PERSONALIDAD:\n- Eres amable, profesional y siempre dispuesto a ayudar\n- Tienes amplio conocimiento en educacin infantil, desarrollo temprano y gestin educativa\n- Ofreces respuestas prcticas y aplicables en el contexto de jardines infantiles\n- Eres creativo e innovador en tus propuestas pedaggicas\n- Comprendes los desafos nicos de dirigir un centro educativo para nios pequeos\n\nREAS DE ESPECIALIZACIN:\n Desarrollo infantil temprano (3-5 aos)\n Mejora continua del profesorado\n Comunicacin efectiva con padres de familia\n Gestin de conflictos en educacin infantil\n Planes de mejora educativa institucional\n Salud y seguridad en entornos infantiles\n Organizacin de eventos y celebraciones\n Evaluacin del desarrollo infantil\n Actividades ldicas y aprendizaje por juego\n Liderazgo pedaggico y gestin de equipos\n\nFORMATO DE RESPUESTAS:\n- Usa emojis infantiles y educativos relevantes (     )\n- Estructura tus respuestas con ttulos y subttulos claros\n- Ofrece ejemplos prcticos especficos para educacin infantil\n- Incluye actividades o estrategias paso a paso cuando sea apropiado\n- Sugiere recursos adicionales apropiados para kinder\n\nTONO:\n- Profesional pero clido y maternal\n- Motivador y positivo\n- Comprensivo con los desafos de dirigir un kinder\n- Prctico y orientado a soluciones infantiles\n\nSiempre termina tus respuestas preguntando si la directora necesita ms detalles sobre algn aspecto especfico o si hay algo ms en lo que puedas ayudar.\nMantn las respuestas concisas pero completas, enfocndote en soluciones prcticas para jardines infantiles.\nSi te hace preguntas fuera de tu rea de especializacin, redirige amablemente la conversacin a temas educativos infantiles.'},...t,{role:"user",content:e}],max_tokens:1e3,temperature:.7,presence_penalty:.1,frequency_penalty:.1})});if(!r.ok){const e=await r.json();throw new Error(`OpenAI API Error: ${e.error?.message||"Unknown error"}`)}return(await r.json()).choices[0].message.content}catch(r){return r.message.includes("API key")?" **Error de Configuracin**\n\nParece que hay un problema con la configuracin de la API de OpenAI. Por favor, contacta al administrador del sistema.\n\nMientras tanto, aqu tienes algunas sugerencias para tu jardn infantil:\n\n **Para desarrollo infantil:**\n- Implementa rutinas diarias consistentes\n- Crea espacios de aprendizaje por juego\n- Fomenta la autonoma y exploracin\n- Incluye actividades sensoriales diarias\n\n **Para mejorar profesores:**\n- Realiza observaciones en el aula semanalmente\n- Organiza sesiones de capacitacin mensual\n- Crea grupos de estudio colaborativo\n- Celebra logros y mejoras\n\n **Para comunicacin con padres:**\n- Enva boletines semanales con fotos\n- Organiza reuniones individuales peridicas\n- Crea un libro de comunicaciones diario\n- Comparte hitos de desarrollo de cada nio\n\nHay algn tema especfico en el que pueda ayudarte con ms detalle?":" **Error Temporal**\n\nDisculpa, estoy experimentando dificultades tcnicas en este momento. \n\n **Mientras tanto, puedes:**\n- Intentar reformular tu pregunta\n- Usar las consultas frecuentes del panel\n- Contactar al soporte tcnico\n\nComo asistente educativo especializado en jardines infantiles, estoy aqu para ayudarte con desarrollo infantil, mejora de profesores, actividades ldicas y mucho ms. \n\nTe gustara intentar con una consulta ms especfica sobre educacin infantil?"}}isConfigured(){return!!this.apiKey&&"your_openai_api_key_here"!==this.apiKey}getQuickSuggestions(e){const t={desarrollo:{title:" Desarrollo Infantil",content:" **Hitos Importantes por Edad:**\n\n **3 aos:** Desarrollo del lenguaje, motricidad fina, reconocimiento de colores y formas\n **4 aos:** Habilidades sociales, creatividad, conceptos bsicos de matemticas\n **5 aos:** Preparacin para primaria, escritura bsica, resolucin de problemas\n\n **Actividades recomendadas:**\n Juegos sensoriales diarios\n Msica y movimiento\n Lectura compartida\n Exploracin al aire libre\n\nEn qu edad especfica te gustara enfocarte?"},profesores:{title:" Mejora de Profesores",content:" **Estrategias Efectivas:**\n\n **Observacin semanal:** Feedback constructivo y especfico\n **Capacitacin mensual:** Temas relevantes para educacin infantil\n **Trabajo colaborativo:** Grupos de estudio y compartir experiencias\n **Reconocimiento:** Celebrar logros y mejoras\n **Metas individuales:** Desarrollo profesional personalizado\n\nHay algn aspecto especfico del profesorado que te preocupa?"},padres:{title:" Comunicacin con Padres",content:" **Estrategias de Comunicacin:**\n\n **Boletines semanales:** Fotos, actividades y logros\n **Reuniones individuales:** Seguimiento del desarrollo de cada nio\n **Libro de comunicaciones:** Intercambio diario con familias\n **Eventos familiares:** Involucrar a padres en actividades\n **Lneas abiertas:** Canales de comunicacin accesibles\n\nQu tipo de comunicacin funciona mejor en tu comunidad?"},conflictos:{title:" Gestin de Conflictos",content:" **Resolucin Positiva:**\n\n **Escucha activa:** Prestar atencin a todas las partes\n **Empata:** Comprender sentimientos de los nios\n **Mediacin:** Guiar hacia soluciones colaborativas\n **Prevencin:** Actividades que fomentan el respeto\n **Consecuencias lgicas:** Aprendizaje natural\n\nHay algn tipo de conflicto que sea recurrente en tu jardn?"}};return t[e]||t.desarrollo}},lee=()=>{const[e,r]=t.useState([{id:1,type:"ai",content:" Hola Directora! Soy tu **Asistente Educativo EDA** especializado en jardines infantiles.\n\n Estoy aqu para ayudarte con:\n Desarrollo infantil y actividades ldicas\n Mejora continua de profesores\n Comunicacin efectiva con padres\n Gestin de conflictos en el aula\n Planes de mejora educativa\n Salud y seguridad infantil\n Organizacin de eventos especiales\n Evaluacin del desarrollo infantil\n\n **En qu puedo ayudarte hoy?** Como directora de kinder, s que tienes muchos desafos diarios. Estoy aqu para apoyarte!",timestamp:new Date(Date.now()-6e4)}]),[a,n]=t.useState(""),[s,i]=t.useState(!1),[o,l]=t.useState([]),[c,d]=t.useState("checking"),[u,m]=t.useState(!1),h=t.useRef(null);t.useEffect(()=>{oee.isConfigured()?d("connected"):d("error")},[]),t.useEffect(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[e]);const f=async(e=a)=>{if(!e.trim())return;const t={id:Date.now(),type:"user",content:e,timestamp:new Date};r(e=>[...e,t]),n(""),await(async e=>{i(!0);try{const t=o.slice(-6),a=await oee.sendMessage(e,t),n={id:Date.now(),type:"ai",content:a,timestamp:new Date};r(e=>[...e,n]),l(t=>[...t,{role:"user",content:e},{role:"assistant",content:a}])}catch(t){const e={id:Date.now(),type:"ai",content:" **Disculpa, hay un problema temporal**\n\nNo pude procesar tu consulta en este momento. Esto puede deberse a:\n\n Configuracin de API pendiente\n Problemas de conectividad\n Lmites de uso alcanzados\n\n **Mientras tanto:**\n Usa las consultas frecuentes\n Intenta reformular tu pregunta\n Contacta al soporte tcnico\n\nTe gustara intentar con una pregunta ms especfica?",timestamp:new Date};r(t=>[...t,e])}i(!1)})(e)};return It.jsxs("div",{className:"flex flex-col "+(u?"fixed inset-0 z-50 bg-white":"h-full"),children:[It.jsx("div",{className:"bg-white border-b border-gray-200 p-3 md:p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 min-w-0 flex-1",children:[It.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:It.jsx(te,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),It.jsxs("div",{className:"min-w-0 flex-1",children:[It.jsxs("h1",{className:"text-base md:text-lg font-semibold text-gray-900 flex items-center space-x-2 truncate",children:[It.jsx("span",{children:"Asistente Educativo Kinder"}),It.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full hidden sm:inline",children:"ChatGPT"})]}),It.jsxs("div",{className:"flex items-center space-x-2",children:["connected"===c&&It.jsxs("div",{className:"flex items-center space-x-1",children:[It.jsx(S,{className:"w-3 h-3 text-green-500"}),It.jsx("span",{className:"text-xs md:text-sm text-green-600 truncate",children:"En lnea  Listo para ayudar"})]}),"error"===c&&It.jsxs("div",{className:"flex items-center space-x-1",children:[It.jsx(j,{className:"w-3 h-3 text-orange-500"}),It.jsx("span",{className:"text-xs md:text-sm text-orange-600",children:"Configuracin pendiente"})]}),"checking"===c&&It.jsx("span",{className:"text-xs md:text-sm text-gray-500",children:"Verificando conexin..."})]})]})]}),It.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 ml-2",children:[It.jsx("button",{onClick:()=>{m(!u)},className:"p-1.5 md:p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:u?"Salir de pantalla completa":"Pantalla completa",children:u?It.jsx(ht,{className:"w-4 h-4"}):It.jsx(ft,{className:"w-4 h-4"})}),It.jsx("button",{onClick:()=>{r([{id:1,type:"ai",content:" **Conversacin reiniciada**\n\n Hola de nuevo Directora! Soy tu **Asistente Educativo EDA**.\n\nEn qu nuevo desafo educativo puedo ayudarte hoy?",timestamp:new Date}]),l([])},className:"p-1.5 md:p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:"Limpiar conversacin",children:It.jsx(Ce,{className:"w-4 h-4"})}),It.jsx("button",{className:"p-1.5 md:p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 md:hidden",children:It.jsx(pt,{className:"w-4 h-4"})})]})]})}),!1,It.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4 bg-gray-50",children:[e.map(e=>{return It.jsx("div",{className:"flex "+("user"===e.type?"justify-end":"justify-start"),children:It.jsxs("div",{className:"flex space-x-2 md:space-x-3 max-w-[85%] md:max-w-3xl "+("user"===e.type?"flex-row-reverse space-x-reverse":""),children:[It.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full flex items-center justify-center flex-shrink-0 "+("user"===e.type?"bg-blue-600 text-white":"bg-gradient-to-r from-blue-500 to-purple-600 text-white"),children:"user"===e.type?It.jsx(ee,{className:"w-3 h-3 md:w-4 md:h-4"}):It.jsx(we,{className:"w-3 h-3 md:w-4 md:h-4"})}),It.jsxs("div",{className:"rounded-2xl p-3 md:p-4 "+("user"===e.type?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"),children:[It.jsx("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:e.content.split("\n").map((e,t)=>{if(e.includes("**")){const r=e.split(/(\*\*.*?\*\*)/g);return It.jsx("div",{className:t>0?"mt-2":"",children:r.map((e,t)=>e.startsWith("**")&&e.endsWith("**")?It.jsx("strong",{className:"font-semibold",children:e.slice(2,-2)},t):It.jsx("span",{children:e},t))},t)}return e.startsWith("")||e.startsWith("-")||/^\d+\./.test(e.trim())?It.jsx("div",{className:"ml-2 mt-1",children:e},t):It.jsx("div",{className:t>0?"mt-2":"",children:e||""},t)})}),It.jsx("div",{className:"text-xs mt-2 "+("user"===e.type?"text-blue-100":"text-gray-400"),children:(t=e.timestamp,t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}))})]})]})},e.id);var t}),s&&It.jsx("div",{className:"flex justify-start",children:It.jsxs("div",{className:"flex space-x-2 md:space-x-3 max-w-[85%] md:max-w-3xl",children:[It.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:It.jsx(we,{className:"w-3 h-3 md:w-4 md:h-4 text-white"})}),It.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-3 md:p-4",children:It.jsxs("div",{className:"flex space-x-1",children:[It.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),It.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),It.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),It.jsx("div",{ref:h})]}),It.jsxs("div",{className:"bg-white border-t border-gray-200 p-3 md:p-4",children:[It.jsxs("div",{className:"flex items-end space-x-2 md:space-x-3",children:[It.jsx("div",{className:"flex-1",children:It.jsx("div",{className:"relative",children:It.jsx("textarea",{value:a,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())},placeholder:"Pregntame sobre educacin infantil, profesores, actividades...",className:"w-full p-3 pr-12 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 max-h-32 text-sm md:text-base",rows:"1",style:{minHeight:"44px"}})})}),It.jsx("button",{onClick:()=>f(),disabled:!a.trim()||s,className:"p-3 rounded-lg transition-colors flex-shrink-0 "+(a.trim()&&!s?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:It.jsx(ut,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),It.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[It.jsx("span",{className:"hidden sm:inline",children:"Presiona Enter para enviar, Shift+Enter para nueva lnea"}),It.jsx("span",{className:"sm:hidden",children:"Enter para enviar"}),It.jsxs("div",{className:"flex items-center space-x-2",children:["connected"===c&&It.jsxs("span",{className:"flex items-center space-x-1 text-green-600",children:[It.jsx(S,{className:"w-3 h-3"}),It.jsx("span",{className:"hidden sm:inline",children:"ChatGPT Conectado"}),It.jsx("span",{className:"sm:hidden",children:"Conectado"})]}),"error"===c&&It.jsxs("span",{className:"flex items-center space-x-1 text-orange-600",children:[It.jsx(j,{className:"w-3 h-3"}),It.jsx("span",{className:"hidden sm:inline",children:"API no configurada"}),It.jsx("span",{className:"sm:hidden",children:"Error"})]}),It.jsx("span",{className:"hidden md:inline",children:"EDA IA v2.1"})]})]})]})]})},cee=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});cee.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const dee={async createEvaluacionDocente(e){try{return(await cee.post("/evaluacion-docente-bimestral",e)).data}catch(t){throw t}},async getEvaluacionesDocente(){try{return(await cee.get("/evaluacion-docente-bimestral")).data.evaluaciones||[]}catch(e){throw e}}},uee=cq({tipoCalificacion:Q$().oneOf(["NUMERICA","LITERAL"]).required("Tipo de calificacin es requerido"),puntajePlanificacionNumerico:R$().when("tipoCalificacion",{is:"NUMERICA",then:e=>J$().min(0).max(20).required("Puntaje numrico de planificacin es requerido"),otherwise:e=>R$().optional()}),puntajeMetodologiaNumerico:R$().when("tipoCalificacion",{is:"NUMERICA",then:e=>J$().min(0).max(20).required("Puntaje numrico de metodologa es requerido"),otherwise:e=>R$().optional()}),puntajePuntualidadNumerico:R$().when("tipoCalificacion",{is:"NUMERICA",then:e=>J$().min(0).max(20).required("Puntaje numrico de puntualidad es requerido"),otherwise:e=>R$().optional()}),puntajeCreatividadNumerico:R$().when("tipoCalificacion",{is:"NUMERICA",then:e=>J$().min(0).max(20).required("Puntaje numrico de creatividad es requerido"),otherwise:e=>R$().optional()}),puntajeComunicacionNumerico:R$().when("tipoCalificacion",{is:"NUMERICA",then:e=>J$().min(0).max(20).required("Puntaje numrico de comunicacin es requerido"),otherwise:e=>R$().optional()}),puntajePlanificacionLiteral:R$().when("tipoCalificacion",{is:"LITERAL",then:e=>Q$().oneOf(["A","B","C","D"]).required("Puntaje literal de planificacin es requerido"),otherwise:e=>R$().optional()}),puntajeMetodologiaLiteral:R$().when("tipoCalificacion",{is:"LITERAL",then:e=>Q$().oneOf(["A","B","C","D"]).required("Puntaje literal de metodologa es requerido"),otherwise:e=>R$().optional()}),puntajePuntualidadLiteral:R$().when("tipoCalificacion",{is:"LITERAL",then:e=>Q$().oneOf(["A","B","C","D"]).required("Puntaje literal de puntualidad es requerido"),otherwise:e=>R$().optional()}),puntajeCreatividadLiteral:R$().when("tipoCalificacion",{is:"LITERAL",then:e=>Q$().oneOf(["A","B","C","D"]).required("Puntaje literal de creatividad es requerido"),otherwise:e=>R$().optional()}),puntajeComunicacionLiteral:R$().when("tipoCalificacion",{is:"LITERAL",then:e=>Q$().oneOf(["A","B","C","D"]).required("Puntaje literal de comunicacin es requerido"),otherwise:e=>R$().optional()}),idTrabajador:Q$().required("Docente es requerido"),idBimestre:Q$().required("Bimestre es requerido"),observaciones:Q$().required("Observaciones son requeridas"),fechaEvaluacion:Q$().required("Fecha de evaluacin es requerida")}),mee=({isOpen:e,onClose:r,onSuccess:a})=>{const[n,s]=t.useState([]),[i,o]=t.useState([]),[l,c]=t.useState(!1),[d,u]=t.useState(!1),{register:m,handleSubmit:h,formState:{errors:f},reset:p,watch:g}=Iz({resolver:Uz(uee),defaultValues:{tipoCalificacion:"NUMERICA"}}),x=g("tipoCalificacion");t.useEffect(()=>{e&&b()},[e]);const b=async()=>{c(!0);try{const[e,t]=await Promise.all([jc.getAllTrabajadores(),Z9.getBimestreActual()]),r=(e||[]).filter(e=>"DOCENTE"===e.idRol?.nombre||"DOCENTE"===e.rol?.nombre);s(r),o(t?[t]:[]),t&&p(e=>({...e,idBimestre:t.idBimestre}))}catch(e){ca.error("Error al cargar los datos")}finally{c(!1)}};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsxs(ki.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 flex items-center",children:[It.jsx(fe,{className:"w-5 h-5 mr-2 text-blue-600"}),"Evaluar Docente"]}),It.jsx("button",{onClick:r,disabled:d,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5"})})]}),l?It.jsx("div",{className:"flex justify-center py-8",children:It.jsx(E,{className:"animate-spin",size:32})}):It.jsxs("form",{onSubmit:h(async e=>{if(e.tipoCalificacion,e.idTrabajador&&e.idBimestre){u(!0);try{const t=JSON.parse(localStorage.getItem("auth-storage")||localStorage.getItem("auth")||"{}"),n=t.state?.user?.entidadId;if(!n)return void ca.error("No se pudo obtener el ID del coordinador");const s={tipoCalificacion:e.tipoCalificacion,idTrabajador:e.idTrabajador,idBimestre:e.idBimestre,idCoordinador:n,observaciones:e.observaciones,fechaEvaluacion:e.fechaEvaluacion?new Date(e.fechaEvaluacion).toISOString().split("T")[0]:null};if("NUMERICA"===e.tipoCalificacion)s.puntajePlanificacionNumerico=parseFloat(e.puntajePlanificacionNumerico),s.puntajeMetodologiaNumerico=parseFloat(e.puntajeMetodologiaNumerico),s.puntajePuntualidadNumerico=parseFloat(e.puntajePuntualidadNumerico),s.puntajeCreatividadNumerico=parseFloat(e.puntajeCreatividadNumerico),s.puntajeComunicacionNumerico=parseFloat(e.puntajeComunicacionNumerico),s.puntajePlanificacion=parseFloat(e.puntajePlanificacionNumerico),s.puntajeMetodologia=parseFloat(e.puntajeMetodologiaNumerico),s.puntajePuntualidad=parseFloat(e.puntajePuntualidadNumerico),s.puntajeCreatividad=parseFloat(e.puntajeCreatividadNumerico),s.puntajeComunicacion=parseFloat(e.puntajeComunicacionNumerico),s.puntajePlanificacionLiteral=void 0,s.puntajeMetodologiaLiteral=void 0,s.puntajePuntualidadLiteral=void 0,s.puntajeCreatividadLiteral=void 0,s.puntajeComunicacionLiteral=void 0;else{s.puntajePlanificacionLiteral=e.puntajePlanificacionLiteral,s.puntajeMetodologiaLiteral=e.puntajeMetodologiaLiteral,s.puntajePuntualidadLiteral=e.puntajePuntualidadLiteral,s.puntajeCreatividadLiteral=e.puntajeCreatividadLiteral,s.puntajeComunicacionLiteral=e.puntajeComunicacionLiteral;const t=e=>({A:20,B:16,C:12,D:8}[e]||0);s.puntajePlanificacion=t(e.puntajePlanificacionLiteral),s.puntajeMetodologia=t(e.puntajeMetodologiaLiteral),s.puntajePuntualidad=t(e.puntajePuntualidadLiteral),s.puntajeCreatividad=t(e.puntajeCreatividadLiteral),s.puntajeComunicacion=t(e.puntajeComunicacionLiteral),s.puntajePlanificacionNumerico=void 0,s.puntajeMetodologiaNumerico=void 0,s.puntajePuntualidadNumerico=void 0,s.puntajeCreatividadNumerico=void 0,s.puntajeComunicacionNumerico=void 0}await dee.createEvaluacionDocente(s),ca.success("Evaluacin creada exitosamente"),p(),r(),a&&a()}catch(t){const e=t.response?.data?.message||t.message||"Error al crear la evaluacin";ca.error(e)}finally{u(!1)}}else ca.error("Por favor selecciona un docente y un bimestre")},e=>{Object.keys(e).forEach(e=>{});const t=Object.keys(e).map(t=>` ${t}: ${e[t]?.message}`).join("\n");ca.error(`Faltan campos requeridos:\n${t}`)}),className:"space-y-6",children:[It.jsxs("div",{style:{background:"#fff3cd",padding:"10px",borderRadius:"5px",marginBottom:"10px",border:"1px solid #ffeaa7"},children:[It.jsxs("small",{style:{color:"#856404"},children:[" Debug Mode: Tipo actual = ",x]}),It.jsx("br",{}),It.jsx("button",{type:"button",onClick:()=>{g()},style:{background:"#17a2b8",color:"white",padding:"4px 8px",border:"none",borderRadius:"3px",fontSize:"11px",marginTop:"5px",marginRight:"5px"},children:" Ver Valores Actuales"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Calificacin *"}),It.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[It.jsxs("label",{className:"flex items-center",children:[It.jsx("input",{type:"radio",value:"NUMERICA",...m("tipoCalificacion"),className:"mr-2"}),It.jsx("span",{className:"text-sm font-medium",children:"Numrica (0-20)"})]}),It.jsxs("label",{className:"flex items-center",children:[It.jsx("input",{type:"radio",value:"LITERAL",...m("tipoCalificacion"),className:"mr-2"}),It.jsx("span",{className:"text-sm font-medium",children:"Literal (A-D)"})]})]}),f.tipoCalificacion&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.tipoCalificacion.message})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Docente *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(ie,{className:"h-5 w-5 text-gray-400"})}),It.jsxs("select",{...m("idTrabajador"),disabled:l,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:[It.jsx("option",{value:"",children:"Seleccionar docente"}),n.map(e=>It.jsxs("option",{value:e.idTrabajador,children:[e.nombre," ",e.apellido]},e.idTrabajador))]})]}),f.idTrabajador&&It.jsx("p",{className:"text-red-500 text-sm",children:f.idTrabajador.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bimestre Activo *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(ue,{className:"h-5 w-5 text-gray-400"})}),It.jsxs("select",{...m("idBimestre"),disabled:l,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:[It.jsx("option",{value:"",children:"Seleccionar bimestre"}),i.map(e=>It.jsxs("option",{value:e.idBimestre,children:[e.nombreBimestre," (Activo)"]},e.idBimestre))]})]}),f.idBimestre&&It.jsx("p",{className:"text-red-500 text-sm",children:f.idBimestre.message})]})]}),It.jsxs("div",{children:[It.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:["Puntajes de Evaluacin (","NUMERICA"===x?"Numrica 0-20":"Literal A-D",")"]}),"NUMERICA"===x?It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Planificacin *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(fe,{className:"h-5 w-5 text-gray-400"})}),It.jsx("input",{type:"number",step:"0.1",min:"0",max:"20",...m("puntajePlanificacionNumerico"),disabled:l,placeholder:"18.5",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puntaje de 0 a 20"}),f.puntajePlanificacionNumerico&&It.jsx("p",{className:"text-red-500 text-sm",children:f.puntajePlanificacionNumerico.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metodologa *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(fe,{className:"h-5 w-5 text-gray-400"})}),It.jsx("input",{type:"number",step:"0.1",min:"0",max:"20",...m("puntajeMetodologiaNumerico"),disabled:l,placeholder:"16.5",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puntaje de 0 a 20"}),f.puntajeMetodologiaNumerico&&It.jsx("p",{className:"text-red-500 text-sm",children:f.puntajeMetodologiaNumerico.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puntualidad *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(fe,{className:"h-5 w-5 text-gray-400"})}),It.jsx("input",{type:"number",step:"0.1",min:"0",max:"20",...m("puntajePuntualidadNumerico"),disabled:l,placeholder:"15.0",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puntaje de 0 a 20"}),f.puntajePuntualidadNumerico&&It.jsx("p",{className:"text-red-500 text-sm",children:f.puntajePuntualidadNumerico.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Creatividad *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(fe,{className:"h-5 w-5 text-gray-400"})}),It.jsx("input",{type:"number",step:"0.1",min:"0",max:"20",...m("puntajeCreatividadNumerico"),disabled:l,placeholder:"17.0",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puntaje de 0 a 20"}),f.puntajeCreatividadNumerico&&It.jsx("p",{className:"text-red-500 text-sm",children:f.puntajeCreatividadNumerico.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comunicacin *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(fe,{className:"h-5 w-5 text-gray-400"})}),It.jsx("input",{type:"number",step:"0.1",min:"0",max:"20",...m("puntajeComunicacionNumerico"),disabled:l,placeholder:"19.0",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puntaje de 0 a 20"}),f.puntajeComunicacionNumerico&&It.jsx("p",{className:"text-red-500 text-sm",children:f.puntajeComunicacionNumerico.message})]})]}):It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Planificacin *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(fe,{className:"h-5 w-5 text-gray-400"})}),It.jsxs("select",{...m("puntajePlanificacionLiteral"),disabled:l,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:[It.jsx("option",{value:"",children:"Seleccionar"}),It.jsx("option",{value:"A",children:"A - Excelente"}),It.jsx("option",{value:"B",children:"B - Bueno"}),It.jsx("option",{value:"C",children:"C - Regular"}),It.jsx("option",{value:"D",children:"D - Deficiente"})]})]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A=Excelente, B=Bueno, C=Regular, D=Deficiente"}),f.puntajePlanificacionLiteral&&It.jsx("p",{className:"text-red-500 text-sm",children:f.puntajePlanificacionLiteral.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metodologa *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(fe,{className:"h-5 w-5 text-gray-400"})}),It.jsxs("select",{...m("puntajeMetodologiaLiteral"),disabled:l,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:[It.jsx("option",{value:"",children:"Seleccionar"}),It.jsx("option",{value:"A",children:"A - Excelente"}),It.jsx("option",{value:"B",children:"B - Bueno"}),It.jsx("option",{value:"C",children:"C - Regular"}),It.jsx("option",{value:"D",children:"D - Deficiente"})]})]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A=Excelente, B=Bueno, C=Regular, D=Deficiente"}),f.puntajeMetodologiaLiteral&&It.jsx("p",{className:"text-red-500 text-sm",children:f.puntajeMetodologiaLiteral.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puntualidad *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(fe,{className:"h-5 w-5 text-gray-400"})}),It.jsxs("select",{...m("puntajePuntualidadLiteral"),disabled:l,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:[It.jsx("option",{value:"",children:"Seleccionar"}),It.jsx("option",{value:"A",children:"A - Excelente"}),It.jsx("option",{value:"B",children:"B - Bueno"}),It.jsx("option",{value:"C",children:"C - Regular"}),It.jsx("option",{value:"D",children:"D - Deficiente"})]})]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A=Excelente, B=Bueno, C=Regular, D=Deficiente"}),f.puntajePuntualidadLiteral&&It.jsx("p",{className:"text-red-500 text-sm",children:f.puntajePuntualidadLiteral.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Creatividad *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(fe,{className:"h-5 w-5 text-gray-400"})}),It.jsxs("select",{...m("puntajeCreatividadLiteral"),disabled:l,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:[It.jsx("option",{value:"",children:"Seleccionar"}),It.jsx("option",{value:"A",children:"A - Excelente"}),It.jsx("option",{value:"B",children:"B - Bueno"}),It.jsx("option",{value:"C",children:"C - Regular"}),It.jsx("option",{value:"D",children:"D - Deficiente"})]})]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A=Excelente, B=Bueno, C=Regular, D=Deficiente"}),f.puntajeCreatividadLiteral&&It.jsx("p",{className:"text-red-500 text-sm",children:f.puntajeCreatividadLiteral.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comunicacin *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(fe,{className:"h-5 w-5 text-gray-400"})}),It.jsxs("select",{...m("puntajeComunicacionLiteral"),disabled:l,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:[It.jsx("option",{value:"",children:"Seleccionar"}),It.jsx("option",{value:"A",children:"A - Excelente"}),It.jsx("option",{value:"B",children:"B - Bueno"}),It.jsx("option",{value:"C",children:"C - Regular"}),It.jsx("option",{value:"D",children:"D - Deficiente"})]})]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A=Excelente, B=Bueno, C=Regular, D=Deficiente"}),f.puntajeComunicacionLiteral&&It.jsx("p",{className:"text-red-500 text-sm",children:f.puntajeComunicacionLiteral.message})]})]})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaciones *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute top-2 left-3 pointer-events-none",children:It.jsx(he,{className:"h-5 w-5 text-gray-400"})}),It.jsx("textarea",{...m("observaciones"),rows:4,disabled:l,placeholder:"Comentarios sobre el desempeo del docente",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comentarios detallados sobre la evaluacin"}),f.observaciones&&It.jsx("p",{className:"text-red-500 text-sm",children:f.observaciones.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Evaluacin *"}),It.jsxs("div",{className:"relative",children:[It.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:It.jsx(ue,{className:"h-5 w-5 text-gray-400"})}),It.jsx("input",{type:"date",...m("fechaEvaluacion"),disabled:l,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fecha en que se realiza la evaluacin"}),f.fechaEvaluacion&&It.jsx("p",{className:"text-red-500 text-sm",children:f.fechaEvaluacion.message})]})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[It.jsx("button",{type:"button",onClick:r,disabled:d,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:d||l,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",onClick:e=>{},children:d?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Evaluando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(fe,{className:"w-4 h-4 mr-2"}),"Evaluar"]})})]})]})]})})})})]})})},hee=({isOpen:e,onClose:r,evaluacion:a})=>{return a?It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"fixed inset-0 z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs(ki.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 flex items-center",children:[It.jsx(fe,{className:"w-5 h-5 mr-2 text-blue-600"}),"Detalles de Evaluacin"]}),It.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:It.jsx(ne,{className:"w-5 h-5"})})]}),It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[It.jsxs("div",{className:"flex items-center mb-2",children:[It.jsx(ee,{className:"w-4 h-4 text-gray-500 mr-2"}),It.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Docente"})]}),It.jsxs("p",{className:"text-sm text-gray-900",children:[a.idTrabajador2?.nombre," ",a.idTrabajador2?.apellido]}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.idTrabajador2?.correo})]}),It.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[It.jsxs("div",{className:"flex items-center mb-2",children:[It.jsx(ue,{className:"w-4 h-4 text-gray-500 mr-2"}),It.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Bimestre"})]}),It.jsx("p",{className:"text-sm text-gray-900",children:a.idBimestre2?.nombreBimestre}),It.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Bimestre ",a.idBimestre2?.numeroBimestre]})]})]}),It.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[It.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center",children:[It.jsx(fe,{className:"w-4 h-4 mr-2"}),"Puntajes Individuales"]}),It.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.puntajePlanificacion}),It.jsx("div",{className:"text-xs text-gray-600",children:"Planificacin"})]}),It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.puntajeMetodologia}),It.jsx("div",{className:"text-xs text-gray-600",children:"Metodologa"})]}),It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.puntajePuntualidad}),It.jsx("div",{className:"text-xs text-gray-600",children:"Puntualidad"})]}),It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.puntajeCreatividad}),It.jsx("div",{className:"text-xs text-gray-600",children:"Creatividad"})]}),It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.puntajeComunicacion}),It.jsx("div",{className:"text-xs text-gray-600",children:"Comunicacin"})]}),It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"text-3xl font-bold text-green-600",children:a.puntajeTotal}),It.jsx("div",{className:"text-xs text-gray-600",children:"Total"})]})]})]}),It.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[It.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Calificacin Final"}),It.jsxs("div",{className:"flex items-center",children:[It.jsx("span",{className:"inline-flex px-3 py-1 text-lg font-bold rounded-full "+("A"===a.calificacionFinal?"bg-green-100 text-green-800":"B"===a.calificacionFinal?"bg-blue-100 text-blue-800":"C"===a.calificacionFinal?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:a.calificacionFinal}),It.jsxs("span",{className:"ml-3 text-sm text-gray-600",children:["Puntaje total: ",a.puntajeTotal]})]})]}),It.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[It.jsxs("div",{className:"flex items-center mb-2",children:[It.jsx(he,{className:"w-4 h-4 text-gray-500 mr-2"}),It.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Observaciones"})]}),It.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:a.observaciones})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[It.jsxs("div",{children:[It.jsx("span",{className:"font-medium text-gray-700",children:"Fecha de evaluacin:"}),It.jsx("span",{className:"ml-2 text-gray-900",children:(n=a.fechaEvaluacion,new Date(n).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}))})]}),It.jsxs("div",{children:[It.jsx("span",{className:"font-medium text-gray-700",children:"Coordinador:"}),It.jsxs("span",{className:"ml-2 text-gray-900",children:[a.idCoordinador?.nombre," ",a.idCoordinador?.apellido]})]})]})]}),It.jsx("div",{className:"mt-6 flex justify-end",children:It.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"Cerrar"})})]})})})})]})}):null;var n},fee=({evaluaciones:e,loading:r,onViewEvaluacion:a})=>{const[n,s]=t.useState(""),[i,o]=t.useState(""),l=t.useMemo(()=>Array.isArray(e)?[...new Set(e.map(e=>e.idTrabajador2?.idTrabajador))].map(t=>{const r=e.find(e=>e.idTrabajador2?.idTrabajador===t)?.idTrabajador2;return r?{id:r.idTrabajador,nombre:`${r.nombre} ${r.apellido}`}:null}).filter(Boolean):[],[e]),c=t.useMemo(()=>Array.isArray(e)?e.filter(e=>{const t=!n||e.idTrabajador2?.nombre?.toLowerCase().includes(n.toLowerCase())||e.idTrabajador2?.apellido?.toLowerCase().includes(n.toLowerCase())||e.idBimestre2?.nombreBimestre?.toLowerCase().includes(n.toLowerCase()),r=!i||e.idTrabajador2?.idTrabajador===i;return t&&r}):[],[e,n,i]);return r?It.jsx("div",{className:"flex justify-center items-center py-8",children:It.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):It.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[It.jsx("div",{className:"p-4 border-b border-gray-200",children:It.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[It.jsx("div",{className:"flex-1",children:It.jsxs("div",{className:"relative",children:[It.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),It.jsx("input",{type:"text",placeholder:"Buscar por docente o bimestre...",value:n,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),It.jsx("div",{className:"w-full md:w-64",children:It.jsxs("div",{className:"relative",children:[It.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),It.jsxs("select",{value:i,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[It.jsx("option",{value:"",children:"Todos los docentes"}),l.map(e=>It.jsx("option",{value:e.id,children:e.nombre},e.id))]})]})})]})}),It.jsx("div",{className:"overflow-x-auto",children:It.jsxs("table",{className:"w-full",children:[It.jsx("thead",{className:"bg-gray-50",children:It.jsxs("tr",{children:[It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Docente"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bimestre"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Puntajes"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Calificacin Final"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coordinador"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),It.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===c.length?It.jsx("tr",{children:It.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"No se encontraron evaluaciones"})}):c.map(e=>It.jsxs("tr",{className:"hover:bg-gray-50",children:[It.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[It.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[e.idTrabajador2?.nombre," ",e.idTrabajador2?.apellido]}),It.jsx("div",{className:"text-sm text-gray-500",children:e.idTrabajador2?.correo})]}),It.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[It.jsx("div",{className:"text-sm text-gray-900",children:e.idBimestre2?.nombreBimestre}),It.jsxs("div",{className:"text-sm text-gray-500",children:["Bimestre ",e.idBimestre2?.numeroBimestre]})]}),It.jsx("td",{className:"px-6 py-4",children:It.jsxs("div",{className:"text-sm text-gray-900 space-y-1",children:[It.jsxs("div",{children:["Planificacin: ",e.puntajePlanificacion]}),It.jsxs("div",{children:["Metodologa: ",e.puntajeMetodologia]}),It.jsxs("div",{children:["Puntualidad: ",e.puntajePuntualidad]}),It.jsxs("div",{children:["Creatividad: ",e.puntajeCreatividad]}),It.jsxs("div",{children:["Comunicacin: ",e.puntajeComunicacion]})]})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+("A"===e.calificacionFinal?"bg-green-100 text-green-800":"B"===e.calificacionFinal?"bg-blue-100 text-blue-800":"C"===e.calificacionFinal?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[e.calificacionFinal," (",e.puntajeTotal,")"]})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.fechaEvaluacion).toLocaleDateString("es-ES")}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsxs("div",{className:"text-sm text-gray-900",children:[e.idCoordinador?.nombre," ",e.idCoordinador?.apellido]})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:It.jsxs("button",{onClick:()=>(e=>{a&&a(e)})(e),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[It.jsx(N,{className:"h-4 w-4 mr-1"}),"Ver"]})})]},e.idEvaluacionDocente))})]})}),It.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:It.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",c.length," de ",e.length," evaluaciones"]})})]})},pee=()=>{const[e,r]=t.useState(!1),[a,n]=t.useState(!1),[s,i]=t.useState([]),[o,l]=t.useState(!0),[c,d]=t.useState(null),u=async()=>{try{l(!0);const e=await dee.getEvaluacionesDocente();i(e)}catch(e){ca.error("Error al cargar las evaluaciones")}finally{l(!1)}};return t.useEffect(()=>{u()},[]),It.jsxs(It.Fragment,{children:[It.jsxs("div",{className:"p-6",children:[It.jsxs("div",{className:"flex justify-between items-center mb-6",children:[It.jsx("h1",{className:"text-2xl font-bold",children:"Evaluacin Bimestral Docente"}),It.jsxs("div",{className:"flex gap-3",children:[It.jsxs("button",{onClick:()=>{u()},className:"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-md cursor-pointer flex items-center gap-2",disabled:o,children:[It.jsx(Ce,{size:20,className:o?"animate-spin":""}),"Actualizar"]}),It.jsxs("button",{onClick:()=>{r(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md cursor-pointer flex items-center gap-2",children:[It.jsx(ie,{size:20}),"Evaluar Docente"]})]})]}),It.jsx(fee,{evaluaciones:s,loading:o,onViewEvaluacion:e=>{d(e),n(!0)}})]}),It.jsx(mee,{isOpen:e,onClose:()=>{r(!1)},onSuccess:u}),It.jsx(hee,{isOpen:a,onClose:()=>{n(!1),d(null)},evaluacion:c})]})},gee=({data:e,title:t,height:r=350})=>{const a=e&&e.length>0?e:[{name:"1ro A",estudiantes:22,capacidad:25,disponibles:3},{name:"1ro B",estudiantes:20,capacidad:25,disponibles:5},{name:"2do A",estudiantes:24,capacidad:25,disponibles:1},{name:"2do B",estudiantes:18,capacidad:25,disponibles:7}];return It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t||"Estudiantes por Aula"}),It.jsx(AT,{width:"100%",height:r,children:It.jsxs(LR,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[It.jsx($F,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),It.jsx(kI,{dataKey:"name",tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),It.jsx(II,{tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),It.jsx(uT,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(e,t)=>"estudiantes"===t?[e,"Estudiantes"]:"capacidad"===t?[e,"Capacidad"]:"disponibles"===t?[e,"Disponibles"]:[e,t]}),It.jsx(Gx,{}),It.jsx(TM,{dataKey:"estudiantes",fill:"#10b981",name:"Estudiantes",radius:[2,2,0,0]}),It.jsx(TM,{dataKey:"capacidad",fill:"#e5e7eb",name:"Capacidad",radius:[2,2,0,0]})]})})]})},xee=({data:e,title:t,height:a=350})=>{const n=r.useMemo(()=>{if(!e||!Array.isArray(e)||0===e.length)return[{name:"Sin datos",value:1,color:"#e5e7eb"}];const t=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16"],r={};return e.forEach((e,t)=>{const a=e.name?.split(" - ")[0]||`Grado ${t+1}`;r[a]||(r[a]=0),r[a]+=e.estudiantes||0}),Object.entries(r).map(([e,r],a)=>({name:e,value:r,color:t[a%t.length]}))},[e]);return It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t||"Distribucin por Grados"}),It.jsx(AT,{width:"100%",height:a,children:It.jsxs(HR,{children:[It.jsx(wP,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((e,t)=>It.jsx(_T,{fill:e.color},`cell-${t}`))}),It.jsx(uT,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})})]})};function bee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}
/*!
     * GSAP 3.13.0
     * https://gsap.com
     *
     * @license Copyright 2008-2025, GreenSock. All rights reserved.
     * Subject to the terms at https://gsap.com/standard-license
     * @author: Jack Doyle, jack@greensock.com
    */var vee,jee,wee,Nee,Eee,See,kee,Cee,Aee,_ee,Tee,Oee,Dee,Pee,Mee,Fee,Iee,Ree,Lee,zee,$ee,qee,Uee,Bee,Yee,Vee,Hee={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Wee={duration:.5,overwrite:!1,delay:0},Gee=1e8,Kee=1e-8,Qee=2*Math.PI,Xee=Qee/4,Jee=0,Zee=Math.sqrt,ete=Math.cos,tte=Math.sin,rte=function(e){return"string"==typeof e},ate=function(e){return"function"==typeof e},nte=function(e){return"number"==typeof e},ste=function(e){return void 0===e},ite=function(e){return"object"==typeof e},ote=function(e){return!1!==e},lte=function(){return"undefined"!=typeof window},cte=function(e){return ate(e)||rte(e)},dte="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},ute=Array.isArray,mte=/(?:-?\.?\d|\.)+/gi,hte=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,fte=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,pte=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,gte=/[+-]=-?[.\d]+/,xte=/[^,'"\[\]\s]+/gi,bte=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,yte={},vte={},jte=function(e){return(vte=Xte(e,yte))&&Xae},wte=function(e,t){},Nte=function(e,t){return!t&&void 0},Ete=function(e,t){return e&&(yte[e]=t)&&vte&&(vte[e]=t)||yte},Ste=function(){return 0},kte={suppressEvents:!0,isStart:!0,kill:!1},Cte={suppressEvents:!0,kill:!1},Ate={suppressEvents:!0},_te={},Tte=[],Ote={},Dte={},Pte={},Mte=30,Fte=[],Ite="",Rte=function(e){var t,r,a=e[0];if(ite(a)||ate(a)||(e=[e]),!(t=(a._gsap||{}).harness)){for(r=Fte.length;r--&&!Fte[r].targetTest(a););t=Fte[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new uae(e[r],t)))||e.splice(r,1);return e},Lte=function(e){return e._gsap||Rte(Are(e))[0]._gsap},zte=function(e,t,r){return(r=e[t])&&ate(r)?e[t]():ste(r)&&e.getAttribute&&e.getAttribute(t)||r},$te=function(e,t){return(e=e.split(",")).forEach(t)||e},qte=function(e){return Math.round(1e5*e)/1e5||0},Ute=function(e){return Math.round(1e7*e)/1e7||0},Bte=function(e,t){var r=t.charAt(0),a=parseFloat(t.substr(2));return e=parseFloat(e),"+"===r?e+a:"-"===r?e-a:"*"===r?e*a:e/a},Yte=function(e,t){for(var r=t.length,a=0;e.indexOf(t[a])<0&&++a<r;);return a<r},Vte=function(){var e,t,r=Tte.length,a=Tte.slice(0);for(Ote={},Tte.length=0,e=0;e<r;e++)(t=a[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Hte=function(e){return!!(e._initted||e._startAt||e.add)},Wte=function(e,t,r,a){Tte.length&&!jee&&Vte(),e.render(t,r,!!(jee&&t<0&&Hte(e))),Tte.length&&!jee&&Vte()},Gte=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(xte).length<2?t:rte(e)?e.trim():e},Kte=function(e){return e},Qte=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Xte=function(e,t){for(var r in t)e[r]=t[r];return e},Jte=function e(t,r){for(var a in r)"__proto__"!==a&&"constructor"!==a&&"prototype"!==a&&(t[a]=ite(r[a])?e(t[a]||(t[a]={}),r[a]):r[a]);return t},Zte=function(e,t){var r,a={};for(r in e)r in t||(a[r]=e[r]);return a},ere=function(e){var t,r=e.parent||Nee,a=e.keyframes?(t=ute(e.keyframes),function(e,r){for(var a in r)a in e||"duration"===a&&t||"ease"===a||(e[a]=r[a])}):Qte;if(ote(e.inherit))for(;r;)a(e,r.vars.defaults),r=r.parent||r._dp;return e},tre=function(e,t,r,a,n){var s,i=e[a];if(n)for(s=t[n];i&&i[n]>s;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[a]=t,t._prev=i,t.parent=t._dp=e,t},rre=function(e,t,r,a){void 0===r&&(r="_first"),void 0===a&&(a="_last");var n=t._prev,s=t._next;n?n._next=s:e[r]===t&&(e[r]=s),s?s._prev=n:e[a]===t&&(e[a]=n),t._next=t._prev=t.parent=null},are=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},nre=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},sre=function(e,t,r,a){return e._startAt&&(jee?e._startAt.revert(Cte):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,a))},ire=function e(t){return!t||t._ts&&e(t.parent)},ore=function(e){return e._repeat?lre(e._tTime,e=e.duration()+e._rDelay)*e:0},lre=function(e,t){var r=Math.floor(e=Ute(e/t));return e&&r===e?r-1:r},cre=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},dre=function(e){return e._end=Ute(e._start+(e._tDur/Math.abs(e._ts||e._rts||Kee)||0))},ure=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Ute(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),dre(e),r._dirty||nre(r,e)),e},mre=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=cre(e.rawTime(),t),(!t._dur||Ere(0,t.totalDuration(),r)-t._tTime>Kee)&&t.render(r,!0)),nre(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},hre=function(e,t,r,a){return t.parent&&are(t),t._start=Ute((nte(r)?r:r||e!==Nee?jre(e,r,t):e._time)+t._delay),t._end=Ute(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),tre(e,t,"_first","_last",e._sort?"_start":0),xre(t)||(e._recent=t),a||mre(e,t),e._ts<0&&ure(e,e._tTime),e},fre=function(e,t){return yte.ScrollTrigger?yte.ScrollTrigger.create(t,e):void 0},pre=function(e,t,r,a,n){return yae(e,t,n),e._initted?!r&&e._pt&&!jee&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&Aee!==Jre.frame?(Tte.push(e),e._lazy=[n,a],1):void 0:1},gre=function e(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||e(r))},xre=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},bre=function(e,t,r,a){var n=e._repeat,s=Ute(t)||0,i=e._tTime/e._tDur;return i&&!a&&(e._time*=s/e._dur),e._dur=s,e._tDur=n?n<0?1e10:Ute(s*(n+1)+e._rDelay*n):s,i>0&&!a&&ure(e,e._tTime=e._tDur*i),e.parent&&dre(e),r||nre(e.parent,e),e},yre=function(e){return e instanceof hae?nre(e):bre(e,e._dur)},vre={_start:0,endTime:Ste,totalDuration:Ste},jre=function e(t,r,a){var n,s,i,o=t.labels,l=t._recent||vre,c=t.duration()>=Gee?l.endTime(!1):t._dur;return rte(r)&&(isNaN(r)||r in o)?(s=r.charAt(0),i="%"===r.substr(-1),n=r.indexOf("="),"<"===s||">"===s?(n>=0&&(r=r.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(r.substr(1))||0)*(i?(n<0?l:a).totalDuration()/100:1)):n<0?(r in o||(o[r]=c),o[r]):(s=parseFloat(r.charAt(n-1)+r.substr(n+1)),i&&a&&(s=s/100*(ute(a)?a[0]:a).totalDuration()),n>1?e(t,r.substr(0,n-1),a)+s:c+s)):null==r?c:+r},wre=function(e,t,r){var a,n,s=nte(t[1]),i=(s?2:1)+(e<2?0:1),o=t[i];if(s&&(o.duration=t[1]),o.parent=r,e){for(a=o,n=r;n&&!("immediateRender"in a);)a=n.vars.defaults||{},n=ote(n.vars.inherit)&&n.parent;o.immediateRender=ote(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[i-1]}return new Eae(t[0],o,t[i+1])},Nre=function(e,t){return e||0===e?t(e):t},Ere=function(e,t,r){return r<e?e:r>t?t:r},Sre=function(e,t){return rte(e)&&(t=bte.exec(e))?t[1]:""},kre=[].slice,Cre=function(e,t){return e&&ite(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ite(e[0]))&&!e.nodeType&&e!==Eee},Are=function(e,t,r){return wee&&!t&&wee.selector?wee.selector(e):!rte(e)||r||!See&&Zre()?ute(e)?function(e,t,r){return void 0===r&&(r=[]),e.forEach(function(e){var a;return rte(e)&&!t||Cre(e,1)?(a=r).push.apply(a,Are(e)):r.push(e)})||r}(e,r):Cre(e)?kre.call(e,0):e?[e]:[]:kre.call((t||kee).querySelectorAll(e),0)},_re=function(e){return e=Are(e)[0]||Nte()||{},function(t){var r=e.current||e.nativeElement||e;return Are(t,r.querySelectorAll?r:r===e?Nte()||kee.createElement("div"):e)}},Tre=function(e){return e.sort(function(){return.5-Math.random()})},Ore=function(e){if(ate(e))return e;var t=ite(e)?e:{each:e},r=iae(t.ease),a=t.from||0,n=parseFloat(t.base)||0,s={},i=a>0&&a<1,o=isNaN(a)||i,l=t.axis,c=a,d=a;return rte(a)?c=d={center:.5,edges:.5,end:1}[a]||0:!i&&o&&(c=a[0],d=a[1]),function(e,i,u){var m,h,f,p,g,x,b,y,v,j=(u||t).length,w=s[j];if(!w){if(!(v="auto"===t.grid?0:(t.grid||[1,Gee])[1])){for(b=-1e8;b<(b=u[v++].getBoundingClientRect().left)&&v<j;);v<j&&v--}for(w=s[j]=[],m=o?Math.min(v,j)*c-.5:a%v,h=v===Gee?0:o?j*d/v-.5:a/v|0,b=0,y=Gee,x=0;x<j;x++)f=x%v-m,p=h-(x/v|0),w[x]=g=l?Math.abs("y"===l?p:f):Zee(f*f+p*p),g>b&&(b=g),g<y&&(y=g);"random"===a&&Tre(w),w.max=b-y,w.min=y,w.v=j=(parseFloat(t.amount)||parseFloat(t.each)*(v>j?j-1:l?"y"===l?j/v:v:Math.max(v,j/v))||0)*("edges"===a?-1:1),w.b=j<0?n-j:n,w.u=Sre(t.amount||t.each)||0,r=r&&j<0?nae(r):r}return j=(w[e]-w.min)/w.max||0,Ute(w.b+(r?r(j):j)*w.v)+w.u}},Dre=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var a=Ute(Math.round(parseFloat(r)/e)*e*t);return(a-a%1)/t+(nte(r)?0:Sre(r))}},Pre=function(e,t){var r,a,n=ute(e);return!n&&ite(e)&&(r=n=e.radius||Gee,e.values?(e=Are(e.values),(a=!nte(e[0]))&&(r*=r)):e=Dre(e.increment)),Nre(t,n?ate(e)?function(t){return a=e(t),Math.abs(a-t)<=r?a:t}:function(t){for(var n,s,i=parseFloat(a?t.x:t),o=parseFloat(a?t.y:0),l=Gee,c=0,d=e.length;d--;)(n=a?(n=e[d].x-i)*n+(s=e[d].y-o)*s:Math.abs(e[d]-i))<l&&(l=n,c=d);return c=!r||l<=r?e[c]:t,a||c===t||nte(t)?c:c+Sre(t)}:Dre(e))},Mre=function(e,t,r,a){return Nre(ute(e)?!t:!0===r?!!(r=0):!a,function(){return ute(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(a=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+.99*r))/r)*r*a)/a})},Fre=function(e,t,r){return Nre(r,function(r){return e[~~t(r)]})},Ire=function(e){for(var t,r,a,n,s=0,i="";~(t=e.indexOf("random(",s));)a=e.indexOf(")",t),n="["===e.charAt(t+7),r=e.substr(t+7,a-t-7).match(n?xte:mte),i+=e.substr(s,t-s)+Mre(n?r:+r[0],n?0:+r[1],+r[2]||1e-5),s=a+1;return i+e.substr(s,e.length-s)},Rre=function(e,t,r,a,n){var s=t-e,i=a-r;return Nre(n,function(t){return r+((t-e)/s*i||0)})},Lre=function(e,t,r){var a,n,s,i=e.labels,o=Gee;for(a in i)(n=i[a]-t)<0==!!r&&n&&o>(n=Math.abs(n))&&(s=a,o=n);return s},zre=function(e,t,r){var a,n,s,i=e.vars,o=i[t],l=wee,c=e._ctx;if(o)return a=i[t+"Params"],n=i.callbackScope||e,r&&Tte.length&&Vte(),c&&(wee=c),s=a?o.apply(n,a):o.call(n),wee=l,s},$re=function(e){return are(e),e.scrollTrigger&&e.scrollTrigger.kill(!!jee),e.progress()<1&&zre(e,"onInterrupt"),e},qre=[],Ure=function(e){if(e)if(e=!e.name&&e.default||e,lte()||e.headless){var t=e.name,r=ate(e),a=t&&!r&&e.init?function(){this._props=[]}:e,n={init:Ste,render:Pae,add:xae,kill:Fae,modifier:Mae,rawVars:0},s={targetTest:0,get:0,getSetter:_ae,aliases:{},register:0};if(Zre(),e!==a){if(Dte[t])return;Qte(a,Qte(Zte(e,n),s)),Xte(a.prototype,Xte(n,Zte(e,s))),Dte[a.prop=t]=a,e.targetTest&&(Fte.push(a),_te[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Ete(t,a),e.register&&e.register(Xae,a,Lae)}else qre.push(e)},Bre=255,Yre={aqua:[0,Bre,Bre],lime:[0,Bre,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Bre],navy:[0,0,128],white:[Bre,Bre,Bre],olive:[128,128,0],yellow:[Bre,Bre,0],orange:[Bre,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Bre,0,0],pink:[Bre,192,203],cyan:[0,Bre,Bre],transparent:[Bre,Bre,Bre,0]},Vre=function(e,t,r){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)*Bre+.5|0},Hre=function(e,t,r){var a,n,s,i,o,l,c,d,u,m,h=e?nte(e)?[e>>16,e>>8&Bre,e&Bre]:0:Yre.black;if(!h){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Yre[e])h=Yre[e];else if("#"===e.charAt(0)){if(e.length<6&&(a=e.charAt(1),n=e.charAt(2),s=e.charAt(3),e="#"+a+a+n+n+s+s+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(h=parseInt(e.substr(1,6),16))>>16,h>>8&Bre,h&Bre,parseInt(e.substr(7),16)/255];h=[(e=parseInt(e.substr(1),16))>>16,e>>8&Bre,e&Bre]}else if("hsl"===e.substr(0,3))if(h=m=e.match(mte),t){if(~e.indexOf("="))return h=e.match(hte),r&&h.length<4&&(h[3]=1),h}else i=+h[0]%360/360,o=+h[1]/100,a=2*(l=+h[2]/100)-(n=l<=.5?l*(o+1):l+o-l*o),h.length>3&&(h[3]*=1),h[0]=Vre(i+1/3,a,n),h[1]=Vre(i,a,n),h[2]=Vre(i-1/3,a,n);else h=e.match(mte)||Yre.transparent;h=h.map(Number)}return t&&!m&&(a=h[0]/Bre,n=h[1]/Bre,s=h[2]/Bre,l=((c=Math.max(a,n,s))+(d=Math.min(a,n,s)))/2,c===d?i=o=0:(u=c-d,o=l>.5?u/(2-c-d):u/(c+d),i=c===a?(n-s)/u+(n<s?6:0):c===n?(s-a)/u+2:(a-n)/u+4,i*=60),h[0]=~~(i+.5),h[1]=~~(100*o+.5),h[2]=~~(100*l+.5)),r&&h.length<4&&(h[3]=1),h},Wre=function(e){var t=[],r=[],a=-1;return e.split(Kre).forEach(function(e){var n=e.match(fte)||[];t.push.apply(t,n),r.push(a+=n.length+1)}),t.c=r,t},Gre=function(e,t,r){var a,n,s,i,o="",l=(e+o).match(Kre),c=t?"hsla(":"rgba(",d=0;if(!l)return e;if(l=l.map(function(e){return(e=Hre(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),r&&(s=Wre(e),(a=r.c).join(o)!==s.c.join(o)))for(i=(n=e.replace(Kre,"1").split(fte)).length-1;d<i;d++)o+=n[d]+(~a.indexOf(d)?l.shift()||c+"0,0,0,0)":(s.length?s:l.length?l:r).shift());if(!n)for(i=(n=e.split(Kre)).length-1;d<i;d++)o+=n[d]+l[d];return o+n[i]},Kre=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Yre)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Qre=/hsl[a]?\(/,Xre=function(e){var t,r=e.join(" ");if(Kre.lastIndex=0,Kre.test(r))return t=Qre.test(r),e[1]=Gre(e[1],t),e[0]=Gre(e[0],t,Wre(e[1])),!0},Jre=(Ree=Date.now,Lee=500,zee=33,$ee=Ree(),qee=$ee,Bee=Uee=1e3/240,Vee=function e(t){var r,a,n,s,i=Ree()-qee,o=!0===t;if((i>Lee||i<0)&&($ee+=i-zee),((r=(n=(qee+=i)-$ee)-Bee)>0||o)&&(s=++Mee.frame,Fee=n-1e3*Mee.time,Mee.time=n/=1e3,Bee+=r+(r>=Uee?4:Uee-r),a=1),o||(Oee=Dee(e)),a)for(Iee=0;Iee<Yee.length;Iee++)Yee[Iee](n,Fee,s,t)},Mee={time:0,frame:0,tick:function(){Vee(!0)},deltaRatio:function(e){return Fee/(1e3/(e||60))},wake:function(){Cee&&(!See&&lte()&&(Eee=See=window,kee=Eee.document||{},yte.gsap=Xae,(Eee.gsapVersions||(Eee.gsapVersions=[])).push(Xae.version),jte(vte||Eee.GreenSockGlobals||!Eee.gsap&&Eee||{}),qre.forEach(Ure)),Pee="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,Oee&&Mee.sleep(),Dee=Pee||function(e){return setTimeout(e,Bee-1e3*Mee.time+1|0)},Tee=1,Vee(2))},sleep:function(){(Pee?cancelAnimationFrame:clearTimeout)(Oee),Tee=0,Dee=Ste},lagSmoothing:function(e,t){Lee=e||1/0,zee=Math.min(t||33,Lee)},fps:function(e){Uee=1e3/(e||240),Bee=1e3*Mee.time+Uee},add:function(e,t,r){var a=t?function(t,r,n,s){e(t,r,n,s),Mee.remove(a)}:e;return Mee.remove(e),Yee[r?"unshift":"push"](a),Zre(),a},remove:function(e,t){~(t=Yee.indexOf(e))&&Yee.splice(t,1)&&Iee>=t&&Iee--},_listeners:Yee=[]},Mee),Zre=function(){return!Tee&&Jre.wake()},eae={},tae=/^[\d.\-M][\d.\-,\s]/,rae=/["']/g,aae=function(e){for(var t,r,a,n={},s=e.substr(1,e.length-3).split(":"),i=s[0],o=1,l=s.length;o<l;o++)r=s[o],t=o!==l-1?r.lastIndexOf(","):r.length,a=r.substr(0,t),n[i]=isNaN(a)?a.replace(rae,"").trim():+a,i=r.substr(t+1).trim();return n},nae=function(e){return function(t){return 1-e(1-t)}},sae=function e(t,r){for(var a,n=t._first;n;)n instanceof hae?e(n,r):!n.vars.yoyoEase||n._yoyo&&n._repeat||n._yoyo===r||(n.timeline?e(n.timeline,r):(a=n._ease,n._ease=n._yEase,n._yEase=a,n._yoyo=r)),n=n._next},iae=function(e,t){return e&&(ate(e)?e:eae[e]||function(e){var t,r,a,n,s=(e+"").split("("),i=eae[s[0]];return i&&s.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[aae(s[1])]:(t=e,r=t.indexOf("(")+1,a=t.indexOf(")"),n=t.indexOf("(",r),t.substring(r,~n&&n<a?t.indexOf(")",a+1):a)).split(",").map(Gte)):eae._CE&&tae.test(e)?eae._CE("",e):i}(e))||t},oae=function(e,t,r,a){void 0===r&&(r=function(e){return 1-t(1-e)}),void 0===a&&(a=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var n,s={easeIn:t,easeOut:r,easeInOut:a};return $te(e,function(e){for(var t in eae[e]=yte[e]=s,eae[n=e.toLowerCase()]=r,s)eae[n+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=eae[e+"."+t]=s[t]}),s},lae=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},cae=function e(t,r,a){var n=r>=1?r:1,s=(a||(t?.3:.45))/(r<1?r:1),i=s/Qee*(Math.asin(1/n)||0),o=function(e){return 1===e?1:n*Math.pow(2,-10*e)*tte((e-i)*s)+1},l="out"===t?o:"in"===t?function(e){return 1-o(1-e)}:lae(o);return s=Qee/s,l.config=function(r,a){return e(t,r,a)},l},dae=function e(t,r){void 0===r&&(r=1.70158);var a=function(e){return e?--e*e*((r+1)*e+r)+1:0},n="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:lae(a);return n.config=function(r){return e(t,r)},n};$te("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var r=t<5?t+1:t;oae(e+",Power"+(r-1),t?function(e){return Math.pow(e,r)}:function(e){return e},function(e){return 1-Math.pow(1-e,r)},function(e){return e<.5?Math.pow(2*e,r)/2:1-Math.pow(2*(1-e),r)/2})}),eae.Linear.easeNone=eae.none=eae.Linear.easeIn,oae("Elastic",cae("in"),cae("out"),cae()),function(e,t){var r=1/t,a=2*r,n=2.5*r,s=function(s){return s<r?e*s*s:s<a?e*Math.pow(s-1.5/t,2)+.75:s<n?e*(s-=2.25/t)*s+.9375:e*Math.pow(s-2.625/t,2)+.984375};oae("Bounce",function(e){return 1-s(1-e)},s)}(7.5625,2.75),oae("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),oae("Circ",function(e){return-(Zee(1-e*e)-1)}),oae("Sine",function(e){return 1===e?1:1-ete(e*Xee)}),oae("Back",dae("in"),dae("out"),dae()),eae.SteppedEase=eae.steps=yte.SteppedEase={config:function(e,t){void 0===e&&(e=1);var r=1/e,a=e+(t?0:1),n=t?1:0;return function(e){return((a*Ere(0,.99999999,e)|0)+n)*r}}},Wee.ease=eae["quad.out"],$te("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return Ite+=e+","+e+"Params,"});var uae=function(e,t){this.id=Jee++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:zte,this.set=t?t.getSetter:_ae},mae=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,bre(this,+e.duration,1,1),this.data=e.data,wee&&(this._ctx=wee,wee.data.push(this)),Tee||Jre.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,bre(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Zre(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(ure(this,e),!r._dp||r.parent||mre(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&hre(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===Kee||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Wte(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+ore(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+ore(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*r,t):this._repeat?lre(this._tTime,r)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var r=this.parent&&this._ts?cre(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(Ere(-Math.abs(this._delay),this.totalDuration(),r),!1!==t),dre(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Zre(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Kee&&(this._tTime-=Kee)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&hre(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(ote(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?cre(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=Ate);var t=jee;return jee=e,Hte(this)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),jee=t,this},t.globalTime=function(e){for(var t=this,r=arguments.length?e:t.rawTime();t;)r=t._start+r/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):r},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,yre(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,yre(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(jre(this,e),ote(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,ote(t)),this._dur||(this._zTime=-1e-8),this},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,r=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=r&&e<this.endTime(!0)-Kee))},t.eventCallback=function(e,t,r){var a=this.vars;return arguments.length>1?(t?(a[e]=t,r&&(a[e+"Params"]=r),"onUpdate"===e&&(this._onUpdate=t)):delete a[e],this):a[e]},t.then=function(e){var t=this;return new Promise(function(r){var a=ate(e)?e:Kte,n=function(){var e=t.then;t.then=null,ate(a)&&(a=a(t))&&(a.then||a===t)&&(t.then=e),r(a),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?n():t._prom=n})},t.kill=function(){$re(this)},e}();Qte(mae.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var hae=function(e){function t(t,r){var a;return void 0===t&&(t={}),(a=e.call(this,t)||this).labels={},a.smoothChildTiming=!!t.smoothChildTiming,a.autoRemoveChildren=!!t.autoRemoveChildren,a._sort=ote(t.sortChildren),Nee&&hre(t.parent||Nee,bee(a),r),t.reversed&&a.reverse(),t.paused&&a.paused(!0),t.scrollTrigger&&fre(bee(a),t.scrollTrigger),a}yee(t,e);var r=t.prototype;return r.to=function(e,t,r){return wre(0,arguments,this),this},r.from=function(e,t,r){return wre(1,arguments,this),this},r.fromTo=function(e,t,r,a){return wre(2,arguments,this),this},r.set=function(e,t,r){return t.duration=0,t.parent=this,ere(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Eae(e,t,jre(this,r),1),this},r.call=function(e,t,r){return hre(this,Eae.delayedCall(0,e,t),r)},r.staggerTo=function(e,t,r,a,n,s,i){return r.duration=t,r.stagger=r.stagger||a,r.onComplete=s,r.onCompleteParams=i,r.parent=this,new Eae(e,r,jre(this,n)),this},r.staggerFrom=function(e,t,r,a,n,s,i){return r.runBackwards=1,ere(r).immediateRender=ote(r.immediateRender),this.staggerTo(e,t,r,a,n,s,i)},r.staggerFromTo=function(e,t,r,a,n,s,i,o){return a.startAt=r,ere(a).immediateRender=ote(a.immediateRender),this.staggerTo(e,t,a,n,s,i,o)},r.render=function(e,t,r){var a,n,s,i,o,l,c,d,u,m,h,f,p=this._time,g=this._dirty?this.totalDuration():this._tDur,x=this._dur,b=e<=0?0:Ute(e),y=this._zTime<0!=e<0&&(this._initted||!x);if(this!==Nee&&b>g&&e>=0&&(b=g),b!==this._tTime||r||y){if(p!==this._time&&x&&(b+=this._time-p,e+=this._time-p),a=b,u=this._start,l=!(d=this._ts),y&&(x||(p=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(h=this._yoyo,o=x+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*o+e,t,r);if(a=Ute(b%o),b===g?(i=this._repeat,a=x):((i=~~(m=Ute(b/o)))&&i===m&&(a=x,i--),a>x&&(a=x)),m=lre(this._tTime,o),!p&&this._tTime&&m!==i&&this._tTime-m*o-this._dur<=0&&(m=i),h&&1&i&&(a=x-a,f=1),i!==m&&!this._lock){var v=h&&1&m,j=v===(h&&1&i);if(i<m&&(v=!v),p=v?0:b%x?x:b,this._lock=1,this.render(p||(f?0:Ute(i*o)),t,!x)._lock=0,this._tTime=b,!t&&this.parent&&zre(this,"onRepeat"),this.vars.repeatRefresh&&!f&&(this.invalidate()._lock=1),p&&p!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(x=this._dur,g=this._tDur,j&&(this._lock=2,p=v?x:-1e-4,this.render(p,!0),this.vars.repeatRefresh&&!f&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;sae(this,f)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,r){var a;if(r>t)for(a=e._first;a&&a._start<=r;){if("isPause"===a.data&&a._start>t)return a;a=a._next}else for(a=e._last;a&&a._start>=r;){if("isPause"===a.data&&a._start<t)return a;a=a._prev}}(this,Ute(p),Ute(a)),c&&(b-=a-(a=c._start))),this._tTime=b,this._time=a,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,p=0),!p&&b&&!t&&!m&&(zre(this,"onStart"),this._tTime!==b))return this;if(a>=p&&e>=0)for(n=this._first;n;){if(s=n._next,(n._act||a>=n._start)&&n._ts&&c!==n){if(n.parent!==this)return this.render(e,t,r);if(n.render(n._ts>0?(a-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(a-n._start)*n._ts,t,r),a!==this._time||!this._ts&&!l){c=0,s&&(b+=this._zTime=-1e-8);break}}n=s}else{n=this._last;for(var w=e<0?e:a;n;){if(s=n._prev,(n._act||w<=n._end)&&n._ts&&c!==n){if(n.parent!==this)return this.render(e,t,r);if(n.render(n._ts>0?(w-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(w-n._start)*n._ts,t,r||jee&&Hte(n)),a!==this._time||!this._ts&&!l){c=0,s&&(b+=this._zTime=w?-1e-8:Kee);break}}n=s}}if(c&&!t&&(this.pause(),c.render(a>=p?0:-1e-8)._zTime=a>=p?1:-1,this._ts))return this._start=u,dre(this),this.render(e,t,r);this._onUpdate&&!t&&zre(this,"onUpdate",!0),(b===g&&this._tTime>=this.totalDuration()||!b&&p)&&(u!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((e||!x)&&(b===g&&this._ts>0||!b&&this._ts<0)&&are(this,1),t||e<0&&!p||!b&&!p&&g||(zre(this,b===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(b<g&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(e,t){var r=this;if(nte(t)||(t=jre(this,t,e)),!(e instanceof mae)){if(ute(e))return e.forEach(function(e){return r.add(e,t)}),this;if(rte(e))return this.addLabel(e,t);if(!ate(e))return this;e=Eae.delayedCall(0,e)}return this!==e?hre(this,e,t):this},r.getChildren=function(e,t,r,a){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===a&&(a=-1e8);for(var n=[],s=this._first;s;)s._start>=a&&(s instanceof Eae?t&&n.push(s):(r&&n.push(s),e&&n.push.apply(n,s.getChildren(!0,t,r)))),s=s._next;return n},r.getById=function(e){for(var t=this.getChildren(1,1,1),r=t.length;r--;)if(t[r].vars.id===e)return t[r]},r.remove=function(e){return rte(e)?this.removeLabel(e):ate(e)?this.killTweensOf(e):(e.parent===this&&rre(this,e),e===this._recent&&(this._recent=this._last),nre(this))},r.totalTime=function(t,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ute(Jre.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,r),this._forcing=0,this):this._tTime},r.addLabel=function(e,t){return this.labels[e]=jre(this,t),this},r.removeLabel=function(e){return delete this.labels[e],this},r.addPause=function(e,t,r){var a=Eae.delayedCall(0,t||Ste,r);return a.data="isPause",this._hasPause=1,hre(this,a,jre(this,e))},r.removePause=function(e){var t=this._first;for(e=jre(this,e);t;)t._start===e&&"isPause"===t.data&&are(t),t=t._next},r.killTweensOf=function(e,t,r){for(var a=this.getTweensOf(e,r),n=a.length;n--;)fae!==a[n]&&a[n].kill(e,t);return this},r.getTweensOf=function(e,t){for(var r,a=[],n=Are(e),s=this._first,i=nte(t);s;)s instanceof Eae?Yte(s._targets,n)&&(i?(!fae||s._initted&&s._ts)&&s.globalTime(0)<=t&&s.globalTime(s.totalDuration())>t:!t||s.isActive())&&a.push(s):(r=s.getTweensOf(n,t)).length&&a.push.apply(a,r),s=s._next;return a},r.tweenTo=function(e,t){t=t||{};var r,a=this,n=jre(a,e),s=t,i=s.startAt,o=s.onStart,l=s.onStartParams,c=s.immediateRender,d=Eae.to(a,Qte({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:n,overwrite:"auto",duration:t.duration||Math.abs((n-(i&&"time"in i?i.time:a._time))/a.timeScale())||Kee,onStart:function(){if(a.pause(),!r){var e=t.duration||Math.abs((n-(i&&"time"in i?i.time:a._time))/a.timeScale());d._dur!==e&&bre(d,e,0,1).render(d._time,!0,!0),r=1}o&&o.apply(d,l||[])}},t));return c?d.render(0):d},r.tweenFromTo=function(e,t,r){return this.tweenTo(t,Qte({startAt:{time:jre(this,e)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(e){return void 0===e&&(e=this._time),Lre(this,jre(this,e))},r.previousLabel=function(e){return void 0===e&&(e=this._time),Lre(this,jre(this,e),1)},r.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+Kee)},r.shiftChildren=function(e,t,r){void 0===r&&(r=0);for(var a,n=this._first,s=this.labels;n;)n._start>=r&&(n._start+=e,n._end+=e),n=n._next;if(t)for(a in s)s[a]>=r&&(s[a]+=e);return nre(this)},r.invalidate=function(t){var r=this._first;for(this._lock=0;r;)r.invalidate(t),r=r._next;return e.prototype.invalidate.call(this,t)},r.clear=function(e){void 0===e&&(e=!0);for(var t,r=this._first;r;)t=r._next,this.remove(r),r=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),nre(this)},r.totalDuration=function(e){var t,r,a,n=0,s=this,i=s._last,o=Gee;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(a=s.parent;i;)t=i._prev,i._dirty&&i.totalDuration(),(r=i._start)>o&&s._sort&&i._ts&&!s._lock?(s._lock=1,hre(s,i,r-i._delay,1)._lock=0):o=r,r<0&&i._ts&&(n-=r,(!a&&!s._dp||a&&a.smoothChildTiming)&&(s._start+=r/s._ts,s._time-=r,s._tTime-=r),s.shiftChildren(-r,!1,-1/0),o=0),i._end>n&&i._ts&&(n=i._end),i=t;bre(s,s===Nee&&s._time>n?s._time:n,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(e){if(Nee._ts&&(Wte(Nee,cre(e,Nee)),Aee=Jre.frame),Jre.frame>=Mte){Mte+=Hee.autoSleep||120;var t=Nee._first;if((!t||!t._ts)&&Hee.autoSleep&&Jre._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||Jre.sleep()}}},t}(mae);Qte(hae.prototype,{_lock:0,_hasPause:0,_forcing:0});var fae,pae,gae=function(e,t,r,a,n,s,i){var o,l,c,d,u,m,h,f,p=new Lae(this._pt,e,t,0,1,Dae,null,n),g=0,x=0;for(p.b=r,p.e=a,r+="",(h=~(a+="").indexOf("random("))&&(a=Ire(a)),s&&(s(f=[r,a],e,t),r=f[0],a=f[1]),l=r.match(pte)||[];o=pte.exec(a);)d=o[0],u=a.substring(g,o.index),c?c=(c+1)%5:"rgba("===u.substr(-5)&&(c=1),d!==l[x++]&&(m=parseFloat(l[x-1])||0,p._pt={_next:p._pt,p:u||1===x?u:",",s:m,c:"="===d.charAt(1)?Bte(m,d)-m:parseFloat(d)-m,m:c&&c<4?Math.round:0},g=pte.lastIndex);return p.c=g<a.length?a.substring(g,a.length):"",p.fp=i,(gte.test(a)||h)&&(p.e=0),this._pt=p,p},xae=function(e,t,r,a,n,s,i,o,l,c){ate(a)&&(a=a(n||0,e,s));var d,u=e[t],m="get"!==r?r:ate(u)?l?e[t.indexOf("set")||!ate(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():u,h=ate(u)?l?Cae:kae:Sae;if(rte(a)&&(~a.indexOf("random(")&&(a=Ire(a)),"="===a.charAt(1)&&((d=Bte(m,a)+(Sre(m)||0))||0===d)&&(a=d)),!c||m!==a||pae)return isNaN(m*a)||""===a?gae.call(this,e,t,m,a,h,o||Hee.stringFilter,l):(d=new Lae(this._pt,e,t,+m||0,a-(m||0),"boolean"==typeof u?Oae:Tae,0,h),l&&(d.fp=l),i&&d.modifier(i,this,e),this._pt=d)},bae=function(e,t,r,a,n,s){var i,o,l,c;if(Dte[e]&&!1!==(i=new Dte[e]).init(n,i.rawVars?t[e]:function(e,t,r,a,n){if(ate(e)&&(e=jae(e,n,t,r,a)),!ite(e)||e.style&&e.nodeType||ute(e)||dte(e))return rte(e)?jae(e,n,t,r,a):e;var s,i={};for(s in e)i[s]=jae(e[s],n,t,r,a);return i}(t[e],a,n,s,r),r,a,s)&&(r._pt=o=new Lae(r._pt,n,e,0,1,i.render,i,0,i.priority),r!==_ee))for(l=r._ptLookup[r._targets.indexOf(n)],c=i._props.length;c--;)l[i._props[c]]=o;return i},yae=function e(t,r,a){var n,s,i,o,l,c,d,u,m,h,f,p,g,x=t.vars,b=x.ease,y=x.startAt,v=x.immediateRender,j=x.lazy,w=x.onUpdate,N=x.runBackwards,E=x.yoyoEase,S=x.keyframes,k=x.autoRevert,C=t._dur,A=t._startAt,_=t._targets,T=t.parent,O=T&&"nested"===T.data?T.vars.targets:_,D="auto"===t._overwrite&&!vee,P=t.timeline;if(P&&(!S||!b)&&(b="none"),t._ease=iae(b,Wee.ease),t._yEase=E?nae(iae(!0===E?b:E,Wee.ease)):0,E&&t._yoyo&&!t._repeat&&(E=t._yEase,t._yEase=t._ease,t._ease=E),t._from=!P&&!!x.runBackwards,!P||S&&!x.stagger){if(p=(u=_[0]?Lte(_[0]).harness:0)&&x[u.prop],n=Zte(x,_te),A&&(A._zTime<0&&A.progress(1),r<0&&N&&v&&!k?A.render(-1,!0):A.revert(N&&C?Cte:kte),A._lazy=0),y){if(are(t._startAt=Eae.set(_,Qte({data:"isStart",overwrite:!1,parent:T,immediateRender:!0,lazy:!A&&ote(j),startAt:null,delay:0,onUpdate:w&&function(){return zre(t,"onUpdate")},stagger:0},y))),t._startAt._dp=0,t._startAt._sat=t,r<0&&(jee||!v&&!k)&&t._startAt.revert(Cte),v&&C&&r<=0&&a<=0)return void(r&&(t._zTime=r))}else if(N&&C&&!A)if(r&&(v=!1),i=Qte({overwrite:!1,data:"isFromStart",lazy:v&&!A&&ote(j),immediateRender:v,stagger:0,parent:T},n),p&&(i[u.prop]=p),are(t._startAt=Eae.set(_,i)),t._startAt._dp=0,t._startAt._sat=t,r<0&&(jee?t._startAt.revert(Cte):t._startAt.render(-1,!0)),t._zTime=r,v){if(!r)return}else e(t._startAt,Kee,Kee);for(t._pt=t._ptCache=0,j=C&&ote(j)||j&&!C,s=0;s<_.length;s++){if(d=(l=_[s])._gsap||Rte(_)[s]._gsap,t._ptLookup[s]=h={},Ote[d.id]&&Tte.length&&Vte(),f=O===_?s:O.indexOf(l),u&&!1!==(m=new u).init(l,p||n,t,f,O)&&(t._pt=o=new Lae(t._pt,l,m.name,0,1,m.render,m,0,m.priority),m._props.forEach(function(e){h[e]=o}),m.priority&&(c=1)),!u||p)for(i in n)Dte[i]&&(m=bae(i,n,t,f,l,O))?m.priority&&(c=1):h[i]=o=xae.call(t,l,i,"get",n[i],f,O,0,x.stringFilter);t._op&&t._op[s]&&t.kill(l,t._op[s]),D&&t._pt&&(fae=t,Nee.killTweensOf(l,h,t.globalTime(r)),g=!t.parent,fae=0),t._pt&&j&&(Ote[d.id]=1)}c&&Rae(t),t._onInit&&t._onInit(t)}t._onUpdate=w,t._initted=(!t._op||t._pt)&&!g,S&&r<=0&&P.render(Gee,!0,!0)},vae=function(e,t,r,a){var n,s,i=t.ease||a||"power1.inOut";if(ute(t))s=r[e]||(r[e]=[]),t.forEach(function(e,r){return s.push({t:r/(t.length-1)*100,v:e,e:i})});else for(n in t)s=r[n]||(r[n]=[]),"ease"===n||s.push({t:parseFloat(e),v:t[n],e:i})},jae=function(e,t,r,a,n){return ate(e)?e.call(t,r,a,n):rte(e)&&~e.indexOf("random(")?Ire(e):e},wae=Ite+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Nae={};$te(wae+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return Nae[e]=1});var Eae=function(e){function t(t,r,a,n){var s;"number"==typeof r&&(a.duration=r,r=a,a=null);var i,o,l,c,d,u,m,h,f=(s=e.call(this,n?r:ere(r))||this).vars,p=f.duration,g=f.delay,x=f.immediateRender,b=f.stagger,y=f.overwrite,v=f.keyframes,j=f.defaults,w=f.scrollTrigger,N=f.yoyoEase,E=r.parent||Nee,S=(ute(t)||dte(t)?nte(t[0]):"length"in r)?[t]:Are(t);if(s._targets=S.length?Rte(S):Nte(0,!Hee.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=y,v||b||cte(p)||cte(g)){if(r=s.vars,(i=s.timeline=new hae({data:"nested",defaults:j||{},targets:E&&"nested"===E.data?E.vars.targets:S})).kill(),i.parent=i._dp=bee(s),i._start=0,b||cte(p)||cte(g)){if(c=S.length,m=b&&Ore(b),ite(b))for(d in b)~wae.indexOf(d)&&(h||(h={}),h[d]=b[d]);for(o=0;o<c;o++)(l=Zte(r,Nae)).stagger=0,N&&(l.yoyoEase=N),h&&Xte(l,h),u=S[o],l.duration=+jae(p,bee(s),o,u,S),l.delay=(+jae(g,bee(s),o,u,S)||0)-s._delay,!b&&1===c&&l.delay&&(s._delay=g=l.delay,s._start+=g,l.delay=0),i.to(u,l,m?m(o,u,S):0),i._ease=eae.none;i.duration()?p=g=0:s.timeline=0}else if(v){ere(Qte(i.vars.defaults,{ease:"none"})),i._ease=iae(v.ease||r.ease||"none");var k,C,A,_=0;if(ute(v))v.forEach(function(e){return i.to(S,e,">")}),i.duration();else{for(d in l={},v)"ease"===d||"easeEach"===d||vae(d,v[d],l,v.easeEach);for(d in l)for(k=l[d].sort(function(e,t){return e.t-t.t}),_=0,o=0;o<k.length;o++)(A={ease:(C=k[o]).e,duration:(C.t-(o?k[o-1].t:0))/100*p})[d]=C.v,i.to(S,A,_),_+=A.duration;i.duration()<p&&i.to({},{duration:p-i.duration()})}}p||s.duration(p=i.duration())}else s.timeline=0;return!0!==y||vee||(fae=bee(s),Nee.killTweensOf(S),fae=0),hre(E,bee(s),a),r.reversed&&s.reverse(),r.paused&&s.paused(!0),(x||!p&&!v&&s._start===Ute(E._time)&&ote(x)&&ire(bee(s))&&"nested"!==E.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-g)||0)),w&&fre(bee(s),w),s}yee(t,e);var r=t.prototype;return r.render=function(e,t,r){var a,n,s,i,o,l,c,d,u,m=this._time,h=this._tDur,f=this._dur,p=e<0,g=e>h-Kee&&!p?h:e<Kee?0:e;if(f){if(g!==this._tTime||!e||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(a=g,d=this.timeline,this._repeat){if(i=f+this._rDelay,this._repeat<-1&&p)return this.totalTime(100*i+e,t,r);if(a=Ute(g%i),g===h?(s=this._repeat,a=f):(s=~~(o=Ute(g/i)))&&s===o?(a=f,s--):a>f&&(a=f),(l=this._yoyo&&1&s)&&(u=this._yEase,a=f-a),o=lre(this._tTime,i),a===m&&!r&&this._initted&&s===o)return this._tTime=g,this;s!==o&&(d&&this._yEase&&sae(d,l),this.vars.repeatRefresh&&!l&&!this._lock&&a!==i&&this._initted&&(this._lock=r=1,this.render(Ute(i*s),!0).invalidate()._lock=0))}if(!this._initted){if(pre(this,p?e:a,r,t,g))return this._tTime=0,this;if(!(m===this._time||r&&this.vars.repeatRefresh&&s!==o))return this;if(f!==this._dur)return this.render(e,t,r)}if(this._tTime=g,this._time=a,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(u||this._ease)(a/f),this._from&&(this.ratio=c=1-c),!m&&g&&!t&&!o&&(zre(this,"onStart"),this._tTime!==g))return this;for(n=this._pt;n;)n.r(c,n.d),n=n._next;d&&d.render(e<0?e:d._dur*d._ease(a/this._dur),t,r)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(p&&sre(this,e,0,r),zre(this,"onUpdate")),this._repeat&&s!==o&&this.vars.onRepeat&&!t&&this.parent&&zre(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(p&&!this._onUpdate&&sre(this,e,0,!0),(e||!f)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&are(this,1),t||p&&!m||!(g||m||l)||(zre(this,g===h?"onComplete":"onReverseComplete",!0),this._prom&&!(g<h&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,r,a){var n,s,i,o=e.ratio,l=t<0||!t&&(!e._start&&gre(e)&&(e._initted||!xre(e))||(e._ts<0||e._dp._ts<0)&&!xre(e))?0:1,c=e._rDelay,d=0;if(c&&e._repeat&&(d=Ere(0,e._tDur,t),s=lre(d,c),e._yoyo&&1&s&&(l=1-l),s!==lre(e._tTime,c)&&(o=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==o||jee||a||e._zTime===Kee||!t&&e._zTime){if(!e._initted&&pre(e,t,a,r,d))return;for(i=e._zTime,e._zTime=t||(r?Kee:0),r||(r=t&&!i),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=d,n=e._pt;n;)n.r(l,n.d),n=n._next;t<0&&sre(e,t,0,!0),e._onUpdate&&!r&&zre(e,"onUpdate"),d&&e._repeat&&!r&&e.parent&&zre(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&are(e,1),r||jee||(zre(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,r);return this},r.targets=function(){return this._targets},r.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},r.resetTo=function(e,t,r,a,n){Tee||Jre.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||yae(this,s),function(e,t,r,a,n,s,i,o){var l,c,d,u,m=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!m)for(m=e._ptCache[t]=[],d=e._ptLookup,u=e._targets.length;u--;){if((l=d[u][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return pae=1,e.vars[t]="+=0",yae(e,i),pae=0,o?Nte():1;m.push(l)}for(u=m.length;u--;)(l=(c=m[u])._pt||c).s=!a&&0!==a||n?l.s+(a||0)+s*l.c:a,l.c=r-l.s,c.e&&(c.e=qte(r)+Sre(c.e)),c.b&&(c.b=l.s+Sre(c.b))}(this,e,t,r,a,this._ease(s/this._dur),s,n)?this.resetTo(e,t,r,a,1):(ure(this,0),this.parent||tre(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?$re(this):this.scrollTrigger&&this.scrollTrigger.kill(!!jee),this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,fae&&!0!==fae.vars.overwrite)._first||$re(this),this.parent&&r!==this.timeline.totalDuration()&&bre(this,this._dur*this.timeline._tDur/r,0,1),this}var a,n,s,i,o,l,c,d=this._targets,u=e?Are(e):d,m=this._ptLookup,h=this._pt;if((!t||"all"===t)&&function(e,t){for(var r=e.length,a=r===t.length;a&&r--&&e[r]===t[r];);return r<0}(d,u))return"all"===t&&(this._pt=0),$re(this);for(a=this._op=this._op||[],"all"!==t&&(rte(t)&&(o={},$te(t,function(e){return o[e]=1}),t=o),t=function(e,t){var r,a,n,s,i=e[0]?Lte(e[0]).harness:0,o=i&&i.aliases;if(!o)return t;for(a in r=Xte({},t),o)if(a in r)for(n=(s=o[a].split(",")).length;n--;)r[s[n]]=r[a];return r}(d,t)),c=d.length;c--;)if(~u.indexOf(d[c]))for(o in n=m[c],"all"===t?(a[c]=t,i=n,s={}):(s=a[c]=a[c]||{},i=t),i)(l=n&&n[o])&&("kill"in l.d&&!0!==l.d.kill(o)||rre(this,l,"_pt"),delete n[o]),"all"!==s&&(s[o]=1);return this._initted&&!this._pt&&h&&$re(this),this},t.to=function(e,r){return new t(e,r,arguments[2])},t.from=function(e,t){return wre(1,arguments)},t.delayedCall=function(e,r,a,n){return new t(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:r,onReverseComplete:r,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:n})},t.fromTo=function(e,t,r){return wre(2,arguments)},t.set=function(e,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new t(e,r)},t.killTweensOf=function(e,t,r){return Nee.killTweensOf(e,t,r)},t}(mae);Qte(Eae.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),$te("staggerTo,staggerFrom,staggerFromTo",function(e){Eae[e]=function(){var t=new hae,r=kre.call(arguments,0);return r.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,r)}});var Sae=function(e,t,r){return e[t]=r},kae=function(e,t,r){return e[t](r)},Cae=function(e,t,r,a){return e[t](a.fp,r)},Aae=function(e,t,r){return e.setAttribute(t,r)},_ae=function(e,t){return ate(e[t])?kae:ste(e[t])&&e.setAttribute?Aae:Sae},Tae=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},Oae=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Dae=function(e,t){var r=t._pt,a="";if(!e&&t.b)a=t.b;else if(1===e&&t.e)a=t.e;else{for(;r;)a=r.p+(r.m?r.m(r.s+r.c*e):Math.round(1e4*(r.s+r.c*e))/1e4)+a,r=r._next;a+=t.c}t.set(t.t,t.p,a,t)},Pae=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Mae=function(e,t,r,a){for(var n,s=this._pt;s;)n=s._next,s.p===a&&s.modifier(e,t,r),s=n},Fae=function(e){for(var t,r,a=this._pt;a;)r=a._next,a.p===e&&!a.op||a.op===e?rre(this,a,"_pt"):a.dep||(t=1),a=r;return!t},Iae=function(e,t,r,a){a.mSet(e,t,a.m.call(a.tween,r,a.mt),a)},Rae=function(e){for(var t,r,a,n,s=e._pt;s;){for(t=s._next,r=a;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:n)?s._prev._next=s:a=s,(s._next=r)?r._prev=s:n=s,s=t}e._pt=a},Lae=function(){function e(e,t,r,a,n,s,i,o,l){this.t=t,this.s=a,this.c=n,this.p=r,this.r=s||Tae,this.d=i||this,this.set=o||Sae,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,r){this.mSet=this.mSet||this.set,this.set=Iae,this.m=e,this.mt=r,this.tween=t},e}();$te(Ite+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return _te[e]=1}),yte.TweenMax=yte.TweenLite=Eae,yte.TimelineLite=yte.TimelineMax=hae,Nee=new hae({sortChildren:!1,defaults:Wee,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Hee.stringFilter=Xre;var zae=[],$ae={},qae=[],Uae=0,Bae=0,Yae=function(e){return($ae[e]||qae).map(function(e){return e()})},Vae=function(){var e=Date.now(),t=[];e-Uae>2&&(Yae("matchMediaInit"),zae.forEach(function(e){var r,a,n,s,i=e.queries,o=e.conditions;for(a in i)(r=Eee.matchMedia(i[a]).matches)&&(n=1),r!==o[a]&&(o[a]=r,s=1);s&&(e.revert(),n&&t.push(e))}),Yae("matchMediaRevert"),t.forEach(function(e){return e.onMatch(e,function(t){return e.add(null,t)})}),Uae=e,Yae("matchMedia"))},Hae=function(){function e(e,t){this.selector=t&&_re(t),this.data=[],this._r=[],this.isReverted=!1,this.id=Bae++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,r){ate(e)&&(r=t,t=e,e=ate);var a=this,n=function(){var e,n=wee,s=a.selector;return n&&n!==a&&n.data.push(a),r&&(a.selector=_re(r)),wee=a,e=t.apply(a,arguments),ate(e)&&a._r.push(e),wee=n,a.selector=s,a.isReverted=!1,e};return a.last=n,e===ate?n(a,function(e){return a.add(null,e)}):e?a[e]=n:n},t.ignore=function(e){var t=wee;wee=null,e(this),wee=t},t.getTweens=function(){var t=[];return this.data.forEach(function(r){return r instanceof e?t.push.apply(t,r.getTweens()):r instanceof Eae&&!(r.parent&&"nested"===r.parent.data)&&t.push(r)}),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var r=this;if(e?function(){for(var t,a=r.getTweens(),n=r.data.length;n--;)"isFlip"===(t=r.data[n]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach(function(e){return a.splice(a.indexOf(e),1)}));for(a.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,t){return t.g-e.g||-1/0}).forEach(function(t){return t.t.revert(e)}),n=r.data.length;n--;)(t=r.data[n])instanceof hae?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof Eae)&&t.revert&&t.revert(e);r._r.forEach(function(t){return t(e,r)}),r.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),t)for(var a=zae.length;a--;)zae[a].id===this.id&&zae.splice(a,1)},t.revert=function(e){this.kill(e||{})},e}(),Wae=function(){function e(e){this.contexts=[],this.scope=e,wee&&wee.data.push(this)}var t=e.prototype;return t.add=function(e,t,r){ite(e)||(e={matches:e});var a,n,s,i=new Hae(0,r||this.scope),o=i.conditions={};for(n in wee&&!i.selector&&(i.selector=wee.selector),this.contexts.push(i),t=i.add("onMatch",t),i.queries=e,e)"all"===n?s=1:(a=Eee.matchMedia(e[n]))&&(zae.indexOf(i)<0&&zae.push(i),(o[n]=a.matches)&&(s=1),a.addListener?a.addListener(Vae):a.addEventListener("change",Vae));return s&&t(i,function(e){return i.add(null,e)}),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach(function(t){return t.kill(e,!0)})},e}(),Gae={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(e){return Ure(e)})},timeline:function(e){return new hae(e)},getTweensOf:function(e,t){return Nee.getTweensOf(e,t)},getProperty:function(e,t,r,a){rte(e)&&(e=Are(e)[0]);var n=Lte(e||{}).get,s=r?Kte:Gte;return"native"===r&&(r=""),e?t?s((Dte[t]&&Dte[t].get||n)(e,t,r,a)):function(t,r,a){return s((Dte[t]&&Dte[t].get||n)(e,t,r,a))}:e},quickSetter:function(e,t,r){if((e=Are(e)).length>1){var a=e.map(function(e){return Xae.quickSetter(e,t,r)}),n=a.length;return function(e){for(var t=n;t--;)a[t](e)}}e=e[0]||{};var s=Dte[t],i=Lte(e),o=i.harness&&(i.harness.aliases||{})[t]||t,l=s?function(t){var a=new s;_ee._pt=0,a.init(e,r?t+r:t,_ee,0,[e]),a.render(1,a),_ee._pt&&Pae(1,_ee)}:i.set(e,o);return s?l:function(t){return l(e,o,r?t+r:t,i,1)}},quickTo:function(e,t,r){var a,n=Xae.to(e,Qte(((a={})[t]="+=0.1",a.paused=!0,a.stagger=0,a),r||{})),s=function(e,r,a){return n.resetTo(t,e,r,a)};return s.tween=n,s},isTweening:function(e){return Nee.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=iae(e.ease,Wee.ease)),Jte(Wee,e||{})},config:function(e){return Jte(Hee,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,a=e.plugins,n=e.defaults,s=e.extendTimeline;(a||"").split(",").forEach(function(e){return e&&!Dte[e]&&!yte[e]&&Nte()}),Pte[t]=function(e,t,a){return r(Are(e),Qte(t||{},n),a)},s&&(hae.prototype[t]=function(e,r,a){return this.add(Pte[t](e,ite(r)?r:(a=r)&&{},this),a)})},registerEase:function(e,t){eae[e]=iae(t)},parseEase:function(e,t){return arguments.length?iae(e,t):eae},getById:function(e){return Nee.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,a,n=new hae(e);for(n.smoothChildTiming=ote(e.smoothChildTiming),Nee.remove(n),n._dp=0,n._time=n._tTime=Nee._time,r=Nee._first;r;)a=r._next,!t&&!r._dur&&r instanceof Eae&&r.vars.onComplete===r._targets[0]||hre(n,r,r._start-r._delay),r=a;return hre(Nee,n,0),n},context:function(e,t){return e?new Hae(e,t):wee},matchMedia:function(e){return new Wae(e)},matchMediaRefresh:function(){return zae.forEach(function(e){var t,r,a=e.conditions;for(r in a)a[r]&&(a[r]=!1,t=1);t&&e.revert()})||Vae()},addEventListener:function(e,t){var r=$ae[e]||($ae[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=$ae[e],a=r&&r.indexOf(t);a>=0&&r.splice(a,1)},utils:{wrap:function e(t,r,a){var n=r-t;return ute(t)?Fre(t,e(0,t.length),r):Nre(a,function(e){return(n+(e-t)%n)%n+t})},wrapYoyo:function e(t,r,a){var n=r-t,s=2*n;return ute(t)?Fre(t,e(0,t.length-1),r):Nre(a,function(e){return t+((e=(s+(e-t)%s)%s||0)>n?s-e:e)})},distribute:Ore,random:Mre,snap:Pre,normalize:function(e,t,r){return Rre(e,t,0,1,r)},getUnit:Sre,clamp:function(e,t,r){return Nre(r,function(r){return Ere(e,t,r)})},splitColor:Hre,toArray:Are,selector:_re,mapRange:Rre,pipe:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce(function(e,t){return t(e)},e)}},unitize:function(e,t){return function(r){return e(parseFloat(r))+(t||Sre(r))}},interpolate:function e(t,r,a,n){var s=isNaN(t+r)?0:function(e){return(1-e)*t+e*r};if(!s){var i,o,l,c,d,u=rte(t),m={};if(!0===a&&(n=1)&&(a=null),u)t={p:t},r={p:r};else if(ute(t)&&!ute(r)){for(l=[],c=t.length,d=c-2,o=1;o<c;o++)l.push(e(t[o-1],t[o]));c--,s=function(e){e*=c;var t=Math.min(d,~~e);return l[t](e-t)},a=r}else n||(t=Xte(ute(t)?[]:{},t));if(!l){for(i in r)xae.call(m,t,i,"get",r[i]);s=function(e){return Pae(e,m)||(u?t.p:t)}}}return Nre(a,s)},shuffle:Tre},install:jte,effects:Pte,ticker:Jre,updateRoot:hae.updateRoot,plugins:Dte,globalTimeline:Nee,core:{PropTween:Lae,globals:Ete,Tween:Eae,Timeline:hae,Animation:mae,getCache:Lte,_removeLinkedListItem:rre,reverting:function(){return jee},context:function(e){return e&&wee&&(wee.data.push(e),e._ctx=wee),wee},suppressOverwrites:function(e){return vee=e}}};$te("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Gae[e]=Eae[e]}),Jre.add(hae.updateRoot),_ee=Gae.to({},{duration:0});var Kae=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Qae=function(e,t){return{name:e,headless:1,rawVars:1,init:function(e,r,a){a._onInit=function(e){var a,n;if(rte(r)&&(a={},$te(r,function(e){return a[e]=1}),r=a),t){for(n in a={},r)a[n]=t(r[n]);r=a}!function(e,t){var r,a,n,s=e._targets;for(r in t)for(a=s.length;a--;)(n=e._ptLookup[a][r])&&(n=n.d)&&(n._pt&&(n=Kae(n,r)),n&&n.modifier&&n.modifier(t[r],e,s[a],r))}(e,r)}}}},Xae=Gae.registerPlugin({name:"attr",init:function(e,t,r,a,n){var s,i,o;for(s in this.tween=r,t)o=e.getAttribute(s)||"",(i=this.add(e,"setAttribute",(o||0)+"",t[s],a,n,0,0,s)).op=s,i.b=o,this._props.push(s)},render:function(e,t){for(var r=t._pt;r;)jee?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},Qae("roundProps",Dre),Qae("modifiers"),Qae("snap",Pre))||Gae;Eae.version=hae.version=Xae.version="3.13.0",Cee=1,lte()&&Zre(),eae.Power0,eae.Power1,eae.Power2,eae.Power3,eae.Power4,eae.Linear,eae.Quad,eae.Cubic,eae.Quart,eae.Quint,eae.Strong,eae.Elastic,eae.Back,eae.SteppedEase,eae.Bounce,eae.Sine,eae.Expo,eae.Circ;
/*!
     * CSSPlugin 3.13.0
     * https://gsap.com
     *
     * Copyright 2008-2025, GreenSock. All rights reserved.
     * Subject to the terms at https://gsap.com/standard-license
     * @author: Jack Doyle, jack@greensock.com
    */
var Jae,Zae,ene,tne,rne,ane,nne,sne,ine={},one=180/Math.PI,lne=Math.PI/180,cne=Math.atan2,dne=/([A-Z])/g,une=/(left|right|width|margin|padding|x)/i,mne=/[\s,\(]\S/,hne={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},fne=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},pne=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},gne=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},xne=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},bne=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},yne=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},vne=function(e,t,r){return e.style[t]=r},jne=function(e,t,r){return e.style.setProperty(t,r)},wne=function(e,t,r){return e._gsap[t]=r},Nne=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},Ene=function(e,t,r,a,n){var s=e._gsap;s.scaleX=s.scaleY=r,s.renderTransform(n,s)},Sne=function(e,t,r,a,n){var s=e._gsap;s[t]=r,s.renderTransform(n,s)},kne="transform",Cne=kne+"Origin",Ane=function e(t,r){var a=this,n=this.target,s=n.style,i=n._gsap;if(t in ine&&s){if(this.tfm=this.tfm||{},"transform"===t)return hne.transform.split(",").forEach(function(t){return e.call(a,t,r)});if(~(t=hne[t]||t).indexOf(",")?t.split(",").forEach(function(e){return a.tfm[e]=Hne(n,e)}):this.tfm[t]=i.x?i[t]:Hne(n,t),t===Cne&&(this.tfm.zOrigin=i.zOrigin),this.props.indexOf(kne)>=0)return;i.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(Cne,r,"")),t=kne}(s||r)&&this.props.push(t,r,s[t])},_ne=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Tne=function(){var e,t,r=this.props,a=this.target,n=a.style,s=a._gsap;for(e=0;e<r.length;e+=3)r[e+1]?2===r[e+1]?a[r[e]](r[e+2]):a[r[e]]=r[e+2]:r[e+2]?n[r[e]]=r[e+2]:n.removeProperty("--"===r[e].substr(0,2)?r[e]:r[e].replace(dne,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),a.setAttribute("data-svg-origin",this.svgo||"")),(e=nne())&&e.isStart||n[kne]||(_ne(n),s.zOrigin&&n[Cne]&&(n[Cne]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},One=function(e,t){var r={target:e,props:[],revert:Tne,save:Ane};return e._gsap||Xae.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(e){return r.save(e)}),r},Dne=function(e,t){var r=Zae.createElementNS?Zae.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Zae.createElement(e);return r&&r.style?r:Zae.createElement(e)},Pne=function e(t,r,a){var n=getComputedStyle(t);return n[r]||n.getPropertyValue(r.replace(dne,"-$1").toLowerCase())||n.getPropertyValue(r)||!a&&e(t,Fne(r)||r,1)||""},Mne="O,Moz,ms,Ms,Webkit".split(","),Fne=function(e,t,r){var a=(t||rne).style,n=5;if(e in a&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);n--&&!(Mne[n]+e in a););return n<0?null:(3===n?"ms":n>=0?Mne[n]:"")+e},Ine=function(){"undefined"!=typeof window&&window.document&&(Jae=window,Zae=Jae.document,ene=Zae.documentElement,rne=Dne("div")||{style:{}},Dne("div"),kne=Fne(kne),Cne=kne+"Origin",rne.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",sne=!!Fne("perspective"),nne=Xae.core.reverting,tne=1)},Rne=function(e){var t,r=e.ownerSVGElement,a=Dne("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=e.cloneNode(!0);n.style.display="block",a.appendChild(n),ene.appendChild(a);try{t=n.getBBox()}catch(Ba){}return a.removeChild(n),ene.removeChild(a),t},Lne=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},zne=function(e){var t,r;try{t=e.getBBox()}catch(a){t=Rne(e),r=1}return t&&(t.width||t.height)||r||(t=Rne(e)),!t||t.width||t.x||t.y?t:{x:+Lne(e,["x","cx","x1"])||0,y:+Lne(e,["y","cy","y1"])||0,width:0,height:0}},$ne=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!zne(e))},qne=function(e,t){if(t){var r,a=e.style;t in ine&&t!==Cne&&(t=kne),a.removeProperty?("ms"!==(r=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),a.removeProperty("--"===r?t:t.replace(dne,"-$1").toLowerCase())):a.removeAttribute(t)}},Une=function(e,t,r,a,n,s){var i=new Lae(e._pt,t,r,0,1,s?yne:bne);return e._pt=i,i.b=a,i.e=n,e._props.push(r),i},Bne={deg:1,rad:1,turn:1},Yne={grid:1,flex:1},Vne=function e(t,r,a,n){var s,i,o,l,c=parseFloat(a)||0,d=(a+"").trim().substr((c+"").length)||"px",u=rne.style,m=une.test(r),h="svg"===t.tagName.toLowerCase(),f=(h?"client":"offset")+(m?"Width":"Height"),p=100,g="px"===n,x="%"===n;if(n===d||!c||Bne[n]||Bne[d])return c;if("px"!==d&&!g&&(c=e(t,r,a,"px")),l=t.getCTM&&$ne(t),(x||"%"===d)&&(ine[r]||~r.indexOf("adius")))return s=l?t.getBBox()[m?"width":"height"]:t[f],qte(x?c/s*p:c/100*s);if(u[m?"width":"height"]=p+(g?d:n),i="rem"!==n&&~r.indexOf("adius")||"em"===n&&t.appendChild&&!h?t:t.parentNode,l&&(i=(t.ownerSVGElement||{}).parentNode),i&&i!==Zae&&i.appendChild||(i=Zae.body),(o=i._gsap)&&x&&o.width&&m&&o.time===Jre.time&&!o.uncache)return qte(c/o.width*p);if(!x||"height"!==r&&"width"!==r)(x||"%"===d)&&!Yne[Pne(i,"display")]&&(u.position=Pne(t,"position")),i===t&&(u.position="static"),i.appendChild(rne),s=rne[f],i.removeChild(rne),u.position="absolute";else{var b=t.style[r];t.style[r]=p+n,s=t[f],b?t.style[r]=b:qne(t,r)}return m&&x&&((o=Lte(i)).time=Jre.time,o.width=i[f]),qte(g?s*c/p:s&&c?p/s*c:0)},Hne=function(e,t,r,a){var n;return tne||Ine(),t in hne&&"transform"!==t&&~(t=hne[t]).indexOf(",")&&(t=t.split(",")[0]),ine[t]&&"transform"!==t?(n=nse(e,a),n="transformOrigin"!==t?n[t]:n.svg?n.origin:sse(Pne(e,Cne))+" "+n.zOrigin+"px"):(!(n=e.style[t])||"auto"===n||a||~(n+"").indexOf("calc("))&&(n=Xne[t]&&Xne[t](e,t,r)||Pne(e,t)||zte(e,t)||("opacity"===t?1:0)),r&&!~(n+"").trim().indexOf(" ")?Vne(e,t,n,r)+r:n},Wne=function(e,t,r,a){if(!r||"none"===r){var n=Fne(t,e,1),s=n&&Pne(e,n,1);s&&s!==r?(t=n,r=s):"borderColor"===t&&(r=Pne(e,"borderTopColor"))}var i,o,l,c,d,u,m,h,f,p,g,x=new Lae(this._pt,e.style,t,0,1,Dae),b=0,y=0;if(x.b=r,x.e=a,r+="","var(--"===(a+="").substring(0,6)&&(a=Pne(e,a.substring(4,a.indexOf(")")))),"auto"===a&&(u=e.style[t],e.style[t]=a,a=Pne(e,t)||a,u?e.style[t]=u:qne(e,t)),Xre(i=[r,a]),a=i[1],l=(r=i[0]).match(fte)||[],(a.match(fte)||[]).length){for(;o=fte.exec(a);)m=o[0],f=a.substring(b,o.index),d?d=(d+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(d=1),m!==(u=l[y++]||"")&&(c=parseFloat(u)||0,g=u.substr((c+"").length),"="===m.charAt(1)&&(m=Bte(c,m)+g),h=parseFloat(m),p=m.substr((h+"").length),b=fte.lastIndex-p.length,p||(p=p||Hee.units[t]||g,b===a.length&&(a+=p,x.e+=p)),g!==p&&(c=Vne(e,t,u,p)||0),x._pt={_next:x._pt,p:f||1===y?f:",",s:c,c:h-c,m:d&&d<4||"zIndex"===t?Math.round:0});x.c=b<a.length?a.substring(b,a.length):""}else x.r="display"===t&&"none"===a?yne:bne;return gte.test(a)&&(x.e=0),this._pt=x,x},Gne={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Kne=function(e){var t=e.split(" "),r=t[0],a=t[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==a&&"right"!==a||(e=r,r=a,a=e),t[0]=Gne[r]||r,t[1]=Gne[a]||a,t.join(" ")},Qne=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r,a,n,s=t.t,i=s.style,o=t.u,l=s._gsap;if("all"===o||!0===o)i.cssText="",a=1;else for(n=(o=o.split(",")).length;--n>-1;)r=o[n],ine[r]&&(a=1,r="transformOrigin"===r?Cne:kne),qne(s,r);a&&(qne(s,kne),l&&(l.svg&&s.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",nse(s,1),l.uncache=1,_ne(i)))}},Xne={clearProps:function(e,t,r,a,n){if("isFromStart"!==n.data){var s=e._pt=new Lae(e._pt,t,r,0,0,Qne);return s.u=a,s.pr=-10,s.tween=n,e._props.push(r),1}}},Jne=[1,0,0,1,0,0],Zne={},ese=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},tse=function(e){var t=Pne(e,kne);return ese(t)?Jne:t.substr(7).match(hte).map(qte)},rse=function(e,t){var r,a,n,s,i=e._gsap||Lte(e),o=e.style,l=tse(e);return i.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(n=e.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?Jne:l:(l!==Jne||e.offsetParent||e===ene||i.svg||(n=o.display,o.display="block",(r=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(s=1,a=e.nextElementSibling,ene.appendChild(e)),l=tse(e),n?o.display=n:qne(e,"display"),s&&(a?r.insertBefore(e,a):r?r.appendChild(e):ene.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},ase=function(e,t,r,a,n,s){var i,o,l,c=e._gsap,d=n||rse(e,!0),u=c.xOrigin||0,m=c.yOrigin||0,h=c.xOffset||0,f=c.yOffset||0,p=d[0],g=d[1],x=d[2],b=d[3],y=d[4],v=d[5],j=t.split(" "),w=parseFloat(j[0])||0,N=parseFloat(j[1])||0;r?d!==Jne&&(o=p*b-g*x)&&(l=w*(-g/o)+N*(p/o)-(p*v-g*y)/o,w=w*(b/o)+N*(-x/o)+(x*v-b*y)/o,N=l):(w=(i=zne(e)).x+(~j[0].indexOf("%")?w/100*i.width:w),N=i.y+(~(j[1]||j[0]).indexOf("%")?N/100*i.height:N)),a||!1!==a&&c.smooth?(y=w-u,v=N-m,c.xOffset=h+(y*p+v*x)-y,c.yOffset=f+(y*g+v*b)-v):c.xOffset=c.yOffset=0,c.xOrigin=w,c.yOrigin=N,c.smooth=!!a,c.origin=t,c.originIsAbsolute=!!r,e.style[Cne]="0px 0px",s&&(Une(s,c,"xOrigin",u,w),Une(s,c,"yOrigin",m,N),Une(s,c,"xOffset",h,c.xOffset),Une(s,c,"yOffset",f,c.yOffset)),e.setAttribute("data-svg-origin",w+" "+N)},nse=function(e,t){var r=e._gsap||new uae(e);if("x"in r&&!t&&!r.uncache)return r;var a,n,s,i,o,l,c,d,u,m,h,f,p,g,x,b,y,v,j,w,N,E,S,k,C,A,_,T,O,D,P,M,F=e.style,I=r.scaleX<0,R="px",L="deg",z=getComputedStyle(e),$=Pne(e,Cne)||"0";return a=n=s=l=c=d=u=m=h=0,i=o=1,r.svg=!(!e.getCTM||!$ne(e)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(F[kne]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[kne]?z[kne]:"")),F.scale=F.rotate=F.translate="none"),g=rse(e,r.svg),r.svg&&(r.uncache?(C=e.getBBox(),$=r.xOrigin-C.x+"px "+(r.yOrigin-C.y)+"px",k=""):k=!t&&e.getAttribute("data-svg-origin"),ase(e,k||$,!!k||r.originIsAbsolute,!1!==r.smooth,g)),f=r.xOrigin||0,p=r.yOrigin||0,g!==Jne&&(v=g[0],j=g[1],w=g[2],N=g[3],a=E=g[4],n=S=g[5],6===g.length?(i=Math.sqrt(v*v+j*j),o=Math.sqrt(N*N+w*w),l=v||j?cne(j,v)*one:0,(u=w||N?cne(w,N)*one+l:0)&&(o*=Math.abs(Math.cos(u*lne))),r.svg&&(a-=f-(f*v+p*w),n-=p-(f*j+p*N))):(M=g[6],D=g[7],_=g[8],T=g[9],O=g[10],P=g[11],a=g[12],n=g[13],s=g[14],c=(x=cne(M,O))*one,x&&(k=E*(b=Math.cos(-x))+_*(y=Math.sin(-x)),C=S*b+T*y,A=M*b+O*y,_=E*-y+_*b,T=S*-y+T*b,O=M*-y+O*b,P=D*-y+P*b,E=k,S=C,M=A),d=(x=cne(-w,O))*one,x&&(b=Math.cos(-x),P=N*(y=Math.sin(-x))+P*b,v=k=v*b-_*y,j=C=j*b-T*y,w=A=w*b-O*y),l=(x=cne(j,v))*one,x&&(k=v*(b=Math.cos(x))+j*(y=Math.sin(x)),C=E*b+S*y,j=j*b-v*y,S=S*b-E*y,v=k,E=C),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,d=180-d),i=qte(Math.sqrt(v*v+j*j+w*w)),o=qte(Math.sqrt(S*S+M*M)),x=cne(E,S),u=Math.abs(x)>2e-4?x*one:0,h=P?1/(P<0?-P:P):0),r.svg&&(k=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!ese(Pne(e,kne)),k&&e.setAttribute("transform",k))),Math.abs(u)>90&&Math.abs(u)<270&&(I?(i*=-1,u+=l<=0?180:-180,l+=l<=0?180:-180):(o*=-1,u+=u<=0?180:-180)),t=t||r.uncache,r.x=a-((r.xPercent=a&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-a)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+R,r.y=n-((r.yPercent=n&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-n)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+R,r.z=s+R,r.scaleX=qte(i),r.scaleY=qte(o),r.rotation=qte(l)+L,r.rotationX=qte(c)+L,r.rotationY=qte(d)+L,r.skewX=u+L,r.skewY=m+L,r.transformPerspective=h+R,(r.zOrigin=parseFloat($.split(" ")[2])||!t&&r.zOrigin||0)&&(F[Cne]=sse($)),r.xOffset=r.yOffset=0,r.force3D=Hee.force3D,r.renderTransform=r.svg?mse:sne?use:ose,r.uncache=0,r},sse=function(e){return(e=e.split(" "))[0]+" "+e[1]},ise=function(e,t,r){var a=Sre(t);return qte(parseFloat(t)+parseFloat(Vne(e,"x",r+"px",a)))+a},ose=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,use(e,t)},lse="0deg",cse="0px",dse=") ",use=function(e,t){var r=t||this,a=r.xPercent,n=r.yPercent,s=r.x,i=r.y,o=r.z,l=r.rotation,c=r.rotationY,d=r.rotationX,u=r.skewX,m=r.skewY,h=r.scaleX,f=r.scaleY,p=r.transformPerspective,g=r.force3D,x=r.target,b=r.zOrigin,y="",v="auto"===g&&e&&1!==e||!0===g;if(b&&(d!==lse||c!==lse)){var j,w=parseFloat(c)*lne,N=Math.sin(w),E=Math.cos(w);w=parseFloat(d)*lne,j=Math.cos(w),s=ise(x,s,N*j*-b),i=ise(x,i,-Math.sin(w)*-b),o=ise(x,o,E*j*-b+b)}p!==cse&&(y+="perspective("+p+dse),(a||n)&&(y+="translate("+a+"%, "+n+"%) "),(v||s!==cse||i!==cse||o!==cse)&&(y+=o!==cse||v?"translate3d("+s+", "+i+", "+o+") ":"translate("+s+", "+i+dse),l!==lse&&(y+="rotate("+l+dse),c!==lse&&(y+="rotateY("+c+dse),d!==lse&&(y+="rotateX("+d+dse),u===lse&&m===lse||(y+="skew("+u+", "+m+dse),1===h&&1===f||(y+="scale("+h+", "+f+dse),x.style[kne]=y||"translate(0, 0)"},mse=function(e,t){var r,a,n,s,i,o=t||this,l=o.xPercent,c=o.yPercent,d=o.x,u=o.y,m=o.rotation,h=o.skewX,f=o.skewY,p=o.scaleX,g=o.scaleY,x=o.target,b=o.xOrigin,y=o.yOrigin,v=o.xOffset,j=o.yOffset,w=o.forceCSS,N=parseFloat(d),E=parseFloat(u);m=parseFloat(m),h=parseFloat(h),(f=parseFloat(f))&&(h+=f=parseFloat(f),m+=f),m||h?(m*=lne,h*=lne,r=Math.cos(m)*p,a=Math.sin(m)*p,n=Math.sin(m-h)*-g,s=Math.cos(m-h)*g,h&&(f*=lne,i=Math.tan(h-f),n*=i=Math.sqrt(1+i*i),s*=i,f&&(i=Math.tan(f),r*=i=Math.sqrt(1+i*i),a*=i)),r=qte(r),a=qte(a),n=qte(n),s=qte(s)):(r=p,s=g,a=n=0),(N&&!~(d+"").indexOf("px")||E&&!~(u+"").indexOf("px"))&&(N=Vne(x,"x",d,"px"),E=Vne(x,"y",u,"px")),(b||y||v||j)&&(N=qte(N+b-(b*r+y*n)+v),E=qte(E+y-(b*a+y*s)+j)),(l||c)&&(i=x.getBBox(),N=qte(N+l/100*i.width),E=qte(E+c/100*i.height)),i="matrix("+r+","+a+","+n+","+s+","+N+","+E+")",x.setAttribute("transform",i),w&&(x.style[kne]=i)},hse=function(e,t,r,a,n){var s,i,o=360,l=rte(n),c=parseFloat(n)*(l&&~n.indexOf("rad")?one:1)-a,d=a+c+"deg";return l&&("short"===(s=n.split("_")[1])&&(c%=o)!==c%180&&(c+=c<0?o:-360),"cw"===s&&c<0?c=(c+36e9)%o-~~(c/o)*o:"ccw"===s&&c>0&&(c=(c-36e9)%o-~~(c/o)*o)),e._pt=i=new Lae(e._pt,t,r,a,c,pne),i.e=d,i.u="deg",e._props.push(r),i},fse=function(e,t){for(var r in t)e[r]=t[r];return e},pse=function(e,t,r){var a,n,s,i,o,l,c,d=fse({},r._gsap),u=r.style;for(n in d.svg?(s=r.getAttribute("transform"),r.setAttribute("transform",""),u[kne]=t,a=nse(r,1),qne(r,kne),r.setAttribute("transform",s)):(s=getComputedStyle(r)[kne],u[kne]=t,a=nse(r,1),u[kne]=s),ine)(s=d[n])!==(i=a[n])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(n)<0&&(o=Sre(s)!==(c=Sre(i))?Vne(r,n,s,c):parseFloat(s),l=parseFloat(i),e._pt=new Lae(e._pt,a,n,o,l-o,fne),e._pt.u=c||0,e._props.push(n));fse(a,d)};$te("padding,margin,Width,Radius",function(e,t){var r="Top",a="Right",n="Bottom",s="Left",i=(t<3?[r,a,n,s]:[r+s,r+a,n+a,n+s]).map(function(r){return t<2?e+r:"border"+r+e});Xne[t>1?"border"+e:e]=function(e,t,r,a,n){var s,o;if(arguments.length<4)return s=i.map(function(t){return Hne(e,t,r)}),5===(o=s.join(" ")).split(s[0]).length?s[0]:o;s=(a+"").split(" "),o={},i.forEach(function(e,t){return o[e]=s[t]=s[t]||s[(t-1)/2|0]}),e.init(t,o,n)}});var gse,xse,bse,yse={name:"css",register:Ine,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,a,n){var s,i,o,l,c,d,u,m,h,f,p,g,x,b,y,v,j=this._props,w=e.style,N=r.vars.startAt;for(u in tne||Ine(),this.styles=this.styles||One(e),v=this.styles.props,this.tween=r,t)if("autoRound"!==u&&(i=t[u],!Dte[u]||!bae(u,t,r,a,e,n)))if(c=typeof i,d=Xne[u],"function"===c&&(c=typeof(i=i.call(r,a,e,n))),"string"===c&&~i.indexOf("random(")&&(i=Ire(i)),d)d(this,e,u,i,r)&&(y=1);else if("--"===u.substr(0,2))s=(getComputedStyle(e).getPropertyValue(u)+"").trim(),i+="",Kre.lastIndex=0,Kre.test(s)||(m=Sre(s),h=Sre(i)),h?m!==h&&(s=Vne(e,u,s,h)+h):m&&(i+=m),this.add(w,"setProperty",s,i,a,n,0,0,u),j.push(u),v.push(u,0,w[u]);else if("undefined"!==c){if(N&&u in N?(s="function"==typeof N[u]?N[u].call(r,a,e,n):N[u],rte(s)&&~s.indexOf("random(")&&(s=Ire(s)),Sre(s+"")||"auto"===s||(s+=Hee.units[u]||Sre(Hne(e,u))||""),"="===(s+"").charAt(1)&&(s=Hne(e,u))):s=Hne(e,u),l=parseFloat(s),(f="string"===c&&"="===i.charAt(1)&&i.substr(0,2))&&(i=i.substr(2)),o=parseFloat(i),u in hne&&("autoAlpha"===u&&(1===l&&"hidden"===Hne(e,"visibility")&&o&&(l=0),v.push("visibility",0,w.visibility),Une(this,w,"visibility",l?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==u&&"transform"!==u&&~(u=hne[u]).indexOf(",")&&(u=u.split(",")[0])),p=u in ine)if(this.styles.save(u),"string"===c&&"var(--"===i.substring(0,6)&&(i=Pne(e,i.substring(4,i.indexOf(")"))),o=parseFloat(i)),g||((x=e._gsap).renderTransform&&!t.parseTransform||nse(e,t.parseTransform),b=!1!==t.smoothOrigin&&x.smooth,(g=this._pt=new Lae(this._pt,w,kne,0,1,x.renderTransform,x,0,-1)).dep=1),"scale"===u)this._pt=new Lae(this._pt,x,"scaleY",x.scaleY,(f?Bte(x.scaleY,f+o):o)-x.scaleY||0,fne),this._pt.u=0,j.push("scaleY",u),u+="X";else{if("transformOrigin"===u){v.push(Cne,0,w[Cne]),i=Kne(i),x.svg?ase(e,i,0,b,0,this):((h=parseFloat(i.split(" ")[2])||0)!==x.zOrigin&&Une(this,x,"zOrigin",x.zOrigin,h),Une(this,w,u,sse(s),sse(i)));continue}if("svgOrigin"===u){ase(e,i,1,b,0,this);continue}if(u in Zne){hse(this,x,u,l,f?Bte(l,f+i):i);continue}if("smoothOrigin"===u){Une(this,x,"smooth",x.smooth,i);continue}if("force3D"===u){x[u]=i;continue}if("transform"===u){pse(this,i,e);continue}}else u in w||(u=Fne(u)||u);if(p||(o||0===o)&&(l||0===l)&&!mne.test(i)&&u in w)o||(o=0),(m=(s+"").substr((l+"").length))!==(h=Sre(i)||(u in Hee.units?Hee.units[u]:m))&&(l=Vne(e,u,s,h)),this._pt=new Lae(this._pt,p?x:w,u,l,(f?Bte(l,f+o):o)-l,p||"px"!==h&&"zIndex"!==u||!1===t.autoRound?fne:xne),this._pt.u=h||0,m!==h&&"%"!==h&&(this._pt.b=s,this._pt.r=gne);else if(u in w)Wne.call(this,e,u,s,f?f+i:i);else if(u in e)this.add(e,u,s||e[u],f?f+i:i,a,n);else if("parseTransform"!==u){wte();continue}p||(u in w?v.push(u,0,w[u]):"function"==typeof e[u]?v.push(u,2,e[u]()):v.push(u,1,s||e[u])),j.push(u)}y&&Rae(this)},render:function(e,t){if(t.tween._time||!nne())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Hne,aliases:hne,getSetter:function(e,t,r){var a=hne[t];return a&&a.indexOf(",")<0&&(t=a),t in ine&&t!==Cne&&(e._gsap.x||Hne(e,"x"))?r&&ane===r?"scale"===t?Nne:wne:(ane=r||{})&&("scale"===t?Ene:Sne):e.style&&!ste(e.style[t])?vne:~t.indexOf("-")?jne:_ae(e,t)},core:{_removeProperty:qne,_getMatrix:rse}};Xae.utils.checkPrefix=Fne,Xae.core.getStyleSaver=One,bse=$te((gse="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(xse="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){ine[e]=1}),$te(xse,function(e){Hee.units[e]="deg",Zne[e]=1}),hne[bse[13]]=gse+","+xse,$te("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");hne[t[1]]=bse[t[0]]}),$te("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Hee.units[e]="px"}),Xae.registerPlugin(yse);var vse=Xae.registerPlugin(yse)||Xae;function jse(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,t),e}
/*!
     * Observer 3.13.0
     * https://gsap.com
     *
     * @license Copyright 2008-2025, GreenSock. All rights reserved.
     * Subject to the terms at https://gsap.com/standard-license
     * @author: Jack Doyle, jack@greensock.com
    */vse.core.Tween;var wse,Nse,Ese,Sse,kse,Cse,Ase,_se,Tse,Ose,Dse,Pse,Mse,Fse=function(){return wse||"undefined"!=typeof window&&(wse=window.gsap)&&wse.registerPlugin&&wse},Ise=1,Rse=[],Lse=[],zse=[],$se=Date.now,qse=function(e,t){return t},Use=function(e,t){return~zse.indexOf(e)&&zse[zse.indexOf(e)+1][t]},Bse=function(e){return!!~Ose.indexOf(e)},Yse=function(e,t,r,a,n){return e.addEventListener(t,r,{passive:!1!==a,capture:!!n})},Vse=function(e,t,r,a){return e.removeEventListener(t,r,!!a)},Hse="scrollLeft",Wse="scrollTop",Gse=function(){return Dse&&Dse.isPressed||Lse.cache++},Kse=function(e,t){var r=function r(a){if(a||0===a){Ise&&(Ese.history.scrollRestoration="manual");var n=Dse&&Dse.isPressed;a=r.v=Math.round(a)||(Dse&&Dse.iOS?1:0),e(a),r.cacheID=Lse.cache,n&&qse("ss",a)}else(t||Lse.cache!==r.cacheID||qse("ref"))&&(r.cacheID=Lse.cache,r.v=e());return r.v+r.offset};return r.offset=0,e&&r},Qse={s:Hse,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Kse(function(e){return arguments.length?Ese.scrollTo(e,Xse.sc()):Ese.pageXOffset||Sse[Hse]||kse[Hse]||Cse[Hse]||0})},Xse={s:Wse,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Qse,sc:Kse(function(e){return arguments.length?Ese.scrollTo(Qse.sc(),e):Ese.pageYOffset||Sse[Wse]||kse[Wse]||Cse[Wse]||0})},Jse=function(e,t){return(t&&t._ctx&&t._ctx.selector||wse.utils.toArray)(e)[0]||("string"==typeof e&&!1!==wse.config().nullTargetWarn?void 0:null)},Zse=function(e,t){var r=t.s,a=t.sc;Bse(e)&&(e=Sse.scrollingElement||kse);var n=Lse.indexOf(e),s=a===Xse.sc?1:2;!~n&&(n=Lse.push(e)-1),Lse[n+s]||Yse(e,"scroll",Gse);var i=Lse[n+s],o=i||(Lse[n+s]=Kse(Use(e,r),!0)||(Bse(e)?a:Kse(function(t){return arguments.length?e[r]=t:e[r]})));return o.target=e,i||(o.smooth="smooth"===wse.getProperty(e,"scrollBehavior")),o},eie=function(e,t,r){var a=e,n=e,s=$se(),i=s,o=t||50,l=Math.max(500,3*o),c=function(e,t){var l=$se();t||l-s>o?(n=a,a=e,i=s,s=l):r?a+=e:a=n+(e-n)/(l-i)*(s-i)};return{update:c,reset:function(){n=a=r?0:a,i=s=0},getVelocity:function(e){var t=i,o=n,d=$se();return(e||0===e)&&e!==a&&c(e),s===i||d-i>l?0:(a+(r?o:-o))/((r?d:s)-t)*1e3}}},tie=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},rie=function(e){var t=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(r)?t:r},aie=function(){var e,t,r,a;(Tse=wse.core.globals().ScrollTrigger)&&Tse.core&&(e=Tse.core,t=e.bridge||{},r=e._scrollers,a=e._proxies,r.push.apply(r,Lse),a.push.apply(a,zse),Lse=r,zse=a,qse=function(e,r){return t[e](r)})},nie=function(e){return wse=e||Fse(),!Nse&&wse&&"undefined"!=typeof document&&document.body&&(Ese=window,Sse=document,kse=Sse.documentElement,Cse=Sse.body,Ose=[Ese,Sse,kse,Cse],wse.utils.clamp,Mse=wse.core.context||function(){},_se="onpointerenter"in Cse?"pointer":"mouse",Ase=sie.isTouch=Ese.matchMedia&&Ese.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ese||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Pse=sie.eventTypes=("ontouchstart"in kse?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in kse?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Ise=0},500),aie(),Nse=1),Nse};Qse.op=Xse,Lse.cache=0;var sie=function(){function e(e){this.init(e)}return e.prototype.init=function(e){Nse||nie(wse),Tse||aie();var t=e.tolerance,r=e.dragMinimum,a=e.type,n=e.target,s=e.lineHeight,i=e.debounce,o=e.preventDefault,l=e.onStop,c=e.onStopDelay,d=e.ignore,u=e.wheelSpeed,m=e.event,h=e.onDragStart,f=e.onDragEnd,p=e.onDrag,g=e.onPress,x=e.onRelease,b=e.onRight,y=e.onLeft,v=e.onUp,j=e.onDown,w=e.onChangeX,N=e.onChangeY,E=e.onChange,S=e.onToggleX,k=e.onToggleY,C=e.onHover,A=e.onHoverEnd,_=e.onMove,T=e.ignoreCheck,O=e.isNormalizer,D=e.onGestureStart,P=e.onGestureEnd,M=e.onWheel,F=e.onEnable,I=e.onDisable,R=e.onClick,L=e.scrollSpeed,z=e.capture,$=e.allowClicks,q=e.lockAxis,U=e.onLockAxis;this.target=n=Jse(n)||kse,this.vars=e,d&&(d=wse.utils.toArray(d)),t=t||1e-9,r=r||0,u=u||1,L=L||1,a=a||"wheel,touch,pointer",i=!1!==i,s||(s=parseFloat(Ese.getComputedStyle(Cse).lineHeight)||22);var B,Y,V,H,W,G,K,Q=this,X=0,J=0,Z=e.passive||!o&&!1!==e.passive,ee=Zse(n,Qse),te=Zse(n,Xse),re=ee(),ae=te(),ne=~a.indexOf("touch")&&!~a.indexOf("pointer")&&"pointerdown"===Pse[0],se=Bse(n),ie=n.ownerDocument||Sse,oe=[0,0,0],le=[0,0,0],ce=0,de=function(){return ce=$se()},ue=function(e,t){return(Q.event=e)&&d&&function(e,t){for(var r=t.length;r--;)if(t[r]===e||t[r].contains(e))return!0;return!1}(e.target,d)||t&&ne&&"touch"!==e.pointerType||T&&T(e,t)},me=function(){var e=Q.deltaX=rie(oe),r=Q.deltaY=rie(le),a=Math.abs(e)>=t,n=Math.abs(r)>=t;E&&(a||n)&&E(Q,e,r,oe,le),a&&(b&&Q.deltaX>0&&b(Q),y&&Q.deltaX<0&&y(Q),w&&w(Q),S&&Q.deltaX<0!=X<0&&S(Q),X=Q.deltaX,oe[0]=oe[1]=oe[2]=0),n&&(j&&Q.deltaY>0&&j(Q),v&&Q.deltaY<0&&v(Q),N&&N(Q),k&&Q.deltaY<0!=J<0&&k(Q),J=Q.deltaY,le[0]=le[1]=le[2]=0),(H||V)&&(_&&_(Q),V&&(h&&1===V&&h(Q),p&&p(Q),V=0),H=!1),G&&!(G=!1)&&U&&U(Q),W&&(M(Q),W=!1),B=0},he=function(e,t,r){oe[r]+=e,le[r]+=t,Q._vx.update(e),Q._vy.update(t),i?B||(B=requestAnimationFrame(me)):me()},fe=function(e,t){q&&!K&&(Q.axis=K=Math.abs(e)>Math.abs(t)?"x":"y",G=!0),"y"!==K&&(oe[2]+=e,Q._vx.update(e,!0)),"x"!==K&&(le[2]+=t,Q._vy.update(t,!0)),i?B||(B=requestAnimationFrame(me)):me()},pe=function(e){if(!ue(e,1)){var t=(e=tie(e,o)).clientX,a=e.clientY,n=t-Q.x,s=a-Q.y,i=Q.isDragging;Q.x=t,Q.y=a,(i||(n||s)&&(Math.abs(Q.startX-t)>=r||Math.abs(Q.startY-a)>=r))&&(V=i?2:1,i||(Q.isDragging=!0),fe(n,s))}},ge=Q.onPress=function(e){ue(e,1)||e&&e.button||(Q.axis=K=null,Y.pause(),Q.isPressed=!0,e=tie(e),X=J=0,Q.startX=Q.x=e.clientX,Q.startY=Q.y=e.clientY,Q._vx.reset(),Q._vy.reset(),Yse(O?n:ie,Pse[1],pe,Z,!0),Q.deltaX=Q.deltaY=0,g&&g(Q))},xe=Q.onRelease=function(e){if(!ue(e,1)){Vse(O?n:ie,Pse[1],pe,!0);var t=!isNaN(Q.y-Q.startY),r=Q.isDragging,a=r&&(Math.abs(Q.x-Q.startX)>3||Math.abs(Q.y-Q.startY)>3),s=tie(e);!a&&t&&(Q._vx.reset(),Q._vy.reset(),o&&$&&wse.delayedCall(.08,function(){if($se()-ce>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(ie.createEvent){var t=ie.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,Ese,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),Q.isDragging=Q.isGesturing=Q.isPressed=!1,l&&r&&!O&&Y.restart(!0),V&&me(),f&&r&&f(Q),x&&x(Q,a)}},be=function(e){return e.touches&&e.touches.length>1&&(Q.isGesturing=!0)&&D(e,Q.isDragging)},ye=function(){return(Q.isGesturing=!1)||P(Q)},ve=function(e){if(!ue(e)){var t=ee(),r=te();he((t-re)*L,(r-ae)*L,1),re=t,ae=r,l&&Y.restart(!0)}},je=function(e){if(!ue(e)){e=tie(e,o),M&&(W=!0);var t=(1===e.deltaMode?s:2===e.deltaMode?Ese.innerHeight:1)*u;he(e.deltaX*t,e.deltaY*t,0),l&&!O&&Y.restart(!0)}},we=function(e){if(!ue(e)){var t=e.clientX,r=e.clientY,a=t-Q.x,n=r-Q.y;Q.x=t,Q.y=r,H=!0,l&&Y.restart(!0),(a||n)&&fe(a,n)}},Ne=function(e){Q.event=e,C(Q)},Ee=function(e){Q.event=e,A(Q)},Se=function(e){return ue(e)||tie(e,o)&&R(Q)};Y=Q._dc=wse.delayedCall(c||.25,function(){Q._vx.reset(),Q._vy.reset(),Y.pause(),l&&l(Q)}).pause(),Q.deltaX=Q.deltaY=0,Q._vx=eie(0,50,!0),Q._vy=eie(0,50,!0),Q.scrollX=ee,Q.scrollY=te,Q.isDragging=Q.isGesturing=Q.isPressed=!1,Mse(this),Q.enable=function(e){return Q.isEnabled||(Yse(se?ie:n,"scroll",Gse),a.indexOf("scroll")>=0&&Yse(se?ie:n,"scroll",ve,Z,z),a.indexOf("wheel")>=0&&Yse(n,"wheel",je,Z,z),(a.indexOf("touch")>=0&&Ase||a.indexOf("pointer")>=0)&&(Yse(n,Pse[0],ge,Z,z),Yse(ie,Pse[2],xe),Yse(ie,Pse[3],xe),$&&Yse(n,"click",de,!0,!0),R&&Yse(n,"click",Se),D&&Yse(ie,"gesturestart",be),P&&Yse(ie,"gestureend",ye),C&&Yse(n,_se+"enter",Ne),A&&Yse(n,_se+"leave",Ee),_&&Yse(n,_se+"move",we)),Q.isEnabled=!0,Q.isDragging=Q.isGesturing=Q.isPressed=H=V=!1,Q._vx.reset(),Q._vy.reset(),re=ee(),ae=te(),e&&e.type&&ge(e),F&&F(Q)),Q},Q.disable=function(){Q.isEnabled&&(Rse.filter(function(e){return e!==Q&&Bse(e.target)}).length||Vse(se?ie:n,"scroll",Gse),Q.isPressed&&(Q._vx.reset(),Q._vy.reset(),Vse(O?n:ie,Pse[1],pe,!0)),Vse(se?ie:n,"scroll",ve,z),Vse(n,"wheel",je,z),Vse(n,Pse[0],ge,z),Vse(ie,Pse[2],xe),Vse(ie,Pse[3],xe),Vse(n,"click",de,!0),Vse(n,"click",Se),Vse(ie,"gesturestart",be),Vse(ie,"gestureend",ye),Vse(n,_se+"enter",Ne),Vse(n,_se+"leave",Ee),Vse(n,_se+"move",we),Q.isEnabled=Q.isPressed=Q.isDragging=!1,I&&I(Q))},Q.kill=Q.revert=function(){Q.disable();var e=Rse.indexOf(Q);e>=0&&Rse.splice(e,1),Dse===Q&&(Dse=0)},Rse.push(Q),O&&Bse(n)&&(Dse=Q),Q.enable(m)},jse(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();sie.version="3.13.0",sie.create=function(e){return new sie(e)},sie.register=nie,sie.getAll=function(){return Rse.slice()},sie.getById=function(e){return Rse.filter(function(t){return t.vars.id===e})[0]},Fse()&&wse.registerPlugin(sie);
/*!
     * ScrollTrigger 3.13.0
     * https://gsap.com
     *
     * @license Copyright 2008-2025, GreenSock. All rights reserved.
     * Subject to the terms at https://gsap.com/standard-license
     * @author: Jack Doyle, jack@greensock.com
    */
var iie,oie,lie,cie,die,uie,mie,hie,fie,pie,gie,xie,bie,yie,vie,jie,wie,Nie,Eie,Sie,kie,Cie,Aie,_ie,Tie,Oie,Die,Pie,Mie,Fie,Iie,Rie,Lie,zie,$ie,qie,Uie,Bie,Yie=1,Vie=Date.now,Hie=Vie(),Wie=0,Gie=0,Kie=function(e,t,r){var a=coe(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return r["_"+t+"Clamp"]=a,a?e.substr(6,e.length-7):e},Qie=function(e,t){return!t||coe(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},Xie=function e(){return Gie&&requestAnimationFrame(e)},Jie=function(){return yie=1},Zie=function(){return yie=0},eoe=function(e){return e},toe=function(e){return Math.round(1e5*e)/1e5||0},roe=function(){return"undefined"!=typeof window},aoe=function(){return iie||roe()&&(iie=window.gsap)&&iie.registerPlugin&&iie},noe=function(e){return!!~mie.indexOf(e)},soe=function(e){return("Height"===e?Iie:lie["inner"+e])||die["client"+e]||uie["client"+e]},ioe=function(e){return Use(e,"getBoundingClientRect")||(noe(e)?function(){return yle.width=lie.innerWidth,yle.height=Iie,yle}:function(){return Doe(e)})},ooe=function(e,t){var r=t.s,a=t.d2,n=t.d,s=t.a;return Math.max(0,(r="scroll"+a)&&(s=Use(e,r))?s()-ioe(e)()[n]:noe(e)?(die[r]||uie[r])-soe(a):e[r]-e["offset"+a])},loe=function(e,t){for(var r=0;r<Eie.length;r+=3)(!t||~t.indexOf(Eie[r+1]))&&e(Eie[r],Eie[r+1],Eie[r+2])},coe=function(e){return"string"==typeof e},doe=function(e){return"function"==typeof e},uoe=function(e){return"number"==typeof e},moe=function(e){return"object"==typeof e},hoe=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},foe=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return t(e)}):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},poe=Math.abs,goe="left",xoe="right",boe="bottom",yoe="width",voe="height",joe="Right",woe="Left",Noe="Top",Eoe="Bottom",Soe="padding",koe="margin",Coe="Width",Aoe="Height",_oe="px",Toe=function(e){return lie.getComputedStyle(e)},Ooe=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Doe=function(e,t){var r=t&&"matrix(1, 0, 0, 1, 0, 0)"!==Toe(e)[vie]&&iie.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=e.getBoundingClientRect();return r&&r.progress(0).kill(),a},Poe=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},Moe=function(e){var t,r=[],a=e.labels,n=e.duration();for(t in a)r.push(a[t]/n);return r},Foe=function(e){var t=iie.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return r?function(e,a,n){var s;if(void 0===n&&(n=.001),!a)return t(e);if(a>0){for(e-=n,s=0;s<r.length;s++)if(r[s]>=e)return r[s];return r[s-1]}for(s=r.length,e+=n;s--;)if(r[s]<=e)return r[s];return r[0]}:function(r,a,n){void 0===n&&(n=.001);var s=t(r);return!a||Math.abs(s-r)<n||s-r<0==a<0?s:t(a<0?r-e:r+e)}},Ioe=function(e,t,r,a){return r.split(",").forEach(function(r){return e(t,r,a)})},Roe=function(e,t,r,a,n){return e.addEventListener(t,r,{passive:!a,capture:!!n})},Loe=function(e,t,r,a){return e.removeEventListener(t,r,!!a)},zoe=function(e,t,r){(r=r&&r.wheelHandler)&&(e(t,"wheel",r),e(t,"touchmove",r))},$oe={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},qoe={toggleActions:"play",anticipatePin:0},Uoe={top:0,left:0,center:.5,bottom:1,right:1},Boe=function(e,t){if(coe(e)){var r=e.indexOf("="),a=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(a*=t/100),e=e.substr(0,r-1)),e=a+(e in Uoe?Uoe[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Yoe=function(e,t,r,a,n,s,i,o){var l=n.startColor,c=n.endColor,d=n.fontSize,u=n.indent,m=n.fontWeight,h=cie.createElement("div"),f=noe(r)||"fixed"===Use(r,"pinType"),p=-1!==e.indexOf("scroller"),g=f?uie:r,x=-1!==e.indexOf("start"),b=x?l:c,y="border-color:"+b+";font-size:"+d+";color:"+b+";font-weight:"+m+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return y+="position:"+((p||o)&&f?"fixed;":"absolute;"),(p||o||!f)&&(y+=(a===Xse?xoe:boe)+":"+(s+parseFloat(u))+"px;"),i&&(y+="box-sizing:border-box;text-align:left;width:"+i.offsetWidth+"px;"),h._isStart=x,h.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),h.style.cssText=y,h.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(h,g.children[0]):g.appendChild(h),h._offset=h["offset"+a.op.d2],Voe(h,0,a,x),h},Voe=function(e,t,r,a){var n={display:"block"},s=r[a?"os2":"p2"],i=r[a?"p2":"os2"];e._isFlipped=a,n[r.a+"Percent"]=a?-100:0,n[r.a]=a?"1px":0,n["border"+s+Coe]=1,n["border"+i+Coe]=0,n[r.p]=t+"px",iie.set(e,n)},Hoe=[],Woe={},Goe=function(){return Vie()-Wie>34&&($ie||($ie=requestAnimationFrame(mle)))},Koe=function(){(!Aie||!Aie.isPressed||Aie.startX>uie.clientWidth)&&(Lse.cache++,Aie?$ie||($ie=requestAnimationFrame(mle)):mle(),Wie||tle("scrollStart"),Wie=Vie())},Qoe=function(){Oie=lie.innerWidth,Tie=lie.innerHeight},Xoe=function(e){Lse.cache++,(!0===e||!bie&&!Cie&&!cie.fullscreenElement&&!cie.webkitFullscreenElement&&(!_ie||Oie!==lie.innerWidth||Math.abs(lie.innerHeight-Tie)>.25*lie.innerHeight))&&hie.restart(!0)},Joe={},Zoe=[],ele=function e(){return Loe(kle,"scrollEnd",e)||cle(!0)},tle=function(e){return Joe[e]&&Joe[e].map(function(e){return e()})||Zoe},rle=[],ale=function(e){for(var t=0;t<rle.length;t+=5)(!e||rle[t+4]&&rle[t+4].query===e)&&(rle[t].style.cssText=rle[t+1],rle[t].getBBox&&rle[t].setAttribute("transform",rle[t+2]||""),rle[t+3].uncache=1)},nle=function(e,t){var r;for(jie=0;jie<Hoe.length;jie++)!(r=Hoe[jie])||t&&r._ctx!==t||(e?r.kill(1):r.revert(!0,!0));Rie=!0,t&&ale(t),t||tle("revert")},sle=function(e,t){Lse.cache++,(t||!qie)&&Lse.forEach(function(e){return doe(e)&&e.cacheID++&&(e.rec=0)}),coe(e)&&(lie.history.scrollRestoration=Mie=e)},ile=0,ole=function(){uie.appendChild(Fie),Iie=!Aie&&Fie.offsetHeight||lie.innerHeight,uie.removeChild(Fie)},lle=function(e){return fie(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},cle=function(e,t){if(die=cie.documentElement,uie=cie.body,mie=[lie,cie,die,uie],!Wie||e||Rie){ole(),qie=kle.isRefreshing=!0,Lse.forEach(function(e){return doe(e)&&++e.cacheID&&(e.rec=e())});var r=tle("refreshInit");Sie&&kle.sort(),t||nle(),Lse.forEach(function(e){doe(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),Hoe.slice(0).forEach(function(e){return e.refresh()}),Rie=!1,Hoe.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",r=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-r),e.refresh()}}),Lie=1,lle(!0),Hoe.forEach(function(e){var t=ooe(e.scroller,e._dir),r="max"===e.vars.end||e._endClamp&&e.end>t,a=e._startClamp&&e.start>=t;(r||a)&&e.setPositions(a?t-1:e.start,r?Math.max(a?t:e.start+1,t):e.end,!0)}),lle(!1),Lie=0,r.forEach(function(e){return e&&e.render&&e.render(-1)}),Lse.forEach(function(e){doe(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),sle(Mie,1),hie.pause(),ile++,qie=2,mle(2),Hoe.forEach(function(e){return doe(e.vars.onRefresh)&&e.vars.onRefresh(e)}),qie=kle.isRefreshing=!1,tle("refresh")}else Roe(kle,"scrollEnd",ele)},dle=0,ule=1,mle=function(e){if(2===e||!qie&&!Rie){kle.isUpdating=!0,Bie&&Bie.update(0);var t=Hoe.length,r=Vie(),a=r-Hie>=50,n=t&&Hoe[0].scroll();if(ule=dle>n?-1:1,qie||(dle=n),a&&(Wie&&!yie&&r-Wie>200&&(Wie=0,tle("scrollEnd")),gie=Hie,Hie=r),ule<0){for(jie=t;jie-- >0;)Hoe[jie]&&Hoe[jie].update(0,a);ule=1}else for(jie=0;jie<t;jie++)Hoe[jie]&&Hoe[jie].update(0,a);kle.isUpdating=!1}$ie=0},hle=[goe,"top",boe,xoe,koe+Eoe,koe+joe,koe+Noe,koe+woe,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],fle=hle.concat([yoe,voe,"boxSizing","max"+Coe,"max"+Aoe,"position",koe,Soe,Soe+Noe,Soe+joe,Soe+Eoe,Soe+woe]),ple=function(e,t,r,a){if(!e._gsap.swappedIn){for(var n,s=hle.length,i=t.style,o=e.style;s--;)i[n=hle[s]]=r[n];i.position="absolute"===r.position?"absolute":"relative","inline"===r.display&&(i.display="inline-block"),o[boe]=o[xoe]="auto",i.flexBasis=r.flexBasis||"auto",i.overflow="visible",i.boxSizing="border-box",i[yoe]=Poe(e,Qse)+_oe,i[voe]=Poe(e,Xse)+_oe,i[Soe]=o[koe]=o.top=o[goe]="0",xle(a),o[yoe]=o["max"+Coe]=r[yoe],o[voe]=o["max"+Aoe]=r[voe],o[Soe]=r[Soe],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},gle=/([A-Z])/g,xle=function(e){if(e){var t,r,a=e.t.style,n=e.length,s=0;for((e.t._gsap||iie.core.getCache(e.t)).uncache=1;s<n;s+=2)r=e[s+1],t=e[s],r?a[t]=r:a[t]&&a.removeProperty(t.replace(gle,"-$1").toLowerCase())}},ble=function(e){for(var t=fle.length,r=e.style,a=[],n=0;n<t;n++)a.push(fle[n],r[fle[n]]);return a.t=e,a},yle={left:0,top:0},vle=function(e,t,r,a,n,s,i,o,l,c,d,u,m,h){doe(e)&&(e=e(o)),coe(e)&&"max"===e.substr(0,3)&&(e=u+("="===e.charAt(4)?Boe("0"+e.substr(3),r):0));var f,p,g,x=m?m.time():0;if(m&&m.seek(0),isNaN(e)||(e=+e),uoe(e))m&&(e=iie.utils.mapRange(m.scrollTrigger.start,m.scrollTrigger.end,0,u,e)),i&&Voe(i,r,a,!0);else{doe(t)&&(t=t(o));var b,y,v,j,w=(e||"0").split(" ");g=Jse(t,o)||uie,(b=Doe(g)||{})&&(b.left||b.top)||"none"!==Toe(g).display||(j=g.style.display,g.style.display="block",b=Doe(g),j?g.style.display=j:g.style.removeProperty("display")),y=Boe(w[0],b[a.d]),v=Boe(w[1]||"0",r),e=b[a.p]-l[a.p]-c+y+n-v,i&&Voe(i,v,a,r-v<20||i._isStart&&v>20),r-=r-v}if(h&&(o[h]=e||-.001,e<0&&(e=0)),s){var N=e+r,E=s._isStart;f="scroll"+a.d2,Voe(s,N,a,E&&N>20||!E&&(d?Math.max(uie[f],die[f]):s.parentNode[f])<=N+1),d&&(l=Doe(i),d&&(s.style[a.op.p]=l[a.op.p]-a.op.m-s._offset+_oe))}return m&&g&&(f=Doe(g),m.seek(u),p=Doe(g),m._caScrollDist=f[a.p]-p[a.p],e=e/m._caScrollDist*u),m&&m.seek(x),m?e:Math.round(e)},jle=/(webkit|moz|length|cssText|inset)/i,wle=function(e,t,r,a){if(e.parentNode!==t){var n,s,i=e.style;if(t===uie){for(n in e._stOrig=i.cssText,s=Toe(e))+n||jle.test(n)||!s[n]||"string"!=typeof i[n]||"0"===n||(i[n]=s[n]);i.top=r,i.left=a}else i.cssText=e._stOrig;iie.core.getCache(e).uncache=1,t.appendChild(e)}},Nle=function(e,t,r){var a=t,n=a;return function(t){var s=Math.round(e());return s!==a&&s!==n&&Math.abs(s-a)>3&&Math.abs(s-n)>3&&(t=s,r&&r()),n=a,a=Math.round(t)}},Ele=function(e,t,r){var a={};a[t.p]="+="+r,iie.set(e,a)},Sle=function(e,t){var r=Zse(e,t),a="_scroll"+t.p2,n=function t(n,s,i,o,l){var c=t.tween,d=s.onComplete,u={};i=i||r();var m=Nle(r,i,function(){c.kill(),t.tween=0});return l=o&&l||0,o=o||n-i,c&&c.kill(),s[a]=n,s.inherit=!1,s.modifiers=u,u[a]=function(){return m(i+o*c.ratio+l*c.ratio*c.ratio)},s.onUpdate=function(){Lse.cache++,t.tween&&mle()},s.onComplete=function(){t.tween=0,d&&d.call(c)},c=t.tween=iie.to(e,s)};return e[a]=r,r.wheelHandler=function(){return n.tween&&n.tween.kill()&&(n.tween=0)},Roe(e,"wheel",r.wheelHandler),kle.isTouch&&Roe(e,"touchmove",r.wheelHandler),n},kle=function(){function e(t,r){oie||e.register(iie),Pie(this),this.init(t,r)}return e.prototype.init=function(t,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Gie){var a,n,s,i,o,l,c,d,u,m,h,f,p,g,x,b,y,v,j,w,N,E,S,k,C,A,_,T,O,D,P,M,F,I,R,L,z,$,q,U,B,Y,V=t=Ooe(coe(t)||uoe(t)||t.nodeType?{trigger:t}:t,qoe),H=V.onUpdate,W=V.toggleClass,G=V.id,K=V.onToggle,Q=V.onRefresh,X=V.scrub,J=V.trigger,Z=V.pin,ee=V.pinSpacing,te=V.invalidateOnRefresh,re=V.anticipatePin,ae=V.onScrubComplete,ne=V.onSnapComplete,se=V.once,ie=V.snap,oe=V.pinReparent,le=V.pinSpacer,ce=V.containerAnimation,de=V.fastScrollEnd,ue=V.preventOverlaps,me=t.horizontal||t.containerAnimation&&!1!==t.horizontal?Qse:Xse,he=!X&&0!==X,fe=Jse(t.scroller||lie),pe=iie.core.getCache(fe),ge=noe(fe),xe="fixed"===("pinType"in t?t.pinType:Use(fe,"pinType")||ge&&"fixed"),be=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],ye=he&&t.toggleActions.split(" "),ve="markers"in t?t.markers:qoe.markers,je=ge?0:parseFloat(Toe(fe)["border"+me.p2+Coe])||0,we=this,Ne=t.onRefreshInit&&function(){return t.onRefreshInit(we)},Ee=function(e,t,r){var a=r.d,n=r.d2,s=r.a;return(s=Use(e,"getBoundingClientRect"))?function(){return s()[a]}:function(){return(t?soe(n):e["client"+n])||0}}(fe,ge,me),Se=function(e,t){return!t||~zse.indexOf(e)?ioe(e):function(){return yle}}(fe,ge),ke=0,Ce=0,Ae=0,_e=Zse(fe,me);if(we._startClamp=we._endClamp=!1,we._dir=me,re*=45,we.scroller=fe,we.scroll=ce?ce.time.bind(ce):_e,i=_e(),we.vars=t,r=r||t.animation,"refreshPriority"in t&&(Sie=1,-9999===t.refreshPriority&&(Bie=we)),pe.tweenScroll=pe.tweenScroll||{top:Sle(fe,Xse),left:Sle(fe,Qse)},we.tweenTo=a=pe.tweenScroll[me.p],we.scrubDuration=function(e){(F=uoe(e)&&e)?M?M.duration(e):M=iie.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:F,paused:!0,onComplete:function(){return ae&&ae(we)}}):(M&&M.progress(1).kill(),M=0)},r&&(r.vars.lazy=!1,r._initted&&!we.isReverted||!1!==r.vars.immediateRender&&!1!==t.immediateRender&&r.duration()&&r.render(0,!0,!0),we.animation=r.pause(),r.scrollTrigger=we,we.scrubDuration(X),D=0,G||(G=r.vars.id)),ie&&(moe(ie)&&!ie.push||(ie={snapTo:ie}),"scrollBehavior"in uie.style&&iie.set(ge?[uie,die]:fe,{scrollBehavior:"auto"}),Lse.forEach(function(e){return doe(e)&&e.target===(ge?cie.scrollingElement||die:fe)&&(e.smooth=!1)}),s=doe(ie.snapTo)?ie.snapTo:"labels"===ie.snapTo?function(e){return function(t){return iie.utils.snap(Moe(e),t)}}(r):"labelsDirectional"===ie.snapTo?(U=r,function(e,t){return Foe(Moe(U))(e,t.direction)}):!1!==ie.directional?function(e,t){return Foe(ie.snapTo)(e,Vie()-Ce<500?0:t.direction)}:iie.utils.snap(ie.snapTo),I=ie.duration||{min:.1,max:2},I=moe(I)?pie(I.min,I.max):pie(I,I),R=iie.delayedCall(ie.delay||F/2||.1,function(){var e=_e(),t=Vie()-Ce<500,n=a.tween;if(!(t||Math.abs(we.getVelocity())<10)||n||yie||ke===e)we.isActive&&ke!==e&&R.restart(!0);else{var i,o,d=(e-l)/g,u=r&&!he?r.totalProgress():d,m=t?0:(u-P)/(Vie()-gie)*1e3||0,h=iie.utils.clamp(-d,1-d,poe(m/2)*m/.185),f=d+(!1===ie.inertia?0:h),p=ie,x=p.onStart,b=p.onInterrupt,y=p.onComplete;if(i=s(f,we),uoe(i)||(i=f),o=Math.max(0,Math.round(l+i*g)),e<=c&&e>=l&&o!==e){if(n&&!n._initted&&n.data<=poe(o-e))return;!1===ie.inertia&&(h=i-d),a(o,{duration:I(poe(.185*Math.max(poe(f-u),poe(i-u))/m/.05||0)),ease:ie.ease||"power3",data:poe(o-e),onInterrupt:function(){return R.restart(!0)&&b&&b(we)},onComplete:function(){we.update(),ke=_e(),r&&!he&&(M?M.resetTo("totalProgress",i,r._tTime/r._tDur):r.progress(i)),D=P=r&&!he?r.totalProgress():we.progress,ne&&ne(we),y&&y(we)}},e,h*g,o-e-h*g),x&&x(we,a.tween)}}}).pause()),G&&(Woe[G]=we),(q=(J=we.trigger=Jse(J||!0!==Z&&Z))&&J._gsap&&J._gsap.stRevert)&&(q=q(we)),Z=!0===Z?J:Jse(Z),coe(W)&&(W={targets:J,className:W}),Z&&(!1===ee||ee===koe||(ee=!(!ee&&Z.parentNode&&Z.parentNode.style&&"flex"===Toe(Z.parentNode).display)&&Soe),we.pin=Z,(n=iie.core.getCache(Z)).spacer?x=n.pinState:(le&&((le=Jse(le))&&!le.nodeType&&(le=le.current||le.nativeElement),n.spacerIsNative=!!le,le&&(n.spacerState=ble(le))),n.spacer=v=le||cie.createElement("div"),v.classList.add("pin-spacer"),G&&v.classList.add("pin-spacer-"+G),n.pinState=x=ble(Z)),!1!==t.force3D&&iie.set(Z,{force3D:!0}),we.spacer=v=n.spacer,O=Toe(Z),k=O[ee+me.os2],w=iie.getProperty(Z),N=iie.quickSetter(Z,me.a,_oe),ple(Z,v,O),y=ble(Z)),ve){f=moe(ve)?Ooe(ve,$oe):$oe,m=Yoe("scroller-start",G,fe,me,f,0),h=Yoe("scroller-end",G,fe,me,f,0,m),j=m["offset"+me.op.d2];var Te=Jse(Use(fe,"content")||fe);d=this.markerStart=Yoe("start",G,Te,me,f,j,0,ce),u=this.markerEnd=Yoe("end",G,Te,me,f,j,0,ce),ce&&($=iie.quickSetter([d,u],me.a,_oe)),xe||zse.length&&!0===Use(fe,"fixedMarkers")||(Y=Toe(B=ge?uie:fe).position,B.style.position="absolute"===Y||"fixed"===Y?Y:"relative",iie.set([m,h],{force3D:!0}),A=iie.quickSetter(m,me.a,_oe),T=iie.quickSetter(h,me.a,_oe))}if(ce){var Oe=ce.vars.onUpdate,De=ce.vars.onUpdateParams;ce.eventCallback("onUpdate",function(){we.update(0,0,1),Oe&&Oe.apply(ce,De||[])})}if(we.previous=function(){return Hoe[Hoe.indexOf(we)-1]},we.next=function(){return Hoe[Hoe.indexOf(we)+1]},we.revert=function(e,t){if(!t)return we.kill(!0);var a=!1!==e||!we.enabled,n=bie;a!==we.isReverted&&(a&&(L=Math.max(_e(),we.scroll.rec||0),Ae=we.progress,z=r&&r.progress()),d&&[d,u,m,h].forEach(function(e){return e.style.display=a?"none":"block"}),a&&(bie=we,we.update(a)),!Z||oe&&we.isActive||(a?function(e,t,r){xle(r);var a=e._gsap;if(a.spacerIsNative)xle(a.spacerState);else if(e._gsap.swappedIn){var n=t.parentNode;n&&(n.insertBefore(e,t),n.removeChild(t))}e._gsap.swappedIn=!1}(Z,v,x):ple(Z,v,Toe(Z),C)),a||we.update(a),bie=n,we.isReverted=a)},we.refresh=function(n,s,f,j){if(!bie&&we.enabled||s)if(Z&&n&&Wie)Roe(e,"scrollEnd",ele);else{!qie&&Ne&&Ne(we),bie=we,a.tween&&!f&&(a.tween.kill(),a.tween=0),M&&M.pause(),te&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren&&r.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)})),we.isReverted||we.revert(!0,!0),we._subPinOffset=!1;var N,k,A,T,O,D,P,F,I,$,q,U,B,Y=Ee(),V=Se(),H=ce?ce.duration():ooe(fe,me),W=g<=.01||!g,G=0,K=j||0,X=moe(f)?f.end:t.end,re=t.endTrigger||J,ae=moe(f)?f.start:t.start||(0!==t.start&&J?Z?"0 0":"0 100%":0),ne=we.pinnedContainer=t.pinnedContainer&&Jse(t.pinnedContainer,we),se=J&&Math.max(0,Hoe.indexOf(we))||0,ie=se;for(ve&&moe(f)&&(U=iie.getProperty(m,me.p),B=iie.getProperty(h,me.p));ie-- >0;)(D=Hoe[ie]).end||D.refresh(0,1)||(bie=we),!(P=D.pin)||P!==J&&P!==Z&&P!==ne||D.isReverted||($||($=[]),$.unshift(D),D.revert(!0,!0)),D!==Hoe[ie]&&(se--,ie--);for(doe(ae)&&(ae=ae(we)),ae=Kie(ae,"start",we),l=vle(ae,J,Y,me,_e(),d,m,we,V,je,xe,H,ce,we._startClamp&&"_startClamp")||(Z?-.001:0),doe(X)&&(X=X(we)),coe(X)&&!X.indexOf("+=")&&(~X.indexOf(" ")?X=(coe(ae)?ae.split(" ")[0]:"")+X:(G=Boe(X.substr(2),Y),X=coe(ae)?ae:(ce?iie.utils.mapRange(0,ce.duration(),ce.scrollTrigger.start,ce.scrollTrigger.end,l):l)+G,re=J)),X=Kie(X,"end",we),c=Math.max(l,vle(X||(re?"100% 0":H),re,Y,me,_e()+G,u,h,we,V,je,xe,H,ce,we._endClamp&&"_endClamp"))||-.001,G=0,ie=se;ie--;)(P=(D=Hoe[ie]).pin)&&D.start-D._pinPush<=l&&!ce&&D.end>0&&(N=D.end-(we._startClamp?Math.max(0,D.start):D.start),(P===J&&D.start-D._pinPush<l||P===ne)&&isNaN(ae)&&(G+=N*(1-D.progress)),P===Z&&(K+=N));if(l+=G,c+=G,we._startClamp&&(we._startClamp+=G),we._endClamp&&!qie&&(we._endClamp=c||-.001,c=Math.min(c,ooe(fe,me))),g=c-l||(l-=.01)&&.001,W&&(Ae=iie.utils.clamp(0,1,iie.utils.normalize(l,c,L))),we._pinPush=K,d&&G&&((N={})[me.a]="+="+G,ne&&(N[me.p]="-="+_e()),iie.set([d,u],N)),!Z||Lie&&we.end>=ooe(fe,me)){if(J&&_e()&&!ce)for(k=J.parentNode;k&&k!==uie;)k._pinOffset&&(l-=k._pinOffset,c-=k._pinOffset),k=k.parentNode}else N=Toe(Z),T=me===Xse,A=_e(),E=parseFloat(w(me.a))+K,!H&&c>1&&(q={style:q=(ge?cie.scrollingElement||die:fe).style,value:q["overflow"+me.a.toUpperCase()]},ge&&"scroll"!==Toe(uie)["overflow"+me.a.toUpperCase()]&&(q.style["overflow"+me.a.toUpperCase()]="scroll")),ple(Z,v,N),y=ble(Z),k=Doe(Z,!0),F=xe&&Zse(fe,T?Qse:Xse)(),ee?((C=[ee+me.os2,g+K+_oe]).t=v,(ie=ee===Soe?Poe(Z,me)+g+K:0)&&(C.push(me.d,ie+_oe),"auto"!==v.style.flexBasis&&(v.style.flexBasis=ie+_oe)),xle(C),ne&&Hoe.forEach(function(e){e.pin===ne&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),xe&&_e(L)):(ie=Poe(Z,me))&&"auto"!==v.style.flexBasis&&(v.style.flexBasis=ie+_oe),xe&&((O={top:k.top+(T?A-l:F)+_oe,left:k.left+(T?F:A-l)+_oe,boxSizing:"border-box",position:"fixed"})[yoe]=O["max"+Coe]=Math.ceil(k.width)+_oe,O[voe]=O["max"+Aoe]=Math.ceil(k.height)+_oe,O[koe]=O[koe+Noe]=O[koe+joe]=O[koe+Eoe]=O[koe+woe]="0",O[Soe]=N[Soe],O[Soe+Noe]=N[Soe+Noe],O[Soe+joe]=N[Soe+joe],O[Soe+Eoe]=N[Soe+Eoe],O[Soe+woe]=N[Soe+woe],b=function(e,t,r){for(var a,n=[],s=e.length,i=r?8:0;i<s;i+=2)a=e[i],n.push(a,a in t?t[a]:e[i+1]);return n.t=e.t,n}(x,O,oe),qie&&_e(0)),r?(I=r._initted,kie(1),r.render(r.duration(),!0,!0),S=w(me.a)-E+g+K,_=Math.abs(g-S)>1,xe&&_&&b.splice(b.length-2,2),r.render(0,!0,!0),I||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),kie(0)):S=g,q&&(q.value?q.style["overflow"+me.a.toUpperCase()]=q.value:q.style.removeProperty("overflow-"+me.a));$&&$.forEach(function(e){return e.revert(!1,!0)}),we.start=l,we.end=c,i=o=qie?L:_e(),ce||qie||(i<L&&_e(L),we.scroll.rec=0),we.revert(!1,!0),Ce=Vie(),R&&(ke=-1,R.restart(!0)),bie=0,r&&he&&(r._initted||z)&&r.progress()!==z&&r.progress(z||0,!0).render(r.time(),!0,!0),(W||Ae!==we.progress||ce||te||r&&!r._initted)&&(r&&!he&&(r._initted||Ae||!1!==r.vars.immediateRender)&&r.totalProgress(ce&&l<-.001&&!Ae?iie.utils.normalize(l,c,0):Ae,!0),we.progress=W||(i-l)/g===Ae?0:Ae),Z&&ee&&(v._pinOffset=Math.round(we.progress*S)),M&&M.invalidate(),isNaN(U)||(U-=iie.getProperty(m,me.p),B-=iie.getProperty(h,me.p),Ele(m,me,U),Ele(d,me,U-(j||0)),Ele(h,me,B),Ele(u,me,B-(j||0))),W&&!qie&&we.update(),!Q||qie||p||(p=!0,Q(we),p=!1)}},we.getVelocity=function(){return(_e()-o)/(Vie()-gie)*1e3||0},we.endAnimation=function(){hoe(we.callbackAnimation),r&&(M?M.progress(1):r.paused()?he||hoe(r,we.direction<0,1):hoe(r,r.reversed()))},we.labelToScroll=function(e){return r&&r.labels&&(l||we.refresh()||l)+r.labels[e]/r.duration()*g||0},we.getTrailing=function(e){var t=Hoe.indexOf(we),r=we.direction>0?Hoe.slice(0,t).reverse():Hoe.slice(t+1);return(coe(e)?r.filter(function(t){return t.vars.preventOverlaps===e}):r).filter(function(e){return we.direction>0?e.end<=l:e.start>=c})},we.update=function(e,t,n){if(!ce||n||e){var s,d,u,h,f,p,x,j=!0===qie?L:we.scroll(),w=e?0:(j-l)/g,C=w<0?0:w>1?1:w||0,O=we.progress;if(t&&(o=i,i=ce?_e():j,ie&&(P=D,D=r&&!he?r.totalProgress():C)),re&&Z&&!bie&&!Yie&&Wie&&(!C&&l<j+(j-o)/(Vie()-gie)*re?C=1e-4:1===C&&c>j+(j-o)/(Vie()-gie)*re&&(C=.9999)),C!==O&&we.enabled){if(h=(f=(s=we.isActive=!!C&&C<1)!=(!!O&&O<1))||!!C!=!!O,we.direction=C>O?1:-1,we.progress=C,h&&!bie&&(d=C&&!O?0:1===C?1:1===O?2:3,he&&(u=!f&&"none"!==ye[d+1]&&ye[d+1]||ye[d],x=r&&("complete"===u||"reset"===u||u in r))),ue&&(f||x)&&(x||X||!r)&&(doe(ue)?ue(we):we.getTrailing(ue).forEach(function(e){return e.endAnimation()})),he||(!M||bie||Yie?r&&r.totalProgress(C,!(!bie||!Ce&&!e)):(M._dp._time-M._start!==M._time&&M.render(M._dp._time-M._start),M.resetTo?M.resetTo("totalProgress",C,r._tTime/r._tDur):(M.vars.totalProgress=C,M.invalidate().restart()))),Z)if(e&&ee&&(v.style[ee+me.os2]=k),xe){if(h){if(p=!e&&C>O&&c+1>j&&j+1>=ooe(fe,me),oe)if(e||!s&&!p)wle(Z,v);else{var F=Doe(Z,!0),I=j-l;wle(Z,uie,F.top+(me===Xse?I:0)+_oe,F.left+(me===Xse?0:I)+_oe)}xle(s||p?b:y),_&&C<1&&s||N(E+(1!==C||p?0:S))}}else N(toe(E+S*C));ie&&!a.tween&&!bie&&!Yie&&R.restart(!0),W&&(f||se&&C&&(C<1||!zie))&&fie(W.targets).forEach(function(e){return e.classList[s||se?"add":"remove"](W.className)}),H&&!he&&!e&&H(we),h&&!bie?(he&&(x&&("complete"===u?r.pause().totalProgress(1):"reset"===u?r.restart(!0).pause():"restart"===u?r.restart(!0):r[u]()),H&&H(we)),!f&&zie||(K&&f&&foe(we,K),be[d]&&foe(we,be[d]),se&&(1===C?we.kill(!1,1):be[d]=0),f||be[d=1===C?1:3]&&foe(we,be[d])),de&&!s&&Math.abs(we.getVelocity())>(uoe(de)?de:2500)&&(hoe(we.callbackAnimation),M?M.progress(1):hoe(r,"reverse"===u?1:!C,1))):he&&H&&!bie&&H(we)}if(T){var z=ce?j/ce.duration()*(ce._caScrollDist||0):j;A(z+(m._isFlipped?1:0)),T(z)}$&&$(-j/ce.duration()*(ce._caScrollDist||0))}},we.enable=function(t,r){we.enabled||(we.enabled=!0,Roe(fe,"resize",Xoe),ge||Roe(fe,"scroll",Koe),Ne&&Roe(e,"refreshInit",Ne),!1!==t&&(we.progress=Ae=0,i=o=ke=_e()),!1!==r&&we.refresh())},we.getTween=function(e){return e&&a?a.tween:M},we.setPositions=function(e,t,r,a){if(ce){var n=ce.scrollTrigger,s=ce.duration(),i=n.end-n.start;e=n.start+i*e/s,t=n.start+i*t/s}we.refresh(!1,!1,{start:Qie(e,r&&!!we._startClamp),end:Qie(t,r&&!!we._endClamp)},a),we.update()},we.adjustPinSpacing=function(e){if(C&&e){var t=C.indexOf(me.d)+1;C[t]=parseFloat(C[t])+e+_oe,C[1]=parseFloat(C[1])+e+_oe,xle(C)}},we.disable=function(t,r){if(we.enabled&&(!1!==t&&we.revert(!0,!0),we.enabled=we.isActive=!1,r||M&&M.pause(),L=0,n&&(n.uncache=1),Ne&&Loe(e,"refreshInit",Ne),R&&(R.pause(),a.tween&&a.tween.kill()&&(a.tween=0)),!ge)){for(var s=Hoe.length;s--;)if(Hoe[s].scroller===fe&&Hoe[s]!==we)return;Loe(fe,"resize",Xoe),ge||Loe(fe,"scroll",Koe)}},we.kill=function(e,a){we.disable(e,a),M&&!a&&M.kill(),G&&delete Woe[G];var s=Hoe.indexOf(we);s>=0&&Hoe.splice(s,1),s===jie&&ule>0&&jie--,s=0,Hoe.forEach(function(e){return e.scroller===we.scroller&&(s=1)}),s||qie||(we.scroll.rec=0),r&&(r.scrollTrigger=null,e&&r.revert({kill:!1}),a||r.kill()),d&&[d,u,m,h].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),Bie===we&&(Bie=0),Z&&(n&&(n.uncache=1),s=0,Hoe.forEach(function(e){return e.pin===Z&&s++}),s||(n.spacer=0)),t.onKill&&t.onKill(we)},Hoe.push(we),we.enable(!1,!1),q&&q(we),r&&r.add&&!g){var Pe=we.update;we.update=function(){we.update=Pe,Lse.cache++,l||c||we.refresh()},iie.delayedCall(.01,we.update),g=.01,l=c=0}else we.refresh();Z&&function(){if(Uie!==ile){var e=Uie=ile;requestAnimationFrame(function(){return e===ile&&cle(!0)})}}()}else this.update=this.refresh=this.kill=eoe},e.register=function(t){return oie||(iie=t||aoe(),roe()&&window.document&&e.enable(),oie=Gie),oie},e.defaults=function(e){if(e)for(var t in e)qoe[t]=e[t];return qoe},e.disable=function(e,t){Gie=0,Hoe.forEach(function(r){return r[t?"kill":"disable"](e)}),Loe(lie,"wheel",Koe),Loe(cie,"scroll",Koe),clearInterval(xie),Loe(cie,"touchcancel",eoe),Loe(uie,"touchstart",eoe),Ioe(Loe,cie,"pointerdown,touchstart,mousedown",Jie),Ioe(Loe,cie,"pointerup,touchend,mouseup",Zie),hie.kill(),loe(Loe);for(var r=0;r<Lse.length;r+=3)zoe(Loe,Lse[r],Lse[r+1]),zoe(Loe,Lse[r],Lse[r+2])},e.enable=function(){if(lie=window,cie=document,die=cie.documentElement,uie=cie.body,iie&&(fie=iie.utils.toArray,pie=iie.utils.clamp,Pie=iie.core.context||eoe,kie=iie.core.suppressOverwrites||eoe,Mie=lie.history.scrollRestoration||"auto",dle=lie.pageYOffset||0,iie.core.globals("ScrollTrigger",e),uie)){Gie=1,(Fie=document.createElement("div")).style.height="100vh",Fie.style.position="absolute",ole(),Xie(),sie.register(iie),e.isTouch=sie.isTouch,Die=sie.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),_ie=1===sie.isTouch,Roe(lie,"wheel",Koe),mie=[lie,cie,die,uie],iie.matchMedia&&(e.matchMedia=function(e){var t,r=iie.matchMedia();for(t in e)r.add(t,e[t]);return r},iie.addEventListener("matchMediaInit",function(){return nle()}),iie.addEventListener("matchMediaRevert",function(){return ale()}),iie.addEventListener("matchMedia",function(){cle(0,1),tle("matchMedia")}),iie.matchMedia().add("(orientation: portrait)",function(){return Qoe(),Qoe})),Qoe(),Roe(cie,"scroll",Koe);var t,r,a=uie.hasAttribute("style"),n=uie.style,s=n.borderTopStyle,i=iie.core.Animation.prototype;for(i.revert||Object.defineProperty(i,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",t=Doe(uie),Xse.m=Math.round(t.top+Xse.sc())||0,Qse.m=Math.round(t.left+Qse.sc())||0,s?n.borderTopStyle=s:n.removeProperty("border-top-style"),a||(uie.setAttribute("style",""),uie.removeAttribute("style")),xie=setInterval(Goe,250),iie.delayedCall(.5,function(){return Yie=0}),Roe(cie,"touchcancel",eoe),Roe(uie,"touchstart",eoe),Ioe(Roe,cie,"pointerdown,touchstart,mousedown",Jie),Ioe(Roe,cie,"pointerup,touchend,mouseup",Zie),vie=iie.utils.checkPrefix("transform"),fle.push(vie),oie=Vie(),hie=iie.delayedCall(.2,cle).pause(),Eie=[cie,"visibilitychange",function(){var e=lie.innerWidth,t=lie.innerHeight;cie.hidden?(wie=e,Nie=t):wie===e&&Nie===t||Xoe()},cie,"DOMContentLoaded",cle,lie,"load",cle,lie,"resize",Xoe],loe(Roe),Hoe.forEach(function(e){return e.enable(0,1)}),r=0;r<Lse.length;r+=3)zoe(Loe,Lse[r],Lse[r+1]),zoe(Loe,Lse[r],Lse[r+2])}},e.config=function(t){"limitCallbacks"in t&&(zie=!!t.limitCallbacks);var r=t.syncInterval;r&&clearInterval(xie)||(xie=r)&&setInterval(Goe,r),"ignoreMobileResize"in t&&(_ie=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(loe(Loe)||loe(Roe,t.autoRefreshEvents||"none"),Cie=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var r=Jse(e),a=Lse.indexOf(r),n=noe(r);~a&&Lse.splice(a,n?6:2),t&&(n?zse.unshift(lie,t,uie,t,die,t):zse.unshift(r,t))},e.clearMatchMedia=function(e){Hoe.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,r){var a=(coe(e)?Jse(e):e).getBoundingClientRect(),n=a[r?yoe:voe]*t||0;return r?a.right-n>0&&a.left+n<lie.innerWidth:a.bottom-n>0&&a.top+n<lie.innerHeight},e.positionInViewport=function(e,t,r){coe(e)&&(e=Jse(e));var a=e.getBoundingClientRect(),n=a[r?yoe:voe],s=null==t?n/2:t in Uoe?Uoe[t]*n:~t.indexOf("%")?parseFloat(t)*n/100:parseFloat(t)||0;return r?(a.left+s)/lie.innerWidth:(a.top+s)/lie.innerHeight},e.killAll=function(e){if(Hoe.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=Joe.killAll||[];Joe={},t.forEach(function(e){return e()})}},e}();kle.version="3.13.0",kle.saveStyles=function(e){return e?fie(e).forEach(function(e){if(e&&e.style){var t=rle.indexOf(e);t>=0&&rle.splice(t,5),rle.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),iie.core.getCache(e),Pie())}}):rle},kle.revert=function(e,t){return nle(!e,t)},kle.create=function(e,t){return new kle(e,t)},kle.refresh=function(e){return e?Xoe(!0):(oie||kle.register())&&cle(!0)},kle.update=function(e){return++Lse.cache&&mle(!0===e?2:0)},kle.clearScrollMemory=sle,kle.maxScroll=function(e,t){return ooe(e,t?Qse:Xse)},kle.getScrollFunc=function(e,t){return Zse(Jse(e),t?Qse:Xse)},kle.getById=function(e){return Woe[e]},kle.getAll=function(){return Hoe.filter(function(e){return"ScrollSmoother"!==e.vars.id})},kle.isScrolling=function(){return!!Wie},kle.snapDirectional=Foe,kle.addEventListener=function(e,t){var r=Joe[e]||(Joe[e]=[]);~r.indexOf(t)||r.push(t)},kle.removeEventListener=function(e,t){var r=Joe[e],a=r&&r.indexOf(t);a>=0&&r.splice(a,1)},kle.batch=function(e,t){var r,a=[],n={},s=t.interval||.016,i=t.batchMax||1e9,o=function(e,t){var r=[],a=[],n=iie.delayedCall(s,function(){t(r,a),r=[],a=[]}).pause();return function(e){r.length||n.restart(!0),r.push(e.trigger),a.push(e),i<=r.length&&n.progress(1)}};for(r in t)n[r]="on"===r.substr(0,2)&&doe(t[r])&&"onRefreshInit"!==r?o(0,t[r]):t[r];return doe(i)&&(i=i(),Roe(kle,"refresh",function(){return i=t.batchMax()})),fie(e).forEach(function(e){var t={};for(r in n)t[r]=n[r];t.trigger=e,a.push(kle.create(t))}),a};var Cle,Ale=function(e,t,r,a){return t>a?e(a):t<0&&e(0),r>a?(a-t)/(r-t):r<0?t/(t-r):1},_le=function e(t,r){!0===r?t.style.removeProperty("touch-action"):t.style.touchAction=!0===r?"auto":r?"pan-"+r+(sie.isTouch?" pinch-zoom":""):"none",t===die&&e(uie,r)},Tle={auto:1,scroll:1},Ole=function(e){var t,r=e.event,a=e.target,n=e.axis,s=(r.changedTouches?r.changedTouches[0]:r).target,i=s._gsap||iie.core.getCache(s),o=Vie();if(!i._isScrollT||o-i._isScrollT>2e3){for(;s&&s!==uie&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!Tle[(t=Toe(s)).overflowY]&&!Tle[t.overflowX]);)s=s.parentNode;i._isScroll=s&&s!==a&&!noe(s)&&(Tle[(t=Toe(s)).overflowY]||Tle[t.overflowX]),i._isScrollT=o}(i._isScroll||"x"===n)&&(r.stopPropagation(),r._gsapAllow=!0)},Dle=function(e,t,r,a){return sie.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:a=a&&Ole,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return r&&Roe(cie,sie.eventTypes[0],Mle,!1,!0)},onDisable:function(){return Loe(cie,sie.eventTypes[0],Mle,!0)}})},Ple=/(input|label|select|textarea)/i,Mle=function(e){var t=Ple.test(e.target.tagName);(t||Cle)&&(e._gsapAllow=!0,Cle=t)},Fle=function(e){moe(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,r,a,n,s,i,o,l,c=e,d=c.normalizeScrollX,u=c.momentum,m=c.allowNestedScroll,h=c.onRelease,f=Jse(e.target)||die,p=iie.core.globals().ScrollSmoother,g=p&&p.get(),x=Die&&(e.content&&Jse(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),b=Zse(f,Xse),y=Zse(f,Qse),v=1,j=(sie.isTouch&&lie.visualViewport?lie.visualViewport.scale*lie.visualViewport.width:lie.outerWidth)/lie.innerWidth,w=0,N=doe(u)?function(){return u(t)}:function(){return u||2.8},E=Dle(f,e.type,!0,m),S=function(){return n=!1},k=eoe,C=eoe,A=function(){r=ooe(f,Xse),C=pie(Die?1:0,r),d&&(k=pie(0,ooe(f,Qse))),a=ile},_=function(){x._gsap.y=toe(parseFloat(x._gsap.y)+b.offset)+"px",x.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(x._gsap.y)+", 0, 1)",b.offset=b.cacheID=0},T=function(){A(),s.isActive()&&s.vars.scrollY>r&&(b()>r?s.progress(1)&&b(r):s.resetTo("scrollY",r))};return x&&iie.set(x,{y:"+=0"}),e.ignoreCheck=function(e){return Die&&"touchmove"===e.type&&function(){if(n){requestAnimationFrame(S);var e=toe(t.deltaY/2),r=C(b.v-e);if(x&&r!==b.v+b.offset){b.offset=r-b.v;var a=toe((parseFloat(x&&x._gsap.y)||0)-b.offset);x.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+a+", 0, 1)",x._gsap.y=a+"px",b.cacheID=Lse.cache,mle()}return!0}b.offset&&_(),n=!0}()||v>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){n=!1;var e=v;v=toe((lie.visualViewport&&lie.visualViewport.scale||1)/j),s.pause(),e!==v&&_le(f,v>1.01||!d&&"x"),i=y(),o=b(),A(),a=ile},e.onRelease=e.onGestureStart=function(e,t){if(b.offset&&_(),t){Lse.cache++;var a,n,i=N();d&&(n=(a=y())+.05*i*-e.velocityX/.227,i*=Ale(y,a,n,ooe(f,Qse)),s.vars.scrollX=k(n)),n=(a=b())+.05*i*-e.velocityY/.227,i*=Ale(b,a,n,ooe(f,Xse)),s.vars.scrollY=C(n),s.invalidate().duration(i).play(.01),(Die&&s.vars.scrollY>=r||a>=r-1)&&iie.to({},{onUpdate:T,duration:i})}else l.restart(!0);h&&h(e)},e.onWheel=function(){s._ts&&s.pause(),Vie()-w>1e3&&(a=0,w=Vie())},e.onChange=function(e,t,r,n,s){if(ile!==a&&A(),t&&d&&y(k(n[2]===t?i+(e.startX-e.x):y()+t-n[1])),r){b.offset&&_();var l=s[2]===r,c=l?o+e.startY-e.y:b()+r-s[1],u=C(c);l&&c!==u&&(o+=u-c),b(u)}(r||t)&&mle()},e.onEnable=function(){_le(f,!d&&"x"),kle.addEventListener("refresh",T),Roe(lie,"resize",T),b.smooth&&(b.target.style.scrollBehavior="auto",b.smooth=y.smooth=!1),E.enable()},e.onDisable=function(){_le(f,!0),Loe(lie,"resize",T),kle.removeEventListener("refresh",T),E.kill()},e.lockAxis=!1!==e.lockAxis,(t=new sie(e)).iOS=Die,Die&&!b()&&b(1),Die&&iie.ticker.add(eoe),l=t._dc,s=iie.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:d?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Nle(b,b(),function(){return s.pause()})},onUpdate:mle,onComplete:l.vars.onComplete}),t};kle.sort=function(e){if(doe(e))return Hoe.sort(e);var t=lie.pageYOffset||0;return kle.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+lie.innerHeight}),Hoe.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},kle.observe=function(e){return new sie(e)},kle.normalizeScroll=function(e){if(void 0===e)return Aie;if(!0===e&&Aie)return Aie.enable();if(!1===e)return Aie&&Aie.kill(),void(Aie=e);var t=e instanceof sie?e:Fle(e);return Aie&&Aie.target===t.target&&Aie.kill(),noe(t.target)&&(Aie=t),t},kle.core={_getVelocityProp:eie,_inputObserver:Dle,_scrollers:Lse,_proxies:zse,bridge:{ss:function(){Wie||tle("scrollStart"),Wie=Vie()},ref:function(){return bie}}},aoe()&&iie.registerPlugin(kle);
/*!
     * SplitText 3.13.0
     * https://gsap.com
     *
     * @license Copyright 2025, GreenSock. All rights reserved. Subject to the terms at https://gsap.com/standard-license.
     * @author: Jack Doyle
     */
let Ile,Rle,Lle,zle="undefined"!=typeof Intl?new Intl.Segmenter:0,$le=e=>"string"==typeof e?$le(document.querySelectorAll(e)):"length"in e?Array.from(e):[e],qle=e=>$le(e).filter(e=>e instanceof HTMLElement),Ule=[],Ble=function(){},Yle=/\s+/g,Vle=new RegExp("\\p{RI}\\p{RI}|\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?(\\u{200D}\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?)*|.","gu"),Hle={left:0,top:0,width:0,height:0},Wle=(e,t)=>{if(t){let r,a,n,s,i=new Set(e.join("").match(t)||Ule),o=e.length;if(i.size)for(;--o>-1;)for(n of(a=e[o],i))if(n.startsWith(a)&&n.length>a.length){for(r=0,s=a;n.startsWith(s+=e[o+ ++r])&&s.length<n.length;);if(r&&s.length===n.length){e[o]=n,e.splice(o+1,r);break}}}return e},Gle=e=>"inline"===window.getComputedStyle(e).display&&(e.style.display="inline-block"),Kle=(e,t,r)=>t.insertBefore("string"==typeof e?document.createTextNode(e):e,r),Qle=(e,t,r)=>{let a=t[e+"sClass"]||"",{tag:n="div",aria:s="auto",propIndex:i=!1}=t,o="line"===e?"block":"inline-block",l=a.indexOf("++")>-1,c=t=>{let c=document.createElement(n),d=r.length+1;return a&&(c.className=a+(l?" "+a+d:"")),i&&c.style.setProperty("--"+e,d+""),"none"!==s&&c.setAttribute("aria-hidden","true"),"span"!==n&&(c.style.position="relative",c.style.display=o),c.textContent=t,r.push(c),c};return l&&(a=a.replace("++","")),c.collection=r,c},Xle=(e,t,r,a,n,s,i,o,l,c)=>{var d;let u,m,h,f,p,g,x,b,y,v,j,w,N,E,S,k,C,A,_=Array.from(e.childNodes),T=0,{wordDelimiter:O,reduceWhiteSpace:D=!0,prepareText:P}=t,M=e.getBoundingClientRect(),F=M,I=!D&&"pre"===window.getComputedStyle(e).whiteSpace.substring(0,3),R=0,L=r.collection;for("object"==typeof O?(h=O.delimiter||O,m=O.replaceWith||""):m=""===O?"":O||" ",u=" "!==m;T<_.length;T++)if(f=_[T],3===f.nodeType){for(S=f.textContent||"",D?S=S.replace(Yle," "):I&&(S=S.replace(/\n/g,m+"\n")),P&&(S=P(S,e)),f.textContent=S,p=m||h?S.split(h||m):S.match(o)||Ule,C=p[p.length-1],b=u?" "===C.slice(-1):!C,C||p.pop(),F=M,x=u?" "===p[0].charAt(0):!p[0],x&&Kle(" ",e,f),p[0]||p.shift(),Wle(p,l),s&&c||(f.textContent=""),y=1;y<=p.length;y++)if(k=p[y-1],!D&&I&&"\n"===k.charAt(0)&&(null==(d=f.previousSibling)||d.remove(),Kle(document.createElement("br"),e,f),k=k.slice(1)),D||""!==k)if(" "===k)e.insertBefore(document.createTextNode(" "),f);else{if(u&&" "===k.charAt(0)&&Kle(" ",e,f),R&&1===y&&!x&&L.indexOf(R.parentNode)>-1?(g=L[L.length-1],g.appendChild(document.createTextNode(a?"":k))):(g=r(a?"":k),Kle(g,e,f),R&&1===y&&!x&&g.insertBefore(R,g.firstChild)),a)for(j=zle?Wle([...zle.segment(k)].map(e=>e.segment),l):k.match(o)||Ule,A=0;A<j.length;A++)g.appendChild(" "===j[A]?document.createTextNode(" "):a(j[A]));if(s&&c){if(S=f.textContent=S.substring(k.length+1,S.length),v=g.getBoundingClientRect(),v.top>F.top&&v.left<=F.left){for(w=e.cloneNode(),N=e.childNodes[0];N&&N!==g;)E=N,N=N.nextSibling,w.appendChild(E);e.parentNode.insertBefore(w,e),n&&Gle(w)}F=v}(y<p.length||b)&&Kle(y>=p.length?" ":u&&" "===k.slice(-1)?" "+m:m,e,f)}else Kle(m,e,f);e.removeChild(f),R=0}else 1===f.nodeType&&(i&&i.indexOf(f)>-1?(L.indexOf(f.previousSibling)>-1&&L[L.length-1].appendChild(f),R=f):(Xle(f,t,r,a,n,s,i,o,l,!0),R=0),n&&Gle(f))};const Jle=class e{constructor(e,t){this.isSplit=!1,Lle||Zle.register(window.gsap),this.elements=qle(e),this.chars=[],this.words=[],this.lines=[],this.masks=[],this.vars=t,this._split=()=>this.isSplit&&this.split(this.vars);let r,a=[],n=()=>{let e,t=a.length;for(;t--;){e=a[t];let r=e.element.offsetWidth;if(r!==e.width)return e.width=r,void this._split()}};this._data={orig:a,obs:"undefined"!=typeof ResizeObserver&&new ResizeObserver(()=>{clearTimeout(r),r=setTimeout(n,200)})},Ble(this),this.split(t)}split(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars||{};let t,{type:r="chars,words,lines",aria:a="auto",deepSlice:n=!0,smartWrap:s,onSplit:i,autoSplit:o=!1,specialChars:l,mask:c}=this.vars,d=r.indexOf("lines")>-1,u=r.indexOf("chars")>-1,m=r.indexOf("words")>-1,h=u&&!m&&!d,f=l&&("push"in l?new RegExp("(?:"+l.join("|")+")","gu"):l),p=f?new RegExp(f.source+"|"+Vle.source,"gu"):Vle,g=!!e.ignore&&qle(e.ignore),{orig:x,animTime:b,obs:y}=this._data;return(u||m||d)&&(this.elements.forEach((t,r)=>{x[r]={element:t,html:t.innerHTML,ariaL:t.getAttribute("aria-label"),ariaH:t.getAttribute("aria-hidden")},"auto"===a?t.setAttribute("aria-label",(t.textContent||"").trim()):"hidden"===a&&t.setAttribute("aria-hidden","true");let i,o,l,c,b=[],y=[],v=[],j=u?Qle("char",e,b):null,w=Qle("word",e,y);if(Xle(t,e,w,j,h,n&&(d||h),g,p,f,!1),d){let r,a=$le(t.childNodes),n=((e,t,r,a)=>{let n=Qle("line",r,a),s=window.getComputedStyle(e).textAlign||"left";return(r,a)=>{let i=n("");for(i.style.textAlign=s,e.insertBefore(i,t[r]);r<a;r++)i.appendChild(t[r]);i.normalize()}})(t,a,e,v),s=[],o=0,l=a.map(e=>1===e.nodeType?e.getBoundingClientRect():Hle),c=Hle;for(i=0;i<a.length;i++)r=a[i],1===r.nodeType&&("BR"===r.nodeName?(s.push(r),n(o,i+1),o=i+1,c=l[o]):(i&&l[i].top>c.top&&l[i].left<=c.left&&(n(o,i),o=i),c=l[i]));o<i&&n(o,i),s.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})}if(!m){for(i=0;i<y.length;i++)if(o=y[i],u||!o.nextSibling||3!==o.nextSibling.nodeType)if(s&&!d){for(l=document.createElement("span"),l.style.whiteSpace="nowrap";o.firstChild;)l.appendChild(o.firstChild);o.replaceWith(l)}else o.replaceWith(...o.childNodes);else c=o.nextSibling,c&&3===c.nodeType&&(c.textContent=(o.textContent||"")+(c.textContent||""),o.remove());y.length=0,t.normalize()}this.lines.push(...v),this.words.push(...y),this.chars.push(...b)}),c&&this[c]&&this.masks.push(...this[c].map(e=>{let t=e.cloneNode();return e.replaceWith(t),t.appendChild(e),e.className&&(t.className=e.className.replace(/(\b\w+\b)/g,"$1-mask")),t.style.overflow="clip",t}))),this.isSplit=!0,Rle&&(o?Rle.addEventListener("loadingdone",this._split):Rle.status),(t=i&&i(this))&&t.totalTime&&(this._data.anim=b?t.totalTime(b):t),d&&o&&this.elements.forEach((e,t)=>{x[t].width=e.offsetWidth,y&&y.observe(e)}),this}revert(){var e,t;let{orig:r,anim:a,obs:n}=this._data;return n&&n.disconnect(),r.forEach(({element:e,html:t,ariaL:r,ariaH:a})=>{e.innerHTML=t,r?e.setAttribute("aria-label",r):e.removeAttribute("aria-label"),a?e.setAttribute("aria-hidden",a):e.removeAttribute("aria-hidden")}),this.chars.length=this.words.length=this.lines.length=r.length=this.masks.length=0,this.isSplit=!1,null==Rle||Rle.removeEventListener("loadingdone",this._split),a&&(this._data.animTime=a.totalTime(),a.revert()),null==(t=(e=this.vars).onRevert)||t.call(e,this),this}static create(t,r){return new e(t,r)}static register(e){Ile=Ile||e||window.gsap,Ile&&($le=Ile.utils.toArray,Ble=Ile.core.context||Ble),!Lle&&window.innerWidth>0&&(Rle=document.fonts,Lle=!0)}};Jle.version="3.13.0";let Zle=Jle;vse.registerPlugin(kle,Zle);const ece=({text:e,className:r="",delay:a=100,duration:n=.6,ease:s="power3.out",splitType:i="chars",from:o={opacity:0,y:40},to:l={opacity:1,y:0},threshold:c=.1,rootMargin:d="-100px",textAlign:u="center",tag:m="p",onLetterAnimationComplete:h})=>{const f=t.useRef(null);return t.useEffect(()=>{if(!f.current||!e)return;const t=f.current,r=()=>{if(t._splitInstance){try{t._splitInstance.revert()}catch(x){}t._splitInstance=null}const e=100*(1-c),r=/^(-?\d+(?:\.\d+)?)(px|em|rem|%)?$/.exec(d),u=r?parseFloat(r[1]):0,m=r&&r[2]||"px",f=`top ${e}%${0===u?"":u<0?`-=${Math.abs(u)}${m}`:`+=${u}${m}`}`;let p;try{const e=new Zle(t,{type:i,linesClass:"split-line",wordsClass:"split-word",charsClass:"split-char"});g=e,i.includes("chars")&&g.chars.length&&(p=g.chars),!p&&i.includes("words")&&g.words.length&&(p=g.words),!p&&i.includes("lines")&&g.lines.length&&(p=g.lines),p||(p=g.chars||g.words||g.lines),vse.fromTo(p,{...o},{...l,duration:n,ease:s,stagger:a/1e3,scrollTrigger:{trigger:t,start:f,once:!0},onComplete:()=>{h?.()}}),t._splitInstance=e}catch(b){}var g};return document.fonts&&document.fonts.ready?document.fonts.ready.then(()=>{setTimeout(r,100)}):setTimeout(r,500),()=>{kle.getAll().forEach(e=>{e.trigger===t&&e.kill()});try{t._splitInstance&&t._splitInstance.revert()}catch(e){}}},[e,a,n,s,i,o.opacity,o.y,l.opacity,l.y,c,d,h]),(()=>{const t={textAlign:u,overflow:"hidden"},a=`split-parent ${r}`;switch(m){case"h1":return It.jsx("h1",{ref:f,style:t,className:a,children:e});case"h2":return It.jsx("h2",{ref:f,style:t,className:a,children:e});case"h3":return It.jsx("h3",{ref:f,style:t,className:a,children:e});case"h4":return It.jsx("h4",{ref:f,style:t,className:a,children:e});case"h5":return It.jsx("h5",{ref:f,style:t,className:a,children:e});case"h6":return It.jsx("h6",{ref:f,style:t,className:a,children:e});default:return It.jsx("p",{ref:f,style:t,className:a,children:e})}})()},tce=()=>{const{user:e}=Sa(),{chartData:r,dashboardData:a,loading:n,error:s,refreshData:i}=(()=>{const[e,r]=t.useState({aulas:{total:0,data:[],loading:!0},estudiantes:{total:0,porAula:{},loading:!0},estadisticas:{asistenciaPromedio:0,evaluacionesCompletadas:0,metasCompletadas:0,loading:!0}}),[a,n]=t.useState(null),s=async()=>{try{const e=localStorage.getItem("auth-storage");if(!e)throw new Error("No se encontr informacin de autenticacin");const t=JSON.parse(e),a=t.state?.user?.entidadId;if(!a)throw new Error("No se encontr ID de entidad");const n=t.state?.token;if(!n)throw new Error("No se encontr token de autenticacin");const s="http://localhost:3000/api/v1",o=await fetch(`${s}/trabajador/aulas/${a}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!o.ok)throw new Error("Error al obtener aulas del profesor");const l=await o.json();l.success&&l.aulas?(r(e=>({...e,aulas:{total:l.aulas.length,data:l.aulas,loading:!1}})),await i(l.aulas)):r(e=>({...e,aulas:{total:0,data:[],loading:!1}}))}catch(e){n(e.message),r(e=>({...e,aulas:{...e.aulas,loading:!1}}))}},i=async e=>{try{const a=localStorage.getItem("auth-storage");if(!a)return;const n=JSON.parse(a),s=n.state?.token;if(!s)return;const i="http://localhost:3000/api/v1";let o=0;const l={};for(const r of e)try{const e=r.id_aula||r.idAula||r.id,t=await fetch(`${i}/estudiante/aula/${e}`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(t.ok){const r=await t.json();r.success&&r.estudiantes&&(l[e]=r.estudiantes,o+=r.estudiantes.length)}}catch(t){}r(e=>({...e,estudiantes:{total:o,porAula:l,loading:!1}}))}catch(t){r(e=>({...e,estudiantes:{...e.estudiantes,loading:!1}}))}},o=()=>{const e=Math.floor(20*Math.random())+80,t=Math.floor(20*Math.random())+10,a=Math.floor(10*Math.random())+5;r(r=>({...r,estadisticas:{asistenciaPromedio:e,evaluacionesCompletadas:t,metasCompletadas:a,loading:!1}}))};t.useEffect(()=>{s(),o()},[]);const l=t.useMemo(()=>[{title:"Mis Estudiantes",value:e.estudiantes.total.toString(),icon:oe,color:"#3B82F6",change:e.estudiantes.loading?"...":"+2 nuevos",loading:e.estudiantes.loading},{title:"Aulas Asignadas",value:e.aulas.total.toString(),icon:Z,color:"#10B981",change:"Activas",loading:e.aulas.loading},{title:"Asistencia Promedio",value:`${e.estadisticas.asistenciaPromedio}%`,icon:Ae,color:"#F59E0B",change:e.estadisticas.loading?"...":"+3% esta semana",loading:e.estadisticas.loading},{title:"Metas Completadas",value:`${e.estadisticas.metasCompletadas}/15`,icon:gt,color:"#8B5CF6",change:`${Math.round(e.estadisticas.metasCompletadas/15*100)}% progreso`,loading:e.estadisticas.loading}],[e]),c=t.useMemo(()=>e.aulas.data.map(t=>{const r=t.id_aula||t.idAula||t.id,a=e.estudiantes.porAula[r]||[];return{name:`${t.grado||t.nombre||"Sin grado"} - ${t.seccion||"A"}`,estudiantes:a.length,capacidad:t.capacidad||25,disponibles:(t.capacidad||25)-a.length}}),[e.aulas.data,e.estudiantes.porAula]);return{stats:l,dashboardData:e,chartData:c,loading:e.aulas.loading||e.estudiantes.loading||e.estadisticas.loading,refreshData:async()=>{try{n(null),r(e=>({...e,aulas:{...e.aulas,loading:!0},estudiantes:{...e.estudiantes,loading:!0},estadisticas:{...e.estadisticas,loading:!0}})),await s(),o()}catch(e){n("Error al refrescar los datos del dashboard")}},error:a}})(),o=t.useMemo(()=>{const e=a?.estudiantes?.porAula||{},t=a?.aulas?.data||[],r=Object.values(e).reduce((e,t)=>e+(Array.isArray(t)?t.length:0),0),n=t.length;return[{title:"Mis Estudiantes",value:r.toString(),change:`${n} aulas`,icon:oe,color:"#3B82F6"},{title:"Mis Aulas",value:n.toString(),change:"Asignadas",icon:ce,color:"#10B981"},{title:"Promedio por Aula",value:n>0?Math.round(r/n).toString():"0",change:"estudiantes",icon:Z,color:"#F59E0B"},{title:"Total de Datos",value:(r+n).toString(),change:"activos",icon:se,color:"#8B5CF6"}]},[a]);return It.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[It.jsx(ece,{text:`Bienvenido,\n${e?.nombre||""}`,className:"text-6xl font-bold mb-6 text-gray-700 whitespace-pre-line",delay:50,duration:.6,ease:"power3.out",splitType:"chars",from:{opacity:0,y:40},to:{opacity:1,y:0},threshold:.1,rootMargin:"-100px",textAlign:"left",tag:"p"}),It.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:o.map((e,t)=>{const r=e.icon;return It.jsxs("div",{className:"bg-white p-4 lg:p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:`${e.color}15`,color:e.color},children:It.jsx(r,{className:"w-6 h-6"})}),It.jsx(Ae,{className:"w-4 h-4 text-green-500"})]}),It.jsxs("div",{children:[It.jsx("h3",{className:"text-xl lg:text-2xl font-bold text-gray-900 mb-1",children:e.value}),It.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.title}),It.jsx("span",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:e.change})]})]},t)})}),It.jsx("div",{className:"bg-gradient-to-r from-green-700 to-green-600 rounded-xl shadow-sm p-4 lg:p-6 text-white",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-4",children:[It.jsx("div",{className:"p-3 bg-green-700 bg-opacity-20 rounded-lg",children:It.jsx(we,{className:"w-8 h-8"})}),It.jsxs("div",{children:[It.jsx("h3",{className:"text-lg font-semibold",children:"Asistente IA Educativo"}),It.jsx("p",{className:"text-green-100",children:"Necesitas ideas para tu prxima clase?"})]})]}),It.jsx(c,{to:"/teacher/ai-chat",className:"bg-white text-green-600 hover:bg-green-50 px-4 py-2 rounded-lg transition-all duration-200 font-medium",children:"DIsponible pronto..."})]})}),It.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[It.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b border-gray-100",children:[It.jsxs("h3",{className:"flex items-center space-x-2 text-lg font-semibold text-gray-900",children:[It.jsx(se,{className:"w-5 h-5 text-gray-600"}),It.jsx("span",{children:"Estadsticas de Mis Aulas"})]}),It.jsxs("button",{onClick:i,disabled:n,className:"flex items-center space-x-2 text-sm text-green-600 hover:text-green-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[It.jsx(Ce,{className:"w-4 h-4 "+(n?"animate-spin":"")}),It.jsx("span",{children:"Actualizar"})]})]}),It.jsx("div",{className:"p-4 lg:p-6",children:n?It.jsxs("div",{className:"flex items-center justify-center py-8",children:[It.jsx(Ce,{className:"w-8 h-8 animate-spin text-green-600"}),It.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando datos..."})]}):s?It.jsxs("div",{className:"flex items-center justify-center py-8",children:[It.jsx(j,{className:"w-8 h-8 text-red-600"}),It.jsxs("span",{className:"ml-2 text-red-600",children:["Error al cargar datos: ",s]})]}):It.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[It.jsx(gee,{data:r}),It.jsx(xee,{data:r})]})})]})]})},rce=()=>{const[e,r]=t.useState([{id:1,type:"ai",content:" Hola! Soy tu **Asistente Pedaggico EDA** potenciado por ChatGPT.\n\n Estoy especializado en ayudarte con:\n Planificacin de clases innovadoras\n Estrategias de enseanza efectivas\n Manejo del aula y disciplina positiva\n Evaluacin y recursos educativos\n Resolucin de desafos pedaggicos\n\n **En qu puedo ayudarte hoy?** Puedes preguntarme sobre cualquier tema educativo o usar las consultas rpidas de abajo.",timestamp:new Date(Date.now()-6e4)}]),[a,n]=t.useState(""),[s,i]=t.useState(!1),[o,l]=t.useState([]),[c,d]=t.useState("checking"),[u,m]=t.useState(!1),h=t.useRef(null);t.useEffect(()=>{oee.isConfigured()?d("connected"):d("error")},[]),t.useEffect(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[e]);const f=async(e=a)=>{if(!e.trim())return;const t={id:Date.now(),type:"user",content:e,timestamp:new Date};r(e=>[...e,t]),n(""),await(async e=>{i(!0);try{const t=o.slice(-6),a=await oee.sendMessage(e,t),n={id:Date.now(),type:"ai",content:a,timestamp:new Date};r(e=>[...e,n]),l(t=>[...t,{role:"user",content:e},{role:"assistant",content:a}])}catch(t){const e={id:Date.now(),type:"ai",content:" **Disculpa, hay un problema temporal**\n\nNo pude procesar tu consulta en este momento. Esto puede deberse a:\n\n Configuracin de API pendiente\n Problemas de conectividad\n Lmites de uso alcanzados\n\n **Mientras tanto:**\n Usa las consultas frecuentes\n Intenta reformular tu pregunta\n Contacta al soporte tcnico\n\nTe gustara intentar con una pregunta ms especfica?",timestamp:new Date};r(t=>[...t,e])}i(!1)})(e)};return It.jsxs("div",{className:"flex flex-col "+(u?"fixed inset-0 z-50 bg-white":"h-full"),children:[It.jsx("div",{className:"bg-white border-b border-gray-200 p-3 md:p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 min-w-0 flex-1",children:[It.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:It.jsx(te,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),It.jsxs("div",{className:"min-w-0 flex-1",children:[It.jsxs("h1",{className:"text-base md:text-lg font-semibold text-gray-900 flex items-center space-x-2 truncate",children:[It.jsx("span",{children:"Asistente Pedaggico IA"}),It.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full hidden sm:inline",children:"ChatGPT"})]}),It.jsxs("div",{className:"flex items-center space-x-2",children:["connected"===c&&It.jsxs("div",{className:"flex items-center space-x-1",children:[It.jsx(S,{className:"w-3 h-3 text-green-500"}),It.jsx("span",{className:"text-xs md:text-sm text-green-600 truncate",children:"En lnea  Listo para ayudar"})]}),"error"===c&&It.jsxs("div",{className:"flex items-center space-x-1",children:[It.jsx(j,{className:"w-3 h-3 text-orange-500"}),It.jsx("span",{className:"text-xs md:text-sm text-orange-600",children:"Configuracin pendiente"})]}),"checking"===c&&It.jsx("span",{className:"text-xs md:text-sm text-gray-500",children:"Verificando conexin..."})]})]})]}),It.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 ml-2",children:[It.jsx("button",{onClick:()=>{m(!u)},className:"p-1.5 md:p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:u?"Salir de pantalla completa":"Pantalla completa",children:u?It.jsx(ht,{className:"w-4 h-4"}):It.jsx(ft,{className:"w-4 h-4"})}),It.jsx("button",{onClick:()=>{r([{id:1,type:"ai",content:" **Conversacin reiniciada**\n\n Hola de nuevo! Soy tu **Asistente Pedaggico EDA**.\n\nEn qu nuevo desafo educativo puedo ayudarte hoy?",timestamp:new Date}]),l([])},className:"p-1.5 md:p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:"Limpiar conversacin",children:It.jsx(Ce,{className:"w-4 h-4"})}),It.jsx("button",{className:"p-1.5 md:p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 md:hidden",children:It.jsx(pt,{className:"w-4 h-4"})})]})]})}),"      ",!1,It.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4 bg-gray-50",children:[e.map(e=>{return It.jsx("div",{className:"flex "+("user"===e.type?"justify-end":"justify-start"),children:It.jsxs("div",{className:"flex space-x-2 md:space-x-3 max-w-[85%] md:max-w-3xl "+("user"===e.type?"flex-row-reverse space-x-reverse":""),children:[It.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full flex items-center justify-center flex-shrink-0 "+("user"===e.type?"bg-green-600 text-white":"bg-gradient-to-r from-green-500 to-blue-600 text-white"),children:"user"===e.type?It.jsx(ee,{className:"w-3 h-3 md:w-4 md:h-4"}):It.jsx(we,{className:"w-3 h-3 md:w-4 md:h-4"})}),It.jsxs("div",{className:"rounded-2xl p-3 md:p-4 "+("user"===e.type?"bg-green-600 text-white":"bg-white border border-gray-200 text-gray-900"),children:[It.jsx("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:e.content.split("\n").map((e,t)=>{if(e.includes("**")){const r=e.split(/(\*\*.*?\*\*)/g);return It.jsx("div",{className:t>0?"mt-2":"",children:r.map((e,t)=>e.startsWith("**")&&e.endsWith("**")?It.jsx("strong",{className:"font-semibold",children:e.slice(2,-2)},t):It.jsx("span",{children:e},t))},t)}return e.startsWith("")||e.startsWith("-")||/^\d+\./.test(e.trim())?It.jsx("div",{className:"ml-2 mt-1",children:e},t):It.jsx("div",{className:t>0?"mt-2":"",children:e||""},t)})}),It.jsx("div",{className:"text-xs mt-2 "+("user"===e.type?"text-green-100":"text-gray-400"),children:(t=e.timestamp,t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}))})]})]})},e.id);var t}),s&&It.jsx("div",{className:"flex justify-start",children:It.jsxs("div",{className:"flex space-x-2 md:space-x-3 max-w-[85%] md:max-w-3xl",children:[It.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-green-500 to-blue-600 flex items-center justify-center",children:It.jsx(we,{className:"w-3 h-3 md:w-4 md:h-4 text-white"})}),It.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-3 md:p-4",children:It.jsxs("div",{className:"flex space-x-1",children:[It.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),It.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),It.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),It.jsx("div",{ref:h})]}),"      ",It.jsxs("div",{className:"bg-white border-t border-gray-200 p-3 md:p-4",children:[It.jsxs("div",{className:"flex items-end space-x-2 md:space-x-3",children:[It.jsx("div",{className:"flex-1",children:It.jsx("div",{className:"relative",children:It.jsx("textarea",{value:a,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())},placeholder:"Pregntame sobre pedagoga, clases, estudiantes...",className:"w-full p-3 pr-12 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-green-500 focus:border-green-500 max-h-32 text-sm md:text-base",rows:"1",style:{minHeight:"44px"}})})}),It.jsx("button",{onClick:()=>f(),disabled:!a.trim()||s,className:"p-3 rounded-lg transition-colors flex-shrink-0 "+(a.trim()&&!s?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:It.jsx(ut,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),It.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[It.jsx("span",{className:"hidden sm:inline",children:"Presiona Enter para enviar, Shift+Enter para nueva lnea"}),It.jsx("span",{className:"sm:hidden",children:"Enter para enviar"}),It.jsxs("div",{className:"flex items-center space-x-2",children:["connected"===c&&It.jsxs("span",{className:"flex items-center space-x-1 text-green-600",children:[It.jsx(S,{className:"w-3 h-3"}),It.jsx("span",{className:"hidden sm:inline",children:"ChatGPT Conectado"}),It.jsx("span",{className:"sm:hidden",children:"Conectado"})]}),"error"===c&&It.jsxs("span",{className:"flex items-center space-x-1 text-orange-600",children:[It.jsx(j,{className:"w-3 h-3"}),It.jsx("span",{className:"hidden sm:inline",children:"API no configurada"}),It.jsx("span",{className:"sm:hidden",children:"Error"})]}),It.jsx("span",{className:"hidden md:inline",children:"EDA IA v2.1"})]})]})]})]})},ace=cq({nombreActividad:Q$().required("El nombre de la actividad es requerido").trim(),descripcion:Q$().required("La descripcin es requerida").trim(),fechaInicio:Q$().required("La fecha de inicio es requerida"),fechaFin:Q$().required("La fecha de fin es requerida"),horaInicio:Q$().required("La hora de inicio es requerida"),horaFin:Q$().required("La hora de fin es requerida"),idAulas:uq().of(Q$()).min(1,"Debe seleccionar al menos un aula").required("El aula es requerida"),idTrabajador:Q$().required("El ID del trabajador es requerido").trim()}),nce=({label:e,error:t,required:r,children:a,className:n=""})=>It.jsxs("div",{className:n,children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",r&&It.jsx("span",{className:"text-red-500",children:"*"})]}),a,t&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:t})]}),sce=({title:e,icon:t,iconColor:r,children:a})=>It.jsxs("div",{children:[It.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[It.jsx(t,{className:`w-5 h-5 ${r}`}),e]}),a]}),ice=({isOpen:e,onClose:r,selectedDate:a=null,onEventCreated:n})=>{const s=Yr(),{user:i}=Sa(),o="DOCENTE"===i?.rol||"DOCENTE"===i?.role,l=i?.entidadId||localStorage.getItem("entidadId"),{aulas:c,loading:d}=iB(),{data:u=[],isLoading:m,error:h}=nB(l,{enabled:o&&!!l,refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:0}),f=o?u?.aulas||[]:c,p=Array.isArray(f)?f:[],g=o?m:d,{register:x,handleSubmit:b,formState:{errors:y},setValue:v,watch:j,reset:w}=Iz({resolver:Uz(ace),defaultValues:{nombreActividad:"",descripcion:"",fechaInicio:"",fechaFin:"",horaInicio:"08:00",horaFin:"09:00",idAulas:[],idTrabajador:i?.entidadId||""}}),N=Xr({mutationFn:async e=>{const t=await fetch("http://localhost:3000/api/v1/cronograma",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)});if(!t.ok){const e=await t.text();throw new Error(`Error al crear la actividad: ${t.status} - ${e}`)}return await t.json()},onSuccess:e=>{ca.success("Actividad creada exitosamente");const t=e.info.data,r={id:t.idCronograma,title:t.nombreActividad,start:new Date(`${t.fechaInicio}T${j("horaInicio")}:00`),end:new Date(`${t.fechaFin}T${j("horaFin")}:00`),resource:{descripcion:t.descripcion,idAulas:t.idAula?.idAula?[t.idAula.idAula]:[],idTrabajador:t.idTrabajador?.idTrabajador,nombreActividad:t.nombreActividad}};n&&n(r),s.invalidateQueries({queryKey:["cronograma"]}),k()},onError:e=>{ca.error("Error al crear la actividad")}});t.useEffect(()=>{if(a&&e){const e=a.toISOString().split("T")[0];v("fechaInicio",e),v("fechaFin",e)}},[a,e,v]),t.useEffect(()=>{i?.entidadId&&e&&v("idTrabajador",i.entidadId)},[i,e,v]);const S=async e=>{if(e.fechaInicio&&e.fechaFin&&e.fechaInicio>e.fechaFin)ca.error("La fecha de fin debe ser posterior a la fecha de inicio");else if(e.fechaInicio===e.fechaFin&&e.horaInicio>=e.horaFin)ca.error("La hora de fin debe ser posterior a la hora de inicio");else try{const t={nombreActividad:e.nombreActividad,descripcion:e.descripcion,fechaInicio:e.fechaInicio,fechaFin:e.fechaFin,idAulas:Array.isArray(e.idAulas)?e.idAulas:[e.idAulas],idTrabajador:e.idTrabajador};await N.mutateAsync(t)}catch(t){}},k=()=>{w({nombreActividad:"",descripcion:"",fechaInicio:"",fechaFin:"",horaInicio:"08:00",horaFin:"09:00",idAulas:[],idTrabajador:i?.entidadId||""}),r()},C=e=>"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors "+(e?"border-red-500":"border-gray-300"),A=N.isPending;return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:k,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl sm:max-w-lg md:max-w-2xl mx-4 sm:mx-auto transform overflow-hidden rounded-lg bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b",children:[It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx(Oe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"}),It.jsx(ki.Title,{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Nueva Actividad"})]}),It.jsx("button",{onClick:k,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:A,children:It.jsx(ne,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),It.jsxs("form",{onSubmit:b(S),className:"p-4 sm:p-6 space-y-4 sm:space-y-6 max-h-[70vh] overflow-y-auto",children:[It.jsx(sce,{title:"Informacin de la Actividad",icon:he,iconColor:"text-blue-600",children:It.jsxs("div",{className:"space-y-4",children:[It.jsx(nce,{label:"Nombre de la Actividad",required:!0,error:y.nombreActividad?.message,children:It.jsx("input",{...x("nombreActividad"),className:C(y.nombreActividad),placeholder:"Ej: Reunin de padres de familia",disabled:A})}),It.jsx(nce,{label:"Descripcin",required:!0,error:y.descripcion?.message,children:It.jsx("textarea",{...x("descripcion"),rows:3,className:C(y.descripcion),placeholder:"Descripcin detallada de la actividad",disabled:A})})]})}),It.jsx(sce,{title:"Programacin",icon:ue,iconColor:"text-green-600",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsx(nce,{label:"Fecha de Inicio",required:!0,error:y.fechaInicio?.message,children:It.jsx("input",{type:"date",...x("fechaInicio"),className:C(y.fechaInicio),disabled:A})}),It.jsx(nce,{label:"Fecha de Fin",required:!0,error:y.fechaFin?.message,children:It.jsx("input",{type:"date",...x("fechaFin"),className:C(y.fechaFin),disabled:A})}),It.jsx(nce,{label:"Hora de Inicio",required:!0,error:y.horaInicio?.message,children:It.jsx("input",{type:"time",...x("horaInicio"),className:C(y.horaInicio),disabled:A})}),It.jsx(nce,{label:"Hora de Fin",required:!0,error:y.horaFin?.message,children:It.jsx("input",{type:"time",...x("horaFin"),className:C(y.horaFin),disabled:A})})]})}),It.jsx(sce,{title:"Asignacin",icon:ee,iconColor:"text-purple-600",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs(nce,{label:"Aula",required:!0,error:y.idAulas?.message,children:[It.jsxs("select",{name:"idAulas",className:C(y.idAulas),disabled:A||g,onChange:e=>{const t=e.target.value;v("idAulas",t?[t]:[],{shouldValidate:!0})},children:[It.jsx("option",{value:"",children:g?"Cargando aulas...":o?"Seleccionar aula asignada":"Seleccionar aula"}),Array.isArray(p)&&p.length>0?p.map(e=>It.jsx("option",{value:e.id_aula||e.idAula||e.id,children:e.grado&&e.seccion?`${e.grado} - ${e.seccion}`:e.nombre||`Aula ${e.seccion||e.numero||e.id}`},e.id_aula||e.idAula||e.id)):g?null:It.jsx("option",{value:"",disabled:!0,children:o?"No tienes aulas asignadas":"No hay aulas disponibles"})]}),g&&It.jsxs("p",{className:"text-blue-500 text-sm mt-1 flex items-center gap-1",children:[It.jsx(E,{className:"w-3 h-3 animate-spin"}),"Cargando aulas",o?" asignadas":"","..."]}),!g&&Array.isArray(p)&&0===p.length&&It.jsxs("p",{className:"text-amber-600 text-sm mt-1",children:[" ",o?"No tienes aulas asignadas. Contacta al administrador.":"No hay aulas disponibles en el sistema."]}),!g&&!Array.isArray(p)&&It.jsx("p",{className:"text-red-600 text-sm mt-1",children:" Error: Los datos de aulas no son vlidos. Revisa la consola para ms detalles."}),o&&!g&&Array.isArray(p)&&p.length>0&&It.jsxs("p",{className:"text-green-600 text-xs mt-1",children:[" Mostrando ",p.length," aula",1!==p.length?"s":""," asignada",1!==p.length?"s":""," a ti como docente"]}),!o&&!g&&Array.isArray(p)&&p.length>0&&It.jsxs("p",{className:"text-blue-600 text-xs mt-1",children:[" Mostrando ",p.length," aula",1!==p.length?"s":""," disponible",1!==p.length?"s":""," (modo administrador)"]})]}),It.jsxs(nce,{label:"Trabajador Asignado",required:!0,error:y.idTrabajador?.message,children:[It.jsx("input",{type:"text",className:`${C(y.idTrabajador)} bg-gray-50`,value:i?.fullName||"Usuario actual",disabled:!0,readOnly:!0}),It.jsx("input",{type:"hidden",...x("idTrabajador")}),It.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["ID: ",i?.entidadId||"No disponible"]})]})]})})]}),It.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 p-4 sm:p-6 border-t bg-gray-50",children:[It.jsx("button",{type:"button",onClick:k,disabled:A,className:"w-full sm:w-auto px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),It.jsx("button",{onClick:b(S),disabled:A,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed sm:min-w-[140px]",children:A?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),"Creando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),"Crear Actividad"]})})]})]})})})})]})})};j6.locale("es");const oce=({isOpen:e,onClose:r,evento:a})=>{const{user:n}=Sa();if(!a)return null;const s=(()=>{const e=n?.role?.nombre||n?.rol;return"trabajador"===e||"DOCENTE"===e?{gradient:"from-[#00A63E] to-[#008F36]",iconBg:"bg-white/20",text:"text-white",subtitle:"text-green-100",button:"bg-[#00A63E] hover:bg-[#008F36]"}:"padre"===e||"PADRE"===e?{gradient:"from-[#D08700] to-[#B87500]",iconBg:"bg-white/20",text:"text-white",subtitle:"text-orange-100",button:"bg-[#D08700] hover:bg-[#B87500]"}:{gradient:"from-yellow-600 to-yellow-500",iconBg:"bg-white/20",text:"text-white",subtitle:"text-green-100",button:"bg-yellow-600 hover:bg-yellow-700"}})(),i=e=>j6(e).utcOffset("-05:00").format("dddd, DD [de] MMMM [de] YYYY"),o=e=>j6(e).utcOffset("-05:00").format("HH:mm"),l=j6(a.start).utcOffset("-05:00").isSame(j6(a.end).utcOffset("-05:00"),"day");return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md sm:max-w-sm md:max-w-md mx-4 sm:mx-auto transform overflow-hidden rounded-lg bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:`flex items-center justify-between p-4 sm:p-6 border-b bg-gradient-to-r ${s.gradient}`,children:[It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 ${s.iconBg} rounded-lg flex items-center justify-center`,children:It.jsx(ue,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:`text-base sm:text-lg font-semibold ${s.text}`,children:"Detalles del Evento"}),It.jsx("p",{className:`text-xs sm:text-sm ${s.subtitle}`,children:"Cronograma de Actividades"})]})]}),It.jsx("button",{onClick:r,className:"text-white/80 hover:text-white transition-colors",children:It.jsx(ne,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),It.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[It.jsxs("div",{className:"space-y-2",children:[It.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[It.jsx(he,{className:"w-4 h-4"}),It.jsx("span",{className:"text-sm font-medium",children:"Actividad"})]}),It.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a.title})]}),a.resource?.descripcion&&It.jsxs("div",{className:"space-y-2",children:[It.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[It.jsx(he,{className:"w-4 h-4"}),It.jsx("span",{className:"text-sm font-medium",children:"Descripcin"})]}),It.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:a.resource.descripcion})]}),It.jsxs("div",{className:"space-y-3",children:[It.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[It.jsx(ue,{className:"w-4 h-4"}),It.jsx("span",{className:"text-sm font-medium",children:"Programacin"})]}),It.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("span",{className:"text-sm text-gray-600",children:"Fecha de inicio:"}),It.jsx("span",{className:"font-medium text-gray-900",children:i(a.start)})]}),!l&&It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("span",{className:"text-sm text-gray-600",children:"Fecha de fin:"}),It.jsx("span",{className:"font-medium text-gray-900",children:i(a.end)})]}),It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("span",{className:"text-sm text-gray-600",children:"Horario:"}),It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx(de,{className:"w-4 h-4 text-gray-500"}),It.jsxs("span",{className:"font-medium text-gray-900",children:[o(a.start)," - ",o(a.end)]})]})]})]})]}),It.jsxs("div",{className:"space-y-3",children:[It.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[It.jsx(ee,{className:"w-4 h-4"}),It.jsx("span",{className:"text-sm font-medium",children:"Informacin"})]}),It.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-2",children:[It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),It.jsx("span",{className:"text-sm text-gray-700",children:"Estado: Programado"})]}),It.jsxs("div",{className:"flex items-center gap-2",children:[It.jsx(ue,{className:"w-4 h-4 text-blue-600"}),It.jsx("span",{className:"text-sm text-gray-700",children:"Tipo: Cronograma"})]}),a.id&&It.jsx("div",{className:"flex items-center gap-2",children:It.jsxs("span",{className:"text-xs text-gray-500",children:["ID: ",a.id]})})]})]})]}),It.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 p-4 sm:p-6 border-t bg-gray-50",children:[It.jsx("button",{onClick:r,className:"w-full sm:w-auto px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cerrar"}),It.jsx("button",{onClick:r,className:`w-full sm:w-auto px-4 py-2 ${s.button} text-white rounded-md transition-colors`,children:"Entendido"})]})]})})})})]})})};j6.locale("es");const lce=v6(j6),cce=()=>{try{const e=localStorage.getItem("auth-storage");if(!e)return"#D08700";const t=JSON.parse(e),r=t?.state?.role?.nombre?.toLowerCase();return{trabajador:"#00A63E",docente:"#00A63E",profesor:"#00A63E",padre:"#D08700",estudiante:"#D08700",apoderado:"#D08700"}[r]||"#D08700"}catch(e){return"#D08700"}},dce=({events:e=[],isLoading:r=!1,onSelectEvent:a,onSelectSlot:n,view:s,onView:i,date:o,onNavigate:l,isMobile:c,readOnly:d=!1,onEventCreated:u})=>{const[m,h]=t.useState(!1),[f,p]=t.useState(!1),[g,x]=t.useState(null),[b,y]=t.useState(null),[v,j]=t.useState(void 0!==c&&c),[w,N]=t.useState(s);t.useEffect(()=>{if(void 0!==c)return void j(c);const e=()=>{const e=window.innerWidth<768;j(e),e?(N("day"),i&&i("day")):!e&&s&&N(s)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[s,w,i,c]),t.useEffect(()=>{!v&&s&&N(s)},[s,v]);const E=t.useMemo(()=>e&&Array.isArray(e)?e.map(e=>({...e,start:e.start instanceof Date?e.start:j6.utc(e.start).toDate(),end:e.end instanceof Date?e.end:j6.utc(e.end).toDate()})):[],[e]),S=cce(),k={localizer:lce,events:E,startAccessor:"start",endAccessor:"end",style:{height:v?"calc(100vh - 200px)":800},view:w,onView:e=>{N(e),i&&i(e)},date:o,onNavigate:l,onSelectEvent:e=>{y(e),p(!0),a&&a(e)},onSelectSlot:e=>{d||(x(e.start),h(!0),n&&n(e))},selectable:!d,eventPropGetter:e=>{const t=cce();return{style:{backgroundColor:e.resource?.backgroundColor||t,borderColor:e.resource?.borderColor||t,color:"white",borderRadius:"8px",border:"none",fontSize:"12px",padding:"2px 8px"}}},components:{event:({event:e})=>It.jsxs("div",{className:"p-1",children:[It.jsx("div",{className:"font-medium text-xs",children:e.title}),e.resource.descripcion&&It.jsx("div",{className:"text-xs opacity-90 line-clamp-2",children:e.resource.descripcion}),It.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-1",children:[It.jsx("span",{children:""}),"Cronograma"]})]}),toolbar:v?()=>null:void 0},formats:{timeGutterFormat:(e,t,r)=>r.format(e,"HH:mm",t),dayHeaderFormat:(e,t,r)=>r.format(e,"dddd DD/MM",t),dayFormat:(e,t,r)=>r.format(e,"dddd",t),dateFormat:(e,t,r)=>r.format(e,"DD",t)},messages:{next:"Siguiente",previous:"Anterior",today:"Hoy",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay clases programadas en este perodo",showMore:e=>`+ Ver ${e} ms`},min:new Date(2023,0,1,7,0),max:new Date(2023,0,1,18,0),step:60,timeslots:1};return It.jsxs("div",{className:`bg-white ${v?"h-full":"rounded-xl shadow-sm border border-gray-100"} ${v?"p-0":"p-8"}`,children:[v&&It.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 sticky top-0 z-10",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx("button",{onClick:()=>l&&l(j6(o).subtract(1,"day"===w?"day":"week"===w?"week":"month").toDate()),className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",children:It.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:It.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),It.jsxs("div",{className:"text-center",children:[It.jsxs("h3",{className:"font-semibold text-gray-900",children:["day"===w&&j6(o).format("dddd, DD MMMM YYYY"),"week"===w&&`Semana del ${j6(o).startOf("week").format("DD")} al ${j6(o).endOf("week").format("DD MMMM YYYY")}`,"month"===w&&j6(o).format("MMMM YYYY")]}),It.jsx("button",{onClick:()=>l&&l(new Date),className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Ir a hoy"})]}),It.jsx("button",{onClick:()=>l&&l(j6(o).add(1,"day"===w?"day":"week"===w?"week":"month").toDate()),className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",children:It.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:It.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),It.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[It.jsx("button",{onClick:()=>{N("day"),i&&i("day")},className:"flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors "+("day"===w?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Da"}),It.jsx("button",{onClick:()=>{N("week"),i&&i("week")},className:"flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors "+("week"===w?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Semana"}),It.jsx("button",{onClick:()=>{N("month"),i&&i("month")},className:"flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors "+("month"===w?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Mes"})]})]}),r?It.jsx("div",{className:"flex items-center justify-center h-96",children:It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),It.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando cronogramas..."})]})}):It.jsx(g6,{...k}),It.jsx("style",{children:`\n        .rbc-calendar {\n          font-family: inherit;\n        }\n        \n        .rbc-header {\n          background: #f8fafc;\n          padding: 12px 8px;\n          font-weight: 600;\n          color: #374151;\n          border-bottom: 1px solid #e5e7eb;\n        }\n        \n        .rbc-time-header {\n          border-bottom: 1px solid #e5e7eb;\n        }\n        \n        .rbc-time-content {\n          border-top: none;\n        }\n        \n        .rbc-timeslot-group {\n          border-bottom: 1px solid #f3f4f6;\n          min-height: 60px;\n        }\n        \n        .rbc-time-slot {\n          border-top: 1px solid #f9fafb;\n          min-height: 60px;\n        }\n        \n        .rbc-day-slot .rbc-events-container {\n          margin-right: 8px;\n        }\n        \n        .rbc-event {\n          padding: 6px 10px;\n          border-radius: 8px;\n          font-size: 13px;\n          line-height: 1.3;\n          font-weight: 500;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n        }\n        \n        .rbc-event:focus {\n          outline: 2px solid #3B82F6;\n          outline-offset: 2px;\n        }\n        \n        .rbc-toolbar {\n          margin-bottom: 24px;\n          padding: 16px 0;\n          border-bottom: 2px solid #f3f4f6;\n        }\n        \n        .rbc-toolbar button {\n          background: #f8fafc;\n          border: 1px solid #e5e7eb;\n          color: #374151;\n          padding: 8px 16px;\n          border-radius: 8px;\n          font-weight: 500;\n          transition: all 0.2s;\n        }\n        \n        .rbc-toolbar button:hover {\n          background: #e5e7eb;\n          border-color: ${S};\n        }\n        \n        .rbc-toolbar button.rbc-active {\n          background: ${S};\n          border-color: ${S};\n          color: white;\n        }\n        \n        .rbc-toolbar-label {\n          font-size: 18px;\n          font-weight: 600;\n          color: #1f2937;\n        }\n        \n        /* Estilos responsive para mvil */\n        @media (max-width: 768px) {\n          .rbc-calendar {\n            font-size: 12px;\n            height: 100% !important;\n          }\n          \n          .rbc-toolbar {\n            flex-direction: column;\n            gap: 8px;\n            margin-bottom: 0;\n            padding: 12px 16px;\n            background: #f8fafc;\n            border-bottom: 1px solid #e5e7eb;\n            border-radius: 0;\n          }\n          \n          .rbc-toolbar .rbc-btn-group {\n            display: flex;\n            justify-content: center;\n            flex-wrap: wrap;\n            gap: 8px;\n          }\n          \n          .rbc-toolbar button {\n            padding: 8px 16px;\n            font-size: 13px;\n            min-width: auto;\n            background: white;\n            border: 1px solid #d1d5db;\n            box-shadow: 0 1px 2px rgba(0,0,0,0.05);\n          }\n          \n          .rbc-toolbar-label {\n            font-size: 18px;\n            font-weight: 600;\n            text-align: center;\n            order: -1;\n            color: #1f2937;\n          }\n          \n          .rbc-header {\n            padding: 12px 4px;\n            font-size: 14px;\n            font-weight: 600;\n            background: #f8fafc;\n            border-bottom: 1px solid #e5e7eb;\n          }\n          \n          .rbc-time-header {\n            border-bottom: 1px solid #e5e7eb;\n          }\n          \n          .rbc-time-gutter {\n            width: 60px;\n            font-size: 11px;\n            background: #f8fafc;\n          }\n          \n          .rbc-event {\n            padding: 6px 8px;\n            font-size: 12px;\n            line-height: 1.3;\n            border-radius: 6px;\n            font-weight: 500;\n            margin: 1px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          }\n          \n          .rbc-timeslot-group {\n            min-height: 60px;\n            border-bottom: 1px solid #f3f4f6;\n          }\n          \n          .rbc-time-slot {\n            min-height: 60px;\n            border-top: 1px solid #f9fafb;\n          }\n          \n          .rbc-day-slot .rbc-events-container {\n            margin-right: 2px;\n          }\n          \n          /* Para vista de da en mvil */\n          .rbc-time-view .rbc-time-gutter,\n          .rbc-time-view .rbc-time-content {\n            font-size: 12px;\n          }\n          \n          .rbc-allday-cell {\n            height: 30px; /* Reducir altura de all-day en mvil */\n          }\n          \n          /* Asegurar que el calendario ocupe toda la altura disponible */\n          .rbc-calendar {\n            height: 100% !important;\n          }\n          \n          .rbc-time-view {\n            height: 100% !important;\n          }\n          \n          .rbc-time-content {\n            height: calc(100% - 80px) !important; /* Restar altura del toolbar */\n          }\n        }\n        \n        /* Estilos para tablets */\n        @media (min-width: 769px) and (max-width: 1024px) {\n          .rbc-toolbar-label {\n            font-size: 16px;\n          }\n          \n          .rbc-toolbar button {\n            padding: 6px 14px;\n            font-size: 13px;\n          }\n          \n          .rbc-event {\n            font-size: 12px;\n          }\n        }\n      `}),It.jsx(ice,{isOpen:m,onClose:()=>h(!1),selectedDate:g,onEventCreated:e=>{u&&u(e)}}),It.jsx(oce,{isOpen:f,onClose:()=>p(!1),evento:b})]})};j6.locale("es");const uce=()=>{const[e,r]=t.useState(new Date),[a,n]=t.useState("month"),[s,i]=t.useState(new Date),[o,l]=t.useState(!0),[c,d]=t.useState(null),[u,m]=t.useState(!1),[h,f]=t.useState(!1),{user:p}=Sa(),g=p?.entidadId||localStorage.getItem("entidadId"),{data:x=[],isLoading:b,error:y,isError:v}=nB(g,{enabled:!!g,refetchOnMount:!0,staleTime:0,refetchOnWindowFocus:!0}),{data:j=[],isLoading:w,error:N,refetch:E}=L9(x,{enabled:!!(x?.aulas?.length>0||Array.isArray(x)&&x.length>0),staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0});t.useEffect(()=>{const e=()=>{const e=window.innerWidth<768;f(e),e?n("day"):"day"!==a||e||n("month")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[a]);const S=async e=>{await E()},k=e=>{const t={clase:"#3B82F6",reunion:"#F59E0B",evaluacion:"#EF4444",actividad:"#10B981",capacitacion:"#8B5CF6",default:"#6B7280"};return t[e?.toLowerCase()]||t.default},C=(A=j,Array.isArray(A)?A.map((e,t)=>{const r=j6.utc(e.fecha_inicio).toDate(),a=j6.utc(e.fecha_fin).toDate();return 0===r.getHours()&&0===r.getMinutes()&&(r.setHours(8,0),a.setHours(9,30)),{id:e.id_cronograma||t,title:e.nombre_actividad||e.title||"Actividad sin nombre",start:r,end:a,resource:{tipo:e.tipo||"actividad",descripcion:e.descripcion||"",idCronograma:e.id_cronograma,seccion:e.seccion,grado:e.grado,nombreTrabajador:e.nombre_trabajador,apellidoTrabajador:e.apellido_trabajador,estado:e.estado||"activo"},backgroundColor:k(e.tipo||"actividad"),borderColor:k(e.tipo||"actividad")}}):[]);var A;const _=b||w,T=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],O=[{key:"monday",label:"Lunes",short:"L"},{key:"tuesday",label:"Martes",short:"M"},{key:"wednesday",label:"Mircoles",short:"X"},{key:"thursday",label:"Jueves",short:"J"},{key:"friday",label:"Viernes",short:"V"}],D=e=>HorariosData.filter(t=>t.day===e),P=e=>{const[t,r]=e.split(":").map(Number);return(60*t+r-420)/30*60},M=(e,t)=>{const[r,a]=e.split(":").map(Number),[n,s]=t.split(":").map(Number);return(60*n+s-(60*r+a))/30*60};return It.jsxs("div",{className:(h?"h-screen flex flex-col":"space-y-6")+" ",children:[It.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0 "+(h?"px-4 py-3 bg-white border-b flex-shrink-0":""),children:It.jsx("div",{className:"flex items-center space-x-3",children:It.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors "+(h?"px-3 py-2 text-sm":"px-4 py-2"),children:[It.jsx(Oe,{className:h?"w-3 h-3":"w-4 h-4"}),It.jsx("span",{children:"Nueva Actividad"})]})})}),It.jsx("div",{className:h?"flex-1 overflow-hidden":"",children:o?It.jsx(dce,{events:C,isLoading:_,onSelectEvent:e=>{d(e)},onSelectSlot:e=>{},view:a,onView:e=>{n(e)},date:e,onNavigate:e=>{r(e)},isMobile:h,onEventCreated:S}):It.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[It.jsxs("div",{className:"grid grid-cols-6 border-b border-gray-200",children:[It.jsx("div",{className:"p-4 bg-gray-50 border-r border-gray-200",children:It.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Hora"})}),O.map(e=>It.jsxs("div",{className:"p-4 bg-gray-50 text-center border-r border-gray-200 last:border-r-0",children:[It.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.label}),It.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(new Date).toLocaleDateString("es-ES",{day:"numeric"})})]},e.key))]}),It.jsx("div",{className:"relative",children:It.jsxs("div",{className:"grid grid-cols-6 min-h-[600px]",children:[It.jsx("div",{className:"border-r border-gray-200 bg-gray-50",children:T.map((e,t)=>It.jsx("div",{className:"h-[60px] border-b border-gray-100 px-4 py-2 text-sm text-gray-600",children:t%2==0?e:""},e))}),O.map(e=>It.jsxs("div",{className:"relative border-r border-gray-200 last:border-r-0",children:[T.map(e=>It.jsx("div",{className:"h-[60px] border-b border-gray-100"},e)),D(e.key).map(e=>{const t=(e=>{switch(e){case"class":case"training":return me;case"meeting":return oe;case"exam":return Re;default:return de}})(e.type);return It.jsx("div",{className:"absolute left-1 right-1 rounded-lg p-2 text-white text-xs shadow-sm cursor-pointer hover:shadow-md transition-shadow",style:{backgroundColor:e.color,top:`${P(e.startTime)}px`,height:`${M(e.startTime,e.endTime)}px`,minHeight:"50px"},children:It.jsxs("div",{className:"flex items-start justify-between",children:[It.jsxs("div",{className:"flex-1 min-w-0",children:[It.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[It.jsx(t,{className:"w-3 h-3 flex-shrink-0"}),It.jsx("span",{className:"font-medium truncate",children:e.title})]}),It.jsxs("div",{className:"text-xs opacity-90 mb-1",children:[e.startTime," - ",e.endTime]}),e.classroom&&It.jsxs("div",{className:"flex items-center space-x-1 text-xs opacity-80",children:[It.jsx(We,{className:"w-2 h-2"}),It.jsx("span",{children:e.classroom})]}),e.students&&It.jsxs("div",{className:"flex items-center space-x-1 text-xs opacity-80",children:[It.jsx(oe,{className:"w-2 h-2"}),It.jsxs("span",{children:[e.students," estudiantes"]})]})]}),It.jsx("button",{className:"p-1 hover:bg-black hover:bg-opacity-20 rounded",children:It.jsx(pt,{className:"w-3 h-3"})})]})},e.id)})]},e.key))]})})]})}),It.jsx(ice,{isOpen:u,onClose:()=>m(!1),selectedDate:null,onEventCreated:S})]})},mce=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});mce.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),mce.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const hce=async e=>{try{return(await mce.post("/asistencia",e)).data}catch(t){throw new Error(t.response?.data?.message||"Error al registrar asistencia masiva")}},fce=async(e,t)=>{try{return(await mce.get(`/asistencia/aula/${e}`,{params:{fecha:t}})).data}catch(r){throw new Error(r.response?.data?.message||"Error al obtener asistencias")}},pce=async e=>{try{return(await mce.get(`/asistencia/estudiante/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener historial de asistencias")}},gce=e=>Qr({queryKey:["estudiantes-aula",e],queryFn:()=>JU.getEstudiantesPorAula(e),enabled:!!e,staleTime:0,cacheTime:3e5,onSuccess:e=>{},onError:e=>{ca.error("Error al cargar los estudiantes del aula")}}),xce=()=>{const{user:e}=Sa(),t=e?.entidadId||localStorage.getItem("entidadId"),{data:r,isLoading:a,error:n,refetch:s}=Qr({queryKey:["aulas-trabajador",i=t],queryFn:()=>jc.getAulasPorTrabajador(i),enabled:!!i,staleTime:3e5,cacheTime:6e5,onSuccess:e=>{},onError:e=>{ca.error("Error al cargar las aulas asignadas")}});var i;const o=r?.aulas||r?.data||[],l=(()=>{const e=Yr();return Xr({mutationFn:e=>hce(e),onSuccess:(t,r)=>{ca.success("Asistencia registrada correctamente"),e.invalidateQueries(["asistencia"]),e.invalidateQueries(["estudiantes-aula",r.idAula]),e.invalidateQueries(["asistencias-aula-fecha",r.idAula])},onError:e=>{ca.error(e.message||"Error al registrar la asistencia")}})})();return{trabajadorId:t,aulas:o,loadingAulas:a,errorAulas:n,refetchAulas:s,registrarAsistencia:l.mutate,loadingRegistro:l.isLoading,errorRegistro:l.error,tieneAulas:o.length>0,useEstudiantesAula:gce}},bce=(e,t={})=>{if(!e)return"Fecha no disponible";try{let r;r=e.includes("T")?new Date(e):new Date(e+"T12:00:00-05:00");const a={timeZone:"America/Lima",year:"numeric",month:"long",day:"numeric"};return r.toLocaleDateString("es-PE",{...a,...t})}catch(r){return"Fecha invlida"}},yce=e=>bce(e),vce=()=>{const[e,r]=t.useState(()=>(()=>{const e=new Date((new Date).toLocaleString("en-US",{timeZone:"America/Lima"}));return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`})()),[a,n]=t.useState(null),[s,i]=t.useState(""),[o,l]=t.useState({}),{aulas:c,loadingAulas:d,errorAulas:u,registrarAsistencia:m,loadingRegistro:h,tieneAulas:f}=xce(),p=e=>e?e.id_aula||e.idAula||e.id||e.idAula:null,{data:g,isLoading:x,error:b,refetch:y}=gce(p(a)),{data:v,isLoading:j,error:w,refetch:N}=Qr({queryKey:["asistencias-aula-fecha",S=p(a),k=e],queryFn:()=>fce(S,k),enabled:!(!S||!k),staleTime:0,cacheTime:12e4,onSuccess:e=>{},onError:e=>{e.message.includes("No se encontraron")||ca.error("Error al cargar asistencias existentes")}});var S,k;t.useEffect(()=>{},[b,w]),t.useEffect(()=>{if(c.length>0&&!a){const e=c[0];n(e)}},[c]),t.useEffect(()=>{a&&e&&(y(),N())},[p(a),e]);const C=g?.estudiantes||g?.data||[],A=v?.info?.data||v?.asistencias||v?.data||[],_=A.length>0;t.useEffect(()=>{C.length},[C.length]),t.useEffect(()=>{A.length},[A.length]),t.useEffect(()=>{if(C.length>0&&(A.length>0||!_)){const e={};C.forEach(t=>{const r=t.id_estudiante||t.idEstudiante,a=A.find(e=>{const t=(e.idEstudiante||e.id_estudiante||e.idEstudiante)===r;return t});a?!0===a.asistio||"true"===a.asistio?"Presente"===a.observaciones?e[r]="presente":"Tardanza"===a.observaciones?e[r]="tardanza":"Justificado"===a.observaciones?e[r]="justificado":e[r]="presente":!1===a.asistio||"false"===a.asistio?e[r]="ausente":e[r]="":e[r]=""}),l(e)}},[C.length,p(a),e,A]),t.useEffect(()=>{a&&e&&N()},[p(a),e]),t.useEffect(()=>{if(A.length>0&&C.length>0){const e={};C.forEach(t=>{const r=t.id_estudiante||t.idEstudiante,a=A.find(e=>(e.idEstudiante||e.id_estudiante||e.idEstudiante)===r);a?!0===a.asistio||"true"===a.asistio?"Presente"===a.observaciones?e[r]={estado:"presente",observaciones:"Presente"}:"Tardanza"===a.observaciones?e[r]={estado:"tardanza",observaciones:"Tardanza"}:"Justificado"===a.observaciones?e[r]={estado:"justificado",observaciones:"Justificado"}:e[r]={estado:"presente",observaciones:a.observaciones||"Presente"}:!1===a.asistio||"false"===a.asistio?e[r]={estado:"ausente",observaciones:a.observaciones||"Ausente"}:e[r]={estado:"",observaciones:""}:e[r]={estado:"",observaciones:""}}),l(e)}},[A.length,C.length]);const T=(e,t,r=null)=>{l(a=>({...a,[e]:{estado:t,observaciones:null!==r?r:a[e]?.observaciones||""}}))},O=e=>{switch(e){case"presente":return"bg-green-100 text-green-800 border-green-200";case"ausente":return"bg-red-100 text-red-800 border-red-200";case"tardanza":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"justificado":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},D=e=>{switch(e){case"presente":return It.jsx(ie,{className:"w-4 h-4"});case"ausente":return It.jsx(xt,{className:"w-4 h-4"});case"tardanza":return It.jsx(de,{className:"w-4 h-4"});case"justificado":return It.jsx(me,{className:"w-4 h-4"});default:return null}},P=C.filter(e=>`${e.nombres||e.nombre||""} ${e.apellido_paterno||e.apellidoPaterno||""} ${e.apellido_materno||e.apellidoMaterno||""}`.toLowerCase().includes(s.toLowerCase())),M={total:P.length,presentes:Object.values(o).filter(e=>"presente"===e).length,ausentes:Object.values(o).filter(e=>"ausente"===e).length,tardanzas:Object.values(o).filter(e=>"tardanza"===e).length,justificados:Object.values(o).filter(e=>"justificado"===e).length,pendientes:Object.values(o).filter(e=>""===e).length},F=M.total>0?((M.presentes+M.tardanzas)/M.total*100).toFixed(1):0;return d?It.jsx("div",{className:"flex items-center justify-center h-64",children:It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(E,{className:"w-6 h-6 animate-spin text-blue-600"}),It.jsx("span",{className:"text-gray-600",children:"Cargando aulas..."})]})}):u?It.jsx("div",{className:"flex items-center justify-center h-64",children:It.jsxs("div",{className:"text-center",children:[It.jsx(Xe,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),It.jsx("p",{className:"text-gray-600 mb-4",children:"Error al cargar las aulas"}),It.jsx("p",{className:"text-sm text-red-600",children:u?.message||u?.toString()||"Error desconocido"})]})}):f?b?It.jsx("div",{className:"flex items-center justify-center h-64",children:It.jsxs("div",{className:"text-center",children:[It.jsx(Xe,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),It.jsx("p",{className:"text-gray-600 mb-4",children:"Error al cargar los estudiantes"}),It.jsx("p",{className:"text-sm text-red-600",children:b?.message||b?.toString()||"Error desconocido"})]})}):w?It.jsx("div",{className:"flex items-center justify-center h-64",children:It.jsxs("div",{className:"text-center",children:[It.jsx(Xe,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),It.jsx("p",{className:"text-gray-600 mb-4",children:"Error al cargar las asistencias existentes"}),It.jsx("p",{className:"text-sm text-red-600",children:w?.message||w?.toString()||"Error desconocido"})]})}):a?It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registro de Asistencia"}),It.jsx("p",{className:"text-gray-600",children:"Gestiona la asistencia de estudiantes por aula y fecha"})]}),It.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aula"}),It.jsxs("select",{value:a?.id_aula||a?.idAula||"",onChange:e=>{const t=c.find(t=>(t.id_aula||t.idAula)===e.target.value);n(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[It.jsx("option",{value:"",children:"Seleccionar aula"}),c.map(e=>It.jsxs("option",{value:e.id_aula||e.idAula,children:[e.nombre," - ",e.grado]},e.id_aula||e.idAula))]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha"}),It.jsx("input",{type:"date",value:e,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar estudiante"}),It.jsxs("div",{className:"relative",children:[It.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),It.jsx("input",{type:"text",placeholder:"Nombre del estudiante...",value:s,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),It.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[It.jsxs("button",{onClick:()=>{a&&(y(),N())},className:"flex items-center space-x-2 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:[It.jsx(Ce,{className:"w-4 h-4"}),It.jsx("span",{children:"Actualizar"})]}),It.jsxs("button",{onClick:async()=>{if(!a)return void ca.error("Selecciona un aula primero");const t=(new Date).toTimeString().split(" ")[0],r={fecha:e,hora:t,idAula:a.id_aula||a.idAula,asistencias:Object.entries(o).filter(([e,t])=>""!==t.estado).map(([e,t])=>{let r=!0,a=t.observaciones||"Presente";switch(t.estado){case"presente":r=!0,t.observaciones||(a="Presente");break;case"ausente":r=!1,t.observaciones||(a="Ausente");break;case"tardanza":r=!0,t.observaciones||(a="Tardanza");break;case"justificado":r=!0,t.observaciones||(a="Justificado")}return{idEstudiante:e,asistio:r,observaciones:a}})};if(0!==r.asistencias.length)try{await m(r),ca.success(`Asistencias guardadas correctamente para ${r.asistencias.length} estudiantes`),await N()}catch(n){ca.error("Error al guardar las asistencias")}else ca.error("No hay asistencias para registrar")},disabled:h||!a||0===P.length,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[h?It.jsx(E,{className:"w-4 h-4 animate-spin"}):It.jsx(Ye,{className:"w-4 h-4"}),It.jsx("span",{children:"Guardar Asistencias"})]})]})]}),a&&P.length>0&&It.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),It.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.total})]}),It.jsx(oe,{className:"h-8 w-8 text-gray-600"})]})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-green-600",children:"Presentes"}),It.jsx("p",{className:"text-2xl font-bold text-green-700",children:M.presentes})]}),It.jsx(ie,{className:"h-8 w-8 text-green-600"})]})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-red-600",children:"Ausentes"}),It.jsx("p",{className:"text-2xl font-bold text-red-700",children:M.ausentes})]}),It.jsx(xt,{className:"h-8 w-8 text-red-600"})]})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Tardanzas"}),It.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:M.tardanzas})]}),It.jsx(de,{className:"h-8 w-8 text-yellow-600"})]})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Justificados"}),It.jsx("p",{className:"text-2xl font-bold text-blue-700",children:M.justificados})]}),It.jsx(me,{className:"h-8 w-8 text-blue-600"})]})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-purple-600",children:"% Asistencia"}),It.jsxs("p",{className:"text-2xl font-bold text-purple-700",children:[F,"%"]})]}),It.jsx(Ae,{className:"h-8 w-8 text-purple-600"})]})})]}),a&&It.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[It.jsx("div",{className:"p-6 border-b border-gray-200",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Estudiantes - ",a.nombre]}),It.jsxs("p",{className:"text-sm text-gray-600",children:["Fecha: ",bce(e,{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),_&&It.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-600",children:[It.jsx(ie,{className:"w-4 h-4"}),It.jsx("span",{children:"Asistencias ya registradas"})]})]})}),It.jsx("div",{className:"p-6",children:x||j?It.jsx("div",{className:"flex items-center justify-center py-8",children:It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(E,{className:"w-5 h-5 animate-spin text-blue-600"}),It.jsx("span",{className:"text-gray-600",children:"Cargando estudiantes..."})]})}):b?It.jsxs("div",{className:"text-center py-8",children:[It.jsx(Xe,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),It.jsx("p",{className:"text-gray-600",children:"Error al cargar estudiantes"}),It.jsx("p",{className:"text-sm text-red-600",children:b})]}):0===P.length?It.jsxs("div",{className:"text-center py-8",children:[It.jsx(oe,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),It.jsx("p",{className:"text-gray-600",children:s?"No se encontraron estudiantes":"No hay estudiantes en esta aula"})]}):It.jsx("div",{className:"grid gap-4",children:P.map((e,t)=>{const r=e.id_estudiante||e.idEstudiante,a=o[r]||{estado:"",observaciones:""};return It.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[It.jsxs("div",{className:"flex items-center space-x-4",children:[It.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:It.jsx("span",{className:"text-sm font-semibold text-blue-600",children:t+1})}),It.jsx("div",{children:It.jsxs("h4",{className:"font-medium text-gray-900",children:[e.nombres||e.nombre||"Sin nombre"," ",e.apellido]})})]}),It.jsxs("div",{className:"flex items-center space-x-4",children:[It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Observaciones:"}),It.jsx("input",{type:"text",placeholder:"Opcional...",value:a.observaciones,onChange:e=>T(r,a.estado,e.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-40"})]}),a.estado&&It.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium border ${O(a.estado)}`,children:[D(a.estado),It.jsx("span",{className:"capitalize",children:a.estado})]}),It.jsxs("div",{className:"flex space-x-1",children:[It.jsx("button",{onClick:()=>T(r,"presente",a.observaciones),className:"p-2 rounded-md transition-colors "+("presente"===a.estado?"bg-green-600 text-white":"bg-gray-100 hover:bg-green-100 text-gray-600 hover:text-green-600"),title:"Presente",children:It.jsx(ie,{className:"w-4 h-4"})}),It.jsx("button",{onClick:()=>T(r,"ausente",a.observaciones),className:"p-2 rounded-md transition-colors "+("ausente"===a.estado?"bg-red-600 text-white":"bg-gray-100 hover:bg-red-100 text-gray-600 hover:text-red-600"),title:"Ausente",children:It.jsx(xt,{className:"w-4 h-4"})}),It.jsx("button",{onClick:()=>T(r,"tardanza",a.observaciones),className:"p-2 rounded-md transition-colors "+("tardanza"===a.estado?"bg-yellow-600 text-white":"bg-gray-100 hover:bg-yellow-100 text-gray-600 hover:text-yellow-600"),title:"Tardanza",children:It.jsx(de,{className:"w-4 h-4"})}),It.jsx("button",{onClick:()=>T(r,"justificado",a.observaciones),className:"p-2 rounded-md transition-colors "+("justificado"===a.estado?"bg-blue-600 text-white":"bg-gray-100 hover:bg-blue-100 text-gray-600 hover:text-blue-600"),title:"Justificado",children:It.jsx(me,{className:"w-4 h-4"})}),a.estado&&It.jsx("button",{onClick:()=>T(r,"",""),className:"p-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-600",title:"Limpiar",children:It.jsx(ne,{className:"w-4 h-4"})})]})]})]},r)})})})]})]}):It.jsx("div",{className:"flex items-center justify-center h-64",children:It.jsxs("div",{className:"text-center",children:[It.jsx(ce,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),It.jsx("p",{className:"text-gray-600 mb-2",children:"Selecciona un aula para continuar"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Elige un aula del selector arriba"})]})}):It.jsx("div",{className:"flex items-center justify-center h-64",children:It.jsxs("div",{className:"text-center",children:[It.jsx(ce,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),It.jsx("p",{className:"text-gray-600 mb-2",children:"No tienes aulas asignadas"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Contacta al administrador para asignar aulas"})]})})},jce=()=>{const[e,r]=t.useState(null),[a,n]=t.useState(!1),s=()=>{n(!a)},i=()=>{const[e,r]=t.useState([]),[a,n]=t.useState(""),[s,i]=t.useState(0),[o,l]=t.useState(""),[c,d]=t.useState(!1),[u,m]=t.useState(0),h=[{emoji:"",nombre:"manzanas"},{emoji:"",nombre:"pltanos"},{emoji:"",nombre:"naranjas"},{emoji:"",nombre:"estrellas"},{emoji:"",nombre:"flores"},{emoji:"",nombre:"globos"},{emoji:"",nombre:"gatos"},{emoji:"",nombre:"arcoris"}],f=()=>{const e=h[Math.floor(Math.random()*h.length)],t=Math.floor(8*Math.random())+3,a=[...Array(t).fill(e)];if(Math.random()<.3){const e=Math.floor(2*Math.random())+1;for(let t=0;t<e;t++)a.push({emoji:"",nombre:"Tung Tung",esEspecial:!0})}const s=a.sort(()=>Math.random()-.5);r(s),m(t),n(""),l(""),d(!1)};return t.useEffect(()=>{f()},[]),It.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-2xl mx-auto",children:[It.jsxs("div",{className:"text-center mb-6",children:[It.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:" Juego de Conteo"}),It.jsxs("p",{className:"text-lg text-gray-600",children:["Puntos: ",It.jsx("span",{className:"font-bold text-green-600",children:s})]})]}),It.jsxs("div",{className:"text-center mb-6",children:[It.jsxs("p",{className:"text-xl font-semibold text-gray-700 mb-4",children:["Cuntos ",e.length>0&&e[0].nombre," ves?"]}),It.jsx("div",{className:"bg-blue-50 p-6 rounded-lg mb-6 flex flex-wrap justify-center gap-3 min-h-[200px] items-center",children:e.map((e,t)=>It.jsx("div",{className:"relative",children:e.esEspecial?It.jsx("img",{src:"https://res.cloudinary.com/dhdpp8eq2/image/upload/v1756327657/Tung-Tung-Tung-Sahur-PNG-Photos_ybnh2k.png",alt:"Tung Tung Sahur",className:"w-16 h-16 object-contain opacity-80 hover:opacity-100 transition-opacity hover:scale-110"}):It.jsx("span",{className:"text-4xl hover:scale-110 transition-transform cursor-pointer",children:e.emoji})},t))}),It.jsx("input",{type:"number",value:a,onChange:e=>n(e.target.value),className:"w-24 h-16 text-3xl text-center border-2 border-blue-300 rounded-lg focus:border-blue-500 focus:outline-none",placeholder:"?",min:"0",max:"20"})]}),It.jsx("div",{className:"text-center mb-4",children:It.jsx("button",{onClick:()=>{parseInt(a)===u?(i(s+1),l("Excelente!  Contaste correctamente!"),d(!0),setTimeout(()=>{f()},2e3)):(l(`Intntalo de nuevo. Cuenta bien los ${e[0]?.nombre||"objetos"}`),d(!1))},disabled:!a,className:"bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-lg text-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Verificar"})}),o&&It.jsx("div",{className:"text-center p-3 rounded-lg "+(c?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:o}),It.jsx("div",{className:"text-center mt-6",children:It.jsx("button",{onClick:f,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg",children:"Nuevos Objetos"})})]})},o=()=>{const[e,r]=t.useState([]),[a,n]=t.useState([]),[s,i]=t.useState(!1),[o,l]=t.useState(null),[c,d]=t.useState(1),[u,m]=t.useState("Presiona INICIAR para comenzar!"),[h,f]=t.useState(!1),p=[{id:"rojo",color:"bg-red-500",colorActivo:"bg-red-300",nombre:"Rojo"},{id:"azul",color:"bg-blue-500",colorActivo:"bg-blue-300",nombre:"Azul"},{id:"verde",color:"bg-green-500",colorActivo:"bg-green-300",nombre:"Verde"},{id:"amarillo",color:"bg-yellow-500",colorActivo:"bg-yellow-300",nombre:"Amarillo"}],g=e=>{i(!0),m("Observa la secuencia..."),e.forEach((t,r)=>{setTimeout(()=>{l(t),setTimeout(()=>{l(null),r===e.length-1&&setTimeout(()=>{i(!1),m("Tu turno! Repite la secuencia")},500)},600)},1e3*r)})};return It.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md mx-auto",children:[It.jsxs("div",{className:"text-center mb-6",children:[It.jsx("h3",{className:"text-2xl font-bold text-purple-600 mb-2",children:" Memoria de Colores"}),It.jsxs("p",{className:"text-lg text-gray-600",children:["Nivel: ",It.jsx("span",{className:"font-bold text-purple-600",children:c})]})]}),It.jsx("div",{className:"text-center mb-6",children:It.jsx("p",{className:"text-lg font-medium text-gray-700",children:u})}),It.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:p.map(t=>{const i=o===t.id;return It.jsx("button",{onClick:()=>(t=>{if(s)return;l(t),setTimeout(()=>l(null),200);const i=[...a,t];if(n(i),i[i.length-1]!==e[i.length-1])return m("Incorrecto! Intntalo de nuevo"),void setTimeout(()=>{n([]),g(e)},1500);if(i.length===e.length){d(c+1),m(`Excelente! Nivel ${c+1}`);const t=[...e,p[Math.floor(Math.random()*p.length)].id];r(t),n([]),setTimeout(()=>{g(t)},2e3)}})(t.id),disabled:s&&o!==t.id,className:`h-20 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:cursor-not-allowed ${i?t.colorActivo+" scale-110 ring-4 ring-white":t.color}`,children:It.jsx("span",{className:"text-white font-bold",children:t.nombre})},t.id)})}),It.jsx("div",{className:"flex justify-center mb-4",children:It.jsx("img",{src:"https://res.cloudinary.com/dhdpp8eq2/image/upload/v1756327657/Tung-Tung-Tung-Sahur-PNG-Photos_ybnh2k.png",alt:"Tung Tung Sahur",className:"w-12 h-12 opacity-40 hover:opacity-80 transition-opacity cursor-pointer hover:scale-110"})}),It.jsx("div",{className:"text-center",children:It.jsx("button",{onClick:()=>{const e=[p[Math.floor(Math.random()*p.length)].id];r(e),n([]),d(1),f(!0),g(e)},className:"bg-purple-500 hover:bg-purple-600 text-white px-8 py-3 rounded-lg text-lg font-semibold",children:h?"Reiniciar":"Iniciar"})})]})},l=()=>{const[e,r]=t.useState([]),[a,n]=t.useState([]),[s,i]=t.useState([]),[o,l]=t.useState(0),[c,d]=t.useState(!1),[u,m]=t.useState(!1),h=["","","","","",""],f=()=>{let e=[...h,...h];e.push("tungTung","tungTung");const t=e.sort(()=>Math.random()-.5).map((e,t)=>({id:t,emoji:"tungTung"===e?"":e,esTungTung:"tungTung"===e,volteada:!1,encontrada:!1}));r(t),n([]),i([]),l(0),d(!1),m(!1)};return t.useEffect(()=>{f()},[]),It.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg mx-auto",children:[It.jsxs("div",{className:"text-center mb-6",children:[It.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:" Encuentra las Parejas"}),It.jsxs("p",{className:"text-lg text-gray-600",children:["Puntos: ",It.jsx("span",{className:"font-bold text-green-600",children:o}),u&&It.jsx("span",{className:"ml-4 text-purple-600",children:"Tung Tung encontrado! "})]})]}),c&&It.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4 text-center",children:u?"Felicitaciones! Completaste el juego y encontraste a Tung Tung Sahur! ":"Felicitaciones! Completaste el juego! "}),It.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:e.map(t=>{const r=a.includes(t.id),c=s.some(e=>e.id===t.id);return It.jsx("button",{onClick:()=>(t=>{if(a.length>=2)return;if(a.includes(t))return;if(s.some(e=>e.id===t))return;const r=[...a,t];if(n(r),2===r.length){const t=e.find(e=>e.id===r[0]),a=e.find(e=>e.id===r[1]);if(t.emoji===a.emoji){const r=t.esTungTung?20:10;l(o+r),t.esTungTung&&m(!0);const n=[...s,t,a];i(n),n.length===e.length&&d(!0)}setTimeout(()=>{n([])},1e3)}})(t.id),className:"h-16 w-16 rounded-lg text-2xl font-bold transition-all duration-300 flex items-center justify-center "+(r||c?t.esTungTung?"bg-purple-200 border-2 border-purple-400":"bg-green-200 border-2 border-green-400":"bg-gray-300 hover:bg-gray-400"),children:r||c?t.esTungTung?It.jsx("img",{src:"https://res.cloudinary.com/dhdpp8eq2/image/upload/v1756327657/Tung-Tung-Tung-Sahur-PNG-Photos_ybnh2k.png",alt:"Tung Tung Sahur",className:"w-12 h-12 object-contain"}):t.emoji:"?"},t.id)})}),It.jsx("div",{className:"text-center",children:It.jsx("button",{onClick:f,className:"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg text-lg font-semibold",children:"Nuevo Juego"})})]})},c=()=>{const[e,r]=t.useState(null),[a,n]=t.useState([]),[s,i]=t.useState(0),[o,l]=t.useState("Elige la forma correcta!"),[c,d]=t.useState(null),u=[{nombre:"Crculo",emoji:"",color:"bg-red-400"},{nombre:"Cuadrado",emoji:"",color:"bg-blue-400"},{nombre:"Tringulo",emoji:"",color:"bg-green-400"},{nombre:"Estrella",emoji:"",color:"bg-yellow-400"},{nombre:"Corazn",emoji:"",color:"bg-pink-400"},{nombre:"Rombo",emoji:"",color:"bg-purple-400"}],m=()=>{const e=u[Math.floor(Math.random()*u.length)],t=u.filter(t=>t.nombre!==e.nombre),a=[];for(;a.length<3;){const e=t[Math.floor(Math.random()*t.length)];a.includes(e)||a.push(e)}const s=[e,...a].sort(()=>Math.random()-.5);r(e),n(s),l("Elige la forma correcta!"),d(null)};return t.useEffect(()=>{m()},[]),It.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-2xl mx-auto",children:[It.jsxs("div",{className:"text-center mb-6",children:[It.jsx("h3",{className:"text-2xl font-bold text-indigo-600 mb-2",children:" Juego de Formas"}),It.jsxs("p",{className:"text-lg text-gray-600",children:["Puntos: ",It.jsx("span",{className:"font-bold text-indigo-600",children:s})]})]}),e&&It.jsxs("div",{className:"text-center mb-8",children:[It.jsx("div",{className:`text-8xl mb-4 ${e.color} rounded-lg p-4 inline-block`,children:e.emoji}),It.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Qu forma es esta?"})]}),It.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:a.map((t,r)=>It.jsx("button",{onClick:()=>{t.nombre===e.nombre?(i(s+1),l("Correcto! "),d(!0),setTimeout(()=>{m()},1500)):(l("Intntalo de nuevo! "),d(!1))},className:"bg-gray-100 hover:bg-gray-200 p-4 rounded-lg text-4xl transition-colors",children:t.emoji},r))}),It.jsx("div",{className:"text-center",children:It.jsx("p",{className:"text-lg font-semibold "+(!0===c?"text-green-600":!1===c?"text-red-600":"text-gray-700"),children:o})})]})},d=()=>{const[e,r]=t.useState(null),[a,n]=t.useState([]),[s,i]=t.useState(0),[o,l]=t.useState("Elige el color correcto!"),[c,d]=t.useState(null),u=[{nombre:"Rojo",color:"bg-red-500",texto:"text-red-600"},{nombre:"Azul",color:"bg-blue-500",texto:"text-blue-600"},{nombre:"Verde",color:"bg-green-500",texto:"text-green-600"},{nombre:"Amarillo",color:"bg-yellow-500",texto:"text-yellow-600"},{nombre:"Naranja",color:"bg-orange-500",texto:"text-orange-600"},{nombre:"Morado",color:"bg-purple-500",texto:"text-purple-600"}],m=()=>{const e=u[Math.floor(Math.random()*u.length)],t=u.filter(t=>t.nombre!==e.nombre).slice(0,2),a=[e,...t].sort(()=>Math.random()-.5);r(e),n(a),l("Elige el color correcto!"),d(null)};return t.useEffect(()=>{m()},[]),It.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-2xl mx-auto",children:[It.jsxs("div",{className:"text-center mb-6",children:[It.jsx("h3",{className:"text-2xl font-bold text-pink-600 mb-2",children:" Juego de Colores"}),It.jsxs("p",{className:"text-lg text-gray-600",children:["Puntos: ",It.jsx("span",{className:"font-bold text-pink-600",children:s})]})]}),e&&It.jsxs("div",{className:"text-center mb-8",children:[It.jsx("div",{className:`w-24 h-24 ${e.color} rounded-full mx-auto mb-4 shadow-lg`}),It.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Qu color es este?"})]}),It.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:a.map((t,r)=>It.jsx("button",{onClick:()=>{t.nombre===e.nombre?(i(s+1),l("Excelente! "),d(!0),setTimeout(()=>{m()},1500)):(l("Sigue intentando! "),d(!1))},className:`w-20 h-20 ${t.color} rounded-full mx-auto shadow-lg hover:scale-110 transition-transform`},r))}),It.jsx("div",{className:"text-center",children:It.jsx("p",{className:"text-lg font-semibold "+(!0===c?"text-green-600":!1===c?"text-red-600":"text-gray-700"),children:o})})]})},u=()=>{const[e,r]=t.useState(null),[a,n]=t.useState([]),[s,i]=t.useState(0),[o,l]=t.useState("Encuentra el animal!"),[c,d]=t.useState(null),u=[{nombre:"Perro",emoji:"",sonido:"Guau!"},{nombre:"Gato",emoji:"",sonido:"Miau!"},{nombre:"Vaca",emoji:"",sonido:"Muu!"},{nombre:"Oveja",emoji:"",sonido:"Bee!"},{nombre:"Pato",emoji:"",sonido:"Cuac!"},{nombre:"Gallina",emoji:"",sonido:"Cocoroc!"},{nombre:"Cerdo",emoji:"",sonido:"Oink!"},{nombre:"Caballo",emoji:"",sonido:"Relincho!"}],m=()=>{const e=u[Math.floor(Math.random()*u.length)],t=u.filter(t=>t.nombre!==e.nombre),a=t.slice(0,3),s=[e,...a].sort(()=>Math.random()-.5);r(e),n(s),l("Encuentra el animal!"),d(null)};return t.useEffect(()=>{m()},[]),It.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-2xl mx-auto",children:[It.jsxs("div",{className:"text-center mb-6",children:[It.jsx("h3",{className:"text-2xl font-bold text-orange-600 mb-2",children:" Juego de Animales"}),It.jsxs("p",{className:"text-lg text-gray-600",children:["Puntos: ",It.jsx("span",{className:"font-bold text-orange-600",children:s})]})]}),e&&It.jsxs("div",{className:"text-center mb-8",children:[It.jsx("div",{className:"text-6xl mb-4",children:e.emoji}),It.jsxs("p",{className:"text-xl font-semibold text-gray-700",children:["Dnde est el ",e.nombre.toLowerCase(),"?"]})]}),It.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:a.map((t,r)=>It.jsx("button",{onClick:()=>{t.nombre===e.nombre?(i(s+1),l(`${e.sonido} Correcto! `),d(!0),setTimeout(()=>{m()},2e3)):(l("Intntalo de nuevo! "),d(!1))},className:"bg-gray-100 hover:bg-gray-200 p-6 rounded-lg text-4xl transition-colors hover:scale-105",children:t.emoji},r))}),It.jsx("div",{className:"text-center",children:It.jsx("p",{className:"text-lg font-semibold "+(!0===c?"text-green-600":!1===c?"text-red-600":"text-gray-700"),children:o})})]})},m=()=>{const[e,r]=t.useState(0),[a,n]=t.useState([]),[s,i]=t.useState(0),[o,l]=t.useState("Elige el nmero correcto!"),[c,d]=t.useState(null),u=()=>{const e=Math.floor(10*Math.random())+1,t=[];for(;t.length<3;){const r=Math.floor(10*Math.random())+1;r===e||t.includes(r)||t.push(r)}const a=[e,...t].sort(()=>Math.random()-.5);r(e),n(a),l("Elige el nmero correcto!"),d(null)};return t.useEffect(()=>{u()},[]),It.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-2xl mx-auto",children:[It.jsxs("div",{className:"text-center mb-6",children:[It.jsx("h3",{className:"text-2xl font-bold text-teal-600 mb-2",children:" Juego de Nmeros"}),It.jsxs("p",{className:"text-lg text-gray-600",children:["Puntos: ",It.jsx("span",{className:"font-bold text-teal-600",children:s})]})]}),It.jsxs("div",{className:"text-center mb-8",children:[It.jsx("div",{className:"text-8xl mb-4 font-bold text-teal-600",children:e}),It.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Qu nmero ves?"})]}),It.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:a.map((t,r)=>It.jsx("button",{onClick:()=>{t===e?(i(s+1),l("Nmero correcto! "),d(!0),setTimeout(()=>{u()},1500)):(l("Sigue practicando! "),d(!1))},className:"bg-teal-100 hover:bg-teal-200 p-6 rounded-lg text-4xl font-bold text-teal-700 transition-colors hover:scale-105",children:t},r))}),It.jsx("div",{className:"text-center",children:It.jsx("p",{className:"text-lg font-semibold "+(!0===c?"text-green-600":!1===c?"text-red-600":"text-gray-700"),children:o})})]})},h=()=>{const[e,r]=t.useState(""),[a,n]=t.useState([]),[s,i]=t.useState(0),[o,l]=t.useState("Encuentra la vocal!"),[c,d]=t.useState(null),u=["A","E","I","O","U"],m=["B","C","D","F","G","H","J","K","L","M","N","P","Q","R","S","T","V","W","X","Y","Z"],h=()=>{const e=Math.random()<.7;let t;e?(t=u[Math.floor(Math.random()*u.length)],l("Encuentra la vocal!")):(t=m[Math.floor(Math.random()*m.length)],l("Encuentra la consonante!"));const a=(e?u:m).filter(e=>e!==t).slice(0,3),s=[t,...a].sort(()=>Math.random()-.5);r(t),n(s),d(null)};return t.useEffect(()=>{h()},[]),It.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-2xl mx-auto",children:[It.jsxs("div",{className:"text-center mb-6",children:[It.jsx("h3",{className:"text-2xl font-bold text-cyan-600 mb-2",children:" Juego de Letras"}),It.jsxs("p",{className:"text-lg text-gray-600",children:["Puntos: ",It.jsx("span",{className:"font-bold text-cyan-600",children:s})]})]}),It.jsxs("div",{className:"text-center mb-8",children:[It.jsx("div",{className:"text-8xl mb-4 font-bold text-cyan-600 bg-cyan-50 rounded-lg p-8 inline-block",children:e}),It.jsx("p",{className:"text-xl font-semibold text-gray-700",children:o})]}),It.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:a.map((t,r)=>It.jsx("button",{onClick:()=>{t===e?(i(s+1),l("Letra correcta! "),d(!0),setTimeout(()=>{h()},1500)):(l("Intntalo de nuevo! "),d(!1))},className:"bg-cyan-100 hover:bg-cyan-200 p-6 rounded-lg text-4xl font-bold text-cyan-700 transition-colors hover:scale-105",children:t},r))}),It.jsx("div",{className:"text-center",children:It.jsx("p",{className:"text-lg font-semibold "+(!0===c?"text-green-600":!1===c?"text-red-600":"text-gray-700"),children:o})})]})},f=[{id:"conteo",titulo:"Juego de Conteo",descripcion:"Cuenta objetos y aprende nmeros",icono:It.jsx(yt,{className:"w-8 h-8"}),color:"bg-blue-500",componente:It.jsx(i,{})},{id:"memoria",titulo:"Memoria de Colores",descripcion:"Desarrolla tu memoria",icono:It.jsx(F,{className:"w-8 h-8"}),color:"bg-purple-500",componente:It.jsx(o,{})},{id:"parejas",titulo:"Encuentra las Parejas",descripcion:"Juego de concentracin",icono:It.jsx(vt,{className:"w-8 h-8"}),color:"bg-green-500",componente:It.jsx(l,{})},{id:"formas",titulo:"Juego de Formas",descripcion:"Aprende formas geomtricas",icono:It.jsx(jt,{className:"w-8 h-8"}),color:"bg-indigo-500",componente:It.jsx(c,{})},{id:"colores",titulo:"Juego de Colores",descripcion:"Identifica y nombra colores",icono:It.jsx(F,{className:"w-8 h-8"}),color:"bg-pink-500",componente:It.jsx(d,{})},{id:"animales",titulo:"Juego de Animales",descripcion:"Conoce animales y sus sonidos",icono:It.jsx(R,{className:"w-8 h-8"}),color:"bg-orange-500",componente:It.jsx(u,{})},{id:"numeros",titulo:"Juego de Nmeros",descripcion:"Reconoce nmeros del 1 al 10",icono:It.jsx(H,{className:"w-8 h-8"}),color:"bg-teal-500",componente:It.jsx(m,{})},{id:"letras",titulo:"Juego de Letras",descripcion:"Aprende vocales y consonantes",icono:It.jsx(C,{className:"w-8 h-8"}),color:"bg-cyan-500",componente:It.jsx(h,{})}];return e?It.jsx("div",{className:"flex flex-col "+(a?"fixed inset-0 z-50 bg-white":"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-6"),children:It.jsxs("div",{className:"max-w-4xl mx-auto "+(a?"w-full h-full p-6":""),children:[It.jsxs("div",{className:"flex items-center justify-between mb-8",children:[It.jsxs("div",{children:[It.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Juegos Educativos"}),It.jsx("p",{className:"text-sm text-blue-600 font-medium",children:" EDA - Educacin que Inspira"})]}),It.jsxs("div",{className:"flex items-center gap-4",children:[It.jsxs("button",{onClick:s,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",title:a?"Salir de pantalla completa":"Pantalla completa",children:[a?It.jsx(ht,{className:"w-4 h-4"}):It.jsx(ft,{className:"w-4 h-4"}),a?"Salir":"Pantalla Completa"]}),It.jsxs("button",{onClick:()=>r(null),className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg flex items-center gap-2",children:[It.jsx(ne,{className:"w-4 h-4"}),"Volver al Men"]})]})]}),e.componente]})}):It.jsx("div",{className:"flex flex-col "+(a?"fixed inset-0 z-50 bg-white":"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-6"),children:It.jsxs("div",{className:"max-w-6xl mx-auto "+(a?"w-full h-full p-6":""),children:[It.jsxs("div",{className:"flex items-center justify-between mb-12",children:[It.jsxs("div",{className:"text-center flex-1",children:[It.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:" Juegos Educativos para Nios"}),It.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Aprende jugando con diversin!"}),It.jsx("p",{className:"text-lg text-blue-600 font-semibold",children:" EDA - Educacin que Inspira "})]}),It.jsx("button",{onClick:s,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ml-4",title:a?"Salir de pantalla completa":"Pantalla completa",children:a?It.jsx(ht,{className:"w-5 h-5"}):It.jsx(ft,{className:"w-5 h-5"})})]}),It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map(e=>It.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 cursor-pointer overflow-hidden",onClick:()=>r(e),children:[It.jsxs("div",{className:`${e.color} p-6 text-white text-center`,children:[It.jsx("div",{className:"flex justify-center mb-4",children:e.icono}),It.jsx("h3",{className:"text-2xl font-bold mb-2",children:e.titulo}),It.jsx("p",{className:"text-sm opacity-90",children:e.descripcion})]}),It.jsx("div",{className:"p-6",children:It.jsx("div",{className:"flex items-center justify-center",children:It.jsxs("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-800 px-6 py-3 rounded-lg font-semibold flex items-center gap-2 transition-colors",children:[It.jsx(_,{className:"w-4 h-4"}),"Jugar Ahora!"]})})})]},e.id))}),It.jsxs("div",{className:"mt-16 bg-white rounded-xl shadow-lg p-8",children:[It.jsxs("div",{className:"text-center mb-6",children:[It.jsx(bt,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),It.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Tips para Profesores"})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[It.jsxs("div",{className:"text-center",children:[It.jsx(q,{className:"w-8 h-8 text-blue-500 mx-auto mb-3"}),It.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Motivacin"}),It.jsx("p",{className:"text-gray-600 text-sm",children:"Celebra los logros y anima a seguir intentando"})]}),It.jsxs("div",{className:"text-center",children:[It.jsx(T,{className:"w-8 h-8 text-red-500 mx-auto mb-3"}),It.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Paciencia"}),It.jsx("p",{className:"text-gray-600 text-sm",children:"Cada nio aprende a su propio ritmo"})]}),It.jsxs("div",{className:"text-center",children:[It.jsx(R,{className:"w-8 h-8 text-green-500 mx-auto mb-3"}),It.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Diversin"}),It.jsx("p",{className:"text-gray-600 text-sm",children:"El aprendizaje es ms efectivo cuando es divertido"})]})]})]}),It.jsx("div",{className:"mt-8 text-center",children:It.jsx("img",{src:"https://res.cloudinary.com/dhdpp8eq2/image/upload/v1756327657/Tung-Tung-Tung-Sahur-PNG-Photos_ybnh2k.png",alt:"Tung Tung Sahur",className:"w-10 h-10 mx-auto opacity-20 hover:opacity-70 transition-opacity cursor-pointer hover:scale-125",onClick:()=>alert("Encontraste a Tung Tung Sahur! ")})})]})})},wce=({onVerEstudiantes:e})=>{const[r,a]=t.useState([]),[n,s]=t.useState(!1),[i,o]=t.useState(null);t.useEffect(()=>{l()},[]);const l=async()=>{s(!0),o(null);try{const e=localStorage.getItem("auth-storage"),t=JSON.parse(e),r=t?.state?.user?.entidadId;if(!r)throw new Error("No se pudo obtener el ID del trabajador");const n=await Mq.getAulasByTrabajador(r);n.success&&n.aulas?a(n.aulas):(a([]),ca.info("No tienes aulas asignadas"))}catch(e){o(e.message||"Error al cargar las aulas"),ca.error("Error al cargar las aulas")}finally{s(!1)}};return n?It.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[It.jsx(E,{className:"w-12 h-12 text-blue-600 animate-spin mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cargando mis aulas..."}),It.jsx("p",{className:"text-gray-600",children:"Obteniendo las aulas asignadas"})]}):i?It.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[It.jsx(j,{className:"w-16 h-16 text-red-500 mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error al cargar aulas"}),It.jsx("p",{className:"text-gray-600 text-center mb-4",children:i}),It.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reintentar"})]}):0===r.length?It.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[It.jsx(me,{className:"w-16 h-16 text-gray-400 mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tienes aulas asignadas"}),It.jsx("p",{className:"text-gray-600 text-center",children:"An no tienes aulas asignadas. Contacta con la administracin para obtener tus asignaciones."})]}):It.jsx("div",{className:"space-y-6",children:It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(r||[]).map((t,r)=>It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:It.jsxs("div",{className:"p-6",children:[It.jsxs("div",{className:"flex items-start justify-between mb-4",children:[It.jsx("div",{className:"flex-1",children:It.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:["Aula ",t.seccion]})}),It.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:It.jsx(me,{className:"w-6 h-6 text-blue-600"})})]}),It.jsx("div",{className:"space-y-3 mb-4",children:t.ubicacion&&It.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[It.jsx(We,{className:"w-4 h-4 mr-2"}),It.jsx("span",{children:t.ubicacion})]})}),t.equipamiento&&It.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[It.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Equipamiento:"}),It.jsx("p",{className:"text-sm text-gray-600",children:t.equipamiento})]}),It.jsx("div",{className:"flex space-x-2",children:It.jsxs("button",{onClick:()=>(t=>{e&&e(t)})(t),className:"flex-1 flex items-center justify-center space-x-2 bg-blue-50 text-blue-600 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors",children:[It.jsx(N,{className:"w-4 h-4"}),It.jsx("span",{children:"Ver Estudiantes"})]})})]})},t.idAula||`aula-${r}`))})})},Nce=()=>{const[e,r]=t.useState([]),[a,n]=t.useState(!1),[s,i]=t.useState(null),[o,l]=t.useState("aulas"),[c,d]=t.useState(null),[u,m]=t.useState([]),[h,f]=t.useState(!1),[p,g]=t.useState(!1),[x,b]=t.useState(null),y={total:e.length,aulasActivas:e.filter(e=>"activa"===e.estado?.toLowerCase()).length,promedioEstudiantes:e.length>0?Math.round(e.reduce((e,t)=>e+(t.cantidadEstudiantes||0),0)/e.length):0};t.useEffect(()=>{v()},[]);const v=async()=>{n(!0),i(null);try{const e=localStorage.getItem("auth-storage"),t=JSON.parse(e),a=t?.state?.user?.entidadId;if(!a)throw new Error("No se pudo obtener el ID del trabajador");const n=await Mq.getAulasByTrabajador(a);n.success&&n.aulas?r(n.aulas):(r([]),ca.info("No tienes aulas asignadas"))}catch(e){i(e.message||"Error al cargar las aulas"),ca.error("Error al cargar las aulas")}finally{n(!1)}},j=()=>{g(!1),b(null)};return It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"estudiantes"===o?`Estudiantes - Aula ${c?.seccion}`:"Mis Aulas"}),It.jsx("p",{className:"text-gray-600 mt-1",children:"estudiantes"===o?`Visualiza a los estudiantes del aula ${c?.seccion}`:"Gestiona las aulas asignadas y visualiza a los estudiantes"})]}),"estudiantes"===o&&It.jsxs("button",{onClick:()=>{l("aulas"),d(null),m([])},className:"flex items-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors shadow-md hover:shadow-lg",children:[It.jsx(it,{className:"w-5 h-5"}),It.jsx("span",{children:"Regresar a Mis Aulas"})]})]}),"aulas"===o&&It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[It.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(me,{className:"w-8 h-8 text-blue-600"}),It.jsxs("div",{className:"ml-3",children:[It.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Aulas"}),It.jsx("p",{className:"text-2xl font-bold text-blue-900",children:y.total})]})]})}),It.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(ce,{className:"w-8 h-8 text-green-600"}),It.jsxs("div",{className:"ml-3",children:[It.jsx("p",{className:"text-sm font-medium text-green-600",children:"Aulas Activas"}),It.jsx("p",{className:"text-2xl font-bold text-green-900",children:y.aulasActivas})]})]})}),It.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(oe,{className:"w-8 h-8 text-purple-600"}),It.jsxs("div",{className:"ml-3",children:[It.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Promedio Estudiantes"}),It.jsx("p",{className:"text-2xl font-bold text-purple-900",children:y.promedioEstudiantes})]})]})})]})]}),"aulas"===o?It.jsx(wce,{onVerEstudiantes:async e=>{d(e),f(!0),l("estudiantes");try{const t=await ZU.getEstudiantesPorAula(e.id_aula);t.success&&t.estudiantes?m(t.estudiantes):(m([]),ca.info("No hay estudiantes en esta aula"))}catch(t){ca.error("Error al cargar los estudiantes"),m([])}finally{f(!1)}}}):It.jsx(Ece,{aula:c,estudiantes:u,loading:h,onOpenEstudianteModal:e=>{b(e),g(!0)}}),It.jsx(hi,{appear:!0,show:p,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:j,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-md bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsx(ki.Title,{as:"h3",className:"text-2xl font-bold text-gray-900",children:"Informacin Completa del Estudiante"}),It.jsx("button",{onClick:j,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:It.jsx(ne,{className:"w-6 h-6 text-gray-500"})})]}),x&&It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[It.jsxs("h4",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[It.jsx(oe,{className:"w-5 h-5 mr-2"}),"Informacin Personal"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Nombre Completo"}),It.jsx("p",{className:"text-lg text-blue-900",children:x.nombreCompleto})]}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Documento"}),It.jsxs("p",{className:"text-lg text-blue-900",children:[x.tipoDocumento," ",x.nroDocumento]})]}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Grado"}),It.jsx("p",{className:"text-lg text-blue-900",children:x.infoApoderado?.grado?.grado})]}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Aula"}),It.jsx("p",{className:"text-lg text-blue-900",children:x.infoApoderado?.aula?.seccion})]})]}),x.observaciones&&It.jsxs("div",{className:"mt-4",children:[It.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Observaciones"}),It.jsx("p",{className:"text-blue-900 bg-blue-100 p-3 rounded mt-1",children:x.observaciones})]})]}),x.infoApoderado?.apoderado&&It.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg",children:[It.jsxs("h4",{className:"text-lg font-semibold text-purple-900 mb-4 flex items-center",children:[It.jsx(oe,{className:"w-5 h-5 mr-2"}),"Informacin del Apoderado (",x.infoApoderado.apoderado.tipoApoderado,")"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Nombre Completo"}),It.jsx("p",{className:"text-lg text-purple-900",children:x.infoApoderado.apoderado.nombreCompleto})]}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Documento"}),It.jsxs("p",{className:"text-lg text-purple-900",children:[x.infoApoderado.apoderado.tipoDocumentoIdentidad," ",x.infoApoderado.apoderado.documentoIdentidad]})]}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Telfono"}),It.jsxs("p",{className:"text-lg text-purple-900 flex items-center",children:[It.jsx(Be,{className:"w-4 h-4 mr-2"}),x.infoApoderado.apoderado.numero]})]}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Correo"}),It.jsxs("p",{className:"text-lg text-purple-900 flex items-center",children:[It.jsx(Ve,{className:"w-4 h-4 mr-2"}),x.infoApoderado.apoderado.correo]})]}),It.jsxs("div",{className:"md:col-span-2",children:[It.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Direccin"}),It.jsxs("p",{className:"text-lg text-purple-900 flex items-center",children:[It.jsx(We,{className:"w-4 h-4 mr-2"}),x.infoApoderado.apoderado.direccion]})]})]})]}),x.infoApoderado?.aula&&It.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[It.jsxs("h4",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[It.jsx(ce,{className:"w-5 h-5 mr-2"}),"Informacin del Aula"]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-green-700",children:"Seccin"}),It.jsx("p",{className:"text-lg text-green-900",children:x.infoApoderado.aula.seccion})]}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-green-700",children:"Cantidad de Estudiantes"}),It.jsx("p",{className:"text-lg text-green-900",children:x.infoApoderado.aula.cantidadEstudiantes})]}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-green-700",children:"Estado"}),It.jsx("p",{className:"text-lg text-green-900",children:x.infoApoderado.aula.estado})]}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-green-700",children:"Fecha de Asignacin"}),It.jsxs("p",{className:"text-lg text-green-900 flex items-center",children:[It.jsx(ue,{className:"w-4 h-4 mr-2"}),new Date(x.infoApoderado.aula.fechaAsignacion).toLocaleDateString("es-ES")]})]})]})]}),x.contactosEmergencia&&x.contactosEmergencia.length>0&&It.jsxs("div",{className:"bg-orange-50 p-6 rounded-lg",children:[It.jsxs("h4",{className:"text-lg font-semibold text-orange-900 mb-4 flex items-center",children:[It.jsx(Be,{className:"w-5 h-5 mr-2"}),"Contactos de Emergencia"]}),It.jsx("div",{className:"space-y-4",children:x.contactosEmergencia.map((e,t)=>It.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-200",children:[It.jsxs("div",{className:"flex items-center justify-between mb-2",children:[It.jsxs("h5",{className:"font-medium text-orange-900",children:[e.nombre," ",e.apellido," (",e.relacionEstudiante,")"]}),e.esPrincipal&&It.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Principal"})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[It.jsxs("p",{className:"flex items-center",children:[It.jsx(Be,{className:"w-4 h-4 mr-2 text-orange-600"}),e.telefono]}),It.jsxs("p",{className:"flex items-center",children:[It.jsx(Ve,{className:"w-4 h-4 mr-2 text-orange-600"}),e.email]}),It.jsxs("p",{className:"text-gray-600",children:[It.jsx("span",{className:"font-medium",children:"Tipo:"})," ",e.tipoContacto]}),It.jsxs("p",{className:"text-gray-600",children:[It.jsx("span",{className:"font-medium",children:"Prioridad:"})," ",e.prioridad]})]}),e.observaciones&&It.jsxs("div",{className:"mt-2",children:[It.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Observaciones:"}),It.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded mt-1",children:e.observaciones})]})]},e.idContacto))})]})]})]})})})})]})})]})},Ece=({aula:e,estudiantes:t,loading:r,onOpenEstudianteModal:a})=>r?It.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[It.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cargando estudiantes..."}),It.jsx("p",{className:"text-gray-600",children:"Obteniendo la lista de estudiantes"})]}):0===t.length?It.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[It.jsx(oe,{className:"w-16 h-16 text-gray-400 mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay estudiantes"}),It.jsx("p",{className:"text-gray-600 text-center",children:"Esta aula an no tiene estudiantes asignados."})]}):It.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:t.map(e=>It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 cursor-pointer hover:scale-[1.02] hover:border-blue-300",onClick:()=>a(e),children:It.jsxs("div",{className:"p-4 md:p-6",children:[It.jsxs("div",{className:"flex items-start justify-between mb-4",children:[It.jsxs("div",{className:"flex-1",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.nombreCompleto}),It.jsxs("p",{className:"text-sm text-gray-600",children:[e.infoApoderado?.grado?.grado," - ",e.infoApoderado?.aula?.seccion]})]}),It.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:It.jsx(oe,{className:"w-6 h-6 text-blue-600"})})]}),It.jsxs("div",{className:"space-y-3",children:[It.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[It.jsx(he,{className:"w-4 h-4 mr-2 text-green-500"}),It.jsx("span",{className:"font-medium",children:"Documento:"}),It.jsxs("span",{className:"ml-2",children:[e.tipoDocumento," ",e.nroDocumento]})]}),e.infoApoderado?.apoderado&&It.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[It.jsx(oe,{className:"w-4 h-4 mr-2 text-purple-500"}),It.jsx("span",{className:"font-medium",children:"Apoderado:"}),It.jsxs("span",{className:"ml-2",children:[e.infoApoderado.apoderado.nombreCompleto," (",e.infoApoderado.apoderado.tipoApoderado,")"]})]}),e.contactosEmergencia&&e.contactosEmergencia.length>0&&It.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[It.jsx(Be,{className:"w-4 h-4 mr-2 text-orange-500"}),It.jsx("span",{className:"font-medium",children:"Contacto:"}),It.jsxs("span",{className:"ml-2",children:[e.contactosEmergencia[0].nombre," ",e.contactosEmergencia[0].apellido," - ",e.contactosEmergencia[0].telefono]})]}),e.infoApoderado?.aula?.estado&&It.jsx("div",{className:"mt-3",children:It.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+("activo"===e.infoApoderado.aula.estado?.toLowerCase()?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:["Aula ",e.infoApoderado.aula.estado]})}),e.observaciones&&It.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[It.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Observaciones:"}),It.jsx("p",{className:"text-sm text-gray-600",children:e.observaciones})]})]})]})},e.idEstudiante))}),Sce=()=>{const[e,r]=t.useState(!1),{user:a}=Sa(),{trabajadores:n}=Nc(),s=a?.entidadId,{planificaciones:i,isLoading:o,error:l,refetch:c}=(e=>{const[r,a]=t.useState([]),[n,s]=t.useState(!1),[i,o]=t.useState(null),l=async()=>{if(e){s(!0),o(null);try{const t=await EB.getPlanificacionesTrabajador(e);a(t||[])}catch(t){o(t.response?.data?.message||"Error al obtener planificaciones"),a([])}finally{s(!1)}}else a([])};return t.useEffect(()=>{l()},[e]),{planificaciones:r,isLoading:n,error:i,refetch:l}})(s);return t.useEffect(()=>{},[e,s]),s?It.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[It.jsxs("div",{className:"flex justify-between items-center mb-6",children:[It.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Mis Planificaciones"}),It.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold shadow",onClick:()=>{r(!0)},children:"+ Agregar Planificacin"})]}),It.jsx(CB,{open:e,onClose:()=>r(!1),onSuccess:c}),s?o?It.jsx("div",{className:"text-gray-500 text-center py-10",children:"Cargando planificaciones..."}):l?It.jsxs("div",{className:"text-red-500 text-center py-10",children:["Error al cargar planificaciones: ",l]}):i&&i.length>0?It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:i.map(e=>It.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-lg p-6 flex flex-col justify-between hover:shadow-2xl transition-shadow duration-200",children:[It.jsxs("div",{className:"flex items-center mb-4",children:[It.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:It.jsx("span",{className:"text-blue-600 text-2xl font-bold",children:e.tipoPlanificacion?.charAt(0)||"P"})}),It.jsxs("div",{className:"flex-1",children:[It.jsx("div",{className:"font-bold text-xl text-blue-800",children:e.tipoPlanificacion}),It.jsx("div",{className:"text-sm text-gray-500",children:yce(e.fechaCreacion)})]})]}),It.jsxs("div",{className:"mb-4 text-gray-700",children:[It.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Fecha de planificacin:"}),It.jsx("div",{className:"text-sm",children:yce(e.fechaPlanificacion)})]}),It.jsxs("div",{className:"mb-4",children:[It.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"Informacin del Aula:"}),It.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Seccin:"}),It.jsx("span",{className:"text-sm font-bold text-green-700",children:e.aula?.seccion})]}),It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Estudiantes:"}),It.jsx("span",{className:"text-sm font-bold text-blue-700",children:e.aula?.cantidadEstudiantes||"N/A"})]})]})]}),e.observaciones&&It.jsxs("div",{className:"mb-4",children:[It.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"Observaciones:"}),It.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-sm text-yellow-800 leading-relaxed",children:e.observaciones})]}),It.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-gray-100",children:[It.jsx("a",{href:e.archivoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline font-semibold hover:text-blue-800 transition-colors",children:"Ver archivo"}),It.jsx("span",{className:"text-xs px-3 py-1 rounded-full font-bold bg-blue-100 text-blue-700",children:"Activo"})]})]},e.idPlanificacion))}):It.jsx("div",{className:"text-gray-500 text-center py-10",children:"No hay planificaciones registradas."}):It.jsx("div",{className:"text-gray-500 text-center py-10",children:"Cargando..."})]}):It.jsx("div",{className:"text-gray-500 text-center py-10",children:"Cargando..."})},kce=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});kce.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),kce.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const Cce={crearTarea:async e=>{try{return(await kce.post("/tarea",e)).data}catch(t){throw new Error(t.response?.data?.message||"Error al crear la tarea")}},createTarea:async e=>Cce.crearTarea(e),obtenerTareasPorTrabajador:async e=>{try{const t=await kce.get(`/tarea/trabajador/${e}`);return t.data.success&&t.data.tareas?t.data.tareas:(Array.isArray(t.data),t.data)}catch(t){throw new Error(t.response?.data?.message||"Error al obtener las tareas del trabajador")}},obtenerTareasPorEstudiante:async e=>{try{const t=await kce.get(`/tarea/estudiante/${e}`);return t.data.success&&t.data.tareas?t.data.tareas:(Array.isArray(t.data),t.data)}catch(t){throw new Error(t.response?.data?.message||"Error al obtener las tareas del estudiante")}},obtenerTareas:async()=>{try{return(await kce.get("/tarea")).data}catch(e){throw new Error(e.response?.data?.message||"Error al obtener tareas")}},obtenerTareaPorId:async e=>{try{return(await kce.get(`/tarea/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener la tarea")}},actualizarTarea:async(e,t)=>{try{return(await kce.patch(`/tarea/${e}`,t)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar la tarea")}},eliminarTarea:async e=>{try{return(await kce.delete(`/tarea/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar la tarea")}},entregarTarea:async e=>{try{return(await kce.post("/tarea-entrega",e)).data}catch(t){throw new Error(t.response?.data?.message||"Error al enviar la entrega de la tarea")}},obtenerEntregasPorTarea:async e=>{try{return(await kce.get(`/tarea-entrega/tarea/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener las entregas de la tarea")}}},Ace=()=>{try{const e=localStorage.getItem("token");if(!e)return null;const t=e.split(".");if(3!==t.length)return null;const r=JSON.parse(atob(t[1]));return r.idTrabajador||r.entidadId||null}catch(e){return null}},_ce=({isOpen:e,onClose:r,onSave:a})=>{const{user:n}=Sa(),[s,i]=t.useState({titulo:"",descripcion:"",fechaEntrega:"",idAula:"",archivo:null}),[o,l]=t.useState({}),[c,d]=t.useState(!1),[u,m]=t.useState([]),[h,f]=t.useState(!1),[p,g]=t.useState(!1),[x,b]=t.useState("");t.useEffect(()=>{e&&(window.debugCrearTarea=()=>({token:localStorage.getItem("token"),user:n,idTrabajadorFromToken:Ace(),entidadIdFromToken:getEntidadIdFromToken(),entidadIdFromStorage:localStorage.getItem("entidadId")}),y())},[e,n]);const y=async()=>{try{f(!0);const r=Ace(),a=n?.entidadId||localStorage.getItem("entidadId"),s=r||a;if(!s)return void m([]);try{const e=await Mq.getAulasByTrabajador(s);m(e?.aulas||e?.data||[])}catch(e){try{const e=await Mq.getAllAulas();m(e?.info?.data||e?.data||[])}catch(t){m([])}}}catch(e){ca.error("Error al cargar las aulas asignadas"),m([])}finally{f(!1)}},v=e=>{const{name:t,value:r}=e.target;"idAula"===t&&u.find(e=>e.id_aula===r||e.idAula===r),i(e=>({...e,[t]:r})),o[t]&&l(e=>({...e,[t]:""}))},w=()=>{i({titulo:"",descripcion:"",fechaEntrega:"",idAula:"",archivo:null}),l({}),b("")},N=()=>{c||(w(),r())};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:N,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(he,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold text-gray-900",children:"Crear Nueva Tarea"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Crea una tarea y asgnala a todos los estudiantes del aula"})]})]}),It.jsx("button",{onClick:N,disabled:c||p,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};if(s.titulo.trim()||(e.titulo="El ttulo es obligatorio"),s.descripcion.trim()||(e.descripcion="La descripcin es obligatoria"),s.fechaEntrega){const t=new Date;new Date(s.fechaEntrega)<=t&&(e.fechaEntrega="La fecha de entrega debe ser futura")}else e.fechaEntrega="La fecha de entrega es obligatoria";return s.idAula?u.find(e=>e.id_aula===s.idAula||e.idAula===s.idAula)||(e.idAula="El aula seleccionada no es vlida"):e.idAula="Debe seleccionar un aula",l(e),0===Object.keys(e).length})())try{d(!0);const e=Ace();if(!e)throw new Error("No se pudo obtener el ID del trabajador del token");let r="";if(s.archivo)try{g(!0),ca.info("Subiendo archivo a la nube..."),r=(await yc.uploadFile(s.archivo.file,"tareas",e)).url,b(r),ca.success("Archivo subido exitosamente")}catch(t){return void ca.error("Error al subir archivo",{description:"El archivo no se pudo subir. Intntalo de nuevo."})}finally{g(!1)}const n={titulo:s.titulo.trim(),descripcion:s.descripcion.trim(),fechaEntrega:s.fechaEntrega,estado:"pendiente",archivoUrl:r||null,idAula:s.idAula,idTrabajador:e};a&&await a(n),w(),ca.success("Tarea creada exitosamente")}catch(t){if(x)try{const e=x.split("/o/")[1]?.split("?")[0];if(e){const t=decodeURIComponent(e);await yc.deleteFile(t)}}catch(r){}ca.error("Error al crear la tarea",{description:t.message||"Ocurri un error inesperado"})}finally{d(!1),g(!1)}else ca.error("Por favor, corrige los errores en el formulario")},className:"space-y-6",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo de la Tarea *"}),It.jsx("input",{type:"text",name:"titulo",value:s.titulo,onChange:v,placeholder:"Ej: Ensayo sobre el calentamiento global",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.titulo?"border-red-300":"border-gray-300"),disabled:c}),o.titulo&&It.jsxs("div",{className:"mt-1 flex items-center text-sm text-red-600",children:[It.jsx(j,{className:"w-4 h-4 mr-1"}),o.titulo]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin *"}),It.jsx("textarea",{name:"descripcion",value:s.descripcion,onChange:v,placeholder:"Escribe las instrucciones y detalles de la tarea...",rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.descripcion?"border-red-300":"border-gray-300"),disabled:c}),o.descripcion&&It.jsxs("div",{className:"mt-1 flex items-center text-sm text-red-600",children:[It.jsx(j,{className:"w-4 h-4 mr-1"}),o.descripcion]})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[It.jsx(oe,{className:"w-4 h-4 inline mr-1"}),"Aula *"]}),It.jsxs("select",{name:"idAula",value:s.idAula,onChange:v,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.idAula?"border-red-300":"border-gray-300"),disabled:c||h,children:[It.jsx("option",{value:"",children:h?"Cargando aulas asignadas...":"Seleccionar aula asignada"}),u.map(e=>It.jsxs("option",{value:e.id_aula||e.idAula||e.id,children:[e.grado&&e.seccion?`${e.grado} - ${e.seccion}`:e.nombre||`Aula ${e.seccion||e.numero||e.id}`,e.cantidadEstudiantes&&` (${e.cantidadEstudiantes} estudiantes)`]},e.id_aula||e.idAula||e.id))]}),o.idAula&&It.jsxs("div",{className:"mt-1 flex items-center text-sm text-red-600",children:[It.jsx(j,{className:"w-4 h-4 mr-1"}),o.idAula]})]}),It.jsxs("div",{children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[It.jsx(ue,{className:"w-4 h-4 inline mr-1"}),"Fecha de Entrega *"]}),It.jsx("input",{type:"date",name:"fechaEntrega",value:s.fechaEntrega,onChange:v,min:(()=>{const e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]})(),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.fechaEntrega?"border-red-300":"border-gray-300"),disabled:c}),o.fechaEntrega&&It.jsxs("div",{className:"mt-1 flex items-center text-sm text-red-600",children:[It.jsx(j,{className:"w-4 h-4 mr-1"}),o.fechaEntrega]})]})]}),It.jsxs("div",{children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[It.jsx(_e,{className:"w-4 h-4 inline mr-1"}),"Archivos Adjuntos (Opcional)"]}),It.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:[It.jsx("input",{type:"file",onChange:e=>{const t=Array.from(e.target.files);if(0===t.length)return;const r=t[0],a=yc.getFileInfo(r);return yc.validateFileType(r)?yc.validateFileSize(r,10)?(i(e=>({...e,archivo:{file:r,info:a,id:Date.now()}})),ca.success(`Archivo "${r.name}" agregado correctamente`),void(e.target.value="")):(ca.error("Archivo demasiado grande",{description:"El archivo no puede superar los 10MB"}),void(e.target.value="")):(ca.error("Tipo de archivo no permitido",{description:"Solo se permiten: PDF, DOC, DOCX, imgenes (JPG, PNG, GIF)"}),void(e.target.value=""))},className:"hidden",id:"archivo",disabled:c||p,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif"}),It.jsxs("label",{htmlFor:"archivo",className:"cursor-pointer",children:[It.jsx(_e,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),It.jsx("p",{className:"text-sm text-gray-600",children:"Haz clic para subir un archivo"}),It.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, IMG (mx. 10MB)"})]})]}),s.archivo&&It.jsx("div",{className:"mt-3",children:It.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg border",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[s.archivo.info.isImage?It.jsx("div",{className:"w-8 h-8 bg-green-100 rounded flex items-center justify-center",children:It.jsx(S,{className:"w-4 h-4 text-green-600"})}):It.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center",children:It.jsx(he,{className:"w-4 h-4 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-48",children:s.archivo.info.name}),It.jsxs("p",{className:"text-xs text-gray-500",children:[s.archivo.info.sizeFormatted,"  ",s.archivo.info.extension.toUpperCase()]})]})]}),It.jsx("button",{type:"button",onClick:()=>{if(x)try{const e=x.split("/o/")[1]?.split("?")[0];if(e){const t=decodeURIComponent(e);yc.deleteFile(t),ca.success("Archivo eliminado de la nube")}}catch(e){ca.error("Error al eliminar archivo de la nube")}i(e=>({...e,archivo:null})),b("")},className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",disabled:c||p,title:"Eliminar archivo",children:It.jsx(Le,{className:"w-4 h-4"})})]})}),p&&It.jsxs("div",{className:"mt-3 flex items-center justify-center space-x-2 text-blue-600",children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),It.jsx("span",{className:"text-sm",children:"Subiendo archivo a la nube..."})]})]}),It.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-6 border-t",children:[It.jsx("button",{type:"button",onClick:N,disabled:c||p,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:c||p,className:"w-full sm:w-auto px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:p?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Subiendo archivo..."]}):c?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 mr-2 animate-spin"}),"Creando tarea..."]}):"Crear Tarea"})]})]})]})})})})]})})},Tce=({isOpen:e,onClose:r,tarea:a,onSave:n})=>{const[s,i]=t.useState({titulo:"",descripcion:"",fechaEntrega:"",estado:"pendiente",archivoUrl:"",idAula:"",idTrabajador:""}),[o,l]=t.useState(!1),[c,d]=t.useState({});t.useEffect(()=>{e&&a&&(i({titulo:a.titulo||"",descripcion:a.descripcion||"",fechaEntrega:a.fechaEntrega?a.fechaEntrega.split("T")[0]:"",estado:a.estado||"pendiente",archivoUrl:a.archivoUrl||"",idAula:a.aula?.idAula||"",idTrabajador:a.idTrabajador?.idTrabajador||""}),d({}))},[e,a]);const u=e=>{const{name:t,value:r}=e.target;i(e=>({...e,[t]:r})),c[t]&&d(e=>({...e,[t]:""}))},m=()=>{o||(i({titulo:"",descripcion:"",fechaEntrega:"",estado:"pendiente",archivoUrl:"",idAula:"",idTrabajador:""}),d({}),r())};return e&&a?It.jsxs(ki,{open:e,onClose:m,className:"relative z-50",children:[It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-md bg-opacity-50"}),It.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:It.jsxs(ki.Panel,{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[It.jsx(ki.Title,{className:"text-xl font-semibold text-gray-900",children:"Editar Tarea"}),It.jsx("button",{onClick:m,disabled:o,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:It.jsx(ne,{size:24})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return s.titulo.trim()||(e.titulo="El ttulo es requerido"),s.descripcion.trim()||(e.descripcion="La descripcin es requerida"),s.fechaEntrega||(e.fechaEntrega="La fecha de entrega es requerida"),s.idAula||(e.idAula="El aula es requerida"),d(e),0===Object.keys(e).length})()){l(!0);try{const e={titulo:s.titulo.trim(),descripcion:s.descripcion.trim(),fechaEntrega:s.fechaEntrega,estado:s.estado,archivoUrl:s.archivoUrl||null,idAula:s.idAula,idTrabajador:s.idTrabajador};await n(a.idTarea,e),ca.success("Tarea actualizada exitosamente"),r()}catch(t){ca.error("Error al actualizar la tarea")}finally{l(!1)}}},className:"p-6 space-y-6",children:[It.jsxs("div",{className:"space-y-4",children:[It.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Informacin de la Tarea"}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo *"}),It.jsx("input",{type:"text",name:"titulo",value:s.titulo,onChange:u,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ingrese el ttulo de la tarea",disabled:o}),c.titulo&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.titulo})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin *"}),It.jsx("textarea",{name:"descripcion",value:s.descripcion,onChange:u,rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describa la tarea en detalle",disabled:o}),c.descripcion&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.descripcion})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Entrega *"}),It.jsx("input",{type:"date",name:"fechaEntrega",value:s.fechaEntrega,onChange:u,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:o}),c.fechaEntrega&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.fechaEntrega})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),It.jsx("select",{name:"estado",value:s.estado,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:o,children:[{value:"pendiente",label:"Pendiente"},{value:"activa",label:"Activa"},{value:"vencida",label:"Vencida"},{value:"borrador",label:"Borrador"}].map(e=>It.jsx("option",{value:e.value,children:e.label},e.value))})]})]})]}),It.jsxs("div",{className:"space-y-4",children:[It.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Informacin Adicional"}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aula *"}),It.jsx("div",{className:"px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",children:It.jsx("span",{className:"text-gray-900",children:a.aula?`${a.aula.idGrado?.grado||"Sin grado"} - `:"Sin aula asignada"})}),It.jsx("input",{type:"hidden",name:"idAula",value:s.idAula})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL del Archivo (opcional)"}),It.jsx("input",{type:"url",name:"archivoUrl",value:s.archivoUrl,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://ejemplo.com/archivo.pdf",disabled:o}),s.archivoUrl&&It.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Archivo actual: ",It.jsx("a",{href:s.archivoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Ver archivo"})]})]})]}),It.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[It.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Informacin de solo lectura:"}),It.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[It.jsxs("p",{children:[It.jsx("strong",{children:"Fecha de asignacin:"})," ",a.fechaAsignacion?new Date(a.fechaAsignacion).toLocaleDateString("es-ES"):"No disponible"]}),It.jsxs("p",{children:[It.jsx("strong",{children:"Profesor:"})," ",a.idTrabajador?`${a.idTrabajador.nombre}`:"No disponible"]}),It.jsxs("p",{children:[It.jsx("strong",{children:"Entregas:"})," ",a.tareaEntregas?.length||0," estudiantes han entregado"]})]})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[It.jsx("button",{type:"button",onClick:m,disabled:o,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:"Cancelar"}),It.jsxs("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[o&&It.jsx(E,{className:"w-4 h-4 animate-spin"}),It.jsx("span",{children:o?"Actualizando...":"Actualizar Tarea"})]})]})]})]})})]}):null},Oce=({isOpen:e,onClose:r,tarea:a,onConfirm:n})=>{const[s,i]=t.useState(""),[o,l]=t.useState(!1),c=()=>{o||(i(""),r())},d="eliminar"===s.toLowerCase();return e&&a?It.jsxs(ki,{open:e,onClose:c,className:"relative z-50",children:[It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-md bg-opacity-50"}),It.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:It.jsxs(ki.Panel,{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:It.jsx(Xe,{className:"w-6 h-6 text-red-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Eliminar Tarea"}),It.jsx("p",{className:"text-sm text-gray-600",children:"Esta accin no se puede deshacer"})]})]}),It.jsx("button",{onClick:c,disabled:o,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:It.jsx(ne,{size:24})})]}),It.jsxs("div",{className:"p-6",children:[It.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:It.jsxs("div",{className:"flex items-start space-x-3",children:[It.jsx(he,{className:"w-5 h-5 text-gray-400 mt-0.5"}),It.jsxs("div",{className:"flex-1",children:[It.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:a.titulo}),It.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[It.jsxs("div",{className:"flex items-center",children:[It.jsx(ue,{className:"w-3 h-3 mr-1"}),It.jsxs("span",{children:["Vence: ",(u=a.fechaEntrega,new Date(u).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}))]})]}),It.jsxs("div",{className:"flex items-center",children:[It.jsx(oe,{className:"w-3 h-3 mr-1"}),It.jsx("span",{children:a.aula?`${a.aula.idGrado?.grado||"Sin grado"} - `:"Sin aula"})]}),It.jsxs("div",{className:"flex items-center",children:[It.jsx(he,{className:"w-3 h-3 mr-1"}),It.jsxs("span",{children:[a.tareaEntregas?.length||0," entregas"]})]})]})]})]})}),It.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:It.jsxs("div",{className:"flex items-start",children:[It.jsx(Xe,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3"}),It.jsxs("div",{children:[It.jsx("h4",{className:"text-sm font-medium text-red-800 mb-1",children:"Ests seguro de que quieres eliminar esta tarea?"}),It.jsx("p",{className:"text-sm text-red-700",children:"Esta accin eliminar permanentemente la tarea y todas las entregas asociadas. Los estudiantes ya no podrn acceder a esta tarea."})]})]})}),It.jsx("div",{className:"space-y-4",children:It.jsxs("div",{children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Para confirmar, escribe ",It.jsx("strong",{children:"'eliminar'"})," en el campo siguiente:"]}),It.jsx("input",{type:"text",value:s,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Escribe eliminar para confirmar",disabled:o})]})})]}),It.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[It.jsx("button",{onClick:c,disabled:o,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:"Cancelar"}),It.jsxs("button",{onClick:async()=>{if("eliminar"===s.toLowerCase()){l(!0);try{await n(a.idTarea),ca.success("Tarea eliminada exitosamente"),c()}catch(e){ca.error("Error al eliminar la tarea")}finally{l(!1)}}},disabled:!d||o,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center space-x-2",children:[o&&It.jsx(E,{className:"w-4 h-4 animate-spin"}),It.jsx(Le,{className:"w-4 h-4"}),It.jsx("span",{children:o?"Eliminando...":"Eliminar Tarea"})]})]})]})})]}):null;var u},Dce=({isOpen:e,onClose:r,tarea:a})=>{const[n,s]=t.useState("detalles"),[i,o]=t.useState(!1),[l,c]=t.useState(null),[d,u]=t.useState([]),[m,h]=t.useState([]);t.useEffect(()=>{},[a]);const f=()=>{s("detalles"),u([]),h([]),c(null),o(!1),r()},p=e=>e?new Date(e).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada",g=e=>{e&&window.open(e,"_blank")},x=(e,t)=>{if(e){const r=document.createElement("a");r.href=e,r.download=t||"archivo",r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}};t.useEffect(()=>{e&&a?b():e||(u([]),h([]),c(null),s("detalles"),o(!1))},[e,a]);const b=async()=>{if(a){o(!0),c(null);try{const t=a.entregas||a.tareaEntregas||[];if(!t.length&&a.idTarea)try{const e=await Cce.obtenerEntregasPorTarea(a.idTarea);let t=[];if(t=Array.isArray(e)?e:e?.data&&Array.isArray(e.data)?e.data:e?.data?.entregas&&Array.isArray(e.data.entregas)?e.data.entregas:e?.entregas&&Array.isArray(e.entregas)?e.entregas:e?.info?.data&&Array.isArray(e.info.data)?e.info.data:[],!Array.isArray(t))throw new Error("El formato de las entregas no es vlido");const r=t.map(e=>({idTareaEntrega:e.idTareaEntrega,idEstudiante:e.idEstudiante,fechaEntrega:e.fechaEntrega,archivoUrl:e.archivoUrl,estado:e.estado,realizoTarea:e.realizoTarea,observaciones:e.observaciones,estudiante:{idEstudiante:e.idEstudiante2?.idEstudiante||e.idEstudiante,nombre:e.idEstudiante2?.nombre||e.estudiante?.nombre,apellido:e.idEstudiante2?.apellido||e.estudiante?.apellido,nroDocumento:e.idEstudiante2?.nroDocumento||e.estudiante?.nroDocumento,imagen:e.idEstudiante2?.imagen_estudiante||e.estudiante?.imagen}})),n=r.filter(e=>!0===e.realizoTarea||"entregado"===e.estado),s=r.filter(e=>!1===e.realizoTarea&&"entregado"!==e.estado);u(n),h(s)}catch(e){c(e.message||"Error al cargar las entregas"),u([]),h([])}else{const e=t.filter(e=>!0===e.realizoTarea||"entregado"===e.estado),r=t.filter(e=>!1===e.realizoTarea&&"entregado"!==e.estado);u(e),h(r)}}catch(t){c(t.message||"Error al procesar las entregas de la tarea"),ca.error("Error al procesar las entregas de la tarea"),u([]),h([])}finally{o(!1)}}},y=d.length+m.length,v=d.length,w=m.length,k=y>0?Math.round(v/y*100):0;e&&(d.length>0||m.length);const C=[{id:"detalles",label:"Detalles",icon:he},{id:"entregadas",label:"Entregadas",icon:S},{id:"pendientes",label:"Pendientes",icon:de},{id:"info",label:"Informacin",icon:j}];return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:f,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:[It.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex-1",children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold text-white mb-2",children:a?.titulo||"Detalles de la Tarea"}),It.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-green-100",children:[It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(oe,{className:"w-4 h-4"}),It.jsxs("span",{children:[a?.aulaInfo?.grado||a?.aula?.idGrado?.grado||"Sin grado"," - ",a?.aulaInfo?.seccion||a?.aula?.seccion||"Sin seccin"]})]}),It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(ue,{className:"w-4 h-4"}),It.jsxs("span",{children:["Vence: ",p(a?.fechaEntrega||a?.fechaLimite)]})]}),It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(gt,{className:"w-4 h-4"}),It.jsxs("span",{children:[v,"/",y," entregas (",k,"%)"]})]})]})]}),It.jsx("button",{onClick:f,className:"text-white hover:bg-green-600 hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:It.jsx(ne,{className:"w-5 h-5"})})]})}),It.jsx("div",{className:"border-b border-gray-200",children:It.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:C.map(e=>{const t=e.icon,r="entregadas"===e.id?v:"pendientes"===e.id?w:null;return It.jsxs("button",{onClick:()=>s(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 "+(n===e.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[It.jsx(t,{className:"w-4 h-4"}),It.jsxs("span",{children:[e.label,null!==r?` (${r})`:""]})]},e.id)})})}),It.jsx("div",{className:"px-6 py-6 max-h-96 overflow-y-auto",children:i?It.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[It.jsx(E,{className:"w-12 h-12 text-green-600 animate-spin mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cargando entregas..."}),It.jsx("p",{className:"text-gray-600",children:"Obteniendo informacin de las entregas de la tarea"})]}):l?It.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[It.jsx(j,{className:"w-16 h-16 text-red-500 mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error al cargar entregas"}),It.jsx("p",{className:"text-gray-600 text-center mb-4",children:l}),It.jsx("button",{onClick:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Reintentar"})]}):It.jsxs(It.Fragment,{children:[It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[It.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(oe,{className:"w-8 h-8 text-blue-600 mr-3"}),It.jsxs("div",{children:[It.jsx("p",{className:"text-blue-800 font-semibold text-lg",children:y}),It.jsx("p",{className:"text-blue-600 text-sm",children:"Total estudiantes"})]})]})}),It.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(S,{className:"w-8 h-8 text-green-600 mr-3"}),It.jsxs("div",{children:[It.jsx("p",{className:"text-green-800 font-semibold text-lg",children:v}),It.jsx("p",{className:"text-green-600 text-sm",children:"Entregadas"})]})]})}),It.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(de,{className:"w-8 h-8 text-yellow-600 mr-3"}),It.jsxs("div",{children:[It.jsx("p",{className:"text-yellow-800 font-semibold text-lg",children:w}),It.jsx("p",{className:"text-yellow-600 text-sm",children:"Pendientes"})]})]})}),It.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(gt,{className:"w-8 h-8 text-purple-600 mr-3"}),It.jsxs("div",{children:[It.jsxs("p",{className:"text-purple-800 font-semibold text-lg",children:[k,"%"]}),It.jsx("p",{className:"text-purple-600 text-sm",children:"Completado"})]})]})})]}),"detalles"===n&&It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{children:[It.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informacin de la Tarea"}),It.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Ttulo"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900 font-medium",children:a?.titulo||"No especificado"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Descripcin"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a?.descripcion||"Sin descripcin"})]})]})})]}),(a?.archivoUrl||a?.archivo_url||a?.fileUrl)&&It.jsxs("div",{children:[It.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Archivo Adjunto"}),It.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:It.jsx(he,{className:"w-5 h-5 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Archivo de la tarea"}),It.jsx("p",{className:"text-xs text-gray-600",children:"Archivo adjunto por el profesor"})]})]}),It.jsxs("div",{className:"flex space-x-2",children:[It.jsxs("button",{onClick:()=>g(a.archivoUrl||a.archivo_url||a.fileUrl),className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors text-xs",children:[It.jsx(N,{className:"w-3 h-3"}),It.jsx("span",{children:"Ver"})]}),It.jsxs("button",{onClick:()=>x(a.archivoUrl||a.archivo_url||a.fileUrl,`tarea_${a.titulo}`),className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors text-xs",children:[It.jsx(Te,{className:"w-3 h-3"}),It.jsx("span",{children:"Descargar"})]})]})]})})]}),It.jsxs("div",{children:[It.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Estadsticas"}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[It.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:It.jsx(S,{className:"w-4 h-4 text-green-600"})}),It.jsxs("div",{children:[It.jsx("p",{className:"text-lg font-semibold text-green-900",children:v}),It.jsx("p",{className:"text-xs text-green-600",children:"Entregadas"})]})]})}),It.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center mr-3",children:It.jsx(de,{className:"w-4 h-4 text-yellow-600"})}),It.jsxs("div",{children:[It.jsx("p",{className:"text-lg font-semibold text-yellow-900",children:w}),It.jsx("p",{className:"text-xs text-yellow-600",children:"Pendientes"})]})]})}),It.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:It.jsx(oe,{className:"w-4 h-4 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("p",{className:"text-lg font-semibold text-blue-900",children:y}),It.jsx("p",{className:"text-xs text-blue-600",children:"Total Estudiantes"})]})]})})]})]})]}),"entregadas"===n&&It.jsx("div",{className:"space-y-4",children:i?It.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[It.jsx(E,{className:"w-12 h-12 text-indigo-600 animate-spin mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cargando entregas..."}),It.jsx("p",{className:"text-gray-600",children:"Obteniendo informacin de las entregas realizadas"})]}):d.length>0?It.jsx("div",{className:"grid gap-4",children:d.map(e=>It.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:It.jsxs("span",{className:"text-green-600 font-semibold text-sm",children:[e.estudiante?.nombre?.charAt(0),e.estudiante?.apellido?.charAt(0)]})}),It.jsxs("div",{children:[It.jsxs("p",{className:"font-medium text-gray-900",children:[e.estudiante?.nombre," ",e.estudiante?.apellido]}),It.jsxs("p",{className:"text-sm text-gray-600",children:["DNI: ",e.estudiante?.nroDocumento]})]})]}),It.jsxs("div",{className:"text-right",children:[It.jsxs("div",{className:"flex items-center text-green-600 mb-1",children:[It.jsx(S,{className:"w-4 h-4 mr-1"}),It.jsx("span",{className:"text-sm font-medium",children:"Entregada"})]}),It.jsx("p",{className:"text-xs text-gray-500",children:p(e.fechaEntrega)})]})]}),e.archivoUrl&&It.jsxs("div",{className:"mt-3 flex items-center justify-between bg-white rounded-lg p-3 border",children:[It.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[It.jsx(wt,{className:"w-4 h-4 mr-2"}),It.jsx("span",{children:"Archivo adjunto"})]}),It.jsxs("div",{className:"flex space-x-2",children:[It.jsxs("button",{onClick:()=>g(e.archivoUrl),className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors text-xs",children:[It.jsx(N,{className:"w-3 h-3"}),It.jsx("span",{children:"Ver"})]}),It.jsxs("button",{onClick:()=>x(e.archivoUrl,`entrega_${e.estudiante?.nombre}_${e.estudiante?.apellido}`),className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors text-xs",children:[It.jsx(Te,{className:"w-3 h-3"}),It.jsx("span",{children:"Descargar"})]})]})]}),e.observaciones&&It.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border",children:[It.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Observaciones:"}),It.jsx("p",{className:"text-sm text-gray-600",children:e.observaciones})]})]},e.idTareaEntrega))}):It.jsxs("div",{className:"text-center py-12",children:[It.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:It.jsx(S,{className:"w-8 h-8 text-gray-400"})}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay entregas realizadas"}),It.jsx("p",{className:"text-gray-500",children:"An ningn estudiante ha entregado esta tarea"})]})}),"pendientes"===n&&It.jsx("div",{className:"space-y-4",children:m.length>0?It.jsx("div",{className:"grid gap-4",children:m.map(e=>It.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:It.jsxs("span",{className:"text-yellow-600 font-semibold text-sm",children:[e.estudiante?.nombre?.charAt(0),e.estudiante?.apellido?.charAt(0)]})}),It.jsxs("div",{children:[It.jsxs("p",{className:"font-medium text-gray-900",children:[e.estudiante?.nombre," ",e.estudiante?.apellido]}),It.jsxs("p",{className:"text-sm text-gray-600",children:["DNI: ",e.estudiante?.nroDocumento]})]})]}),It.jsxs("div",{className:"text-right",children:[It.jsxs("div",{className:"flex items-center text-yellow-600 mb-1",children:[It.jsx(de,{className:"w-4 h-4 mr-1"}),It.jsx("span",{className:"text-sm font-medium",children:"Pendiente"})]}),It.jsxs("p",{className:"text-xs text-gray-500",children:["Vence: ",p(a?.fechaEntrega||a?.fechaLimite)]})]})]})},e.idTareaEntrega))}):It.jsxs("div",{className:"text-center py-12",children:[It.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:It.jsx(S,{className:"w-8 h-8 text-green-400"})}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Excelente!"}),It.jsx("p",{className:"text-gray-500",children:"Todos los estudiantes han entregado la tarea"})]})}),"info"===n&&It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{children:[It.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informacin del Profesor"}),It.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nombre"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.trabajadorInfo?.nombre||`${a.idTrabajador?.nombre||""} ${a.idTrabajador?.apellido||""}`.trim()||"No especificado"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Correo"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.trabajadorInfo?.correo||a.idTrabajador?.correo||"No especificado"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Rol"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.trabajadorInfo?.rol||a.idTrabajador?.idRol?.nombre||"No especificado"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Documento"}),It.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[a.idTrabajador?.tipoDocumento,": ",a.idTrabajador?.nroDocumento||"No especificado"]})]})]})})]}),It.jsxs("div",{children:[It.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informacin del Aula"}),It.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Grado"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.aulaInfo?.grado||a.aula?.idGrado?.grado||"No especificado"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Seccin"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.aulaInfo?.seccion||a.aula?.seccion||"No especificado"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Cantidad de Estudiantes"}),It.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[a.aulaInfo?.cantidadEstudiantes||a.aula?.cantidadEstudiantes||0," estudiantes"]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID del Aula"}),It.jsx("p",{className:"mt-1 text-xs text-gray-900 font-mono",children:a.aulaInfo?.idAula||a.aula?.idAula||"No especificado"})]})]})})]}),It.jsxs("div",{children:[It.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informacin Tcnica"}),It.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID de la Tarea"}),It.jsx("p",{className:"mt-1 text-xs text-gray-900 font-mono",children:a.idTarea})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Estado Actual"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:It.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("activa"===a.estado?"bg-green-100 text-green-800":"vencida"===a.estado?"bg-red-100 text-red-800":"pendiente"===a.estado?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:a.estado||"No especificado"})})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Fecha de Asignacin"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p(a.fechaAsignacion)})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Fecha de Entrega"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p(a.fechaEntrega)})]})]})})]})]})]})}),It.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end",children:It.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cerrar"})})]})})})})]})})},Pce=()=>{const[e,r]=t.useState(""),[a,n]=t.useState("todas"),[s,i]=t.useState("todas"),[o,l]=t.useState("fecha_vencimiento"),[c,d]=t.useState("tarjetas"),[u,m]=t.useState(!1),[h,f]=t.useState(!1),[p,g]=t.useState(!1),[x,b]=t.useState(!1),[y,v]=t.useState(!1),[w,k]=t.useState(null),{tareas:C,loading:A,error:_,refrescarTareas:T,crearTarea:O,actualizarTarea:D,eliminarTarea:P}=(()=>{const[e,r]=t.useState([]),[a,n]=t.useState(!1),[s,i]=t.useState(null),o=async()=>{try{n(!0),i(null);const e=Ace();if(!e)throw new Error("No se pudo obtener el ID del trabajador del token");const t=await Cce.obtenerTareasPorTrabajador(e),a=l(t);r(a||[])}catch(e){i(e.message),ca.error("Error al cargar las tareas",{description:e.message}),r([])}finally{n(!1)}},l=e=>Array.isArray(e)?e.map(e=>{const t=e.tareaEntregas?.length||0,r=e.tareaEntregas?.filter(e=>!0===e.realizoTarea).length||0,a=t-r;return{id:e.idTarea,idTarea:e.idTarea,titulo:e.titulo,descripcion:e.descripcion,fechaAsignacion:e.fechaAsignacion,fechaEntrega:e.fechaEntrega,estado:c(e.estado),prioridad:e.prioridad||"media",archivoUrl:e.archivoUrl,fechaCreacion:e.fechaCreacion,materia:e.materia,aulaNombre:`${e.aula?.idGrado?.grado||"Sin grado"} - ${e.aula?.seccion||"Sin seccin"}`,aula:e.aula,aulaInfo:{idAula:e.aula?.idAula,seccion:e.aula?.seccion,grado:e.aula?.idGrado?.grado,descripcion:e.aula?.idGrado?.descripcion,cantidadEstudiantes:e.aula?.cantidadEstudiantes},totalEstudiantes:t,entregadas:r,pendientes:a,calificadas:0,trabajadorInfo:{idTrabajador:e.idTrabajador?.idTrabajador,nombre:`${e.idTrabajador?.nombre||""} ${e.idTrabajador?.apellido||""}`.trim(),correo:e.idTrabajador?.correo,rol:e.idTrabajador?.idRol?.nombre},idTrabajador:e.idTrabajador,entregas:e.tareaEntregas?.map(e=>({idTareaEntrega:e.idTareaEntrega,idEstudiante:e.idEstudiante,fechaEntrega:e.fechaEntrega,archivoUrl:e.archivoUrl,estado:e.estado,realizoTarea:e.realizoTarea,observaciones:e.observaciones,estudiante:{idEstudiante:e.idEstudiante2?.idEstudiante,nombre:e.idEstudiante2?.nombre,apellido:e.idEstudiante2?.apellido,nroDocumento:e.idEstudiante2?.nroDocumento,imagen:e.idEstudiante2?.imagen_estudiante}}))||[],_original:e}}):[],c=e=>({pendiente:"activa",activa:"activa",completada:"vencida",vencida:"vencida",borrador:"borrador",draft:"borrador"}[e?.toLowerCase()]||"activa");return t.useEffect(()=>{o()},[]),{tareas:e,loading:a,error:s,refrescarTareas:()=>{o()},crearTarea:async e=>{try{const t=await Cce.crearTarea(e);return await o(),t}catch(t){throw t}},actualizarTarea:async(e,t)=>{try{const r=await Cce.actualizarTarea(e,t);return await o(),r}catch(r){throw r}},eliminarTarea:async e=>{try{await Cce.eliminarTarea(e),await o()}catch(t){throw t}}}})(),M=t.useMemo(()=>{let t=C.filter(t=>{const r=t.titulo.toLowerCase().includes(e.toLowerCase())||t.descripcion.toLowerCase().includes(e.toLowerCase())||t.materia.toLowerCase().includes(e.toLowerCase()),n="todas"===a||t.estado===a,i="todas"===s||t.materia===s;return r&&n&&i});return t.sort((e,t)=>{switch(o){case"fecha_vencimiento":return new Date(e.fechaVencimiento||e.fechaEntrega)-new Date(t.fechaVencimiento||t.fechaEntrega);case"fecha_creacion":return new Date(t.fechaCreacion)-new Date(e.fechaCreacion);case"titulo":return e.titulo.localeCompare(t.titulo);case"materia":return e.materia.localeCompare(t.materia);default:return 0}}),t},[C,e,a,s,o]),F=t.useMemo(()=>{const e=C.length,t=C.filter(e=>"activa"===e.estado).length,r=C.filter(e=>"vencida"===e.estado).length,a=C.filter(e=>"borrador"===e.estado).length,n=C.reduce((e,t)=>e+t.entregadas,0),s=C.reduce((e,t)=>e+t.pendientes,0);return{total:e,activas:t,vencidas:r,borradores:a,totalEntregadas:n,totalPendientes:s,porcentajeEntrega:n+s>0?Math.round(n/(n+s)*100):0}},[C]),I=e=>{switch(e){case"activa":return{label:"Activa",color:"bg-green-100 text-green-800",icon:S};case"vencida":return{label:"Vencida",color:"bg-red-100 text-red-800",icon:lt};case"borrador":return{label:"Borrador",color:"bg-gray-100 text-gray-800",icon:he};default:return{label:"Sin estado",color:"bg-gray-100 text-gray-800",icon:j}}},R=e=>{switch(e){case"alta":return"text-red-600";case"media":return"text-yellow-600";case"baja":return"text-green-600";default:return"text-gray-600"}},L=e=>new Date(e).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});return new Set(C.map(e=>e.materia).filter(e=>e&&e.trim())),It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[It.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6",children:[It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gestin de Tareas"}),It.jsx("p",{className:"text-gray-600",children:"Administra y haz seguimiento a las tareas de tus estudiantes"}),_&&It.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-2",children:_})]}),It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsxs("button",{onClick:T,disabled:A,className:"flex items-center space-x-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:[It.jsx(Ce,{className:"w-5 h-5 "+(A?"animate-spin":"")}),It.jsx("span",{children:"Refrescar"})]}),It.jsxs("button",{onClick:()=>m(!0),disabled:A,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[It.jsx(Oe,{className:"w-5 h-5"}),It.jsx("span",{children:"Nueva Tarea"})]})]})]}),It.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[It.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm text-blue-600",children:"Total"}),It.jsx("p",{className:"text-2xl font-bold text-blue-700",children:F.total})]}),It.jsx(he,{className:"h-8 w-8 text-blue-600"})]})}),It.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm text-green-600",children:"Activas"}),It.jsx("p",{className:"text-2xl font-bold text-green-700",children:F.activas})]}),It.jsx(S,{className:"h-8 w-8 text-green-600"})]})}),It.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm text-red-600",children:"Vencidas"}),It.jsx("p",{className:"text-2xl font-bold text-red-700",children:F.vencidas})]}),It.jsx(lt,{className:"h-8 w-8 text-red-600"})]})}),It.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm text-gray-600",children:"Borradores"}),It.jsx("p",{className:"text-2xl font-bold text-gray-700",children:F.borradores})]}),It.jsx(he,{className:"h-8 w-8 text-gray-600"})]})}),It.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm text-purple-600",children:"Entregadas"}),It.jsx("p",{className:"text-2xl font-bold text-purple-700",children:F.totalEntregadas})]}),It.jsx(_e,{className:"h-8 w-8 text-purple-600"})]})}),It.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm text-yellow-600",children:"% Entrega"}),It.jsxs("p",{className:"text-2xl font-bold text-yellow-700",children:[F.porcentajeEntrega,"%"]})]}),It.jsx(gt,{className:"h-8 w-8 text-yellow-600"})]})})]})]}),It.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[It.jsx("div",{className:"md:col-span-2",children:It.jsxs("div",{className:"relative",children:[It.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),It.jsx("input",{type:"text",placeholder:"Buscar tareas...",value:e,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),It.jsx("div",{children:It.jsxs("select",{value:a,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[It.jsx("option",{value:"todas",children:"Todos los estados"},"todas"),It.jsx("option",{value:"activa",children:"Activas"},"activa"),It.jsx("option",{value:"vencida",children:"Vencidas"},"vencida"),It.jsx("option",{value:"borrador",children:"Borradores"},"borrador")]})}),It.jsx("div",{children:It.jsxs("select",{value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[It.jsx("option",{value:"fecha_vencimiento",children:"Por vencimiento"},"fecha_vencimiento"),It.jsx("option",{value:"fecha_creacion",children:"Por creacin"},"fecha_creacion"),It.jsx("option",{value:"titulo",children:"Por ttulo"},"titulo")]})})]}),It.jsxs("div",{className:"flex items-center justify-between mt-4",children:[It.jsx("div",{className:"flex items-center space-x-4",children:It.jsxs("span",{className:"text-sm text-gray-600",children:["Mostrando ",M.length," de ",C.length," tareas"]})}),It.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[It.jsx("button",{onClick:()=>d("tarjetas"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors "+("tarjetas"===c?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Tarjetas"}),It.jsx("button",{onClick:()=>d("tabla"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors "+("tabla"===c?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Tabla"})]})]})]}),A?It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:It.jsxs("div",{className:"flex flex-col items-center justify-center",children:[It.jsx(E,{className:"w-12 h-12 text-blue-600 animate-spin mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cargando tareas..."}),It.jsx("p",{className:"text-gray-600",children:"Obteniendo las tareas del profesor desde el servidor"})]})}):0===M.length?It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:It.jsxs("div",{className:"flex flex-col items-center justify-center",children:[It.jsx(he,{className:"w-16 h-16 text-gray-400 mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===C.length?"No tienes tareas creadas":"No se encontraron tareas"}),It.jsx("p",{className:"text-gray-600 text-center mb-6",children:0===C.length?"Comienza creando tu primera tarea para asignar a tus estudiantes":"Intenta ajustar los filtros para encontrar las tareas que buscas"}),0===C.length&&It.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[It.jsx(Oe,{className:"w-5 h-5"}),It.jsx("span",{children:"Crear primera tarea"})]})]})}):"tarjetas"===c?It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(e=>{const t=I(e.estado),r=t.icon;return It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:It.jsxs("div",{className:"p-6",children:[It.jsxs("div",{className:"flex items-start justify-between mb-4",children:[It.jsxs("div",{className:"flex-1",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-2",children:e.titulo}),It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t.color}`,children:[It.jsx(r,{className:"w-3 h-3 mr-1"}),t.label]}),e.prioridad&&It.jsxs("span",{className:`text-xs font-medium ${R(e.prioridad)}`,children:[" ",e.prioridad.toUpperCase()]})]})]}),It.jsx("div",{className:"relative"})]}),It.jsxs("div",{className:"space-y-3 mb-4",children:[It.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[It.jsx(me,{className:"w-4 h-4 mr-2"}),It.jsxs("span",{children:[e.aulaInfo?.grado||"Sin grado"," - ",e.aulaInfo?.seccion||"Sin seccin"]})]}),It.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[It.jsx(ue,{className:"w-4 h-4 mr-2"}),It.jsxs("span",{children:["Vence: ",L(e.fechaEntrega)]})]}),It.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[It.jsx(oe,{className:"w-4 h-4 mr-2"}),It.jsxs("span",{children:[e.entregadas,"/",e.totalEstudiantes," entregadas"]})]}),It.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[It.jsx(de,{className:"w-4 h-4 mr-2"}),It.jsxs("span",{children:["Asignada: ",L(e.fechaAsignacion)]})]})]}),It.jsxs("div",{className:"flex space-x-2",children:[It.jsxs("button",{onClick:()=>{k(e),v(!0)},className:"flex-1 flex items-center justify-center space-x-2 bg-green-50 text-green-600 px-3 py-2 rounded-lg hover:bg-green-100 transition-colors",title:"Ver tarea completa",children:[It.jsx(N,{className:"w-4 h-4"}),It.jsx("span",{className:"hidden sm:inline",children:"Ver"})]}),It.jsx("button",{onClick:()=>{k(e),f(!0)},className:"flex items-center justify-center space-x-2 bg-blue-50 text-blue-600 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors",title:"Editar tarea",children:It.jsx(Re,{className:"w-4 h-4"})}),It.jsx("button",{onClick:()=>{k(e),b(!0)},className:"flex items-center justify-center space-x-2 bg-red-50 text-red-600 px-3 py-2 rounded-lg hover:bg-red-100 transition-colors",title:"Eliminar tarea",children:It.jsx(Le,{className:"w-4 h-4"})})]})]})},e.id)})}):It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:It.jsx("div",{className:"overflow-x-auto",children:It.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[It.jsx("thead",{className:"bg-gray-50",children:It.jsxs("tr",{children:[It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarea"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Materia"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimiento"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progreso"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),It.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(e=>{const t=I(e.estado),r=t.icon,a=Math.round(e.entregadas/e.totalEstudiantes*100);return It.jsxs("tr",{className:"hover:bg-gray-50",children:[It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsxs("div",{children:[It.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.titulo}),It.jsx("div",{className:"text-sm text-gray-500",children:e.grado})]})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(me,{className:"w-4 h-4 text-gray-400 mr-2"}),It.jsx("span",{className:"text-sm text-gray-900",children:e.materia})]})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t.color}`,children:[It.jsx(r,{className:"w-3 h-3 mr-1"}),t.label]})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L(e.fechaVencimiento)}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsx("div",{className:"flex items-center",children:It.jsxs("div",{className:"flex-1",children:[It.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[It.jsxs("span",{children:[e.entregadas,"/",e.totalEstudiantes]}),It.jsxs("span",{children:[a,"%"]})]}),It.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:It.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${a}%`}})})]})})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:It.jsxs("div",{className:"flex space-x-2",children:[It.jsx("button",{onClick:()=>{k(e),v(!0)},className:"text-green-600 hover:text-green-900",title:"Ver tarea completa",children:It.jsx(N,{className:"w-4 h-4"})}),It.jsx("button",{onClick:()=>{k(e),f(!0)},className:"text-green-600 hover:text-green-900",children:It.jsx(Re,{className:"w-4 h-4"})}),It.jsx("button",{onClick:()=>{k(e),b(!0)},className:"text-red-600 hover:text-red-900",children:It.jsx(Le,{className:"w-4 h-4"})})]})})]},e.id)})})]})})}),It.jsx(_ce,{isOpen:u,onClose:()=>m(!1),onSave:async e=>{try{await O(e),m(!1)}catch(t){}}}),It.jsx(Tce,{isOpen:h,onClose:()=>f(!1),tarea:w,onSave:async(e,t)=>{try{await D(e,t),f(!1),k(null)}catch(r){}}}),It.jsx(Oce,{isOpen:x,onClose:()=>b(!1),tarea:w,onConfirm:async e=>{try{await P(e),b(!1),k(null)}catch(t){}}}),It.jsx(Dce,{isOpen:y,onClose:()=>v(!1),tarea:w})]})},Mce=()=>{const{user:e}=Sa(),t=e?.entidadId,r=t;return Qr({queryKey:["evaluaciones-profesor",r],queryFn:()=>(async e=>{if(!e)throw new Error("ID de trabajador no encontrado");const t=localStorage.getItem("token");if(!t)throw new Error("Token de autenticacin no encontrado");const r=await fetch(`http://localhost:3000/api/v1/comentario-docente/trabajador/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok){const e=await r.json().catch(()=>({}));throw new Error(e.message||`Error ${r.status}: ${r.statusText}`)}return await r.json()})(r),enabled:!!r,onError:e=>{ca.error("Error al cargar las evaluaciones: "+e.message)},staleTime:3e5,cacheTime:6e5})},Fce=({evaluacion:e})=>{return It.jsx("div",{className:"w-full mb-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow border border-gray-200",children:It.jsxs("div",{className:"p-6",children:[It.jsxs("div",{className:"flex justify-between items-start mb-4",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.motivo||"Evaluacin"}),It.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[It.jsx(ue,{className:"w-3 h-3 mr-1"}),(t=e.fechaCreacion,yce(t))]})]}),e.coordinador&&It.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[It.jsx(ee,{className:"w-4 h-4 mr-2"}),It.jsxs("span",{children:["Evaluado por: ",e.coordinador.nombre||"Coordinador",e.coordinador.apellido&&` ${e.coordinador.apellido}`]})]}),It.jsxs("div",{className:"space-y-4",children:[e.descripcion&&It.jsxs("div",{children:[It.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Descripcin:"}),It.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:e.descripcion})]}),e.archivoUrl&&""!==e.archivoUrl.trim()&&It.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[It.jsxs("div",{className:"flex items-center",children:[It.jsx(he,{className:"w-4 h-4 mr-2 text-blue-600"}),It.jsx("span",{className:"text-sm text-gray-700",children:"Archivo adjunto disponible"})]}),It.jsxs("button",{onClick:()=>(e=>{if(e)try{window.open(e,"_blank","noopener,noreferrer"),ca.success("Archivo abierto en nueva pestaa")}catch(t){ca.error("Error al abrir el archivo: "+t.message)}else ca.error("No hay archivo adjunto para abrir")})(e.archivoUrl),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[It.jsx(Ze,{className:"w-4 h-4 mr-1"}),"Abrir"]})]}),(!e.archivoUrl||""===e.archivoUrl.trim())&&It.jsx("div",{className:"text-sm text-gray-500 italic",children:"No hay archivo adjunto en esta evaluacin"})]})]})});var t},Ice=()=>{const{data:e,isLoading:t,error:r,isError:a}=Mce();return e&&e.length,t?It.jsxs("div",{className:"flex justify-center items-center min-h-64",children:[It.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),It.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando evaluaciones..."})]}):a?It.jsxs("div",{className:"flex flex-col justify-center items-center min-h-64",children:[It.jsxs("div",{className:"text-red-500 text-center",children:[It.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error al cargar evaluaciones"}),It.jsx("p",{className:"text-sm",children:r?.message||"Ocurri un error inesperado"})]}),It.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4",children:"Reintentar"})]}):e&&0!==e.length?It.jsxs("div",{className:"container mx-auto px-4 py-6",children:[It.jsxs("div",{className:"mb-6",children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Mis Evaluaciones"}),It.jsx("p",{className:"text-gray-600",children:"Aqu puedes ver todas las evaluaciones realizadas por tus coordinadores."})]}),It.jsx("div",{className:"space-y-4",children:e.map(e=>It.jsx(Fce,{evaluacion:e},e.idEvaluacionDocente||e.idComentario||e.id))}),It.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500",children:["Total de evaluaciones: ",e.length]})]}):It.jsx("div",{className:"flex flex-col justify-center items-center min-h-64",children:It.jsxs("div",{className:"text-center",children:[It.jsx(he,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),It.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No tienes evaluaciones recibidas"}),It.jsx("p",{className:"text-gray-500",children:"An no tienes evaluaciones."})]})})},Rce=({isOpen:e,onClose:r,onSuccess:a,evaluacion:n,cursos:s})=>{const i="http://localhost:3000/api/v1",[o,l]=t.useState({fecha:"",descripcion:"",tipoEvaluacion:"EXAMEN",idCurso:""}),[c,d]=t.useState(!1),[u,m]=t.useState({});t.useEffect(()=>{e&&(l(n?{fecha:n.fecha?new Date(n.fecha).toISOString().split("T")[0]:"",descripcion:n.descripcion||"",tipoEvaluacion:n.tipoEvaluacion||"EXAMEN",idCurso:n.idCurso||""}:{fecha:(new Date).toISOString().split("T")[0],descripcion:"",tipoEvaluacion:"EXAMEN",idCurso:""}),m({}))},[e,n]);const h=e=>{const{name:t,value:r}=e.target;l(e=>({...e,[t]:r})),u[t]&&m(e=>({...e,[t]:""}))};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs(ki.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 flex items-center justify-between",children:[It.jsxs("span",{className:"flex items-center",children:[It.jsx(he,{className:"w-5 h-5 mr-2 text-green-600"}),n?"Editar Descripcin de Evaluacin":"Crear Nueva Evaluacin"]}),It.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600",onClick:r,children:It.jsx(ne,{className:"w-5 h-5"})})]}),n&&It.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-md",children:It.jsx("p",{className:"text-sm text-blue-700",children:" Solo puedes editar la descripcin de la evaluacin. Los otros campos estn bloqueados para mantener la integridad de los datos."})}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n?o.descripcion.trim()||(e.descripcion="La descripcin es requerida"):(o.fecha||(e.fecha="La fecha es requerida"),o.descripcion.trim()||(e.descripcion="La descripcin es requerida"),o.idCurso||(e.idCurso="Debe seleccionar un curso"),o.tipoEvaluacion||(e.tipoEvaluacion="El tipo de evaluacin es requerido")),m(e),0===Object.keys(e).length})()){d(!0);try{const e=localStorage.getItem("auth-storage")?JSON.parse(localStorage.getItem("auth-storage")).state?.token:null;if(!e)return void ca.error("No se encontr token de autenticacin");const t=n?{descripcion:o.descripcion.trim()}:{fecha:o.fecha,descripcion:o.descripcion.trim(),tipoEvaluacion:o.tipoEvaluacion,idCurso:o.idCurso},r=n?`${i}/evaluacion/${n.idEvaluacion}`:`${i}/evaluacion`,s=n?"PATCH":"POST",l=await fetch(r,{method:s,headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!l.ok){const e=await l.json();throw new Error(e.message||"Error al guardar la evaluacin")}const c=await l.json();c.success?(ca.success(n?"Evaluacin actualizada correctamente":"Evaluacin creada correctamente"),a()):ca.error(c.message||"Error al guardar la evaluacin")}catch(t){ca.error(t.message||"Error al guardar la evaluacin")}finally{d(!1)}}else ca.error("Por favor, complete todos los campos requeridos")},className:"mt-4",children:[It.jsxs("div",{className:"space-y-4",children:[It.jsxs("div",{children:[It.jsx("label",{htmlFor:"fecha",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha *"}),It.jsxs("div",{className:"relative",children:[It.jsx("input",{type:"date",id:"fecha",name:"fecha",value:o.fecha,onChange:h,disabled:!!n,className:`w-full pl-3 pr-10 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${n?"bg-gray-100 text-gray-500 cursor-not-allowed":""} ${u.fecha?"border-red-500":"border-gray-300"}`,min:(new Date).toISOString().split("T")[0]}),It.jsx(ue,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"})]}),u.fecha&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.fecha})]}),It.jsxs("div",{children:[It.jsx("label",{htmlFor:"descripcion",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin *"}),It.jsx("textarea",{id:"descripcion",name:"descripcion",value:o.descripcion,onChange:h,rows:3,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 "+(u.descripcion?"border-red-500":"border-gray-300"),placeholder:"Describe la evaluacin..."}),u.descripcion&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.descripcion})]}),It.jsxs("div",{children:[It.jsx("label",{htmlFor:"tipoEvaluacion",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Evaluacin *"}),It.jsxs("select",{id:"tipoEvaluacion",name:"tipoEvaluacion",value:o.tipoEvaluacion,onChange:h,disabled:!!n,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${n?"bg-gray-100 text-gray-500 cursor-not-allowed":""} ${u.tipoEvaluacion?"border-red-500":"border-gray-300"}`,children:[It.jsx("option",{value:"EXAMEN",children:"Examen"}),It.jsx("option",{value:"TRABAJO",children:"Trabajo"}),It.jsx("option",{value:"PROYECTO",children:"Proyecto"}),It.jsx("option",{value:"TAREA",children:"Tarea"}),It.jsx("option",{value:"QUIZ",children:"Quiz"})]}),u.tipoEvaluacion&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.tipoEvaluacion})]}),It.jsxs("div",{children:[It.jsx("label",{htmlFor:"idCurso",className:"block text-sm font-medium text-gray-700 mb-1",children:"Curso *"}),It.jsxs("div",{className:"relative",children:[It.jsxs("select",{id:"idCurso",name:"idCurso",value:o.idCurso,onChange:h,disabled:!!n,className:`w-full pl-3 pr-10 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${n?"bg-gray-100 text-gray-500 cursor-not-allowed":""} ${u.idCurso?"border-red-500":"border-gray-300"}`,children:[It.jsx("option",{value:"",children:"Seleccionar curso..."}),s.map(e=>It.jsx("option",{value:e.idCurso,children:e.nombreCurso},e.idCurso))]}),It.jsx(me,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"})]}),u.idCurso&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.idCurso})]})]}),It.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[It.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",disabled:c,children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?It.jsxs(It.Fragment,{children:[It.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Guardando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4 mr-2"}),n?"Actualizar":"Crear"]})})]})]})]})})})})]})})},Lce=({isOpen:e,onClose:r,idAula:a,evaluacion:n})=>{const[s,i]=t.useState([]),[o,l]=t.useState(!1),[c,d]=t.useState(null);t.useEffect(()=>{e&&a&&(async()=>{if(a){l(!0);try{const e=localStorage.getItem("auth-storage")?JSON.parse(localStorage.getItem("auth-storage")).state?.token:null;if(!e)return;const t=await fetch(`http://localhost:3000/api/v1/nota/libreta-kinder/aula/${a}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)return void(await t.text());const r=await t.json();if(r.success&&r.info?.data?.libretas){const e=[];let t=0;r.info.data.libretas.forEach(r=>{r.estudiante&&r.estudiante.idEstudiante&&(t++,e.push({estudiante:r.estudiante,libreta:r.libreta}))}),i(e),d({totalEstudiantes:r.info.data.aula.totalEstudiantes,estudiantesEvaluados:t,estadisticasGenerales:r.info.data.aula.estadisticasGenerales})}}catch(e){}finally{l(!1)}}})()},[e,a]);const u=e=>{switch(e){case"A":return"bg-green-100 text-green-800 border-green-200";case"B":return"bg-blue-100 text-blue-800 border-blue-200";case"C":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"D":return"bg-orange-100 text-orange-800 border-orange-200";case"F":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-4xl mx-4 sm:mx-auto max-h-[90vh] transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:[It.jsxs(ki.Title,{as:"h3",className:"text-base sm:text-lg font-medium leading-6 text-gray-900 flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[It.jsxs("span",{className:"flex items-center",children:[It.jsx(N,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-blue-600"}),It.jsx("span",{className:"text-sm sm:text-base",children:"Estudiantes Evaluados - Libreta de Calificaciones"})]}),It.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600 p-1",onClick:r,children:It.jsx(ne,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),It.jsxs("div",{className:"p-4 sm:p-6",children:[n&&It.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[It.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Evaluacin Actual:"}),It.jsx("p",{className:"text-sm text-gray-600 font-medium",children:n.descripcion}),It.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Tipo: ",n.tipoEvaluacion," | Fecha: ",new Date(n.fecha).toLocaleDateString("es-ES")]})]}),c&&It.jsx("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg mb-4 sm:mb-6 border border-blue-200",children:It.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.totalEstudiantes}),It.jsx("div",{className:"text-sm text-blue-700",children:"Total Estudiantes"})]}),It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.estudiantesEvaluados}),It.jsx("div",{className:"text-sm text-green-700",children:"Evaluados"})]}),It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"text-2xl font-bold text-purple-600",children:c.estadisticasGenerales.totalLogrados}),It.jsx("div",{className:"text-sm text-purple-700",children:"Logro Esperado"})]}),It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"text-2xl font-bold text-orange-600",children:c.estadisticasGenerales.totalEnProceso}),It.jsx("div",{className:"text-sm text-orange-700",children:"En Proceso"})]})]})}),It.jsx("div",{className:"space-y-4",children:o?It.jsxs("div",{className:"text-center py-8",children:[It.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),It.jsx("p",{className:"text-gray-600",children:"Cargando libreta de calificaciones..."})]}):0===s.length?It.jsxs("div",{className:"text-center py-8",children:[It.jsx(oe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),It.jsx("p",{className:"text-gray-600",children:"No hay estudiantes evaluados an"})]}):s.map((e,t)=>It.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 sm:p-4 shadow-sm",children:[It.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-3",children:[It.jsxs("div",{className:"flex items-center mb-2 sm:mb-0",children:[It.jsx(S,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 mr-2"}),It.jsxs("span",{className:"font-medium text-gray-800 text-sm sm:text-lg",children:[e.estudiante.nombre," ",e.estudiante.apellido]})]}),It.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[e.estudiante.tipoDocumento,": ",e.estudiante.nroDocumento]})]}),It.jsx("div",{className:"space-y-3",children:e.libreta.areas.map((e,t)=>It.jsxs("div",{className:"bg-gray-50 p-2 sm:p-3 rounded-md border-l-4 border-blue-500",children:[It.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-2",children:[It.jsx("span",{className:"font-medium text-gray-700 text-sm sm:text-base mb-1 sm:mb-0",children:e.area}),It.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium border ${u(e.calificacion)}`,children:e.calificacion})]}),It.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-1 sm:gap-2 text-xs sm:text-sm text-gray-600 mb-2",children:[It.jsxs("div",{children:[It.jsx("span",{className:"font-medium",children:"Nivel:"})," ",e.nivelLogro]}),It.jsxs("div",{children:[It.jsx("span",{className:"font-medium",children:"Promedio:"})," ",e.promedio]}),It.jsxs("div",{children:[It.jsx("span",{className:"font-medium",children:"Evaluaciones:"})," ",e.totalEvaluaciones]}),It.jsxs("div",{children:[It.jsx("span",{className:"font-medium",children:"Estado:"}),It.jsx("span",{className:"ml-1 px-1 sm:px-2 py-0.5 rounded text-xs "+("Logro esperado"===e.nivelLogro?"bg-green-100 text-green-800":"En proceso"===e.nivelLogro?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.nivelLogro})]})]}),e.evaluaciones&&e.evaluaciones.length>0&&It.jsxs("div",{className:"bg-white p-2 rounded border text-xs sm:text-sm",children:[It.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"ltima evaluacin:"}),It.jsxs("div",{className:"text-gray-600",children:[It.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(e.evaluaciones[0].fecha).toLocaleDateString("es-ES")]}),It.jsxs("div",{className:"text-gray-600",children:[It.jsx("span",{className:"font-medium",children:"Descripcin:"})," ",e.evaluaciones[0].descripcion]}),e.evaluaciones[0].observaciones&&It.jsxs("div",{className:"text-gray-600 mt-1",children:[It.jsx("span",{className:"font-medium",children:"Observaciones:"})," ",e.evaluaciones[0].observaciones]})]})]},t))})]},t))})]})]})})})})]})})},zce="http://localhost:3000/api/v1";window.debugAuthStorage=()=>{const e=localStorage.getItem("auth-storage");return e?JSON.parse(e):null},window.testAulasAPI=async()=>{const e=window.debugAuthStorage();if(!e)return;const t=e.state?.token,r=e.state?.user?.entidadId;if(t&&r)try{const e=await fetch(`${zce}/trabajador/aulas/${r}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return e.ok?await e.json():{error:await e.text()}}catch(a){return{error:a.message}}};const $ce=({isOpen:e,onClose:r,evaluacion:a})=>{const[n,s]=t.useState({calificacion:"A",observaciones:"",idEvaluacion:"",idEstudiante:""}),[i,o]=t.useState([]),[l,c]=t.useState(!1),[d,u]=t.useState(!1),[m,h]=t.useState(new Set),[f,p]=t.useState([]),[g,x]=t.useState(!1),[b,y]=t.useState(null),[v,j]=t.useState({});t.useEffect(()=>{if(e&&a){s({calificacion:"A",observaciones:"",idEvaluacion:a.idEvaluacion||"",idEstudiante:""}),j({}),o([]),h(new Set),p([]);const e=async()=>{const e=await(async()=>{try{const e=localStorage.getItem("auth-storage");if(!e)return ca.error("No se encontr informacin de autenticacin"),null;const t=JSON.parse(e),r=t.state?.token,a=t.state?.user?.entidadId;if(!r)return ca.error("No se encontr token de autenticacin"),null;if(!a)return ca.error("No se encontr ID de entidad"),null;const n=`${zce}/trabajador/aulas/${a}`,s=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!s.ok)throw await s.text(),new Error("Error al obtener aulas del trabajador");const i=await s.json();if(!i.success||!i.aulas||0===i.aulas.length)return null;const o=i.aulas[0].id_aula;return y(o),o}catch(e){return ca.error("Error al cargar informacin del aula"),null}})();e&&(await(async e=>{if(e){u(!0);try{const t=localStorage.getItem("auth-storage")?JSON.parse(localStorage.getItem("auth-storage")).state?.token:null;if(!t)return void ca.error("No se encontr token de autenticacin");const r=await fetch(`${zce}/estudiante/aula/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw await r.text(),new Error("Error al obtener estudiantes");const a=await r.json();a.success?o(a.estudiantes||[]):ca.error(a.message||"Error al obtener estudiantes")}catch(t){ca.error("Error al cargar estudiantes")}finally{u(!1)}}})(e),await(async e=>{if(e)try{const t=localStorage.getItem("auth-storage")?JSON.parse(localStorage.getItem("auth-storage")).state?.token:null;if(!t)return;const r=await fetch(`${zce}/nota/libreta-kinder/aula/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)return void(await r.text());const a=await r.json();if(a.success&&a.info?.data?.libretas){const e=new Set,t=[];a.info.data.libretas.forEach(r=>{r.estudiante&&r.estudiante.idEstudiante&&(e.add(r.estudiante.idEstudiante),t.push({estudiante:r.estudiante,libreta:r.libreta}))}),h(e),p(t),a.info.data.aula}}catch(t){}})(e))};e()}},[e,a]);const w=e=>{const{name:t,value:r}=e.target;s(e=>({...e,[t]:r})),v[t]&&j(e=>({...e,[t]:""}))};return It.jsxs(hi,{appear:!0,show:e,as:t.Fragment,children:[It.jsxs(ki,{as:"div",className:"relative z-50",onClose:r,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-md mx-4 sm:mx-auto transform overflow-hidden rounded-2xl bg-white p-4 sm:p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs(ki.Title,{as:"h3",className:"text-base sm:text-lg font-medium leading-6 text-gray-900 flex items-center justify-between",children:[It.jsxs("span",{className:"flex items-center",children:[It.jsx(ie,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-green-600"}),It.jsx("span",{className:"text-sm sm:text-base",children:"Evaluar Estudiante"})]}),It.jsx("div",{className:"flex items-center space-x-1 sm:space-x-2",children:It.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600 p-1",onClick:r,children:It.jsx(ne,{className:"w-4 h-4 sm:w-5 sm:h-5"})})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.idEstudiante||(e.idEstudiante="Debe seleccionar un estudiante"),n.calificacion||(e.calificacion="La calificacin es requerida"),n.observaciones.trim()||(e.observaciones="Las observaciones son requeridas"),j(e),0===Object.keys(e).length})()){c(!0);try{const e=localStorage.getItem("auth-storage")?JSON.parse(localStorage.getItem("auth-storage")).state?.token:null;if(!e)return void ca.error("No se encontr token de autenticacin");const t={calificacion:n.calificacion,observaciones:n.observaciones.trim(),idEvaluacion:n.idEvaluacion,idEstudiante:n.idEstudiante},a=await fetch(`${zce}/nota/kinder`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){const e=await a.json();throw new Error(e.message||"Error al guardar la evaluacin del estudiante")}const s=await a.json();s.success?(ca.success("Evaluacin del estudiante guardada correctamente"),r()):ca.error(s.message||"Error al guardar la evaluacin del estudiante")}catch(t){ca.error(t.message||"Error al guardar la evaluacin del estudiante")}finally{c(!1)}}else ca.error("Por favor, complete todos los campos requeridos")},className:"mt-4",children:[It.jsxs("div",{className:"space-y-4",children:[i.length>0&&It.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center",children:[It.jsx(oe,{className:"w-4 h-4 text-blue-600 mr-2"}),It.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Estudiantes evaluados: ",m.size," de ",i.length]})]}),It.jsx("div",{className:"text-xs text-blue-600",children:m.size===i.length?" Todos evaluados":" Pendientes por evaluar"})]})}),a&&It.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[It.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Evaluacin:"}),It.jsx("p",{className:"text-sm text-gray-600",children:a.descripcion}),It.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Tipo: ",a.tipoEvaluacion," | Fecha: ",new Date(a.fecha).toLocaleDateString("es-ES")]})]}),m.size>0&&It.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:It.jsxs("button",{onClick:()=>x(!0),className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[It.jsx(N,{className:"w-4 h-4 mr-2"}),"Ver ",m.size," estudiante",1!==m.size?"s":""," ya evaluado",1!==m.size?"s":""]})}),It.jsxs("div",{children:[It.jsx("label",{htmlFor:"idEstudiante",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estudiante *"}),It.jsxs("div",{className:"relative",children:[It.jsxs("select",{id:"idEstudiante",name:"idEstudiante",value:n.idEstudiante,onChange:w,disabled:d,className:"w-full pl-3 pr-10 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 "+(v.idEstudiante?"border-red-500":"border-gray-300"),children:[It.jsx("option",{value:"",children:d?"Cargando estudiantes...":"Seleccionar estudiante..."}),i.map(e=>{const t=m.has(e.idEstudiante);return It.jsxs("option",{value:e.idEstudiante,children:[e.nombre," ",e.apellido," ",t?" (Ya evaluado)":""]},e.idEstudiante)})]}),It.jsx(oe,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"})]}),v.idEstudiante&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.idEstudiante})]}),It.jsxs("div",{children:[It.jsx("label",{htmlFor:"calificacion",className:"block text-sm font-medium text-gray-700 mb-1",children:"Calificacin *"}),It.jsxs("div",{className:"relative",children:[It.jsxs("select",{id:"calificacion",name:"calificacion",value:n.calificacion,onChange:w,className:"w-full pl-3 pr-10 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 "+(v.calificacion?"border-red-500":"border-gray-300"),children:[It.jsx("option",{value:"A",children:"A - Excelente"}),It.jsx("option",{value:"B",children:"B - Bueno"}),It.jsx("option",{value:"C",children:"C - Regular"}),It.jsx("option",{value:"D",children:"D - Deficiente"}),It.jsx("option",{value:"F",children:"F - Insuficiente"})]}),It.jsx(fe,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"})]}),v.calificacion&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.calificacion})]}),It.jsxs("div",{children:[It.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaciones *"}),It.jsx("textarea",{id:"observaciones",name:"observaciones",value:n.observaciones,onChange:w,rows:4,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 "+(v.observaciones?"border-red-500":"border-gray-300"),placeholder:"Escribe tus observaciones sobre el desempeo del estudiante..."}),v.observaciones&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.observaciones})]})]}),It.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3 mt-6",children:[It.jsx("button",{type:"button",onClick:r,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",disabled:l,children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:l||d,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?It.jsxs(It.Fragment,{children:[It.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Guardando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Evaluar Estudiante"]})})]})]})]})})})})]}),It.jsx(Lce,{isOpen:g,onClose:()=>x(!1),idAula:b,evaluacion:a})]})},qce=()=>{const e="http://localhost:3000/api/v1",[r,a]=t.useState([]),[n,s]=t.useState([]),[i,o]=t.useState(!0),[l,c]=t.useState(!1),[d,u]=t.useState(!1),[m,h]=t.useState(null),f=async()=>{try{const t=localStorage.getItem("auth-storage")?JSON.parse(localStorage.getItem("auth-storage")).state?.token:null;if(!t)return void ca.error("No se encontr token de autenticacin");const r=await fetch(`${e}/evaluacion`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error("Error al obtener evaluaciones");const n=await r.json();n.success?a(n.info.data||[]):ca.error(n.message||"Error al obtener evaluaciones")}catch(t){ca.error("Error al cargar evaluaciones")}finally{o(!1)}};t.useEffect(()=>{f(),(async()=>{try{const t=localStorage.getItem("auth-storage")?JSON.parse(localStorage.getItem("auth-storage")).state?.token:null;if(!t)return void ca.error("No se encontr token de autenticacin");const r=await fetch(`${e}/curso`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error("Error al obtener cursos");const a=await r.json();a.success?s(a.info.data||[]):ca.error(a.message||"Error al obtener cursos")}catch(t){ca.error("Error al cargar cursos")}})()},[]);const p=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"N/A",g=()=>{h(null),c(!0)},x=()=>{c(!1),h(null)};return i?It.jsxs("div",{className:"flex flex-col justify-center items-center min-h-64 px-4",children:[It.jsx("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-12 sm:w-12 border-b-2 border-blue-600"}),It.jsx("span",{className:"ml-3 text-gray-600 text-sm sm:text-base mt-2",children:"Cargando evaluaciones..."})]}):It.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[It.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-4",children:[It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Evaluaciones de Estudiantes"}),It.jsx("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Gestiona las evaluaciones que has creado para tus estudiantes"})]}),It.jsxs("button",{onClick:g,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[It.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Nueva Evaluacin"]})]}),It.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:It.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[It.jsx("h3",{className:"text-base sm:text-lg leading-6 font-medium text-gray-900 mb-4",children:"Evaluaciones Creadas"}),0===r.length?It.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[It.jsx(he,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mx-auto mb-4"}),It.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No hay evaluaciones"}),It.jsx("p",{className:"text-gray-500 mb-4 text-sm sm:text-base",children:"An no has creado ninguna evaluacin para tus estudiantes."}),It.jsxs("button",{onClick:g,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-blue-700",children:[It.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Crear Primera Evaluacin"]})]}):It.jsx("div",{className:"overflow-x-auto",children:It.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[It.jsx("thead",{className:"bg-gray-50",children:It.jsxs("tr",{children:[It.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),It.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),It.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),It.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),It.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>It.jsxs("tr",{className:"hover:bg-gray-50",children:[It.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(ue,{className:"w-4 h-4 mr-2 text-gray-400"}),It.jsx("span",{className:"text-xs sm:text-sm",children:p(e.fecha)})]})}),It.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900",children:It.jsx("div",{className:"max-w-xs truncate",children:It.jsx("span",{className:"text-xs sm:text-sm",children:e.descripcion})})}),It.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:It.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.tipoEvaluacion||"EXAMEN"})}),It.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium",children:It.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[It.jsxs("button",{onClick:()=>(e=>{h(e),c(!0)})(e),className:"w-full sm:w-auto inline-flex items-center justify-center px-2 sm:px-3 py-2 border border-transparent text-xs sm:text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[It.jsx(Re,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),It.jsx("span",{className:"hidden sm:inline",children:"Editar"}),It.jsx("span",{className:"sm:hidden",children:"Edit"})]}),It.jsxs("button",{onClick:()=>(e=>{h(e),u(!0)})(e),className:"w-full sm:w-auto inline-flex items-center justify-center px-2 sm:px-3 py-2 border border-transparent text-xs sm:text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[It.jsx(ie,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),It.jsx("span",{className:"hidden sm:inline",children:"Calificar"}),It.jsx("span",{className:"sm:hidden",children:"Evaluar"})]})]})})]},e.idEvaluacion))})]})})]})}),It.jsx(Rce,{isOpen:l,onClose:x,onSuccess:()=>{f(),x()},evaluacion:m,cursos:n}),It.jsx($ce,{isOpen:d,onClose:()=>{u(!1),h(null)},evaluacion:m}),It.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[It.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(he,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"}),It.jsxs("div",{className:"ml-3",children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Evaluaciones"}),It.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:r.length})]})]})}),It.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(me,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"}),It.jsxs("div",{className:"ml-3",children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cursos Disponibles"}),It.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:n.length})]})]})}),It.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 sm:col-span-2 lg:col-span-1",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(ue,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600"}),It.jsxs("div",{className:"ml-3",children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Evaluaciones este mes"}),It.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:r.filter(e=>{const t=new Date(e.fecha),r=new Date;return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}).length})]})]})})]})]})},Uce=Pl.create({baseURL:"http://localhost:3000/api/v1"});Uce.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),Uce.interceptors.response.use(e=>e,e=>{throw 401===e.response?.status&&(localStorage.removeItem("token"),localStorage.removeItem("auth-storage"),window.location.href="/login"),e});const Bce={async create(e){try{return(await Uce.post("/anotaciones-estudiante",e)).data}catch(t){throw new Error(t.response?.data?.message||"Error al crear la anotacin")}},async getAll(e={}){try{return(await Uce.get("/anotaciones-estudiante",{params:e})).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener las anotaciones")}},async getById(e){try{return(await Uce.get(`/anotaciones-estudiante/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener la anotacin")}},async update(e,t){try{return(await Uce.patch(`/anotaciones-estudiante/${e}`,t)).data}catch(r){throw new Error(r.response?.data?.message||"Error al actualizar la anotacin")}},async delete(e){try{return(await Uce.delete(`/anotaciones-estudiante/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al eliminar la anotacin")}},async getByStudent(e){try{return(await Uce.get(`/anotaciones-estudiante/estudiante/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener las anotaciones del estudiante")}},async getByWorker(e){try{return(await Uce.get(`/anotaciones-estudiante/trabajador/${e}`)).data}catch(t){throw new Error(t.response?.data?.message||"Error al obtener las anotaciones del trabajador")}},async getAnotacionesByEstudiante(e){return this.getByStudent(e)}},Yce=(e={})=>{const[r,a]=t.useState(!1),n=Yr(),{data:s=[],isLoading:i,refetch:o,error:l}=Qr({queryKey:["anotaciones",e],queryFn:()=>Bce.getAll(e),staleTime:3e5,gcTime:6e5}),c=Xr({mutationFn:Bce.create,onSuccess:e=>(n.invalidateQueries({queryKey:["anotaciones"]}),ca.success("Anotacin creada exitosamente"),e),onError:e=>{throw ca.error(e.message||"Error al crear la anotacin"),e}}),d=Xr({mutationFn:({id:e,...t})=>Bce.update(e,t),onSuccess:e=>(n.invalidateQueries({queryKey:["anotaciones"]}),ca.success("Anotacin actualizada exitosamente"),e),onError:e=>{throw ca.error(e.message||"Error al actualizar la anotacin"),e}}),u=Xr({mutationFn:Bce.delete,onSuccess:()=>{n.invalidateQueries({queryKey:["anotaciones"]}),ca.success("Anotacin eliminada exitosamente")},onError:e=>{throw ca.error(e.message||"Error al eliminar la anotacin"),e}});return{anotaciones:s,loading:r||i,creating:c.isPending,updating:d.isPending,deleting:u.isPending,error:l,createAnotacion:async e=>{a(!0);try{return{success:!0,data:await c.mutateAsync(e)}}catch(t){return{success:!1,error:t.message}}finally{a(!1)}},updateAnotacion:async(e,t)=>{a(!0);try{return{success:!0,data:await d.mutateAsync({id:e,...t})}}catch(r){return{success:!1,error:r.message}}finally{a(!1)}},deleteAnotacion:async e=>{a(!0);try{return await u.mutateAsync(e),{success:!0}}catch(t){return{success:!1,error:t.message}}finally{a(!1)}},refetchAnotaciones:o,useAnotacionesByStudent:e=>Qr({queryKey:["anotaciones","student",e],queryFn:()=>Bce.getByStudent(e),enabled:!!e,staleTime:3e5}),useAnotacionesByWorker:e=>Qr({queryKey:["anotaciones","worker",e],queryFn:()=>Bce.getByWorker(e),enabled:!!e,staleTime:3e5}),createMutation:c,updateMutation:d,deleteMutation:u}},Vce=({isOpen:e,onClose:r,onSuccess:a})=>{const{user:n}=Sa(),{createAnotacion:s,creating:i}=Yce(),{data:o,isLoading:l}=dU(),{data:c,isLoading:d}=Nc(),u=Ace(),{data:m,isLoading:h,error:f}=sB(u,{enabled:!!u}),[p,g]=t.useState({idTrabajador:"",idEstudiante:"",titulo:"",observacion:"",fechaObservacion:(new Date).toISOString().split("T")[0],idCurso:"",estaActivo:!0}),[x,b]=t.useState({});t.useEffect(()=>{if(u)g(e=>({...e,idTrabajador:u}));else if(n&&c&&c.length>0){const e=c.find(e=>e.email===n.email||e.nroDocumento===n.email||e.usuario===n.email||e.nombres===n.nombre&&e.apellidos===n.apellido);e&&g(t=>({...t,idTrabajador:e.idTrabajador}))}},[u,n,c]),t.useEffect(()=>{e&&(g(e=>({...e,idEstudiante:"",titulo:"",observacion:"",fechaObservacion:(new Date).toISOString().split("T")[0],idCurso:"",estaActivo:!0})),b({}))},[e]);const y=(e,t)=>{g(r=>({...r,[e]:t})),x[e]&&b(t=>({...t,[e]:""}))},v=()=>{i||r()};return e?It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-50 flex items-center justify-center z-50 p-4",children:It.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(he,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Nueva Anotacin"}),It.jsx("p",{className:"text-sm text-gray-600",children:"Agregar observacin sobre un estudiante"})]})]}),It.jsx("button",{onClick:v,disabled:i,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return p.idEstudiante||(e.idEstudiante="Debe seleccionar un estudiante"),p.titulo.trim()||(e.titulo="El ttulo es requerido"),p.observacion.trim()||(e.observacion="La observacin es requerida"),p.fechaObservacion||(e.fechaObservacion="La fecha es requerida"),p.idCurso||(e.idCurso="Debe seleccionar un curso"),b(e),0===Object.keys(e).length})())try{(await s(p)).success&&(a?.(),r())}catch(t){}},className:"p-6 space-y-6",children:[It.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx(ee,{className:"w-5 h-5 text-blue-600"}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Profesor"}),It.jsxs("p",{className:"text-sm text-blue-700",children:[n?.nombre," ",n?.apellido," - ",n?.email]})]})]})}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estudiante *"}),h?It.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",children:It.jsx("span",{className:"text-gray-500",children:"Cargando estudiantes de tus aulas..."})}):f?It.jsx("div",{className:"w-full px-3 py-2 border border-red-300 rounded-md bg-red-50",children:It.jsx("span",{className:"text-red-600",children:"Error al cargar estudiantes"})}):It.jsxs("select",{value:p.idEstudiante,onChange:e=>y("idEstudiante",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 "+(x.idEstudiante?"border-red-500":"border-gray-300"),disabled:i,children:[It.jsx("option",{value:"",children:"Seleccionar estudiante..."}),m?.estudiantes?.map(e=>It.jsxs("option",{value:e.idEstudiante,children:[e.nombre," ",e.apellido,e.infoApoderado?.aula?.seccion&&` - Seccin ${e.infoApoderado.aula.seccion}`]},e.idEstudiante))]}),m?.estudiantes&&m.estudiantes.length>0&&It.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[m.totalEstudiantes," estudiante(s) de ",m.totalAulas," aula(s) asignada(s)"]}),m?.estudiantes&&0===m.estudiantes.length&&It.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"No tienes estudiantes asignados en tus aulas"}),x.idEstudiante&&It.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[It.jsx(j,{className:"w-4 h-4 mr-1"}),x.idEstudiante]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo *"}),It.jsx("input",{type:"text",value:p.titulo,onChange:e=>y("titulo",e.target.value),placeholder:"Ej: Excelente participacin en clase",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 "+(x.titulo?"border-red-500":"border-gray-300"),disabled:i,maxLength:200}),x.titulo&&It.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[It.jsx(j,{className:"w-4 h-4 mr-1"}),x.titulo]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observacin *"}),It.jsx("textarea",{value:p.observacion,onChange:e=>y("observacion",e.target.value),placeholder:"Descripcin detallada de la observacin...",rows:4,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none "+(x.observacion?"border-red-500":"border-gray-300"),disabled:i,maxLength:1e3}),It.jsxs("div",{className:"flex justify-between items-center mt-1",children:[x.observacion?It.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[It.jsx(j,{className:"w-4 h-4 mr-1"}),x.observacion]}):It.jsx("div",{}),It.jsxs("p",{className:"text-xs text-gray-500",children:[p.observacion.length,"/1000"]})]})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Observacin *"}),It.jsxs("div",{className:"relative",children:[It.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),It.jsx("input",{type:"date",value:p.fechaObservacion,onChange:e=>y("fechaObservacion",e.target.value),className:"w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 "+(x.fechaObservacion?"border-red-500":"border-gray-300"),disabled:i})]}),x.fechaObservacion&&It.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[It.jsx(j,{className:"w-4 h-4 mr-1"}),x.fechaObservacion]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Curso *"}),It.jsxs("div",{className:"relative",children:[It.jsx(me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),It.jsxs("select",{value:p.idCurso,onChange:e=>y("idCurso",e.target.value),className:"w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 "+(x.idCurso?"border-red-500":"border-gray-300"),disabled:i||l,children:[It.jsx("option",{value:"",children:"Seleccionar curso..."}),o?.map(e=>It.jsx("option",{value:e.idCurso,children:e.nombreCurso},e.idCurso))]})]}),x.idCurso&&It.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[It.jsx(j,{className:"w-4 h-4 mr-1"}),x.idCurso]})]})]}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[It.jsx("button",{type:"button",onClick:v,disabled:i,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors disabled:opacity-50",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 flex items-center space-x-2",children:i?It.jsxs(It.Fragment,{children:[It.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),It.jsx("span",{children:"Guardando..."})]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),It.jsx("span",{children:"Guardar Anotacin"})]})})]})]})]})}):null},Hce=({isOpen:e,onClose:r,onSuccess:a,anotacion:n})=>{const{user:s}=Sa(),{updateAnotacion:i,updating:o}=Yce(),{data:l,isLoading:c}=dU(),{data:d,isLoading:u}=Nc(),m=Ace(),{data:h,isLoading:f}=sB(m,{enabled:!!m}),[p,g]=t.useState({idTrabajador:"",idEstudiante:"",titulo:"",observacion:"",fechaObservacion:"",idCurso:"",estaActivo:!0}),[x,b]=t.useState({});t.useEffect(()=>{e&&n&&(g({idTrabajador:n.idTrabajador||m||"",idEstudiante:n.idEstudiante||"",titulo:n.titulo||"",observacion:n.observacion||"",fechaObservacion:n.fechaObservacion?new Date(n.fechaObservacion).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],idCurso:n.idCurso||"",estaActivo:void 0===n.estaActivo||n.estaActivo}),b({}))},[e,n,m]);const y=(e,t)=>{g(r=>({...r,[e]:t})),x[e]&&b(t=>({...t,[e]:null}))},v=()=>{o||r()};return e&&n?It.jsxs(ki,{open:e,onClose:v,className:"relative z-50",children:[It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-md bg-opacity-50"}),It.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:It.jsxs(ki.Panel,{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[It.jsx(ki.Title,{className:"text-xl font-semibold text-gray-900",children:"Editar Anotacin"}),It.jsx("button",{onClick:v,disabled:o,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:It.jsx(ne,{size:24})})]}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return p.idEstudiante||(e.idEstudiante="Debe seleccionar un estudiante"),p.titulo.trim()||(e.titulo="El ttulo es obligatorio"),p.observacion.trim()||(e.observacion="La observacin es obligatoria"),p.fechaObservacion||(e.fechaObservacion="La fecha es obligatoria"),p.idCurso||(e.idCurso="Debe seleccionar un curso"),b(e),0===Object.keys(e).length})())try{const e={idTrabajador:p.idTrabajador,idEstudiante:p.idEstudiante,titulo:p.titulo.trim(),observacion:p.observacion.trim(),fechaObservacion:p.fechaObservacion,idCurso:p.idCurso,estaActivo:p.estaActivo};await i(n.idAnotacionAlumno,e),a&&a(),r()}catch(t){b({submit:"Error al actualizar la anotacin. Intente nuevamente."})}},className:"p-6 space-y-6",children:[It.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx(ee,{className:"w-5 h-5 text-blue-600"}),It.jsxs("div",{children:[It.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Editando anotacin de: ",n?.estudiante?.nombre," ",n?.estudiante?.apellido]}),It.jsx("p",{className:"text-xs text-blue-700",children:n?.curso?.nombreCurso})]})]})}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[It.jsxs("div",{children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[It.jsx(ee,{className:"w-4 h-4 inline mr-1"}),"Estudiante *"]}),It.jsxs("select",{value:p.idEstudiante,onChange:e=>y("idEstudiante",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(x.idEstudiante?"border-red-300":"border-gray-300"),disabled:f,children:[It.jsx("option",{value:"",children:f?"Cargando estudiantes...":"Seleccionar estudiante..."}),h?.estudiantes&&h.estudiantes.length>0?h.estudiantes.map(e=>It.jsxs("option",{value:e.idEstudiante,children:[e.nombre," ",e.apellido]},e.idEstudiante)):!f&&It.jsx("option",{disabled:!0,children:"No hay estudiantes disponibles"})]}),x.idEstudiante&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.idEstudiante})]}),It.jsxs("div",{children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[It.jsx(me,{className:"w-4 h-4 inline mr-1"}),"Curso *"]}),It.jsxs("select",{value:p.idCurso,onChange:e=>y("idCurso",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(x.idCurso?"border-red-300":"border-gray-300"),disabled:c,children:[It.jsx("option",{value:"",children:c?"Cargando cursos...":"Seleccionar curso..."}),l?.map(e=>It.jsx("option",{value:e.idCurso,children:e.nombreCurso},e.idCurso))]}),x.idCurso&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.idCurso})]}),It.jsxs("div",{children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[It.jsx(ue,{className:"w-4 h-4 inline mr-1"}),"Fecha de Observacin *"]}),It.jsx("input",{type:"date",value:p.fechaObservacion,onChange:e=>y("fechaObservacion",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(x.fechaObservacion?"border-red-300":"border-gray-300")}),x.fechaObservacion&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.fechaObservacion})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),It.jsxs("div",{className:"flex items-center",children:[It.jsx("input",{type:"checkbox",id:"estaActivo",checked:p.estaActivo,onChange:e=>y("estaActivo",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),It.jsx("label",{htmlFor:"estaActivo",className:"ml-2 block text-sm text-gray-900",children:"Anotacin activa"})]})]})]}),It.jsxs("div",{children:[It.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[It.jsx(he,{className:"w-4 h-4 inline mr-1"}),"Ttulo *"]}),It.jsx("input",{type:"text",value:p.titulo,onChange:e=>y("titulo",e.target.value),placeholder:"Ttulo de la anotacin",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(x.titulo?"border-red-300":"border-gray-300")}),x.titulo&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.titulo})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observacin *"}),It.jsx("textarea",{value:p.observacion,onChange:e=>y("observacion",e.target.value),placeholder:"Describe la observacin...",rows:"4",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(x.observacion?"border-red-300":"border-gray-300")}),x.observacion&&It.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.observacion})]}),x.submit&&It.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(j,{className:"w-5 h-5 text-red-500 mr-2"}),It.jsx("span",{className:"text-red-700 text-sm",children:x.submit})]})}),It.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[It.jsx("button",{type:"button",onClick:v,disabled:o,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:o,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?It.jsxs(It.Fragment,{children:[It.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Actualizando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Actualizar"]})})]})]})]})})]}):null},Wce=({isOpen:e,onClose:t,onConfirm:r,titulo:a,mensaje:n,loading:s=!1})=>It.jsxs(ki,{open:e,onClose:t,className:"relative z-50",children:[It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-md bg-opacity-50"}),It.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:It.jsxs(ki.Panel,{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[It.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"flex-shrink-0",children:It.jsx(Xe,{className:"w-6 h-6 text-red-500"})}),It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:a||"Confirmar eliminacin"})]}),It.jsx("button",{onClick:t,disabled:s,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:It.jsx(ne,{size:24})})]}),It.jsx("div",{className:"p-6",children:It.jsx("p",{className:"text-gray-700",children:n||"Ests seguro de que quieres eliminar este elemento? Esta accin no se puede deshacer."})}),It.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[It.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancelar"}),It.jsx("button",{type:"button",onClick:async()=>{try{await r(),t()}catch(e){}},disabled:s,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?It.jsxs(It.Fragment,{children:[It.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Eliminando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Le,{className:"w-4 h-4 mr-2"}),"Eliminar"]})})]})]})})]}),Gce={all:["anotaciones"],byWorker:e=>[...Gce.all,"trabajador",e],byStudent:e=>[...Gce.all,"estudiante",e]},Kce=({anotacion:e,onEdit:t,onDelete:r})=>{return It.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200 p-6",children:[It.jsxs("div",{className:"flex items-start justify-between mb-4",children:[It.jsxs("div",{className:"flex-1",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.titulo}),It.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[It.jsxs("div",{className:"flex items-center gap-1",children:[It.jsx(ee,{className:"w-4 h-4"}),It.jsxs("span",{children:[e.estudiante?.nombre," ",e.estudiante?.apellido]})]}),It.jsxs("div",{className:"flex items-center gap-1",children:[It.jsx(me,{className:"w-4 h-4"}),It.jsx("span",{children:e.curso?.nombreCurso})]})]})]}),It.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t&&It.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar anotacin",children:It.jsx(Re,{className:"w-4 h-4"})}),r&&It.jsx("button",{onClick:()=>r(e),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar anotacin",children:It.jsx(Le,{className:"w-4 h-4"})})]})]}),It.jsx("div",{className:"mb-4",children:It.jsxs("div",{className:"flex items-start gap-2",children:[It.jsx(Ne,{className:"w-4 h-4 text-gray-400 mt-1 flex-shrink-0"}),It.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.observacion})]})}),It.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[It.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[It.jsxs("div",{className:"flex items-center gap-1",children:[It.jsx(ue,{className:"w-3 h-3"}),It.jsxs("span",{children:["Observacin: ",(a=e.fechaObservacion,new Date(a).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}))]})]}),It.jsxs("div",{className:"flex items-center gap-1",children:[It.jsx(de,{className:"w-3 h-3"}),It.jsxs("span",{children:["Creado: ",(e=>new Date(e).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))(e.fechaCreacion)]})]})]}),e.prioridad&&It.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e?.toLowerCase()){case"alta":case"high":return"bg-red-100 text-red-800 border-red-200";case"media":case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"baja":case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}})(e.prioridad)}`,children:e.prioridad})]})]});var a},Qce=()=>{const[e,r]=t.useState("all"),[a,n]=t.useState(""),[s,i]=t.useState(!1),[o,l]=t.useState(null),[c,d]=t.useState(!1),[u,m]=t.useState(!1),[h,f]=t.useState(!1),[p,g]=t.useState(null),[x,b]=t.useState(null),{user:y}=Sa(),v=y?.entidadId||localStorage.getItem("entidadId"),{data:j=[],isLoading:w,error:N,refetch:E}=((e,t={})=>Qr({queryKey:Gce.byWorker(e),queryFn:async()=>{try{const t=await Bce.getByWorker(e);return t?.success&&t?.anotaciones?t.anotaciones:t?.info?.data?t.info.data:t?.data?t.data:Array.isArray(t)?t:[]}catch(t){throw t}},enabled:!!e,staleTime:12e4,gcTime:3e5,refetchOnWindowFocus:!1,...t}))(v,{enabled:!!v,refetchOnMount:!0}),{deleteAnotacion:S,deleting:k}=Yce(),[C,A]=t.useState({student:"",category:"academic",title:"",content:"",priority:"medium"}),[_,T]=t.useState([{id:1,student:"Ana Mara Garca",studentId:1,category:"academic",title:"Excelente progreso en matemticas",content:"Ana ha mostrado una mejora significativa en la resolucin de problemas de fracciones. Su participacin en clase es activa y sus tareas estn bien desarrolladas.",date:new Date(Date.now()-864e5),priority:"high",status:"active",tags:["matemticas","progreso","participacin"]},{id:2,student:"Carlos Eduardo Lpez",studentId:2,category:"behavior",title:"Incidente en el recreo",content:"Carlos tuvo una discusin menor con un compaero durante el recreo. Se convers con ambos estudiantes y resolvieron sus diferencias. Requiere seguimiento.",date:new Date(Date.now()-1728e5),priority:"medium",status:"pending",tags:["comportamiento","conflicto","seguimiento"]},{id:3,student:"Isabella Rodrguez",studentId:3,category:"achievement",title:"Reconocimiento por proyecto de ciencias",content:"Isabella present un proyecto excepcional sobre el sistema solar. Su creatividad y dedicacin fueron notables. Se recomienda para la feria de ciencias.",date:new Date(Date.now()-2592e5),priority:"high",status:"completed",tags:["ciencias","proyecto","creatividad","reconocimiento"]},{id:4,student:"Diego Fernndez",studentId:4,category:"concern",title:"Ausencias frecuentes",content:"Diego ha faltado 3 veces esta semana. Los padres indican problemas de salud menores. Importante dar seguimiento a las tareas perdidas.",date:new Date(Date.now()-3456e5),priority:"high",status:"active",tags:["ausencias","salud","tareas","seguimiento"]},{id:5,student:"Sofa Mendoza",studentId:5,category:"parent",title:"Reunin con padres",content:"Los padres de Sofa solicitaron reunin para discutir su progreso acadmico. Se program para el viernes. Preparar informe de rendimiento.",date:new Date(Date.now()-432e6),priority:"medium",status:"pending",tags:["padres","reunin","progreso","informe"]}]),O=[{id:"all",name:"Todas las categoras",icon:he,color:"#6B7280"},{id:"academic",name:"Acadmico",icon:me,color:"#3B82F6"},{id:"behavior",name:"Comportamiento",icon:ee,color:"#F59E0B"},{id:"achievement",name:"Logros",icon:fe,color:"#10B981"},{id:"concern",name:"Preocupaciones",icon:Xe,color:"#EF4444"},{id:"parent",name:"Padres",icon:Ne,color:"#8B5CF6"}],D=j.filter(e=>""===a||e.titulo?.toLowerCase().includes(a.toLowerCase())||e.observacion?.toLowerCase().includes(a.toLowerCase())||`${e.estudiante?.nombre} ${e.estudiante?.apellido}`.toLowerCase().includes(a.toLowerCase())||e.curso?.nombreCurso?.toLowerCase().includes(a.toLowerCase())),P=e=>{g(e),m(!0)},M=e=>{b(e),f(!0)},F=()=>{E()};return It.jsxs("div",{className:"space-y-6",children:[It.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:It.jsxs("div",{className:"flex items-center gap-3",children:[It.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[It.jsx(Oe,{className:"w-4 h-4"}),It.jsx("span",{children:"Nueva Anotacin"})]}),It.jsxs("button",{onClick:F,disabled:w,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 border border-gray-300",title:"Actualizar anotaciones",children:[It.jsx(Ce,{className:"w-4 h-4 "+(w?"animate-spin":"")}),It.jsx("span",{children:"Actualizar"})]})]})}),It.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:It.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[It.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[It.jsxs("div",{className:"relative",children:[It.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),It.jsx("input",{type:"text",placeholder:"Buscar anotaciones...",value:a,onChange:e=>n(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 w-64"})]}),It.jsx("select",{value:e,onChange:e=>r(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:O.map(e=>It.jsx("option",{value:e.id,children:e.name},e.id))})]}),It.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4",children:[It.jsxs("span",{children:[D.length," anotaciones encontradas"]}),w&&It.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[It.jsx(Ce,{className:"w-4 h-4 animate-spin"}),It.jsx("span",{children:"Cargando..."})]})]})]})}),(s||o)&&It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s?"Nueva Anotacin":"Editar Anotacin"}),It.jsx("button",{onClick:()=>{i(!1),l(null),A({student:"",category:"academic",title:"",content:"",priority:"medium"})},className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:It.jsx(ne,{className:"w-5 h-5"})})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estudiante"}),It.jsxs("select",{value:C.student,onChange:e=>A(t=>({...t,student:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[It.jsx("option",{value:"",children:"Seleccionar estudiante"}),[{id:1,name:"Ana Mara Garca"},{id:2,name:"Carlos Eduardo Lpez"},{id:3,name:"Isabella Rodrguez"},{id:4,name:"Diego Fernndez"},{id:5,name:"Sofa Mendoza"}].map(e=>It.jsx("option",{value:e.name,children:e.name},e.id))]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora"}),It.jsx("select",{value:C.category,onChange:e=>A(t=>({...t,category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:O.filter(e=>"all"!==e.id).map(e=>It.jsx("option",{value:e.id,children:e.name},e.id))})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridad"}),It.jsx("select",{value:C.priority,onChange:e=>A(t=>({...t,priority:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[{id:"low",name:"Baja",color:"#10B981"},{id:"medium",name:"Media",color:"#F59E0B"},{id:"high",name:"Alta",color:"#EF4444"}].map(e=>It.jsx("option",{value:e.id,children:e.name},e.id))})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),It.jsx("input",{type:"text",value:C.title,onChange:e=>A(t=>({...t,title:e.target.value})),placeholder:"Ttulo de la anotacin",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),It.jsxs("div",{className:"mb-4",children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contenido"}),It.jsx("textarea",{value:C.content,onChange:e=>A(t=>({...t,content:e.target.value})),placeholder:"Describe la observacin, logro o preocupacin...",rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),It.jsxs("div",{className:"flex justify-end space-x-3",children:[It.jsx("button",{onClick:()=>{i(!1),l(null)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),It.jsxs("button",{onClick:()=>{if(C.title&&C.content&&C.student){const e={id:Date.now(),...C,date:new Date,status:"active",tags:C.content.toLowerCase().split(" ").filter(e=>e.length>4).slice(0,3)};T(t=>[e,...t]),A({student:"",category:"academic",title:"",content:"",priority:"medium"}),i(!1)}},className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[It.jsx(Ye,{className:"w-4 h-4"}),It.jsx("span",{children:"Guardar"})]})]})]}),It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:D.map(e=>It.jsx(Kce,{anotacion:e,onEdit:P,onDelete:M},e.idAnotacionAlumno))}),0===D.length&&!w&&It.jsxs("div",{className:"text-center py-12",children:[It.jsx(he,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:N?"Error al cargar anotaciones":"No se encontraron anotaciones"}),It.jsx("p",{className:"text-gray-600 mb-4",children:N?"Hubo un problema al cargar las anotaciones. Intenta actualizar.":a?"Prueba ajustando los filtros de bsqueda":"Comienza creando tu primera anotacin"}),!a&&!N&&It.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[It.jsx(Oe,{className:"w-4 h-4"}),It.jsx("span",{children:"Crear Primera Anotacin"})]}),N&&It.jsxs("button",{onClick:F,className:"inline-flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[It.jsx(Ce,{className:"w-4 h-4"}),It.jsx("span",{children:"Intentar de Nuevo"})]})]}),w&&0===D.length&&It.jsxs("div",{className:"text-center py-12",children:[It.jsx(Ce,{className:"w-12 h-12 text-gray-300 mx-auto mb-4 animate-spin"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cargando anotaciones..."}),It.jsx("p",{className:"text-gray-600",children:"Obteniendo todas las anotaciones del profesor"})]}),It.jsx(Vce,{isOpen:c,onClose:()=>{d(!1)},onSuccess:()=>{E()}}),It.jsx(Hce,{isOpen:u,onClose:()=>{m(!1),g(null)},onSuccess:()=>{E(),m(!1),g(null)},anotacion:p}),It.jsx(Wce,{isOpen:h,onClose:()=>{f(!1),b(null)},onConfirm:async()=>{if(x)try{await S(x.idAnotacionAlumno),E(),f(!1),b(null)}catch(e){}},titulo:"Eliminar Anotacin",mensaje:`Ests seguro de que quieres eliminar la anotacin "${x?.titulo}"? Esta accin no se puede deshacer.`,loading:k})]})},Xce=()=>{const{tareas:e,loading:r,error:a,refrescarTareas:n}=(()=>{const[e,r]=t.useState([]),[a,n]=t.useState(!0),[s,i]=t.useState(null),o=async()=>{try{n(!0),i(null);const e=localStorage.getItem("auth-storage");if(!e)throw new Error("No se encontr informacin de autenticacin");const t=JSON.parse(e),a=t?.state?.user?.entidadId;if(!a)throw new Error("No se pudo obtener el ID del estudiante del token");const s=await Cce.obtenerTareasPorEstudiante(a),o=c(s);r(o||[])}catch(e){i(e.message),ca.error("Error al cargar las tareas")}finally{n(!1)}},l=e=>({pendiente:"pending",completado:"completed",en_progreso:"in_progress",entregado:"completed",retrasado:"overdue",borrador:"draft"}[e]||"pending"),c=e=>Array.isArray(e)?e.map(e=>{const t=e.tareaEntregas?.[0];return{id:e.idTarea,idTarea:e.idTarea,title:e.titulo,titulo:e.titulo,description:e.descripcion,descripcion:e.descripcion,subject:e.aula?.idGrado?.descripcion||"Materia",materia:e.aula?.idGrado?.descripcion||"Materia",dueDate:e.fechaEntrega,fechaEntrega:e.fechaEntrega,fechaAsignacion:e.fechaAsignacion,status:l(t?.estado||e.estado),estado:l(t?.estado||e.estado),priority:"medium",prioridad:"medium",aula:`${e.aula?.idGrado?.grado||"Sin grado"} - ${e.aula?.seccion||"Sin seccin"}`,aulaInfo:{idAula:e.aula?.idAula,seccion:e.aula?.seccion,grado:e.aula?.idGrado?.grado,descripcion:e.aula?.idGrado?.descripcion,cantidadEstudiantes:e.aula?.cantidadEstudiantes},profesor:`${e.idTrabajador?.nombre||""} ${e.idTrabajador?.apellido||""}`.trim(),profesorInfo:{idTrabajador:e.idTrabajador?.idTrabajador,nombre:e.idTrabajador?.nombre,apellido:e.idTrabajador?.apellido,correo:e.idTrabajador?.correo,telefono:e.idTrabajador?.telefono},entrega:{idTareaEntrega:t?.idTareaEntrega,fechaEntregaRealizada:t?.fechaEntrega,archivoUrl:t?.archivoUrl,estado:t?.estado,realizoTarea:t?.realizoTarea,observaciones:t?.observaciones},realizoTarea:t?.realizoTarea||!1,completedAt:t?.realizoTarea?t?.fechaEntrega:null,emoji:d(e.aula?.idGrado?.descripcion),timeEstimate:"30 min",isOverdue:new Date(e.fechaEntrega)<new Date&&!t?.realizoTarea,daysLeft:Math.ceil((new Date(e.fechaEntrega)-new Date)/864e5)}}):[],d=e=>({lenguaje:"","espaol":"",literatura:"","matemticas":"",matematica:"",ciencias:"",ciencia:"",historia:"","geografa":"",geografia:"","educacin fsica":"","educacion fisica":"",arte:"","msica":"",musica:"","ingls":"",ingles:"",prenatal:"",maternal:"",jardin:""}[e?.toLowerCase()||""]||"");return t.useEffect(()=>{o()},[]),{tareas:e,loading:a,error:s,refrescarTareas:async()=>{await o()},cargarTareasEstudiante:o}})(),[s,i]=t.useState({tareas:[],estadisticas:{totalTareas:0,tareasCompletadas:0,tareasPendientes:0,tareasVencidas:0,promedioCompletitud:0}}),[o,l]=t.useState(!0),[c,d]=t.useState(null);return t.useEffect(()=>{if(e&&Array.isArray(e)){const t=e.length,r=e.filter(e=>"completed"===e.status||e.realizoTarea).length,a=e.filter(e=>"pending"===e.status&&!e.isOverdue).length,n=e.filter(e=>e.isOverdue).length,s=t>0?Math.round(r/t*100):0;i({tareas:e,estadisticas:{totalTareas:t,tareasCompletadas:r,tareasPendientes:a,tareasVencidas:n,promedioCompletitud:s}})}},[e]),t.useEffect(()=>{l(r),d(a)},[r,a]),{dashboardData:s,loading:o,error:c,refreshData:async()=>{await n()},tareas:s.tareas,estadisticas:s.estadisticas}},Jce=()=>{const{user:e}=Sa(),{dashboardData:t,loading:r,error:a,refreshData:n,estadisticas:s}=Xce(),i={name:`${e?.nombre||""} ${e?.apellido||""}`,grade:"Los Pequeos Exploradores"},o=[{title:"Total de Tareas",value:s.totalTareas.toString(),change:`${s.tareasCompletadas} completadas`,icon:me,color:"#3B82F6"},{title:"Tareas Pendientes",value:s.tareasPendientes.toString(),change:`${s.tareasVencidas} vencidas`,icon:S,color:s.tareasVencidas>0?"#EF4444":"#10B981"},{title:"Qu bien lo ests haciendo!",value:s.promedioCompletitud>=80?"Excelente!":s.promedioCompletitud>=60?"Muy bien!":"nimo!",change:"Sigue as!",icon:_,color:s.promedioCompletitud>=80?"#10B981":s.promedioCompletitud>=60?"#F59E0B":"#EF4444"}];return It.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[It.jsxs("div",{className:"bg-gradient-to-r from-yellow-200 to-yellow-100 rounded-xl p-6 flex items-center gap-6",children:[It.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-yellow-600 shadow bg-yellow-100 flex items-center justify-center",children:It.jsx(ae,{className:"w-12 h-12 text-yellow-600"})}),It.jsxs("div",{className:"flex-1",children:[It.jsx("h3",{className:"text-xl font-bold text-gray-900",children:i.name}),It.jsx("p",{className:"text-blue-600 font-medium",children:i.grade})]}),It.jsxs("div",{className:"text-right",children:[It.jsx("div",{className:"text-3xl mb-1",children:0===s.tareasVencidas?"":s.tareasVencidas<=2?"":""}),It.jsx("p",{className:"text-sm font-medium text-gray-700",children:0===s.tareasVencidas?"Excelente":s.tareasVencidas<=2?"Bueno":"Atencin"})]})]}),It.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:o.map((e,t)=>{const r=e.icon,a=t<2;return It.jsxs(c,{to:a?"/parent/tareas":"#",className:"bg-white p-4 lg:p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow "+(a?"cursor-pointer hover:bg-yellow-50":""),children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:`${e.color}15`,color:e.color},children:It.jsx(r,{className:"w-6 h-6"})}),It.jsx(Ae,{className:"w-4 h-4 text-green-500"})]}),It.jsxs("div",{children:[It.jsx("h3",{className:"text-xl lg:text-2xl font-bold text-gray-900 mb-1",children:e.value}),It.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.title}),It.jsx("span",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:e.change})]}),a&&It.jsx("div",{className:"mt-3 text-xs text-green-600 font-medium",children:"Click para ver detalles "})]},t)})}),It.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-yellow-500 rounded-xl shadow-sm p-4 lg:p-6 text-white",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-4",children:[It.jsx("div",{className:"p-3 bg-yellow-600 bg-opacity-20 rounded-lg",children:It.jsx(we,{className:"w-8 h-8"})}),It.jsxs("div",{children:[It.jsx("h3",{className:"text-lg font-semibold",children:"Asistente IA Educativo"}),It.jsx("p",{className:"text-yellow-100",children:"Necesitas ayuda con el aprendizaje de tu hijo o consejos educativos?"})]})]}),It.jsx(c,{to:"/parent/iachat",className:"bg-white text-yellow-600 hover:bg-yellow-50 px-4 py-2 rounded-lg transition-all duration-200 font-medium",children:"DIsponible pronto..."})]})}),It.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[It.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b border-gray-100",children:[It.jsxs(c,{to:"/parent/tareas",className:"flex items-center space-x-2 text-lg font-semibold text-gray-900 cursor-pointer hover:text-blue-600 transition-colors",children:[It.jsx(me,{className:"w-5 h-5 text-yellow-500"}),It.jsx("span",{children:"Tareas Recientes"})]}),It.jsxs("button",{onClick:n,disabled:r,className:"flex items-center space-x-2 text-sm text-yellow-600 hover:text-yellow-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[It.jsx(Ce,{className:"w-4 h-4 "+(r?"animate-spin":"")}),It.jsx("span",{children:"Actualizar"})]})]}),It.jsx("div",{className:"p-4 lg:p-6",children:r?It.jsxs("div",{className:"flex items-center justify-center py-8",children:[It.jsx(Ce,{className:"w-8 h-8 animate-spin text-yellow-600"}),It.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando tareas..."})]}):a?It.jsxs("div",{className:"flex items-center justify-center py-8",children:[It.jsx(j,{className:"w-8 h-8 text-red-600"}),It.jsxs("span",{className:"ml-2 text-red-600",children:["Error al cargar tareas: ",a]})]}):t.tareas&&t.tareas.length>0?It.jsx("div",{className:"space-y-4",children:t.tareas.slice(0,5).map((e,t)=>It.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[It.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full",children:It.jsx("span",{className:"text-lg",children:e.emoji||""})}),It.jsxs("div",{className:"flex-1 min-w-0",children:[It.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.title}),It.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.subject,"  Vence:"," ",new Date(e.fechaEntrega).toLocaleDateString("es-ES")]})]}),It.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+("completed"===e.status||e.realizoTarea?"bg-green-100 text-green-800":e.isOverdue?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"completed"===e.status||e.realizoTarea?"Completada":e.isOverdue?"Vencida":"Pendiente"})]},e.id||t))}):It.jsxs("div",{className:"flex items-center justify-center py-8",children:[It.jsx(me,{className:"w-8 h-8 text-gray-400"}),It.jsx("span",{className:"ml-2 text-gray-600",children:"No hay tareas disponibles"})]})})]}),It.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 border border-blue-100",children:[It.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Prximas Actividades"}),It.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[It.jsx(c,{to:"/parent/tareas",className:"bg-white rounded-lg p-4 border border-blue-100 hover:shadow-md transition-all duration-200 cursor-pointer",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:It.jsx("span",{className:"text-xl",children:""})}),It.jsxs("div",{children:[It.jsx("p",{className:"font-medium text-gray-900",children:"Revisar Tareas Pendientes"}),It.jsx("p",{className:"text-sm text-gray-600",children:"Accede a la seccin de Actividades"})]})]})}),It.jsx(c,{to:"/parent/iachat",className:"bg-white rounded-lg p-4 border border-purple-100 hover:shadow-md transition-all duration-200 cursor-pointer",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:It.jsx("span",{className:"text-xl",children:""})}),It.jsxs("div",{children:[It.jsx("p",{className:"font-medium text-gray-900",children:"Consultar Asistente IA"}),It.jsx("p",{className:"text-sm text-gray-600",children:"Obtn ayuda educativa personalizada"})]})]})}),It.jsx(c,{to:"/parent/juegos",className:"bg-white rounded-lg p-4 border border-green-100 hover:shadow-md transition-all duration-200 cursor-pointer",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:It.jsx("span",{className:"text-xl",children:""})}),It.jsxs("div",{children:[It.jsx("p",{className:"font-medium text-gray-900",children:"Jugar Juegos Educativos"}),It.jsx("p",{className:"text-sm text-gray-600",children:"Aprende jugando con diversin!"})]})]})})]})]})]})},Zce=()=>It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Reportes"}),It.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-sm text-gray-500",children:"Mdulo de reportes (vaco por ahora)."})]}),ede=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],tde=["EFECTIVO","YAPE","PLIN","TRANSFERENCIA","TARJETA","DEPSITO"],rde={INGRESO:["PENSION_MENSUAL","MATRICULA","INGRESO_ADICIONAL","MATERIAL_EDUCATIVO","VENTA_UTILES","ACTIVIDADES","DONACIONES","OTROS_INGRESOS"],EGRESO:["PAGO_PLANILLA","SUELDO_DOCENTE","GASTOS_OPERATIVOS","GASTOS_ADMINISTRATIVOS","INFRAESTRUCTURA","SERVICIOS","MANTENIMIENTO","UTILES","OTROS_GASTOS"]},ade=()=>{const e=new Date,[r,a]=t.useState(""),[n,s]=t.useState(e.getFullYear()),[i,o]=t.useState(!1),[l,c]=t.useState([]),[d,u]=t.useState(!1),[m,h]=t.useState(!1),f=t.useRef(""),[p,g]=t.useState({tipo:"INGRESO",concepto:"",descripcion:"",monto:"",categoria:"",metodoPago:"EFECTIVO"}),x=async(e=m,t=!1)=>{try{const a=e&&r?{mes:r,anio:n}:{anio:n},s=JSON.stringify(a);if(!t&&f.current===s)return;f.current=s,o(!0);const i=await Tc.obtenerMovimientos(a);i.success&&c(i.movimientos||[])}catch(a){ca.error("Error al cargar caja simple"),c([])}finally{o(!1)}};t.useEffect(()=>{r?(h(!0),x(!0)):(h(!1),x(!1))},[r,n]);const b=t.useMemo(()=>l||[],[l]),y=t.useMemo(()=>[{Header:"Fecha",accessor:"fecha",sortable:!0,Cell:({value:e,row:t})=>It.jsxs("div",{children:[It.jsx("div",{className:"font-medium text-gray-900",children:v(e||t?.creado||t?.createdAt)}),It.jsx("div",{className:"text-xs text-gray-500",children:t?.hora||""})]})},{Header:"Estudiante",accessor:"estudiante",sortable:!1,Cell:({value:e})=>It.jsxs("div",{children:[It.jsxs("div",{className:"font-medium text-gray-900",children:[e?.apellido||""," ",e?.nombre||""]}),It.jsxs("div",{className:"text-xs text-gray-500",children:[e?.tipoDocumento||"DNI",": ",e?.nroDocumento||""]})]})},{Header:"Concepto",accessor:"concepto",sortable:!0,Cell:({value:e,row:t})=>It.jsxs("div",{children:[It.jsx("div",{className:"font-medium text-gray-900",children:e||"-"}),It.jsx("div",{className:"text-xs text-gray-500",children:t?.descripcion||""})]})},{Header:"Monto",accessor:"monto",sortable:!0,Cell:({value:e,row:t})=>It.jsx("div",{className:"text-right font-semibold text-gray-900",children:e?Number(e).toFixed(2):t?.monto?Number(t.monto).toFixed(2):""})},{Header:"Mtodo",accessor:"metodoPago",sortable:!0},{Header:"Categora",accessor:"categoria",sortable:!0,Cell:({value:e,row:t})=>It.jsxs("div",{children:[It.jsx("div",{className:"font-medium text-gray-900",children:e||"-"}),It.jsx("div",{className:"text-xs text-gray-500",children:t?.subcategoria||""})]})},{Header:"Registrado por",accessor:"registradoPorTrabajador",sortable:!1,Cell:({value:e})=>It.jsxs("div",{children:[It.jsxs("div",{className:"font-medium text-gray-900",children:[e?.apellido||""," ",e?.nombre||""]}),It.jsxs("div",{className:"text-xs text-gray-500",children:[e?.tipoDocumento||"DNI",": ",e?.nroDocumento||""]})]})},{Header:"Estado",accessor:"estado",sortable:!0}],[]),v=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("es-ES")};return It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Caja Simple",actions:It.jsx("div",{className:"flex items-center gap-2",children:It.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white text-sm font-medium hover:bg-blue-700",children:[It.jsx(Nt,{className:"w-4 h-4"}),"Registrar movimiento"]})})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:It.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mes"}),It.jsxs("select",{value:r,onChange:e=>a(e.target.value?Number(e.target.value):""),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[It.jsx("option",{value:"",children:"Todos"}),ede.map((e,t)=>It.jsx("option",{value:t+1,children:e},e))]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ao"}),It.jsx("input",{type:"number",value:n,onChange:e=>s(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})}),It.jsx(eL,{data:b,columns:y,loading:i,title:"Movimientos de Caja",icon:Et,actions:{add:!1,edit:!1,delete:!1,view:!1,import:!1,export:!1},enablePagination:!0,enableSearch:!0,enableSort:!0,loadingMessage:"Cargando movimientos...",emptyMessage:"No hay movimientos para el periodo.",itemsPerPage:10}),It.jsx(hi,{appear:!0,show:d,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:()=>u(!1),children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/30"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-3xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Registrar movimiento"}),It.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("form",{onSubmit:async e=>{e.preventDefault();const t=(()=>{try{const e=localStorage.getItem("auth-storage");if(e){const t=JSON.parse(e);return t.state?.user?.entidadId||t.state?.user?.idTrabajador||t.state?.user?.id}return null}catch(e){return null}})();if(t)if(p.concepto&&p.monto&&p.categoria)try{await Tc.crearMovimiento({...p,monto:Number(p.monto),registradoPor:t}),ca.success("Movimiento registrado"),g({tipo:"INGRESO",concepto:"",descripcion:"",monto:"",categoria:"",metodoPago:"EFECTIVO"}),await x(m,!0),u(!1)}catch(r){ca.error(r.message||"Error al registrar movimiento")}else ca.error("Completa concepto, categora y monto");else ca.error("No se pudo identificar al usuario actual")},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),It.jsxs("select",{value:p.tipo,onChange:e=>g({...p,tipo:e.target.value,categoria:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[It.jsx("option",{value:"INGRESO",children:"Ingreso"}),It.jsx("option",{value:"EGRESO",children:"Egreso"})]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Concepto"}),It.jsx("input",{value:p.concepto,onChange:e=>g({...p,concepto:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Ej. Pago de pensin"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto"}),It.jsx("input",{type:"number",step:"0.01",value:p.monto,onChange:e=>g({...p,monto:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),It.jsxs("select",{value:p.categoria,onChange:e=>g({...p,categoria:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[It.jsx("option",{value:"",children:"Seleccione categora"}),rde[p.tipo]?.map(e=>It.jsx("option",{value:e,children:e},e))]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodo"}),It.jsx("select",{value:p.metodoPago,onChange:e=>g({...p,metodoPago:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:tde.map(e=>It.jsx("option",{value:e,children:e},e))})]}),It.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),It.jsx("input",{value:p.descripcion,onChange:e=>g({...p,descripcion:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Detalle opcional"})]}),It.jsxs("div",{className:"md:col-span-2 lg:col-span-3 flex justify-end gap-3 pt-2",children:[It.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancelar"}),It.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white text-sm font-medium hover:bg-blue-700",children:[It.jsx(Nt,{className:"w-4 h-4"}),"Registrar"]})]})]})]})})})})]})})]})},nde=Pl.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-Type":"application/json"}});nde.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),nde.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));const sde={getEstudiantesByAula:async e=>(await nde.get(`/secretaria-pagos/aula/${e}/estudiantes`)).data,getRegistrosByAula:async e=>(await nde.get(`/secretaria-pagos/aula/${e}/registros`)).data,getEstudianteDetalle:async e=>(await nde.get(`/secretaria-pagos/estudiante/${e}`)).data,registrarHorarioPagoInicial:async e=>(await nde.post("/secretaria-pagos/registro",e)).data,registrarPagoMensual:async e=>(await nde.post("/secretaria-pagos/pago-mensual",e)).data,actualizarPagoMensual:async(e,t)=>(await nde.patch(`/secretaria-pagos/pago-mensual/${e}`,t)).data,getResumenAulaMes:async(e,t,r)=>(await nde.get(`/secretaria-pagos/resumen/aula/${e}/${t}/${r}`)).data},ide=["Efectivo","Yape","Plin","Transferencia","Depsito","Tarjeta"],ode=({isOpen:e,onClose:r,aulas:a=[],onSuccess:n})=>{const[s,i]=t.useState(!1),[o,l]=t.useState([]),[c,d]=t.useState(!1),[u,m]=t.useState([]),{register:h,handleSubmit:f,reset:p,watch:g,setValue:x,setError:b,clearErrors:y,formState:{errors:v}}=Iz({defaultValues:{idAula:"",idEstudiante:"",horario:"",pagoInicialMonto:"",pagoInicialFecha:"",pagoInicialMetodo:"Efectivo"}}),j=g("idAula");t.useEffect(()=>{(async()=>{if(!j)return l([]),void x("idEstudiante","");try{i(!0);const e=await sde.getEstudiantesByAula(j),t=e?.info?.data||e?.data||e?.estudiantes||e||[],r=Array.isArray(t)?t.map(e=>e?.matricula?.idEstudiante?{...e.matricula.idEstudiante,idEstudiante:e.matricula.idEstudiante.idEstudiante}:e).filter(Boolean):[];l(r),x("idEstudiante","")}catch(e){ca.error("Error al cargar estudiantes del aula"),l([])}finally{i(!1)}})()},[j,x]);const w=()=>{c||(p(),m([]),l([]),r())},N=e=>"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 "+(e?"border-red-500":"border-gray-300");return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:w,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/30"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-3xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Registrar Pensin"}),It.jsx("button",{onClick:w,className:"p-2 hover:bg-gray-100 rounded-lg",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("form",{onSubmit:f(async e=>{try{d(!0);const t=(()=>{try{const e=localStorage.getItem("auth-storage");if(e){const t=JSON.parse(e);return t.state?.user?.entidadId||t.state?.user?.idTrabajador||t.state?.user?.id}return null}catch(e){return null}})();if(!t)return ca.error("No se pudo identificar al usuario actual"),void d(!1);if(0===u.length)return b("horario",{type:"manual",message:"Seleccione al menos un da"}),void d(!1);const r={idEstudiante:e.idEstudiante,idAula:e.idAula,horario:e.horario,pagoInicialMonto:e.pagoInicialMonto?Number(e.pagoInicialMonto):void 0,pagoInicialFecha:e.pagoInicialFecha||void 0,pagoInicialMetodo:e.pagoInicialMetodo||void 0,registradoPor:t};await sde.registrarHorarioPagoInicial(r),ca.success("Registro creado correctamente"),n&&n(),w()}catch(t){ca.error(t.message||"Error al registrar pago")}finally{d(!1)}}),className:"space-y-6",children:[It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aula"}),It.jsxs("select",{...h("idAula",{required:"Seleccione un aula"}),className:N(v.idAula),children:[It.jsx("option",{value:"",children:"Seleccione un aula"}),a.map(e=>It.jsxs("option",{value:e.idAula||e.id,children:[e.seccion," - ",e.idGrado?.grado||e.grado||""]},e.idAula||e.id))]}),v.idAula&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.idAula.message})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estudiante"}),It.jsxs("select",{...h("idEstudiante",{required:"Seleccione un estudiante"}),className:N(v.idEstudiante),disabled:!j||s,children:[It.jsx("option",{value:"",children:s?"Cargando estudiantes...":"Seleccione un estudiante"}),o.map(e=>It.jsxs("option",{value:e.idEstudiante||e.id,children:[e.nombre," ",e.apellido]},e.idEstudiante||e.id))]}),v.idEstudiante&&It.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.idEstudiante.message})]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Das de asistencia"}),It.jsx("div",{className:"flex flex-wrap gap-2",children:["Lunes","Martes","Mircoles","Jueves","Viernes"].map(e=>{const t=u.includes(e);return It.jsx("button",{type:"button",onClick:()=>{const r=t?u.filter(t=>t!==e):[...u,e];m(r),(e=>{const t=e.join(" - ");x("horario",t),0===e.length?b("horario",{type:"manual",message:"Seleccione al menos un da"}):y("horario")})(r)},className:"px-3 py-2 rounded-lg text-sm font-medium border transition-colors "+(t?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-blue-50"),children:e},e)})}),It.jsx("input",{type:"hidden",...h("horario")}),v.horario&&It.jsx("p",{className:"text-red-500 text-sm mt-2",children:v.horario.message})]}),It.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[It.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Pago inicial (opcional)"}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto"}),It.jsx("input",{type:"number",step:"0.01",...h("pagoInicialMonto"),className:N(v.pagoInicialMonto)})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha"}),It.jsx("input",{type:"date",...h("pagoInicialFecha"),className:N(v.pagoInicialFecha)})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodo"}),It.jsx("select",{...h("pagoInicialMetodo"),className:N(v.pagoInicialMetodo),children:ide.map(e=>It.jsx("option",{value:e,children:e},e))})]})]})]}),It.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[It.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:c?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),"Guardando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),"Guardar"]})})]})]})]})})})})]})})},lde=["Efectivo","Yape","Plin","Transferencia","Depsito","Tarjeta"],cde=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dde=({isOpen:e,onClose:r,registro:a,onSuccess:n})=>{const[s,i]=t.useState(!1),[o,l]=t.useState(!1),[c,d]=t.useState(null),[u,m]=t.useState(""),[h,f]=t.useState(!1),p=a?.registro?.estudiante||a?.estudiante||a?.registro?.idEstudiante||a?.idEstudiante||null,g=t.useMemo(()=>p?"string"==typeof p?p:p.idEstudiante||p.id||null:null,[p]),x=t.useMemo(()=>p?`${p.apellido||""} ${p.nombre||""}`.trim():"",[p]),{register:b,handleSubmit:y,reset:v,setValue:j,setError:w,clearErrors:N,formState:{errors:S}}=Iz({defaultValues:{mes:(new Date).getMonth()+1,anio:(new Date).getFullYear(),monto:"",fechaPago:(new Date).toISOString().split("T")[0],metodoPago:"Efectivo",esParcial:!1,pagoInicialMonto:"",pagoInicialFecha:"",pagoInicialMetodo:"Efectivo"}}),k=()=>{s||(v(),m(""),d(null),f(!1),r())},C=t.useMemo(()=>{const e=c?.pagosMensuales||c?.registro?.pagosMensuales||c?.pagos||c?.detallePagos||a?.pagosMensuales||a?.pagos||a?.detallePagos||a?.registro?.pagosMensuales||[];return Array.isArray(e)?e:[]},[c,a]),A=t.useMemo(()=>c?.registro||c?.data||c||a?.registro||a||null,[c,a]);t.useEffect(()=>{(async()=>{if(e&&g)try{l(!0);const e=await sde.getEstudianteDetalle(g);d(e?.info?.data||e?.data||e||null)}catch(t){d(null)}finally{l(!1)}})()},[e,g]),t.useEffect(()=>{if(!u)return j("mes",(new Date).getMonth()+1),j("anio",(new Date).getFullYear()),j("monto",""),j("fechaPago",(new Date).toISOString().split("T")[0]),j("metodoPago","Efectivo"),void j("esParcial",!1);const e=C.find(e=>e.idPagoMensual===u);e&&(j("mes",Number(e.mes)),j("anio",Number(e.anio)),j("monto",e.monto??""),j("fechaPago",e.fechaPago??""),j("metodoPago",e.metodoPago??"Efectivo"),j("esParcial",Boolean(e.esParcial)))},[C,u,j]),t.useEffect(()=>{h&&A&&(j("pagoInicialMonto",A.pagoInicialMonto??""),j("pagoInicialFecha",A.pagoInicialFecha??""),j("pagoInicialMetodo",A.pagoInicialMetodo??"Efectivo"))},[A,j,h]);const _=e=>"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 "+(e?"border-red-500":"border-gray-300");return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:k,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/30"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-4",children:[It.jsxs("div",{children:[It.jsx(ki.Title,{className:"text-lg font-semibold text-gray-900",children:"Registrar o editar pago mensual"}),x&&It.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x})]}),It.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 rounded-lg",children:It.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),It.jsxs("form",{onSubmit:y(async e=>{var t,r;if(g)try{i(!0);const s=(()=>{try{const e=localStorage.getItem("auth-storage");if(e){const t=JSON.parse(e);return t.state?.user?.entidadId||t.state?.user?.idTrabajador||t.state?.user?.id}return null}catch(e){return null}})();if(!s)return ca.error("No se pudo identificar al usuario actual"),void i(!1);const o={idEstudiante:g,mes:Number(e.mes),anio:Number(e.anio),monto:Number(e.monto),fechaPago:e.fechaPago,metodoPago:e.metodoPago,esParcial:Boolean(e.esParcial),registradoPor:s};N(["monto","fechaPago"]);const l=Boolean(e.monto);if(!l&&!h)return ca.error("Ingresa el monto o activa actualizar pago inicial"),void i(!1);if(u&&!l)return w("monto",{type:"manual",message:"Monto requerido"}),void i(!1);if(u&&!e.fechaPago)return w("fechaPago",{type:"manual",message:"Fecha requerida"}),void i(!1);if(l)if(u)await sde.actualizarPagoMensual(u,{mes:o.mes,anio:o.anio,monto:o.monto,fechaPago:o.fechaPago,metodoPago:o.metodoPago,esParcial:o.esParcial,estadoPago:o.esParcial?"PARCIAL":"PAGADO"}),ca.success("Pago mensual actualizado");else try{await sde.registrarPagoMensual(o),ca.success("Pago mensual registrado")}catch(a){const n=(t=e.mes,r=e.anio,C.find(e=>Number(e.mes)===Number(t)&&Number(e.anio)===Number(r))||null);if(!n?.idPagoMensual)throw a;await sde.actualizarPagoMensual(n.idPagoMensual,{mes:o.mes,anio:o.anio,monto:o.monto,fechaPago:o.fechaPago,metodoPago:o.metodoPago,esParcial:o.esParcial,estadoPago:o.esParcial?"PARCIAL":"PAGADO"}),ca.success("Pago mensual actualizado")}if(h){const t={idEstudiante:g,idAula:A?.idAula||A?.aula?.idAula,horario:A?.horario,pagoInicialMonto:e.pagoInicialMonto?Number(e.pagoInicialMonto):void 0,pagoInicialFecha:e.pagoInicialFecha||void 0,pagoInicialMetodo:e.pagoInicialMetodo||void 0,registradoPor:s};await sde.registrarHorarioPagoInicial(t),ca.success("Pago inicial actualizado")}n&&n(),k()}catch(a){ca.error(a.message||"Error al registrar pago mensual")}finally{i(!1)}else ca.error("No se encontr el estudiante")}),className:"space-y-6",children:[It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Editar pago existente"}),It.jsxs("select",{value:u,onChange:e=>m(e.target.value),className:_(),disabled:o,children:[It.jsx("option",{value:"",children:"Nuevo pago"}),C.map(e=>It.jsxs("option",{value:e.idPagoMensual,children:[cde[Number(e.mes)-1]," ",e.anio," - ",e.monto]},e.idPagoMensual))]})]}),It.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[It.jsx("input",{type:"checkbox",checked:h,onChange:e=>f(e.target.checked)}),It.jsx("span",{className:"text-sm text-gray-700",children:"Actualizar pago inicial"})]})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mes"}),It.jsx("select",{...b("mes",{required:"Mes requerido"}),className:_(S.mes),children:cde.map((e,t)=>It.jsx("option",{value:t+1,children:e},e))})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ao"}),It.jsx("input",{type:"number",...b("anio",{required:"Ao requerido"}),className:_(S.anio)})]})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto"}),It.jsx("input",{type:"number",step:"0.01",...b("monto"),className:_(S.monto)})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de pago"}),It.jsx("input",{type:"date",...b("fechaPago"),className:_(S.fechaPago)})]})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodo de pago"}),It.jsx("select",{...b("metodoPago",{required:!0}),className:_(S.metodoPago),children:lde.map(e=>It.jsx("option",{value:e,children:e},e))})]}),It.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[It.jsx("input",{type:"checkbox",...b("esParcial")}),It.jsx("span",{className:"text-sm text-gray-700",children:"Pago parcial"})]})]}),h&&It.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[It.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Pago inicial"}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto"}),It.jsx("input",{type:"number",step:"0.01",...b("pagoInicialMonto"),className:_(S.pagoInicialMonto)})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha"}),It.jsx("input",{type:"date",...b("pagoInicialFecha"),className:_(S.pagoInicialFecha)})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodo"}),It.jsx("select",{...b("pagoInicialMetodo"),className:_(S.pagoInicialMetodo),children:lde.map(e=>It.jsx("option",{value:e,children:e},e))})]})]})]}),It.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[It.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:s?It.jsxs(It.Fragment,{children:[It.jsx(E,{className:"w-4 h-4 animate-spin"}),"Guardando..."]}):It.jsxs(It.Fragment,{children:[It.jsx(Ye,{className:"w-4 h-4"}),"Guardar"]})})]})]})]})})})})]})})},ude=({registros:e=[],loading:a=!1,aulas:n=[],selectedAulaLabel:s="",onRefresh:i})=>{const[o,l]=t.useState(!1),[c,d]=t.useState(!1),[u,m]=t.useState(null),h=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],f=e=>e?.registro||e,p=e=>{const t=f(e);return t?.horario||e?.horario||""},g=e=>e?e.replace(/\0/g,"").replace(/\s+/g," ").trim():"",x=e=>g(e).toLowerCase(),b=t.useMemo(()=>{const t=new Map;return e.forEach(e=>{const r=p(e),a=g(r);if(!a)return;const n=x(a);t.has(n)||t.set(n,a)}),0===t.size?["Lunes - Mircoles - Viernes","Martes - Jueves"]:Array.from(t.values())},[e]),y=e=>{const t=f(e);return t?.pagoInicialMonto||e?.pagoInicialMonto||""},v=(e,t)=>{const r=e?.pagosMensuales||e?.pagos||e?.pagosMensual||e?.detallePagos||[];return(Array.isArray(r)?r:[]).find(e=>Number(e.mes)===t)||null},j=(e,t)=>{const r=v(e,t);return r?.monto?r.monto:e?.[`mes${t}`]||e?.[`montoMes${t}`]||""},w=t.useMemo(()=>{const t=new Set;return e.forEach(e=>{const r=e?.pagosMensuales||e?.pagos||e?.pagosMensual||e?.detallePagos||[];(Array.isArray(r)?r:[]).forEach(e=>{e?.mes&&t.add(Number(e.mes))})}),0===t.size?[1,2]:Array.from(t).sort((e,t)=>e-t)},[e]),N=t.useMemo(()=>{const t={pago:0,meses:{},horarios:{}};return w.forEach(e=>{t.meses[e]=0}),b.forEach(e=>{t.horarios[x(e)]=0}),e.forEach(e=>{const r=p(e),a=x(r);a&&(t.horarios[a]=(t.horarios[a]||0)+1);const n=Number(y(e)||0);t.pago+=n,w.forEach(r=>{t.meses[r]+=Number(j(e,r)||0)})}),t},[e,w,b]);return It.jsxs(It.Fragment,{children:[It.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[It.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 px-4 py-3 border-b border-gray-200",children:[It.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-semibold",children:[It.jsx(le,{className:"w-5 h-5 text-blue-600"}),It.jsx("span",{children:"Control de Pagos"}),s&&It.jsxs("span",{className:"text-sm text-gray-500",children:[" Aula ",s]})]}),It.jsxs("button",{type:"button",onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[It.jsx(Oe,{className:"w-4 h-4"}),"Agregar Pensin"]})]}),a?It.jsx("div",{className:"p-6 text-sm text-gray-500",children:"Cargando..."}):0===e.length?It.jsx("div",{className:"p-6 text-sm text-gray-500",children:"No hay registros para el aula seleccionada."}):It.jsx("div",{className:"overflow-x-auto",children:It.jsxs("table",{className:"min-w-max text-sm text-left whitespace-nowrap",children:[It.jsx("thead",{className:"bg-gray-50 text-gray-700",children:It.jsxs("tr",{children:[It.jsx("th",{className:"px-3 py-2 border",children:"N"}),It.jsx("th",{className:"px-3 py-2 border",children:"Nombre del alumno"}),It.jsx("th",{className:"px-3 py-2 border",children:"Horario"}),b.map(e=>It.jsx("th",{className:"px-3 py-2 border text-center",children:e},`horario-${e}`)),It.jsx("th",{className:"px-3 py-2 border text-right",children:"Pago"}),w.map(e=>It.jsxs(r.Fragment,{children:[It.jsx("th",{className:"px-3 py-2 border text-right",children:h[e-1]}),It.jsx("th",{className:"px-3 py-2 border",children:"Fecha pago"})]},`header-${e}`))]})}),It.jsxs("tbody",{children:[e.map((e,t)=>{const a=(e=>{const t=f(e);return t?.estudiante||t?.idEstudiante||e?.estudiante||e?.idEstudiante||null})(e),n=p(e),s=y(e),i=x(n);return It.jsxs("tr",{className:"odd:bg-white even:bg-gray-50 hover:bg-blue-50 cursor-pointer",onClick:()=>(e=>{m(e),d(!0)})(e),children:[It.jsx("td",{className:"px-3 py-2 border text-center",children:t+1}),It.jsxs("td",{className:"px-3 py-2 border",children:[It.jsxs("div",{className:"font-medium text-gray-900",children:[a?.apellido||""," ",a?.nombre||""]}),It.jsxs("div",{className:"text-xs text-gray-500",children:[a?.tipoDocumento||"DNI",": ",a?.nroDocumento||""]})]}),It.jsx("td",{className:"px-3 py-2 border text-center font-semibold",children:n||"-"}),b.map(r=>It.jsx("td",{className:"px-3 py-2 border text-center",children:i===x(r)?"1":""},`${e.idRegistro||e.id||t}-horario-${r}`)),It.jsx("td",{className:"px-3 py-2 border text-right text-red-600 font-semibold",children:s?Number(s).toFixed(2):""}),w.map(a=>{const n=j(e,a),s=((e,t)=>{const r=v(e,t);return r?.fechaPago?r.fechaPago:e?.[`fechaMes${t}`]||""})(e,a);return It.jsxs(r.Fragment,{children:[It.jsx("td",{className:"px-3 py-2 border text-right text-red-600 font-semibold",children:n?Number(n).toFixed(2):""}),It.jsx("td",{className:"px-3 py-2 border text-center",children:s?new Date(s).toLocaleDateString("es-ES"):""})]},`${e.idRegistro||e.id||t}-${a}`)})]},e.idRegistro||e.id||t)}),It.jsxs("tr",{className:"bg-yellow-100 font-semibold",children:[It.jsx("td",{className:"px-3 py-2 border text-center",colSpan:3,children:"TOTALES"}),b.map(e=>It.jsx("td",{className:"px-3 py-2 border text-center",children:N.horarios[x(e)]||0},`total-horario-${e}`)),It.jsx("td",{className:"px-3 py-2 border text-right text-red-700",children:N.pago.toFixed(2)}),w.map(e=>It.jsxs(r.Fragment,{children:[It.jsx("td",{className:"px-3 py-2 border text-right text-red-700",children:Number(N.meses[e]||0).toFixed(2)}),It.jsx("td",{className:"px-3 py-2 border"})]},`total-${e}`))]})]})]})})]}),It.jsx(ode,{isOpen:o,onClose:()=>l(!1),aulas:n,onSuccess:()=>{l(!1),i&&i()}}),It.jsx(dde,{isOpen:c,onClose:()=>{d(!1),m(null)},registro:u,onSuccess:()=>{d(!1),m(null),i&&i()}})]})},mde=()=>{const{aulas:e=[],loading:r}=iB(),[a,n]=t.useState(""),[s,i]=t.useState([]),[o,l]=t.useState(!1),c=t.useMemo(()=>{const t=e.find(e=>(e.idAula||e.id)===a);if(!t)return"";const r=t.idGrado?.grado||t.grado||"";return`${t.seccion}${r?` - ${r}`:""}`},[e,a]),d=async()=>{if(a)try{l(!0);const e=await sde.getRegistrosByAula(a),t=e?.info?.data||e?.data||e?.registros||[];i(Array.isArray(t)?t:[])}catch(e){i([])}finally{l(!1)}};return t.useEffect(()=>{d()},[a]),It.jsxs("div",{className:"space-y-6",children:[It.jsx(XR,{title:"Pensiones"}),It.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aula"}),It.jsxs("select",{value:a,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:r,children:[It.jsx("option",{value:"",children:r?"Cargando aulas...":"Seleccione un aula"}),e.map(e=>It.jsxs("option",{value:e.idAula||e.id,children:[e.seccion," - ",e.idGrado?.grado||e.grado||""]},e.idAula||e.id))]})]})})}),It.jsx(ude,{registros:s,loading:o,aulas:e,selectedAulaLabel:c,onRefresh:d})]})},hde=()=>{const e=()=>{try{const e=localStorage.getItem("auth-storage");if(!e)throw new Error("No se encontr informacin de autenticacin");const t=JSON.parse(e),r=t?.state?.user?.entidadId;if(!r)throw new Error("No se pudo obtener el ID del estudiante del token");return r}catch(e){throw e}},t=e=>({pendiente:"pending",completado:"completed",en_progreso:"in_progress",entregado:"completed",retrasado:"overdue",borrador:"draft"}[e]||"pending"),r=e=>({lenguaje:"","espaol":"",literatura:"","matemticas":"",matematica:"",ciencias:"",ciencia:"",historia:"","geografa":"",geografia:"","educacin fsica":"","educacion fisica":"",arte:"","msica":"",musica:"","ingls":"",ingles:"",prenatal:"",maternal:"",jardin:""}[e?.toLowerCase()||""]||""),{data:a=[],isLoading:n,error:s,refetch:i,isRefetching:o}=Qr({queryKey:["tareas-estudiante"],queryFn:async()=>{try{const a=e(),n=await Cce.obtenerTareasPorEstudiante(a);return n&&n.length,(a=>{if(!Array.isArray(a))return[];const n=e();return a.map(e=>{const a=e.tareaEntregas?.find(e=>e.idEstudiante===n||e.estudiante?.idEstudiante===n||e.idEstudiante===parseInt(n)||e.estudiante?.idEstudiante===parseInt(n))||null;return{id:e.idTarea,idTarea:e.idTarea,title:e.titulo,titulo:e.titulo,description:e.descripcion,descripcion:e.descripcion,subject:e.aula?.idGrado?.descripcion||"Materia",materia:e.aula?.idGrado?.descripcion||"Materia",dueDate:e.fechaEntrega,fechaEntrega:e.fechaEntrega,fechaAsignacion:e.fechaAsignacion,status:t(a?a.estado:e.estado),estado:t(a?a.estado:e.estado),priority:"medium",prioridad:"medium",aula:`${e.aula?.idGrado?.grado||"Sin grado"} - ${e.aula?.seccion||"Sin seccin"}`,aulaInfo:{idAula:e.aula?.idAula,seccion:e.aula?.seccion,grado:e.aula?.idGrado?.grado,descripcion:e.aula?.idGrado?.descripcion,cantidadEstudiantes:e.aula?.cantidadEstudiantes},profesor:`${e.idTrabajador?.nombre||""} ${e.idTrabajador?.apellido||""}`.trim(),profesorInfo:{idTrabajador:e.idTrabajador?.idTrabajador,nombre:e.idTrabajador?.nombre,apellido:e.idTrabajador?.apellido,correo:e.idTrabajador?.correo,telefono:e.idTrabajador?.telefono},entrega:{idTareaEntrega:a?.idTareaEntrega,fechaEntregaRealizada:a?.fechaEntrega,archivoUrl:a?.archivoUrl,estado:a?.estado,realizoTarea:a?.realizoTarea,observaciones:a?.observaciones},archivoUrl:e.archivoUrl||e.archivo_url||e.fileUrl||e.file_url,realizoTarea:a?.realizoTarea||"entregado"===a?.estado||"completado"===a?.estado||!1,completedAt:a?.realizoTarea||"entregado"===a?.estado||"completado"===a?.estado?a?.fechaEntrega:null,emoji:r(e.aula?.idGrado?.descripcion),timeEstimate:"30 min",isOverdue:new Date(e.fechaEntrega)<new Date&&!a?.realizoTarea,daysLeft:Math.ceil((new Date(e.fechaEntrega)-new Date)/864e5)}})})(n)||[]}catch(a){throw ca.error("Error al cargar las tareas"),a}},staleTime:3e5,cacheTime:6e5,retry:2,refetchOnWindowFocus:!1,onError:e=>{}});return{tareas:a,loading:n||o,error:s?.message||null,refrescarTareas:i,isRefetching:o}},fde=({isOpen:e,onClose:r,tarea:a,onSuccess:n})=>{const[s,i]=t.useState({observaciones:"",archivoUrl:"",realizoTarea:!0}),[o,l]=t.useState(!1),[c,d]=t.useState(null),[u,m]=t.useState(!1),h=()=>{i({observaciones:"",archivoUrl:"",realizoTarea:!0}),d(null),m(!1),r()};return a?It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:h,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[It.jsxs("div",{className:"flex items-center justify-between mb-6",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:It.jsx(_e,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold text-gray-900",children:"Entregar Tarea"}),It.jsx("p",{className:"text-sm text-gray-600",children:a.title})]})]}),It.jsx("button",{onClick:h,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:It.jsx(ne,{className:"w-5 h-5 text-gray-400"})})]}),It.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:It.jsxs("div",{className:"flex items-start space-x-3",children:[It.jsx("div",{className:"text-2xl",children:a.emoji}),It.jsxs("div",{className:"flex-1",children:[It.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:a.title}),It.jsx("p",{className:"text-sm text-gray-600 mb-3",children:a.description}),It.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-gray-500",children:[It.jsxs("span",{children:[" ",a.subject]}),It.jsxs("span",{children:[" Prof. ",a.profesor]}),It.jsxs("span",{children:[" Vence: ",new Date(a.dueDate).toLocaleDateString("es-ES")]})]})]})]})}),It.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),s.observaciones.trim()){l(!0);try{const e=localStorage.getItem("auth-storage"),t=JSON.parse(e),r=t?.state?.user?.entidadId;if(!r)throw new Error("No se pudo obtener el ID del estudiante");const i={idTarea:a.idTarea,idEstudiante:r,realizoTarea:s.realizoTarea,observaciones:s.observaciones.trim(),archivoUrl:s.archivoUrl||null};await Cce.entregarTarea(i),ca.success("Tarea entregada exitosamente!"),n&&n(),h()}catch(t){ca.error(t.message||"Error al enviar la tarea")}finally{l(!1)}}else ca.error("Por favor, agrega observaciones sobre la tarea realizada.")},className:"space-y-6",children:[It.jsxs("div",{children:[It.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones sobre la tarea realizada *"}),It.jsx("textarea",{id:"observaciones",value:s.observaciones,onChange:e=>i(t=>({...t,observaciones:e.target.value})),placeholder:"Describe cmo se realiz la tarea, si hubo dificultades, si necesit ayuda, etc.",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",required:!0}),It.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cuntanos cmo fue el proceso de realizacin de la tarea"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adjuntar archivo (opcional)"}),It.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:u?It.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[It.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Subiendo archivo..."}),It.jsx("p",{className:"text-xs text-gray-500",children:"Por favor espera"})]})]}):c?It.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[It.jsx(he,{className:"w-8 h-8 text-blue-600"}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.name}),It.jsxs("p",{className:"text-xs text-gray-500",children:[(c.size/1024/1024).toFixed(2)," MB"]})]}),It.jsx("button",{type:"button",onClick:()=>{d(null),i(e=>({...e,archivoUrl:""})),m(!1)},className:"p-1 hover:bg-red-100 rounded-full transition-colors",children:It.jsx(ne,{className:"w-4 h-4 text-red-500"})})]}):It.jsxs("div",{children:[It.jsx(ze,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),It.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Sube una foto o documento de la tarea realizada"}),It.jsx("input",{type:"file",id:"archivo",accept:"image/*,.pdf,.doc,.docx",onChange:async e=>{const t=e.target.files[0];if(t){if(!["image/jpeg","image/png","image/gif","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type))return void ca.error("Tipo de archivo no permitido. Solo se permiten imgenes, PDF y documentos de Word.");if(t.size>5242880)return void ca.error("El archivo es demasiado grande. Mximo 5MB permitido.");d(t),m(!0);try{const e=await yc.uploadFile(t,"tareas");i(t=>({...t,archivoUrl:e.url})),ca.success("Archivo subido exitosamente")}catch(r){ca.error("Error al subir el archivo. Intntalo de nuevo."),d(null)}finally{m(!1)}}},disabled:u,className:"hidden"}),It.jsxs("label",{htmlFor:"archivo",className:"inline-flex items-center px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors cursor-pointer "+(u?"opacity-50 cursor-not-allowed":""),children:[It.jsx(_e,{className:"w-4 h-4 mr-2"}),"Seleccionar archivo"]}),It.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Formatos permitidos: JPG, PNG, PDF, DOC (mx. 5MB)"})]})})]}),It.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx(St,{className:"w-5 h-5 text-green-600"}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-green-800",children:"Marcando tarea como completada"}),It.jsx("p",{className:"text-xs text-green-600",children:"Al enviar esta entrega, la tarea se marcar como realizada"})]})]})}),It.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-end",children:[It.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:o||u,children:"Cancelar"}),It.jsx("button",{type:"submit",disabled:o||u||!s.observaciones.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:o?It.jsxs(It.Fragment,{children:[It.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),It.jsx("span",{children:"Enviando..."})]}):It.jsxs(It.Fragment,{children:[It.jsx(_e,{className:"w-4 h-4"}),It.jsx("span",{children:"Entregar Tarea"})]})})]})]})]})})})})]})}):null},pde=({isOpen:e,onClose:r,tarea:a})=>{const[n,s]=t.useState(!1);t.useEffect(()=>{},[a]);const i=e=>e?new Date(e).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada",o=e=>{e?window.open(e,"_blank"):ca.error("No se encontr el archivo adjunto")},l=(e,t)=>{if(e){const r=document.createElement("a");r.href=e,r.download=t||"archivo_tarea",r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}else ca.error("No se encontr el archivo para descargar")},c=()=>{r()};if(!a)return null;const d=(h=a)?h.realizoTarea?{label:"Completada",color:"bg-green-100 text-green-800 border-green-200",icon:S,emoji:""}:new Date(h.fechaEntrega||new Date)<new Date?{label:"Atrasada",color:"bg-red-100 text-red-800 border-red-200",icon:j,emoji:""}:{label:"Pendiente",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:de,emoji:""}:{label:"Pendiente",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:de,emoji:""},u=d.icon,m=(e=>{if(!e)return null;const t=new Date,r=new Date(e)-t,a=Math.ceil(r/864e5);return a<0?`Venci hace ${Math.abs(a)} da(s)`:0===a?"Vence hoy":1===a?"Vence maana":`${a} das restantes`})(a?.fechaEntrega);var h;return It.jsx(hi,{appear:!0,show:e,as:t.Fragment,children:It.jsxs(ki,{as:"div",className:"relative z-50",onClose:c,children:[It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:It.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm bg-opacity-25"})}),It.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:It.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:It.jsx(hi.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:It.jsxs(ki.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:[It.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-yellow-700 px-6 py-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"w-10 h-10 bg-yellow-600 bg-opacity-20 rounded-lg flex items-center justify-center",children:It.jsx(me,{className:"w-6 h-6 text-white"})}),It.jsxs("div",{children:[It.jsx(ki.Title,{as:"h3",className:"text-lg font-semibold text-white",children:a?.titulo||"Detalles de la Tarea"}),It.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[It.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${d.color}`,children:[It.jsx(u,{className:"w-3 h-3 mr-1"}),d.label]}),m&&It.jsx("span",{className:"text-xs font-medium "+(a?.isOverdue?"text-red-200":m.includes("maana")||m.includes("hoy")?"text-orange-200":"text-green-200"),children:m})]})]})]}),It.jsx("button",{onClick:c,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:It.jsx(ne,{className:"w-5 h-5"})})]})}),It.jsx("div",{className:"px-6 py-6 max-h-96 overflow-y-auto",children:It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{children:[It.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informacin de la Tarea"}),It.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Ttulo"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900 font-medium",children:a?.titulo||"No especificado"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Descripcin"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a?.descripcion||"Sin descripcin"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Fecha de Asignacin"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i(a?.fechaAsignacion)})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Fecha de Entrega"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i(a?.fechaEntrega)})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Materia"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a?.aulaInfo?.descripcion||"No especificada"})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Aula"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a?.aula||"No especificada"})]})]})})]}),(a?.archivoUrl||a?.archivo_url||a?.fileUrl||a?.file_url)&&It.jsxs("div",{children:[It.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Archivo de la Tarea"}),It.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:It.jsx(he,{className:"w-5 h-5 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Archivo adjunto por el profesor"}),It.jsx("p",{className:"text-xs text-gray-600",children:"Haz clic para ver o descargar el archivo"})]})]}),It.jsxs("div",{className:"flex space-x-2",children:[It.jsxs("button",{onClick:()=>o(a?.archivoUrl||a?.archivo_url||a?.fileUrl||a?.file_url),className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors text-xs",children:[It.jsx(N,{className:"w-3 h-3"}),It.jsx("span",{children:"Ver"})]}),It.jsxs("button",{onClick:()=>l(a?.archivoUrl||a?.archivo_url||a?.fileUrl||a?.file_url,`tarea_${a?.titulo}`),className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors text-xs",children:[It.jsx(Te,{className:"w-3 h-3"}),It.jsx("span",{children:"Descargar"})]})]})]})})]}),It.jsxs("div",{children:[It.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informacin del Profesor"}),It.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nombre"}),It.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[a?.profesorInfo?.nombre," ",a?.profesorInfo?.apellido]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Correo"}),It.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a?.profesorInfo?.correo||"No especificado"})]})]})})]}),It.jsxs("div",{children:[It.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Estado de la Entrega"}),a?.realizoTarea?It.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[It.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[It.jsx(S,{className:"w-5 h-5 text-green-600"}),It.jsx("span",{className:"text-green-800 font-medium",children:"Tarea completada!"})]}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[It.jsxs("div",{children:[It.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Fecha de Entrega"}),It.jsx("p",{className:"mt-1 text-green-800",children:i(a?.entrega?.fechaEntregaRealizada)})]}),a?.entrega?.observaciones&&It.jsxs("div",{className:"md:col-span-2",children:[It.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Observaciones"}),It.jsx("p",{className:"mt-1 text-green-800",children:a?.entrega?.observaciones})]})]}),a?.entrega?.archivoUrl&&It.jsxs("div",{className:"mt-4",children:[It.jsx("label",{className:"text-xs font-medium text-gray-500 mb-2 block",children:"Archivo Entregado"}),It.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3 border",children:[It.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[It.jsx(wt,{className:"w-4 h-4 mr-2"}),It.jsx("span",{children:"Tu archivo entregado"})]}),It.jsxs("div",{className:"flex space-x-2",children:[It.jsxs("button",{onClick:()=>o(a?.entrega?.archivoUrl),className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors text-xs",children:[It.jsx(N,{className:"w-3 h-3"}),It.jsx("span",{children:"Ver"})]}),It.jsxs("button",{onClick:()=>l(a?.entrega?.archivoUrl,`mi_entrega_${a?.titulo}`),className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors text-xs",children:[It.jsx(Te,{className:"w-3 h-3"}),It.jsx("span",{children:"Descargar"})]})]})]})]})]}):It.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(de,{className:"w-5 h-5 text-yellow-600"}),It.jsx("span",{className:"text-yellow-800 font-medium",children:"Pendiente de entrega"})]}),It.jsx("p",{className:"text-yellow-700 text-sm mt-2",children:"Recuerda entregar tu tarea antes de la fecha lmite."})]})]})]})}),It.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end",children:It.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cerrar"})})]})})})})]})})},gde=()=>{const[e,r]=t.useState("todas"),[a,n]=t.useState(!1),[s,i]=t.useState(!1),[o,l]=t.useState(null),{tareas:c,loading:d,error:u,refrescarTareas:m,isRefetching:h}=hde(),f=e=>{switch(e){case"high":return"border-l-red-400";case"medium":return"border-l-yellow-400";case"low":return"border-l-green-400";default:return"border-l-gray-400"}},p=e=>e?new Date(e).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"Sin fecha",g=c.filter(t=>"todas"===e||("overdue"===e?t.isOverdue:t.status===e)),x=(()=>{const e=c.length,t=c.filter(e=>"completed"===e.status).length,r=c.filter(e=>"pending"===e.status).length,a=c.filter(e=>e.isOverdue||"overdue"===e.status).length;return{total:e,completadas:t,pendientes:r,atrasadas:a}})();return d?It.jsx("div",{className:"p-6",children:It.jsx("div",{className:"flex items-center justify-center h-64",children:It.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[It.jsx(Ce,{className:"w-8 h-8 animate-spin text-blue-600"}),It.jsx("p",{className:"text-gray-600",children:"Cargando tareas..."})]})})}):u?It.jsx("div",{className:"p-6",children:It.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:It.jsxs("div",{className:"flex items-center space-x-3",children:[It.jsx(j,{className:"w-6 h-6 text-red-600"}),It.jsxs("div",{children:[It.jsx("h3",{className:"text-red-800 font-semibold",children:"Error al cargar las tareas"}),It.jsx("p",{className:"text-red-600 mt-1",children:u}),It.jsx("button",{onClick:m,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Intentar de nuevo"})]})]})})}):It.jsxs("div",{className:"space-y-6",children:[It.jsx("div",{className:"mb-6 sm:mb-8",children:It.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:" Tareas Asignadas"}),It.jsx("p",{className:"text-gray-600 mt-1 sm:mt-2 text-sm sm:text-base",children:"Revisa y completa las tareas asignadas por tus profesores"})]}),It.jsxs("button",{onClick:m,disabled:h,className:`flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors min-w-max ${h?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:[It.jsx(Ce,{className:"w-4 h-4 "+(h?"animate-spin":"")}),It.jsx("span",{className:"text-sm sm:text-base",children:h?"Actualizando...":"Actualizar"})]})]})}),It.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[It.jsx("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-gray-200",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total"}),It.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:x.total})]}),It.jsx(me,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"})]})}),It.jsx("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-gray-200",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Completadas"}),It.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:x.completadas})]}),It.jsx(S,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"})]})}),It.jsx("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-gray-200",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Pendientes"}),It.jsx("p",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:x.pendientes})]}),It.jsx(de,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-600"})]})}),It.jsx("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-gray-200",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Atrasadas"}),It.jsx("p",{className:"text-xl sm:text-2xl font-bold text-red-600",children:x.atrasadas})]}),It.jsx(j,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"})]})})]}),It.jsx("div",{className:"mb-6",children:It.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 bg-white p-4 rounded-lg border border-gray-200",children:[It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(Pe,{className:"w-5 h-5 text-gray-400"}),It.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtrar por:"})]}),It.jsxs("select",{value:e,onChange:e=>r(e.target.value),className:"flex-1 sm:flex-none px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[It.jsx("option",{value:"todas",children:"Todas las tareas"}),It.jsx("option",{value:"pending",children:"Pendientes"}),It.jsx("option",{value:"completed",children:"Completadas"}),It.jsx("option",{value:"overdue",children:"Atrasadas"})]}),It.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 text-center sm:text-left",children:["Mostrando ",g.length," de ",c.length," tareas"]})]})}),0===g.length?It.jsxs("div",{className:"text-center py-12",children:[It.jsx(kt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),It.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"todas"===e?"No tienes tareas asignadas":"No hay tareas "+("pending"===e?"pendientes":"completed"===e?"completadas":"atrasadas")}),It.jsx("p",{className:"text-gray-600",children:"todas"===e?"Cuando tus profesores asignen tareas, aparecern aqu.":"Prueba cambiando el filtro para ver otras tareas."})]}):It.jsx("div",{className:"grid gap-6",children:g.map(e=>{const t=(e=>{switch(e){case"completed":return{label:"Completada",color:"bg-green-100 text-green-800 border-green-200",icon:S,emoji:""};case"in_progress":return{label:"En Progreso",color:"bg-blue-100 text-blue-800 border-blue-200",icon:de,emoji:""};case"overdue":return{label:"Atrasada",color:"bg-red-100 text-red-800 border-red-200",icon:j,emoji:""};default:return{label:"Pendiente",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:de,emoji:""}}})(e.status),r=t.icon,a=(e=>{if(!e)return null;const t=new Date,r=new Date(e)-t,a=Math.ceil(r/864e5);return a<0?`Venci hace ${Math.abs(a)} da(s)`:0===a?"Vence hoy":1===a?"Vence maana":`${a} das restantes`})(e.dueDate);return It.jsx("div",{className:`bg-white border-l-4 ${f(e.priority)} rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow`,children:It.jsxs("div",{className:"p-4 sm:p-6",children:[It.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 mb-4",children:[It.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[It.jsx("div",{className:"text-xl sm:text-2xl flex-shrink-0",children:e.emoji}),It.jsxs("div",{className:"flex-1 min-w-0",children:[It.jsxs("div",{className:"flex items-center justify-between mb-2",children:[It.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 leading-tight",children:e.title}),It.jsxs("button",{onClick:()=>(e=>{l(e),i(!0)})(e),className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs sm:text-sm hover:bg-blue-200 transition-colors ml-2",children:[It.jsx(N,{className:"w-3 h-3 sm:w-4 sm:h-4"}),It.jsx("span",{children:"Ver Detalles"})]})]}),It.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600",children:[It.jsxs("span",{className:"flex items-center space-x-1",children:[It.jsx(me,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),It.jsx("span",{className:"truncate",children:e.subject})]}),It.jsxs("span",{className:"flex items-center space-x-1",children:[It.jsx(ee,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),It.jsxs("span",{className:"truncate",children:["Prof. ",e.profesor]})]}),It.jsxs("span",{className:"flex items-center space-x-1",children:[It.jsx(ue,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),It.jsx("span",{className:"truncate",children:e.aula})]})]})]})]}),It.jsx("div",{className:"flex items-center justify-end sm:justify-start",children:It.jsxs("span",{className:`inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs font-medium border ${t.color}`,children:[It.jsx(r,{className:"w-3 h-3 mr-1"}),It.jsx("span",{className:"hidden sm:inline",children:t.label}),It.jsx("span",{className:"sm:hidden",children:t.emoji})]})})]}),It.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-4 leading-relaxed",children:e.description}),It.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[It.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[It.jsx(ue,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),It.jsxs("span",{children:["Asignada: ",p(e.fechaAsignacion)]})]}),It.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[It.jsx(de,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),It.jsxs("span",{children:["Vence: ",p(e.dueDate)]})]}),It.jsx("div",{className:"text-xs sm:text-sm col-span-1 sm:col-span-2 lg:col-span-1",children:a&&It.jsx("span",{className:"font-medium "+(e.isOverdue?"text-red-600":e.daysLeft<=1?"text-orange-600":"text-green-600"),children:a})})]}),e.realizoTarea?It.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 sm:p-4",children:[It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(S,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 flex-shrink-0"}),It.jsx("span",{className:"text-green-800 font-medium text-sm sm:text-base",children:"Tarea completada!"})]}),e.completedAt&&It.jsxs("p",{className:"text-green-700 text-xs sm:text-sm mt-1",children:["Entregada el ",p(e.completedAt)]}),e.entrega?.observaciones&&It.jsxs("div",{className:"mt-3",children:[It.jsx("p",{className:"text-green-700 text-xs sm:text-sm font-medium",children:"Observaciones:"}),It.jsx("p",{className:"text-green-700 text-xs sm:text-sm",children:e.entrega.observaciones})]})]}):It.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 sm:p-4",children:It.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(de,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600 flex-shrink-0"}),It.jsx("span",{className:"text-yellow-800 font-medium text-sm sm:text-base",children:"Pendiente de entrega"})]}),It.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[e.entrega?.archivoUrl&&It.jsxs("button",{className:"flex items-center justify-center space-x-1 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-xs sm:text-sm hover:bg-blue-200 transition-colors",children:[It.jsx(Te,{className:"w-3 h-3 sm:w-4 sm:h-4"}),It.jsx("span",{children:"Ver archivo"})]}),It.jsxs("button",{onClick:()=>(e=>{l(e),n(!0)})(e),className:"flex items-center justify-center space-x-1 px-3 py-2 bg-green-100 text-green-700 rounded-lg text-xs sm:text-sm hover:bg-green-200 transition-colors",children:[It.jsx(_e,{className:"w-3 h-3 sm:w-4 sm:h-4"}),It.jsx("span",{children:"Subir entrega"})]})]})]})})]})},e.id)})}),It.jsx(fde,{isOpen:a,onClose:()=>{n(!1),l(null)},tarea:o,onSuccess:()=>{m()}}),It.jsx(pde,{isOpen:s,onClose:()=>{i(!1),l(null)},tarea:o})]})},xde=()=>{const[e,a]=t.useState(""),[n,s]=t.useState((new Date).getFullYear()),[i,o]=t.useState(""),[l,c]=t.useState("todos"),d=(()=>{try{const e=localStorage.getItem("token");if(!e)return null;const t=e.split(".")[1];return JSON.parse(atob(t)).entidadId}catch(e){return null}})(),{data:u,isLoading:m,error:h,refetch:f}=Qr({queryKey:["historial-asistencias-estudiante",p=d],queryFn:()=>pce(p),enabled:!!p,staleTime:12e4,cacheTime:3e5,onSuccess:e=>{},onError:e=>{ca.error("Error al cargar el historial de asistencias")}});var p;const g=u?.info?.data||[],x=r.useMemo(()=>{const e=g.length,t=g.filter(e=>!0===e.asistio&&("Presente"===e.observaciones||""===e.observaciones)).length,r=g.filter(e=>!1===e.asistio).length,a=g.filter(e=>!0===e.asistio&&"Tardanza"===e.observaciones).length,n=g.filter(e=>!0===e.asistio&&"Justificado"===e.observaciones).length;return{total:e,presentes:t,ausentes:r,tardanzas:a,justificados:n,porcentajeAsistencia:e>0?((t+a+n)/e*100).toFixed(1):0}},[g]),b=r.useMemo(()=>g.filter(t=>{const{mes:r,anio:a}=(e=>{const t=new Date(e+"T12:00:00-05:00");return{mes:t.getMonth(),anio:t.getFullYear()}})(t.fecha),s=""===e||r===e,o=a===n;let c=!0;"todos"!==l&&("presente"===l?c=!0===t.asistio&&("Presente"===t.observaciones||""===t.observaciones):"ausente"===l?c=!1===t.asistio:"tardanza"===l?c=!0===t.asistio&&"Tardanza"===t.observaciones:"justificado"===l&&(c=!0===t.asistio&&"Justificado"===t.observaciones));const d=(t.observaciones||"").toString(),u=""===i||t.fecha.includes(i)||d.toLowerCase().includes(i.toLowerCase());return s&&o&&c&&u}).sort((e,t)=>{const r=new Date(e.fecha+"T12:00:00-05:00");return new Date(t.fecha+"T12:00:00-05:00")-r}),[g,e,n,l,i]),y=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return m?It.jsx("div",{className:"flex items-center justify-center h-64",children:It.jsxs("div",{className:"flex items-center space-x-2",children:[It.jsx(E,{className:"w-6 h-6 animate-spin text-blue-600"}),It.jsx("span",{className:"text-gray-600",children:"Cargando historial de asistencias..."})]})}):h?It.jsx("div",{className:"flex items-center justify-center h-64",children:It.jsxs("div",{className:"text-center",children:[It.jsx(lt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),It.jsx("p",{className:"text-gray-600 mb-4",children:"Error al cargar el historial de asistencias"}),It.jsx("button",{onClick:()=>f(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Reintentar"})]})}):It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Historial de Asistencias"}),It.jsx("p",{className:"text-gray-600",children:"Consulta el registro de asistencias de tu hijo/a"})]}),It.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),It.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.total})]}),It.jsx(ue,{className:"h-8 w-8 text-gray-600"})]})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-green-600",children:"Presentes"}),It.jsx("p",{className:"text-2xl font-bold text-green-700",children:x.presentes})]}),It.jsx(S,{className:"h-8 w-8 text-green-600"})]})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-red-600",children:"Ausentes"}),It.jsx("p",{className:"text-2xl font-bold text-red-700",children:x.ausentes})]}),It.jsx(lt,{className:"h-8 w-8 text-red-600"})]})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Tardanzas"}),It.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:x.tardanzas})]}),It.jsx(de,{className:"h-8 w-8 text-yellow-600"})]})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-purple-600",children:"% Asistencia"}),It.jsxs("p",{className:"text-2xl font-bold text-purple-700",children:[x.porcentajeAsistencia,"%"]})]}),It.jsx(Ae,{className:"h-8 w-8 text-purple-600"})]})})]}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mes"}),It.jsxs("select",{value:e,onChange:e=>a(""===e.target.value?"":parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[It.jsx("option",{value:"",children:"Todos"}),y.map((e,t)=>It.jsx("option",{value:t,children:e},t))]})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ao"}),It.jsx("select",{value:n,onChange:e=>s(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[2024,2025,2026].map(e=>It.jsx("option",{value:e,children:e},e))})]}),It.jsxs("div",{children:[It.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),It.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[It.jsx("option",{value:"todos",children:"Todos"}),It.jsx("option",{value:"presente",children:"Presente"}),It.jsx("option",{value:"ausente",children:"Ausente"}),It.jsx("option",{value:"tardanza",children:"Tardanza"}),It.jsx("option",{value:"justificado",children:"Justificado"})]})]})]})}),It.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[It.jsx("div",{className:"p-6 border-b border-gray-200",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Registro de Asistencias - ",""===e?"Todos los meses":y[e]," ",n]}),It.jsxs("span",{className:"text-sm text-gray-600",children:[b.length," registro(s)"]})]})}),It.jsx("div",{className:"p-6",children:0===b.length?It.jsxs("div",{className:"text-center py-8",children:[It.jsx(mt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),It.jsx("p",{className:"text-gray-600 mb-2",children:"No hay registros de asistencia"}),It.jsx("p",{className:"text-sm text-gray-500",children:"todos"!==l||""!==i?"Intenta cambiar los filtros de bsqueda":`No hay asistencias registradas para ${""===e?"todo el ao":y[e]} ${n}`})]}):It.jsx("div",{className:"space-y-4",children:b.map(e=>{const t=(e=>!1===e.asistio?{status:"ausente",icon:It.jsx(lt,{className:"w-5 h-5"}),color:"text-red-600 bg-red-100",label:"Ausente"}:"Tardanza"===e.observaciones?{status:"tardanza",icon:It.jsx(de,{className:"w-5 h-5"}),color:"text-yellow-600 bg-yellow-100",label:"Tardanza"}:"Justificado"===e.observaciones?{status:"justificado",icon:It.jsx(Xe,{className:"w-5 h-5"}),color:"text-blue-600 bg-blue-100",label:"Justificado"}:{status:"presente",icon:It.jsx(S,{className:"w-5 h-5"}),color:"text-green-600 bg-green-100",label:"Presente"})(e);return It.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[It.jsxs("div",{className:"flex items-center space-x-4",children:[It.jsx("div",{className:`p-2 rounded-full ${t.color}`,children:t.icon}),It.jsxs("div",{children:[It.jsx("h4",{className:"font-medium text-gray-900",children:(r=e.fecha,bce(r,{weekday:"long",year:"numeric",month:"long",day:"numeric"}))}),It.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[It.jsxs("span",{className:"flex items-center space-x-1",children:[It.jsx(de,{className:"w-4 h-4"}),It.jsxs("span",{children:["Hora: ",e.hora]})]}),e.observaciones&&""!==e.observaciones&&It.jsxs("span",{className:"flex items-center space-x-1",children:[It.jsx(Ne,{className:"w-4 h-4"}),It.jsxs("span",{children:["Obs: ",e.observaciones]})]})]})]})]}),It.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.color}`,children:t.label})]},e.idAsistencia);var r})})})]})]})},bde=()=>{const{user:e}=Sa(),[r,a]=t.useState({busqueda:"",categoria:"all",fechaDesde:"",fechaHasta:""}),{data:n=[],isLoading:s,error:i,isError:o}=(()=>{const{user:e}=Sa();return Qr({queryKey:["anotaciones-estudiante",e?.entidadId],queryFn:async()=>{if(!e?.entidadId)throw new Error("Usuario no tiene entidadId (ID de estudiante)");const t=await Bce.getAnotacionesByEstudiante(e.entidadId);return t&&t.anotaciones&&Array.isArray(t.anotaciones)?t.anotaciones.map(e=>({id:e.idAnotacionAlumno,titulo:e.titulo,observacion:e.observacion,fecha:e.fechaObservacion,categoria:"informativo",profesor:`${e.trabajador?.nombre||""} ${e.trabajador?.apellido||""}`.trim(),curso:e.curso?.nombreCurso||"Sin curso",fechaCreacion:e.fechaCreacion,estaActivo:e.estaActivo})):[]},enabled:!!e?.entidadId,staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1})})(),l=[{id:"all",nombre:"Todas",color:"#6B7280",icon:Ee}];if(s)return It.jsxs("div",{className:"space-y-6",children:[It.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:It.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(Ee,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Anotaciones y Avisos"}),It.jsx("p",{className:"text-gray-600",children:"Observaciones de los profesores sobre tu hijo/a"})]})]})}),It.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100",children:It.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[It.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),It.jsx("p",{className:"text-gray-600",children:"Cargando anotaciones..."})]})})]});if(o)return It.jsxs("div",{className:"space-y-6",children:[It.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:It.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(Ee,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Anotaciones y Avisos"}),It.jsx("p",{className:"text-gray-600",children:"Observaciones de los profesores sobre tu hijo/a"})]})]})}),It.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100",children:It.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[It.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:It.jsx(Xe,{className:"w-8 h-8 text-red-600"})}),It.jsxs("div",{className:"text-center",children:[It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error al cargar las anotaciones"}),It.jsx("p",{className:"text-gray-600 mb-4",children:i?.message||"Ocurri un error inesperado"}),It.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reintentar"})]})]})})]});const c=Array.isArray(n)?n:[],d=c.filter(e=>!(r.busqueda&&!e.titulo?.toLowerCase().includes(r.busqueda.toLowerCase())&&!e.observacion?.toLowerCase().includes(r.busqueda.toLowerCase())||"all"!==r.categoria&&e.categoria!==r.categoria||r.fechaDesde&&new Date(e.fecha)<new Date(r.fechaDesde)||r.fechaHasta&&new Date(e.fecha)>new Date(r.fechaHasta)));return It.jsxs("div",{className:"space-y-6",children:[It.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[It.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[It.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:It.jsx(Ee,{className:"w-6 h-6 text-blue-600"})}),It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Anotaciones y Avisos"}),It.jsx("p",{className:"text-gray-600",children:"Revisa las observaciones de los profesores sobre tu hijo/a"})]})]}),It.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mt-6",children:[It.jsx("div",{className:"flex-1",children:It.jsxs("div",{className:"relative",children:[It.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),It.jsx("input",{type:"text",placeholder:"Buscar en anotaciones...",value:r.busqueda,onChange:e=>a(t=>({...t,busqueda:e.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),It.jsx("div",{className:"w-full lg:w-48",children:It.jsx("select",{value:r.categoria,onChange:e=>a(t=>({...t,categoria:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:l.map(e=>It.jsx("option",{value:e.id,children:e.nombre},e.id))})}),It.jsx("div",{className:"w-full lg:w-40",children:It.jsx("input",{type:"date",value:r.fechaDesde,onChange:e=>a(t=>({...t,fechaDesde:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),It.jsx("div",{className:"w-full lg:w-40",children:It.jsx("input",{type:"date",value:r.fechaHasta,onChange:e=>a(t=>({...t,fechaHasta:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})]}),It.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:l.filter(e=>"all"!==e.id).map(e=>{const t=e.icon,r=(a=e.id,d.filter(e=>e.categoria===a).length);var a;return It.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm text-gray-600",children:e.nombre}),It.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r})]}),It.jsx(t,{className:"w-8 h-8",style:{color:e.color}})]})},e.id)})}),It.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[It.jsx("div",{className:"p-6 border-b border-gray-100",children:It.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Historial de Anotaciones"})}),It.jsx("div",{className:"p-6",children:0===d.length?It.jsxs("div",{className:"text-center py-12",children:[It.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:It.jsx(Ee,{className:"w-12 h-12 text-gray-400"})}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===c.length?"No hay anotaciones":"No se encontraron anotaciones"}),It.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:0===c.length?"An no se han registrado anotaciones para tu hijo/a. Cuando los profesores registren observaciones, aparecern aqu.":"No se encontraron anotaciones que coincidan con los filtros aplicados. Intenta ajustar los criterios de bsqueda."})]}):It.jsx("div",{className:"space-y-4",children:d.map(e=>{const t=(e=>{const t=l.find(t=>t.id===e);return t?t.icon:Ee})(e.categoria),r=(e=>{const t=l.find(t=>t.id===e);return t?t.color:"#6B7280"})(e.categoria);return It.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:It.jsxs("div",{className:"flex items-start space-x-4",children:[It.jsx("div",{className:"p-2 rounded-lg flex-shrink-0",style:{backgroundColor:`${r}20`},children:It.jsx(t,{className:"w-5 h-5",style:{color:r}})}),It.jsxs("div",{className:"flex-1 min-w-0",children:[It.jsxs("div",{className:"flex items-center justify-between mb-2",children:[It.jsx("h4",{className:"text-lg font-medium text-gray-900",children:e.titulo}),It.jsx("span",{className:"text-sm text-gray-500",children:(a=e.fecha,new Date(a).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}))})]}),It.jsx("p",{className:"text-gray-700 mb-3",children:e.observacion}),It.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[It.jsxs("div",{className:"flex items-center space-x-4",children:[It.jsxs("div",{className:"flex items-center space-x-1",children:[It.jsx(ee,{className:"w-4 h-4"}),It.jsxs("span",{children:["Prof. ",e.profesor]})]}),It.jsxs("div",{className:"flex items-center space-x-1",children:[It.jsx(me,{className:"w-4 h-4"}),It.jsx("span",{children:e.curso})]})]}),It.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${r}20`,color:r},children:l.find(t=>t.id===e.categoria)?.nombre})]})]})]})},e.id);var a})})})]})]})},yde={all:["estudiantes"],details:()=>[...yde.all,"detail"],detail:e=>[...yde.details(),e],cronograma:e=>["cronograma","aula",e]},vde=(e,t={})=>Qr({queryKey:yde.detail(e),queryFn:()=>JU.obtenerEstudiantePorId(e),enabled:!!e,staleTime:3e5,cacheTime:6e5,retry:2,...t}),jde=(e,t={})=>{const{data:r,isLoading:a,error:n}=vde(e,{enabled:!!e,staleTime:0});let s=r?.matriculas?.[0]?.matriculaAula?.idAula||r?.matriculas?.[0]?.matriculaAula?.aula?.idAula||r?.matriculas?.[0]?.idAula||r?.idAula||r?.aula?.idAula||r?.aulaActual?.idAula;const{data:i,isLoading:o,error:l,refetch:c}=((e,t={})=>Qr({queryKey:yde.cronograma(e),queryFn:()=>JU.obtenerCronogramaPorAula(e),enabled:!!e,staleTime:3e5,cacheTime:6e5,retry:2,...t}))(s,{enabled:!!s&&"undefined"!==s&&!!r&&!a,...t});return{estudiante:r,isLoadingEstudiante:a,errorEstudiante:n,cronograma:i||[],isLoadingCronograma:o,errorCronograma:l,isLoading:a||o,hasError:!!n||!!l,errors:[n,l].filter(Boolean),aulaInfo:{idAula:s,seccion:r?.matriculas?.[0]?.matriculaAula?.aula?.seccion,grado:r?.matriculas?.[0]?.matriculaAula?.aula?.idGrado?.grado,cantidadEstudiantes:r?.matriculas?.[0]?.matriculaAula?.aula?.cantidadEstudiantes},refetchCronograma:c,refetchAll:()=>Promise.all([vde(e).refetch?.(),c()])}},wde=()=>{const[e,r]=t.useState(new Date),[a,n]=t.useState("month"),[s,i]=t.useState(new Date),[o,l]=t.useState(!0),[c,d]=t.useState(null),[u,m]=t.useState(!1),{user:h}=Sa(),f=h?.entidadId||localStorage.getItem("entidadId"),{estudiante:p,cronograma:g=[],aulaInfo:x,isLoading:b,hasError:y,errors:v,refetchCronograma:w,isLoadingEstudiante:N,isLoadingCronograma:E,errorEstudiante:S,errorCronograma:k}=jde(f,{enabled:!!f,refetchOnMount:!0,staleTime:0});t.useEffect(()=>{const e=()=>{const e=window.innerWidth<768;m(e),e?n("day"):"day"!==a||e||n("month")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[a]);const C=()=>{w()},A=e=>{const t={clase:"#3B82F6",reunion:"#F59E0B",evaluacion:"#EF4444",actividad:"#10B981",capacitacion:"#8B5CF6",default:"#6B7280"};return t[e?.toLowerCase()]||t.default},_=(T=g,Array.isArray(T)?T.map((e,t)=>{let r=new Date(e.fecha_inicio),a=new Date(e.fecha_fin);return(r.getTime()===a.getTime()||isNaN(a.getTime()))&&(a=new Date(r.getTime()+72e5)),0===r.getHours()&&0===r.getMinutes()&&(r.setHours(9,0),a.setHours(11,0)),{id:e.id_cronograma||`actividad-${t}`,title:e.nombre_actividad||"Actividad sin nombre",start:r,end:a,resource:{tipo:e.tipo||"actividad",descripcion:e.descripcion||"",idCronograma:e.id_cronograma,seccion:e.seccion,grado:e.grado,nombreTrabajador:e.nombre_trabajador,apellidoTrabajador:e.apellido_trabajador,estado:e.estado||"activo"},backgroundColor:A(e.tipo||"actividad"),borderColor:A(e.tipo||"actividad")}}):[]);var T;return It.jsxs("div",{className:(u?"h-screen flex flex-col":"space-y-6")+" ",children:[It.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0 "+(u?"px-4 py-3 bg-white border-b flex-shrink-0":""),children:[It.jsx("div",{className:"flex flex-col space-y-2",children:It.jsx("div",{className:"flex items-center space-x-3",children:It.jsxs("div",{children:[It.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Cronograma"}),x?.grado&&x?.seccion&&It.jsxs("p",{className:"text-sm text-gray-600",children:[x.grado," - Seccin ",x.seccion,x.cantidadEstudiantes&&`  ${x.cantidadEstudiantes} estudiantes`]})]})})}),It.jsx("div",{className:"flex items-center space-x-3",children:It.jsxs("button",{onClick:C,disabled:b,className:"flex items-center space-x-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors disabled:opacity-50 "+(u?"px-3 py-2 text-sm":"px-4 py-2"),children:[It.jsx(Ce,{className:`${u?"w-3 h-3":"w-4 h-4"} ${b?"animate-spin":""}`}),It.jsx("span",{children:"Actualizar"})]})})]}),b&&It.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:It.jsxs("div",{className:"text-center",children:[It.jsx(Ce,{className:"w-8 h-8 text-blue-600 mx-auto mb-4 animate-spin"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cargando cronograma..."}),It.jsxs("p",{className:"text-gray-600",children:[N&&"Obteniendo datos del estudiante...",E&&"Cargando actividades programadas..."]})]})}),y&&!b&&It.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-8",children:It.jsxs("div",{className:"text-center",children:[It.jsx(j,{className:"w-8 h-8 text-red-600 mx-auto mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error al cargar cronograma"}),It.jsxs("div",{className:"text-gray-600 space-y-1",children:[S&&It.jsxs("p",{children:["Error al cargar datos del estudiante: ",S.message]}),k&&It.jsxs("p",{children:["Error al cargar cronograma: ",k.message]})]}),It.jsxs("button",{onClick:C,className:"mt-4 inline-flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[It.jsx(Ce,{className:"w-4 h-4"}),It.jsx("span",{children:"Intentar de nuevo"})]})]})}),!b&&!y&&It.jsx("div",{className:u?"flex-1 overflow-hidden":"",children:It.jsx(dce,{events:_,isLoading:b,onSelectEvent:e=>{d(e)},onSelectSlot:e=>{},view:a,onView:e=>{n(e)},date:e,onNavigate:e=>{r(e)},isMobile:u,readOnly:!0})}),!b&&!y&&0===_.length&&It.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:It.jsxs("div",{className:"text-center",children:[It.jsx(mt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay actividades programadas"}),It.jsx("p",{className:"text-gray-600",children:"No se encontraron actividades en el cronograma del aula de tu hijo."})]})}),!b&&!y&&_.length>0&&It.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"})]})},Nde=()=>{const[e,r]=t.useState([{id:1,type:"ai",content:" Hola! Soy el **Asistente para Familias EDA** potenciado por ChatGPT.\n\n Estoy aqu para ayudarte con:\n Consejos para apoyar el aprendizaje de tu hijo\n Estrategias de comunicacin familia-escuela\n Sugerencias para el desarrollo socioemocional\n Resolucin de dudas sobre tareas y actividades\n\n **En qu puedo ayudarte hoy como familia?** Puedes preguntarme sobre cualquier tema relacionado con la educacin de tu hijo.",timestamp:new Date(Date.now()-6e4)}]),[a,n]=t.useState(""),[s,i]=t.useState(!1),[o,l]=t.useState([]),[c,d]=t.useState("checking"),[u,m]=t.useState(!1),h=t.useRef(null);t.useEffect(()=>{oee.isConfigured()?d("connected"):d("error")},[]),t.useEffect(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[e]);const f=async(e=a)=>{if(!e.trim())return;const t={id:Date.now(),type:"user",content:e,timestamp:new Date};r(e=>[...e,t]),n(""),await(async e=>{i(!0);try{const t=o.slice(-6),a=await oee.sendMessage(e,t),n={id:Date.now(),type:"ai",content:a,timestamp:new Date};r(e=>[...e,n]),l(t=>[...t,{role:"user",content:e},{role:"assistant",content:a}])}catch(t){const e={id:Date.now(),type:"ai",content:" **Disculpa, hay un problema temporal**\n\nNo pude procesar tu consulta en este momento. Esto puede deberse a:\n\n Configuracin de API pendiente\n Problemas de conectividad\n Lmites de uso alcanzados\n\n **Mientras tanto:**\n Usa las consultas frecuentes\n Intenta reformular tu pregunta\n Contacta al soporte tcnico\n\nTe gustara intentar con una pregunta ms especfica?",timestamp:new Date};r(t=>[...t,e])}i(!1)})(e)};return It.jsxs("div",{className:"flex flex-col "+(u?"fixed inset-0 z-50 bg-white":"h-full"),children:[It.jsx("div",{className:"bg-white border-b border-gray-200 p-3 md:p-4",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 min-w-0 flex-1",children:[It.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gradient-to-r from-yellow-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:It.jsx(te,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),It.jsxs("div",{className:"min-w-0 flex-1",children:[It.jsxs("h1",{className:"text-base md:text-lg font-semibold text-gray-900 flex items-center space-x-2 truncate",children:[It.jsx("span",{children:"Asistente Familiar IA"}),It.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full hidden sm:inline",children:"ChatGPT"})]}),It.jsxs("div",{className:"flex items-center space-x-2",children:["connected"===c&&It.jsxs("div",{className:"flex items-center space-x-1",children:[It.jsx(S,{className:"w-3 h-3 text-green-500"}),It.jsx("span",{className:"text-xs md:text-sm text-green-600 truncate",children:"En lnea  Listo para ayudar"})]}),"error"===c&&It.jsxs("div",{className:"flex items-center space-x-1",children:[It.jsx(j,{className:"w-3 h-3 text-orange-500"}),It.jsx("span",{className:"text-xs md:text-sm text-orange-600",children:"Configuracin pendiente"})]}),"checking"===c&&It.jsx("span",{className:"text-xs md:text-sm text-gray-500",children:"Verificando conexin..."})]})]})]}),It.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 ml-2",children:[It.jsx("button",{onClick:()=>{m(!u)},className:"p-1.5 md:p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:u?"Salir de pantalla completa":"Pantalla completa",children:u?It.jsx(ht,{className:"w-4 h-4"}):It.jsx(ft,{className:"w-4 h-4"})}),It.jsx("button",{onClick:()=>{r([{id:1,type:"ai",content:" **Conversacin reiniciada**\n\n Hola de nuevo! Soy el **Asistente para Familias EDA**.\n\nEn qu puedo ayudarte hoy como familia?",timestamp:new Date}]),l([])},className:"p-1.5 md:p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:"Limpiar conversacin",children:It.jsx(Ce,{className:"w-4 h-4"})}),It.jsx("button",{className:"p-1.5 md:p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 md:hidden",children:It.jsx(pt,{className:"w-4 h-4"})})]})]})}),!1,It.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4 bg-gray-50",children:[e.map(e=>{return It.jsx("div",{className:"flex "+("user"===e.type?"justify-end":"justify-start"),children:It.jsxs("div",{className:"flex space-x-3 max-w-3xl "+("user"===e.type?"flex-row-reverse space-x-reverse":""),children:[It.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 "+("user"===e.type?"bg-green-600 text-white":"bg-gradient-to-r from-yellow-500 to-blue-600 text-white"),children:"user"===e.type?It.jsx(ee,{className:"w-4 h-4"}):It.jsx(we,{className:"w-4 h-4"})}),It.jsxs("div",{className:"rounded-2xl p-4 "+("user"===e.type?"bg-yellow-600 text-white":"bg-white border border-gray-200 text-gray-900"),children:[It.jsx("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:e.content.split("\n").map((e,t)=>{if(e.includes("**")){const r=e.split(/(\*\*.*?\*\*)/g);return It.jsx("div",{className:t>0?"mt-2":"",children:r.map((e,t)=>e.startsWith("**")&&e.endsWith("**")?It.jsx("strong",{className:"font-semibold",children:e.slice(2,-2)},t):It.jsx("span",{children:e},t))},t)}return e.startsWith("")||e.startsWith("-")||/^\d+\./.test(e.trim())?It.jsx("div",{className:"ml-2 mt-1",children:e},t):It.jsx("div",{className:t>0?"mt-2":"",children:e||""},t)})}),It.jsx("div",{className:"text-xs mt-2 "+("user"===e.type?"text-green-100":"text-gray-400"),children:(t=e.timestamp,t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}))})]})]})},e.id);var t}),s&&It.jsx("div",{className:"flex justify-start",children:It.jsxs("div",{className:"flex space-x-3 max-w-3xl",children:[It.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-yellow-500 to-blue-600 flex items-center justify-center",children:It.jsx(we,{className:"w-4 h-4 text-white"})}),It.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4",children:It.jsxs("div",{className:"flex space-x-1",children:[It.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),It.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),It.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),It.jsx("div",{ref:h})]}),It.jsxs("div",{className:"bg-white border-t border-gray-200 p-3 md:p-4",children:[It.jsxs("div",{className:"flex items-end space-x-2 md:space-x-3",children:[It.jsx("div",{className:"flex-1",children:It.jsx("div",{className:"relative",children:It.jsx("textarea",{value:a,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())},placeholder:"Pregntame sobre educacin infantil, padres...",className:"w-full p-3 pr-12 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-green-500 focus:border-green-500 max-h-32 text-sm md:text-base",rows:"1",style:{minHeight:"44px"}})})}),It.jsx("button",{onClick:()=>f(),disabled:!a.trim()||s,className:"p-3 rounded-lg transition-colors flex-shrink-0 "+(a.trim()&&!s?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:It.jsx(ut,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),It.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[It.jsx("span",{className:"hidden sm:inline",children:"Presiona Enter para enviar, Shift+Enter para nueva lnea"}),It.jsx("span",{className:"sm:hidden",children:"Enter para enviar"}),It.jsxs("div",{className:"flex items-center space-x-2",children:["connected"===c&&It.jsxs("span",{className:"flex items-center space-x-1 text-green-600",children:[It.jsx(S,{className:"w-3 h-3"}),It.jsx("span",{className:"hidden sm:inline",children:"ChatGPT Conectado"}),It.jsx("span",{className:"sm:hidden",children:"Conectado"})]}),"error"===c&&It.jsxs("span",{className:"flex items-center space-x-1 text-orange-600",children:[It.jsx(j,{className:"w-3 h-3"}),It.jsx("span",{className:"hidden sm:inline",children:"API no configurada"}),It.jsx("span",{className:"sm:hidden",children:"Error"})]}),It.jsx("span",{className:"hidden md:inline",children:"EDA IA v2.1"})]})]})]})]})},Ede={all:["pensiones-padre"],apoderado:()=>[...Ede.all,"apoderado"],pensiones:e=>[...Ede.all,"pensiones",e]},Sde=6048e5,kde=Symbol.for("constructDateFrom");function Cde(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&kde in e?e[kde](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ade(e,t){return Cde(t||e,e)}let _de={};function Tde(){return _de}function Ode(e,t){const r=Tde(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,n=Ade(e,t?.in),s=n.getDay(),i=(s<a?7:0)+s-a;return n.setDate(n.getDate()-i),n.setHours(0,0,0,0),n}function Dde(e,t){return Ode(e,{...t,weekStartsOn:1})}function Pde(e,t){const r=Ade(e,t?.in),a=r.getFullYear(),n=Cde(r,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const s=Dde(n),i=Cde(r,0);i.setFullYear(a,0,4),i.setHours(0,0,0,0);const o=Dde(i);return r.getTime()>=s.getTime()?a+1:r.getTime()>=o.getTime()?a:a-1}function Mde(e){const t=Ade(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Fde(e,t){const r=Ade(e,t?.in);return r.setHours(0,0,0,0),r}function Ide(e,t,r){const[a,n]=function(e,...t){const r=Cde.bind(null,t.find(e=>"object"==typeof e));return t.map(r)}(0,e,t),s=Fde(a),i=Fde(n),o=+s-Mde(s),l=+i-Mde(i);return Math.round((o-l)/864e5)}function Rde(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+Ade(e)));var t}const Lde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function zde(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const $de={date:zde({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:zde({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:zde({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},qde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Ude(e){return(t,r)=>{let a;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,n=r?.width?String(r.width):t;a=e.formattingValues[n]||e.formattingValues[t]}else{const t=e.defaultWidth,n=r?.width?String(r.width):e.defaultWidth;a=e.values[n]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}function Bde(e){return(t,r={})=>{const a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=t.match(n);if(!s)return null;const i=s[0],o=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}(o,e=>e.test(i)):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}(o,e=>e.test(i));let c;return c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c,{value:c,rest:t.slice(i.length)}}}function Yde(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const n=a[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];return i=r.valueCallback?r.valueCallback(i):i,{value:i,rest:t.slice(n.length)}}}const Vde={code:"en-US",formatDistance:(e,t,r)=>{let a;const n=Lde[e];return a="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a},formatLong:$de,formatRelative:(e,t,r,a)=>qde[e],localize:{ordinalNumber:(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Ude({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Ude({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ude({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Ude({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Ude({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Yde({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:Bde({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Bde({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bde({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Bde({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Bde({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hde(e,t){const r=Ade(e,t?.in),a=Ide(r,function(e,t){const r=Ade(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}(r));return a+1}function Wde(e,t){const r=Ade(e,t?.in),a=+Dde(r)-+function(e,t){const r=Pde(e,t),a=Cde(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Dde(a)}(r);return Math.round(a/Sde)+1}function Gde(e,t){const r=Ade(e,t?.in),a=r.getFullYear(),n=Tde(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Cde(t?.in||e,0);i.setFullYear(a+1,0,s),i.setHours(0,0,0,0);const o=Ode(i,t),l=Cde(t?.in||e,0);l.setFullYear(a,0,s),l.setHours(0,0,0,0);const c=Ode(l,t);return+r>=+o?a+1:+r>=+c?a:a-1}function Kde(e,t){const r=Ade(e,t?.in),a=+Ode(r,t)-+function(e,t){const r=Tde(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,n=Gde(e,t),s=Cde(t?.in||e,0);return s.setFullYear(n,0,a),s.setHours(0,0,0,0),Ode(s,t)}(r,t);return Math.round(a/Sde)+1}function Qde(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Xde={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Qde("yy"===t?a%100:a,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):Qde(r+1,2)},d:(e,t)=>Qde(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>Qde(e.getHours()%12||12,t.length),H:(e,t)=>Qde(e.getHours(),t.length),m:(e,t)=>Qde(e.getMinutes(),t.length),s:(e,t)=>Qde(e.getSeconds(),t.length),S(e,t){const r=t.length,a=e.getMilliseconds();return Qde(Math.trunc(a*Math.pow(10,r-3)),t.length)}},Jde="midnight",Zde="noon",eue="morning",tue="afternoon",rue="evening",aue="night",nue={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),a=t>0?t:1-t;return r.ordinalNumber(a,{unit:"year"})}return Xde.y(e,t)},Y:function(e,t,r,a){const n=Gde(e,a),s=n>0?n:1-n;return"YY"===t?Qde(s%100,2):"Yo"===t?r.ordinalNumber(s,{unit:"year"}):Qde(s,t.length)},R:function(e,t){return Qde(Pde(e),t.length)},u:function(e,t){return Qde(e.getFullYear(),t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Qde(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Qde(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return Xde.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Qde(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const n=Kde(e,a);return"wo"===t?r.ordinalNumber(n,{unit:"week"}):Qde(n,t.length)},I:function(e,t,r){const a=Wde(e);return"Io"===t?r.ordinalNumber(a,{unit:"week"}):Qde(a,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):Xde.d(e,t)},D:function(e,t,r){const a=Hde(e);return"Do"===t?r.ordinalNumber(a,{unit:"dayOfYear"}):Qde(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const n=e.getDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Qde(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const n=e.getDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Qde(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),n=0===a?7:a;switch(t){case"i":return String(n);case"ii":return Qde(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let n;switch(n=12===a?Zde:0===a?Jde:a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let n;switch(n=a>=17?rue:a>=12?tue:a>=4?eue:aue,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return Xde.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):Xde.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return"Ko"===t?r.ordinalNumber(a,{unit:"hour"}):Qde(a,t.length)},k:function(e,t,r){let a=e.getHours();return 0===a&&(a=24),"ko"===t?r.ordinalNumber(a,{unit:"hour"}):Qde(a,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xde.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Xde.s(e,t)},S:function(e,t){return Xde.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return iue(a);case"XXXX":case"XX":return oue(a);default:return oue(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return iue(a);case"xxxx":case"xx":return oue(a);default:return oue(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sue(a,":");default:return"GMT"+oue(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sue(a,":");default:return"GMT"+oue(a,":")}},t:function(e,t,r){return Qde(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return Qde(+e,t.length)}};function sue(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),s=a%60;return 0===s?r+String(n):r+String(n)+t+Qde(s,2)}function iue(e,t){return e%60==0?(e>0?"-":"+")+Qde(Math.abs(e)/60,2):oue(e,t)}function oue(e,t=""){const r=e>0?"-":"+",a=Math.abs(e);return r+Qde(Math.trunc(a/60),2)+t+Qde(a%60,2)}const lue=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},cue=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},due={p:cue,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],n=r[2];if(!n)return lue(e,t);let s;switch(a){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",lue(a,t)).replace("{{time}}",cue(n,t))}},uue=/^D+$/,mue=/^Y+$/,hue=["D","DD","YY","YYYY"],fue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gue=/^'([^]*?)'?$/,xue=/''/g,bue=/[a-zA-Z]/;function yue(e,t,r){const a=Tde(),n=r?.locale??a.locale??Vde,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,o=Ade(e,r?.in);if(!Rde(o))throw new RangeError("Invalid time value");let l=t.match(pue).map(e=>{const t=e[0];return"p"===t||"P"===t?(0,due[t])(e,n.formatLong):e}).join("").match(fue).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:vue(e)};if(nue[t])return{isToken:!0,value:e};if(t.match(bue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});n.localize.preprocessor&&(l=n.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:i,locale:n};return l.map(a=>{if(!a.isToken)return a.value;const s=a.value;return(!r?.useAdditionalWeekYearTokens&&function(e){return mue.test(e)}(s)||!r?.useAdditionalDayOfYearTokens&&function(e){return uue.test(e)}(s))&&function(e,t,r){const a=function(e,t,r){const a="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(hue.includes(e))throw new RangeError(a)}(s,t,String(e)),(0,nue[s[0]])(o,s,n.localize,c)}).join("")}function vue(e){const t=e.match(gue);return t?t[1].replace(xue,"'"):e}const jue={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},wue={date:zde({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:zde({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:zde({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Nue={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Eue={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Sue={code:"es",formatDistance:(e,t,r)=>{let a;const n=jue[e];return a="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"en "+a:"hace "+a:a},formatLong:wue,formatRelative:(e,t,r,a)=>1!==t.getHours()?Eue[e]:Nue[e],localize:{ordinalNumber:(e,t)=>Number(e)+"",era:Ude({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},defaultWidth:"wide"}),quarter:Ude({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Ude({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:Ude({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},defaultWidth:"wide"}),dayPeriod:Ude({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Yde({matchPattern:/^(\d+)()?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Bde({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},defaultParseWidth:"any"}),quarter:Bde({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bde({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:Bde({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Bde({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}},kue=({pensiones:e,loading:t})=>{const r=e=>{switch(e){case"PAGADO":return"bg-green-100 text-green-800 border-green-200";case"PENDIENTE":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"VENCIDO":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},a=e=>{switch(e){case"PAGADO":return It.jsx(S,{className:"w-4 h-4"});case"PENDIENTE":default:return It.jsx(de,{className:"w-4 h-4"});case"VENCIDO":return It.jsx(j,{className:"w-4 h-4"});case"CONDONADO":return It.jsx(lt,{className:"w-4 h-4"})}},n=e=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(e);return t?It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:It.jsxs("div",{className:"animate-pulse",children:[It.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),It.jsx("div",{className:"space-y-3",children:[...Array(5)].map((e,t)=>It.jsx("div",{className:"h-4 bg-gray-200 rounded"},t))})]})}):e&&0!==e.length?It.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[It.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[It.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pensiones de Estudiantes"}),It.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Historial de pensiones de tus hijos"})]}),It.jsx("div",{className:"overflow-x-auto",children:It.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[It.jsx("thead",{className:"bg-gray-50",children:It.jsxs("tr",{children:[It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estudiante"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mes/Ao"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimiento"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),It.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mora"})]})}),It.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>It.jsxs("tr",{className:"hover:bg-gray-50",children:[It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:It.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:It.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[e.estudiante?.nombre?.charAt(0),e.estudiante?.apellido?.charAt(0)]})})}),It.jsxs("div",{className:"ml-4",children:[It.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[e.estudiante?.nombre," ",e.estudiante?.apellido]}),It.jsxs("div",{className:"text-sm text-gray-500",children:[e.estudiante?.tipoDocumento,": ",e.estudiante?.nroDocumento]})]})]})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx(ue,{className:"w-4 h-4 text-gray-400 mr-2"}),It.jsx("span",{className:"text-sm text-gray-900",children:yue(new Date(e.anio,e.mes-1),"MMMM yyyy",{locale:Sue})})]})}),It.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[It.jsx("div",{className:"text-sm font-medium text-gray-900",children:n(e.montoPension)}),e.montoDescuento>0&&It.jsxs("div",{className:"text-xs text-green-600",children:["-",n(e.montoDescuento)," descuento"]})]}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:yue(new Date(e.fechaVencimiento),"dd/MM/yyyy")}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:It.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${r(e.estadoPension)}`,children:[a(e.estadoPension),It.jsx("span",{className:"ml-1",children:e.estadoPension})]})}),It.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.diasMora>0?It.jsxs("div",{className:"text-sm",children:[It.jsxs("div",{className:"font-medium text-red-600",children:[e.diasMora," das"]}),It.jsxs("div",{className:"text-xs text-red-500",children:["+",n(e.montoMora)]})]}):It.jsx("span",{className:"text-sm text-gray-500",children:"-"})})]},e.idPensionEstudiante))})]})}),It.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:It.jsxs("div",{className:"text-sm text-gray-600",children:["Total de pensiones: ",It.jsx("span",{className:"font-medium",children:e.length})]})})]}):It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:It.jsxs("div",{className:"text-center py-8",children:[It.jsx(ve,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay pensiones"}),It.jsx("p",{className:"text-gray-500",children:"No se encontraron pensiones para mostrar."})]})})},Cue=()=>{const{pensiones:e,apoderado:a,loading:n,error:s,refetchPensiones:i}=(()=>{const{user:e}=Sa(),[r,a]=t.useState(null),{data:n,isLoading:s,error:i}=Qr({queryKey:Ede.apoderado(),queryFn:async()=>(await Pl.get("/api/v1/apoderado/estudiantes")).data,enabled:!!e});t.useEffect(()=>{if(n?.info?.data&&e){const t=n.info.data.find(t=>t.matriculas?.some(t=>t.idEstudiante?.nombre===e.nombre&&t.idEstudiante?.apellido===e.apellido));t&&a(t.idApoderado)}},[n,e]);const{data:o,isLoading:l,error:c,refetch:d}=Qr({queryKey:Ede.pensiones(r),queryFn:async()=>r?(await Pl.get(`/api/v1/pension-estudiante/apoderado/${r}`)).data:[],enabled:!!r});return{pensiones:o||[],apoderado:n?.info?.data?.find(t=>t.matriculas?.some(t=>t.idEstudiante?.nombre===e?.nombre&&t.idEstudiante?.apellido===e?.apellido)),loading:s||l,loadingApoderado:s,loadingPensiones:l,error:i||c,errorApoderado:i,errorPensiones:c,refetchPensiones:d,apoderadoId:r}})(),o=async()=>{try{await i(),ca.success("Datos actualizados correctamente")}catch(e){ca.error("Error al actualizar los datos")}},l=r.useMemo(()=>e&&0!==e.length?e.reduce((e,t)=>{switch(e.total+=1,t.estadoPension){case"PAGADO":e.pagadas+=1;break;case"PENDIENTE":e.pendientes+=1;break;case"VENCIDO":e.vencidas+=1}return e.totalMonto+=parseFloat(t.montoTotal||t.montoPension||0),e.totalMora+=parseFloat(t.montoMora||0),e},{total:0,pagadas:0,pendientes:0,vencidas:0,totalMonto:0,totalMora:0}):{total:0,pagadas:0,pendientes:0,vencidas:0,totalMonto:0,totalMora:0},[e]),c=e=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(e);return s?It.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:It.jsx("div",{className:"max-w-7xl mx-auto",children:It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:It.jsxs("div",{className:"text-center py-8",children:[It.jsx(j,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),It.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error al cargar las pensiones"}),It.jsx("p",{className:"text-gray-500 mb-4",children:s.message||"Ha ocurrido un error al cargar los datos de pensiones."}),It.jsxs("button",{onClick:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[It.jsx(Ce,{className:"w-4 h-4 mr-2"}),"Reintentar"]})]})})})}):It.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:It.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:It.jsxs("div",{className:"flex items-center justify-between",children:[It.jsxs("div",{children:[It.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[It.jsx(ve,{className:"w-8 h-8 text-green-600 mr-3"}),"Pensiones"]}),It.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona las pensiones de tus hijos"})]}),It.jsxs("button",{onClick:o,disabled:n,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[It.jsx(Ce,{className:"w-4 h-4 mr-2 "+(n?"animate-spin":"")}),"Actualizar"]})]})}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"flex-shrink-0",children:It.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:It.jsx(ve,{className:"w-4 h-4 text-blue-600"})})}),It.jsxs("div",{className:"ml-4",children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pensiones"}),It.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.total})]})]})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"flex-shrink-0",children:It.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:It.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:It.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),It.jsxs("div",{className:"ml-4",children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pagadas"}),It.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.pagadas})]})]})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"flex-shrink-0",children:It.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:It.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:It.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})}),It.jsxs("div",{className:"ml-4",children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendientes"}),It.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:l.pendientes})]})]})}),It.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:It.jsxs("div",{className:"flex items-center",children:[It.jsx("div",{className:"flex-shrink-0",children:It.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:It.jsx(j,{className:"w-4 h-4 text-red-600"})})}),It.jsxs("div",{className:"ml-4",children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vencidas"}),It.jsx("p",{className:"text-2xl font-bold text-red-600",children:l.vencidas})]})]})})]}),a&&It.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[It.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informacin del Apoderado"}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nombre"}),It.jsxs("p",{className:"text-sm text-gray-900",children:[a.nombre," ",a.apellido]})]}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tipo"}),It.jsx("p",{className:"text-sm text-gray-900",children:a.tipoApoderado})]}),It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nmero de Hijos"}),It.jsx("p",{className:"text-sm text-gray-900",children:a.matriculas?.length||0})]})]})]}),It.jsx(kue,{pensiones:e,loading:n}),(l.totalMonto>0||l.totalMora>0)&&It.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[It.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen Financiero"}),It.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Monto Total de Pensiones"}),It.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c(l.totalMonto)})]}),l.totalMora>0&&It.jsxs("div",{children:[It.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total en Mora"}),It.jsx("p",{className:"text-2xl font-bold text-red-600",children:c(l.totalMora)})]})]})]})]})})},Aue=new Ur({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:1,refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:1}}});function _ue(){const{initializeAuth:e,isAuthenticated:r,loading:a,user:n}=Sa(),[i,o]=t.useState(!1);if(t.useEffect(()=>{e()},[]),a)return It.jsx("div",{className:"min-h-screen flex items-center justify-center bg-blue-600",children:It.jsxs("div",{className:"text-center",children:[It.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"}),It.jsx("p",{className:"mt-4 text-white",children:"Verificando autenticacin..."})]})});const l=e=>{if(!e||!e.role)return"/login";const t=e.role.nombre?.toLowerCase();return"admin"===t||"administrador"===t||"directora"===t?"/admin":"trabajador"===t||"docente"===t||"profesor"===t?"/teacher":"padre"===t||"parent"===t||"estudiante"===t?"/parent":"secretaria"===t?"/secretaria":"/login"};return It.jsxs(Vr,{client:Aue,children:[It.jsxs("div",{className:"app-container min-h-screen bg-gray-50",children:[It.jsx(h,{children:It.jsxs(f,{children:[It.jsx(p,{path:"/",element:r?It.jsx(s,{to:l(n),replace:!0}):It.jsx(s,{to:"/login",replace:!0})}),It.jsx(p,{path:"/login",element:r?It.jsx(s,{to:l(n),replace:!0}):It.jsx(ec,{})}),It.jsx(p,{path:"/change-password",element:r?It.jsx(tc,{}):It.jsx(s,{to:"/login",replace:!0})}),It.jsxs(p,{path:"/admin",element:It.jsx(Ca,{children:It.jsx(rc,{})}),children:[It.jsx(p,{index:!0,element:It.jsx(QR,{})}),It.jsx(p,{path:"estudiantes",element:It.jsx(Cq,{})}),It.jsx(p,{path:"matricula",element:It.jsx(iU,{})}),It.jsx(p,{path:"trabajadores",element:It.jsx(CU,{})}),It.jsx(p,{path:"padres",element:It.jsx(HU,{})}),It.jsx(p,{path:"planificaciones",element:It.jsx(AB,{})}),It.jsx(p,{path:"cronogramas",element:It.jsx(U9,{})}),It.jsx(p,{path:"evaluacion-docente",element:It.jsx(V9,{})}),It.jsx(p,{path:"bimestral-docente",element:It.jsx(pee,{})}),It.jsx(p,{path:"aulas",element:It.jsx(cB,{})}),It.jsx(p,{path:"aulas/:id",element:It.jsx(uB,{})}),It.jsx(p,{path:"asignacion-aula",element:It.jsx(QU,{})}),It.jsx(p,{path:"finanzas",element:It.jsx(mB,{})}),It.jsx(p,{path:"pensiones",element:It.jsx(wB,{})}),It.jsx(p,{path:"contratos",element:It.jsx(YB,{})}),It.jsx(p,{path:"planilla",element:It.jsx(XB,{})}),It.jsx(p,{path:"seguros",element:It.jsx(iee,{})}),It.jsx(p,{path:"ai-chat",element:It.jsx(lee,{})}),It.jsx(p,{path:"anio-escolar",element:It.jsx(X9,{})}),It.jsx(p,{path:"bimestres",element:It.jsx(ree,{})}),It.jsx(p,{path:"acciones-periodo",element:It.jsx(nee,{})}),It.jsx(p,{path:"grados",element:It.jsx(DB,{})}),It.jsx(p,{path:"cursos",element:It.jsx(LB,{})})]}),It.jsxs(p,{path:"/secretaria",element:It.jsx(Ca,{requiredRole:"SECRETARIA",children:It.jsx(sc,{})}),children:[It.jsx(p,{index:!0,element:It.jsx(JR,{})}),It.jsx(p,{path:"reportes",element:It.jsx(Zce,{})}),It.jsx(p,{path:"caja",element:It.jsx(ade,{})}),It.jsx(p,{path:"pensiones",element:It.jsx(mde,{})})]}),It.jsxs(p,{path:"/teacher",element:It.jsx(Ca,{children:It.jsx(ac,{})}),children:[It.jsx(p,{index:!0,element:It.jsx(tce,{})}),It.jsx(p,{path:"ai-chat",element:It.jsx(rce,{})}),It.jsx(p,{path:"juegos",element:It.jsx(jce,{})}),It.jsx(p,{path:"cronograma",element:It.jsx(uce,{})}),It.jsx(p,{path:"asistencia",element:It.jsx(vce,{})}),It.jsx(p,{path:"tareas",element:It.jsx(Pce,{})}),It.jsx(p,{path:"evaluaciones-estudiantes",element:It.jsx(qce,{})}),It.jsx(p,{path:"anotaciones",element:It.jsx(Qce,{})}),It.jsx(p,{path:"planificaciones",element:It.jsx(Sce,{})}),It.jsx(p,{path:"aulas",element:It.jsx(Nce,{})}),It.jsx(p,{path:"evaluaciones",element:It.jsx(Ice,{})})]}),It.jsxs(p,{path:"/parent",element:It.jsx(Ca,{children:It.jsx(nc,{})}),children:[It.jsx(p,{index:!0,element:It.jsx(Jce,{})}),It.jsx(p,{path:"iachat",element:It.jsx(Nde,{})}),It.jsx(p,{path:"juegos",element:It.jsx(jce,{})}),It.jsx(p,{path:"tareas",element:It.jsx(gde,{})}),It.jsx(p,{path:"cronograma",element:It.jsx(wde,{})}),It.jsx(p,{path:"anotaciones",element:It.jsx(bde,{})}),It.jsx(p,{path:"asistencia",element:It.jsx(xde,{})}),It.jsx(p,{path:"pensiones",element:It.jsx(Cue,{})})]}),It.jsx(p,{path:"*",element:It.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:It.jsxs("div",{className:"text-center",children:[It.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),It.jsx("p",{className:"text-gray-600 mb-4",children:"Pgina no encontrada"}),It.jsx(s,{to:r?l(n):"/login",replace:!0})]})})})]})}),It.jsx(xa,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3}),i&&n&&It.jsx(Zl,{isOpen:i,onClose:e=>{e&&(o(!1),Sa.setState(e=>({...e,user:{...e.user,cambioContrasena:!0}})))},userId:n.id,userName:n.nombre||n.fullName})]}),!1]})}const Tue=new Ur({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:1,refetchOnWindowFocus:!1}}});Bt.createRoot(document.getElementById("root")).render(It.jsx(t.StrictMode,{children:It.jsxs(Vr,{client:Tue,children:[It.jsx(_ue,{}),It.jsx(xa,{position:"top-right",expand:!1,richColors:!0,closeButton:!0,toastOptions:{style:{fontSize:"14px"},className:"class"}})]})}))}},function(){return At||(0,Ct[e(Ct)[0]])((At={exports:{}}).exports,At),At.exports});export default _t();
